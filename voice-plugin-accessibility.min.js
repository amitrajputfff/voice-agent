!function(t){"use strict";class i{constructor(){this.settings={dyslexiaFont:!1,adhdMode:!1,bigCursor:!1,textSize:"default",lineHeight:"default",saturation:100,invertColors:!1,highlightLinks:!1,pauseAnimations:!1,hideImages:!1},this.adhdOverlay=null,this.loadSettings(),this.injectStyles()}loadSettings(){try{const t=localStorage.getItem("liaplus-accessibility");t&&(this.settings={...this.settings,...JSON.parse(t)},this.applyAllSettings())}catch(t){console.warn("[LiaPlus A11y] Failed to load settings:",t)}}saveSettings(){try{localStorage.setItem("liaplus-accessibility",JSON.stringify(this.settings))}catch(t){console.warn("[LiaPlus A11y] Failed to save settings:",t)}}applyAllSettings(){this.settings.dyslexiaFont&&this.enableDyslexiaFont(),this.settings.adhdMode&&this.enableADHDMode(),this.settings.bigCursor&&this.enableBigCursor(),"default"!==this.settings.textSize&&this.setTextSize(this.settings.textSize),"default"!==this.settings.lineHeight&&this.setLineHeight(this.settings.lineHeight),100!==this.settings.saturation&&this.setSaturation(this.settings.saturation),this.settings.invertColors&&this.invertColors(!0),this.settings.highlightLinks&&this.highlightLinks(!0),this.settings.pauseAnimations&&this.pauseAnimations(!0),this.settings.hideImages&&this.hideImages(!0)}injectStyles(){if(document.getElementById("liaplus-accessibility-styles"))return;const t=document.createElement("style");t.id="liaplus-accessibility-styles",t.textContent='\n        /* OpenDyslexic Font */\n        @font-face {\n          font-family: \'OpenDyslexic\';\n          src: url(\'https://cdn.jsdelivr.net/npm/opendyslexic@2.0.0/OpenDyslexic-Regular.woff\') format(\'woff\');\n          font-weight: normal;\n          font-style: normal;\n        }\n        \n        @font-face {\n          font-family: \'OpenDyslexic\';\n          src: url(\'https://cdn.jsdelivr.net/npm/opendyslexic@2.0.0/OpenDyslexic-Bold.woff\') format(\'woff\');\n          font-weight: bold;\n          font-style: normal;\n        }\n\n        /* Dyslexia Font Applied */\n        .liaplus-dyslexia-font,\n        .liaplus-dyslexia-font * {\n          font-family: \'OpenDyslexic\', sans-serif !important;\n        }\n\n        /* Big Cursor */\n        .liaplus-big-cursor {\n          cursor: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><circle cx="20" cy="20" r="18" fill="rgba(0,0,0,0.8)" stroke="white" stroke-width="2"/><circle cx="20" cy="20" r="4" fill="white"/></svg>\') 20 20, auto !important;\n        }\n        \n        .liaplus-big-cursor * {\n          cursor: inherit !important;\n        }\n\n        /* ADHD Focus Mode Overlay */\n        .liaplus-adhd-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          pointer-events: none;\n          z-index: 2147483646;\n          background: linear-gradient(\n            to bottom,\n            rgba(0, 0, 0, 0.7) 0%,\n            rgba(0, 0, 0, 0) 40%,\n            rgba(0, 0, 0, 0) 60%,\n            rgba(0, 0, 0, 0.7) 100%\n          );\n          transition: top 0.1s ease-out;\n        }\n\n        /* Text Size */\n        .liaplus-text-large * {\n          font-size: 120% !important;\n        }\n        \n        .liaplus-text-extra-large * {\n          font-size: 140% !important;\n        }\n\n        /* Line Height */\n        .liaplus-line-height-medium * {\n          line-height: 1.8 !important;\n        }\n        \n        .liaplus-line-height-large * {\n          line-height: 2.2 !important;\n        }\n\n        /* Link Highlighting */\n        .liaplus-highlight-links a {\n          background-color: yellow !important;\n          color: black !important;\n          padding: 2px 4px !important;\n          border-radius: 2px !important;\n          font-weight: bold !important;\n        }\n\n        /* Pause Animations */\n        .liaplus-pause-animations * {\n          animation-play-state: paused !important;\n          transition: none !important;\n        }\n\n        /* Hide Images */\n        .liaplus-hide-images img,\n        .liaplus-hide-images picture,\n        .liaplus-hide-images video {\n          visibility: hidden !important;\n          display: none !important;\n        }\n\n        /* Invert Colors */\n        .liaplus-invert-colors {\n          filter: invert(1) hue-rotate(180deg);\n        }\n        \n        .liaplus-invert-colors img,\n        .liaplus-invert-colors picture,\n        .liaplus-invert-colors video {\n          filter: invert(1) hue-rotate(180deg);\n        }\n      ',document.head.appendChild(t)}toggleDyslexiaFont(){this.settings.dyslexiaFont=!this.settings.dyslexiaFont,this.settings.dyslexiaFont?this.enableDyslexiaFont():this.disableDyslexiaFont(),this.saveSettings()}enableDyslexiaFont(){document.body.classList.add("liaplus-dyslexia-font"),this.settings.dyslexiaFont=!0}disableDyslexiaFont(){document.body.classList.remove("liaplus-dyslexia-font"),this.settings.dyslexiaFont=!1}toggleADHDMode(){this.settings.adhdMode=!this.settings.adhdMode,this.settings.adhdMode?this.enableADHDMode():this.disableADHDMode(),this.saveSettings()}enableADHDMode(){this.adhdOverlay||(this.adhdOverlay=document.createElement("div"),this.adhdOverlay.className="liaplus-adhd-overlay",document.body.appendChild(this.adhdOverlay),document.addEventListener("mousemove",this.updateADHDOverlay.bind(this)),this.settings.adhdMode=!0)}disableADHDMode(){this.adhdOverlay&&(this.adhdOverlay.remove(),this.adhdOverlay=null),this.settings.adhdMode=!1}updateADHDOverlay(t){if(!this.adhdOverlay)return;const i=t.clientY-100;this.adhdOverlay.style.top=`${i}px`}toggleBigCursor(){this.settings.bigCursor=!this.settings.bigCursor,this.settings.bigCursor?this.enableBigCursor():this.disableBigCursor(),this.saveSettings()}enableBigCursor(){document.body.classList.add("liaplus-big-cursor"),this.settings.bigCursor=!0}disableBigCursor(){document.body.classList.remove("liaplus-big-cursor"),this.settings.bigCursor=!1}setTextSize(t){document.body.classList.remove("liaplus-text-large","liaplus-text-extra-large"),"large"===t?document.body.classList.add("liaplus-text-large"):"extra-large"===t&&document.body.classList.add("liaplus-text-extra-large"),this.settings.textSize=t,this.saveSettings()}increaseTextSize(){const t=["default","large","extra-large"],i=t.indexOf(this.settings.textSize);i<t.length-1&&this.setTextSize(t[i+1])}decreaseTextSize(){const t=["default","large","extra-large"],i=t.indexOf(this.settings.textSize);i>0&&this.setTextSize(t[i-1])}setLineHeight(t){document.body.classList.remove("liaplus-line-height-medium","liaplus-line-height-large"),"medium"===t?document.body.classList.add("liaplus-line-height-medium"):"large"===t&&document.body.classList.add("liaplus-line-height-large"),this.settings.lineHeight=t,this.saveSettings()}setSaturation(t){const i=Math.max(0,Math.min(200,t));document.body.style.filter=`saturate(${i}%)`,this.settings.saturation=i,this.saveSettings()}invertColors(t){t?(document.body.classList.add("liaplus-invert-colors"),this.settings.invertColors=!0):(document.body.classList.remove("liaplus-invert-colors"),this.settings.invertColors=!1),this.saveSettings()}toggleInvertColors(){this.invertColors(!this.settings.invertColors)}highlightLinks(t){t?(document.body.classList.add("liaplus-highlight-links"),this.settings.highlightLinks=!0):(document.body.classList.remove("liaplus-highlight-links"),this.settings.highlightLinks=!1),this.saveSettings()}toggleHighlightLinks(){this.highlightLinks(!this.settings.highlightLinks)}pauseAnimations(t){t?(document.body.classList.add("liaplus-pause-animations"),this.settings.pauseAnimations=!0):(document.body.classList.remove("liaplus-pause-animations"),this.settings.pauseAnimations=!1),this.saveSettings()}togglePauseAnimations(){this.pauseAnimations(!this.settings.pauseAnimations)}hideImages(t){t?(document.body.classList.add("liaplus-hide-images"),this.settings.hideImages=!0):(document.body.classList.remove("liaplus-hide-images"),this.settings.hideImages=!1),this.saveSettings()}toggleHideImages(){this.hideImages(!this.settings.hideImages)}resetAll(){this.disableDyslexiaFont(),this.disableADHDMode(),this.disableBigCursor(),this.setTextSize("default"),this.setLineHeight("default"),this.setSaturation(100),this.invertColors(!1),this.highlightLinks(!1),this.pauseAnimations(!1),this.hideImages(!1),this.settings={dyslexiaFont:!1,adhdMode:!1,bigCursor:!1,textSize:"default",lineHeight:"default",saturation:100,invertColors:!1,highlightLinks:!1,pauseAnimations:!1,hideImages:!1},this.saveSettings()}getSettings(){return{...this.settings}}}if(t.LiaPlusAccessibility=i,t.LiaPlusVoice&&t.LiaPlusVoice.VoiceNavigationPlugin){const s=t.LiaPlusVoice.VoiceNavigationPlugin.prototype.init;t.LiaPlusVoice.VoiceNavigationPlugin.prototype.init=function(){if(this.accessibility=new i,this.executor){const t=this.executor.execute.bind(this.executor);this.executor.execute=async function(i,s){const e=this.accessibility,n={toggle_dyslexia_font:()=>e.toggleDyslexiaFont(),toggle_adhd_mode:()=>e.toggleADHDMode(),toggle_big_cursor:()=>e.toggleBigCursor(),zoom_in:()=>e.increaseTextSize(),zoom_out:()=>e.decreaseTextSize(),invert_colors:()=>e.toggleInvertColors(),highlight_links:()=>e.toggleHighlightLinks(),pause_animations:()=>e.togglePauseAnimations(),hide_images:()=>e.toggleHideImages(),reset_accessibility:()=>e.resetAll()};return n[i]?n[i]():t(i,s)}.bind(this)}return s.call(this)}}console.log("[LiaPlus] Accessibility Features module loaded")}(window);