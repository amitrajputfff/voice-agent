{"version":3,"file":"voice-widget.dev.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;;;;;;;;;;;;;;;;;;ACVA;;;;AA0BA,IAAaA,aAAa;EAGxB,SAAAA,cAAYC,WAAmB;IAAAC,eAAA,OAAAF,aAAA;IAC7B,IAAI,CAACC,WAAW,GAAGA,WAAW;EAChC;EAEA;;;EAAA,OAAAE,YAAA,CAAAH,aAAA;IAAAI,GAAA;IAAAC,KAAA;MAAA,IAAAC,WAAA,GAAAC,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAAC,QAAiBC,OAAqB;QAAA,IAAAC,UAAA,EAAAC,YAAA,EAAAC,OAAA,EAAAC,EAAA;QAAA,OAAAP,YAAA,GAAAQ,CAAA,WAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,CAAA,GAAAD,QAAA,CAAAE,CAAA;YAAA;cAC9BP,UAAU,GAAGD,OAAO,CAACC,UAAU,CAACQ,WAAW,EAAE,CAACC,IAAI,EAAE,EAE1D;cACMR,YAAY,GAAG,IAAI,CAACA,YAAY,CAACD,UAAU,EAAED,OAAO,CAACW,WAAW,CAAC;cAAA,MACnET,YAAY,IAAIA,YAAY,CAACU,UAAU,GAAG,GAAG;gBAAAN,QAAA,CAAAE,CAAA;gBAAA;cAAA;cAAA,OAAAF,QAAA,CAAAO,CAAA,IACxCX,YAAY;YAAA;cAAAI,QAAA,CAAAC,CAAA;cAAAD,QAAA,CAAAE,CAAA;cAAA,OAKG,IAAI,CAACL,OAAO,CAACH,OAAO,CAAC;YAAA;cAArCG,OAAO,GAAAG,QAAA,CAAAQ,CAAA;cAAA,OAAAR,QAAA,CAAAO,CAAA,IACNV,OAAO;YAAA;cAAAG,QAAA,CAAAC,CAAA;cAAAH,EAAA,GAAAE,QAAA,CAAAQ,CAAA;cAEdC,OAAO,CAACC,KAAK,CAAC,oDAAoD,EAAAZ,EAAO,CAAC;cAAA,OAAAE,QAAA,CAAAO,CAAA,IACnEX,YAAY,IAAI;gBACrBe,MAAM,EAAE,SAAS;gBACjBL,UAAU,EAAE,CAAC;gBACbM,iBAAiB,EAAE;eACpB;UAAA;QAAA,GAAAnB,OAAA;MAAA,CAEJ;MAAA,SArBKoB,UAAUA,CAAAC,EAAA;QAAA,OAAAzB,WAAA,CAAA0B,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAVH,UAAU;IAAA;IAuBhB;;;IAAA;EAAA;IAAA1B,GAAA;IAAAC,KAAA,EAGQ,SAAAQ,YAAYA,CAACD,UAAkB,EAAEU,WAAwB;MAC/D;MACA,IAAI,8CAA8C,CAACY,IAAI,CAACtB,UAAU,CAAC,EAAE;QACnE,IAAMuB,SAAS,GAAGvB,UAAU,CAACwB,QAAQ,CAAC,MAAM,CAAC,GAAG,MAAM,GAAG,IAAI;QAC7D,OAAO;UACLR,MAAM,EAAE,QAAQ;UAChBS,UAAU,EAAE;YAAEF,SAAS,EAATA,SAAS;YAAEG,MAAM,EAAE;UAAG,CAAE;UACtCf,UAAU,EAAE,IAAI;UAChBM,iBAAiB,YAAAU,MAAA,CAAYJ,SAAS;SACvC;MACH;MAEA;MACA,IAAI,2CAA2C,CAACD,IAAI,CAACtB,UAAU,CAAC,EAAE;QAChE,IAAM4B,QAAQ,GAAG5B,UAAU,CAACwB,QAAQ,CAAC,KAAK,CAAC,GAAG,KAAK,GAAG,QAAQ;QAC9D,OAAO;UACLR,MAAM,EAAE,QAAQ;UAChBS,UAAU,EAAE;YAAEG,QAAQ,EAARA;UAAQ,CAAE;UACxBjB,UAAU,EAAE,IAAI;UAChBM,iBAAiB,WAAAU,MAAA,CAAWC,QAAQ;SACrC;MACH;MAEA;MACA,IAAMC,UAAU,GAAG7B,UAAU,CAAC8B,KAAK,CAAC,wBAAwB,CAAC;MAC7D,IAAID,UAAU,EAAE;QACd,IAAME,UAAU,GAAGF,UAAU,CAAC,CAAC,CAAC;QAChC,IAAMG,OAAO,GAAG,IAAI,CAACC,iBAAiB,CAACF,UAAU,EAAErB,WAAW,CAAC;QAE/D,IAAIsB,OAAO,EAAE;UACX,OAAO;YACLhB,MAAM,EAAE,OAAO;YACfkB,MAAM,EAAEF,OAAO;YACfrB,UAAU,EAAE,IAAI;YAChBM,iBAAiB,cAAAU,MAAA,CAAcI,UAAU;WAC1C;QACH;MACF;MAEA;MACA,IAAMI,QAAQ,GAAGnC,UAAU,CAAC8B,KAAK,CAAC,mCAAmC,CAAC;MACtE,IAAIK,QAAQ,EAAE;QACZ,IAAMJ,WAAU,GAAGI,QAAQ,CAAC,CAAC,CAAC;QAC9B,IAAMC,UAAU,GAAG,IAAI,CAACC,qBAAqB,CAACN,WAAU,EAAErB,WAAW,CAAC;QAEtE,IAAI0B,UAAU,EAAE;UACd,OAAO;YACLpB,MAAM,EAAE,UAAU;YAClBkB,MAAM,EAAEE,UAAU;YAClBzB,UAAU,EAAE,IAAI;YAChBM,iBAAiB,iBAAAU,MAAA,CAAiBI,WAAU;WAC7C;QACH;MACF;MAEA;MACA,IAAI,8CAA8C,CAACT,IAAI,CAACtB,UAAU,CAAC,EAAE;QACnE,IAAMsC,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;QAC3C,IAAIF,IAAI,EAAE;UACR,OAAO;YACLtB,MAAM,EAAE,WAAW;YACnBkB,MAAM,EAAEI,IAAmB;YAC3B3B,UAAU,EAAE,GAAG;YACfM,iBAAiB,EAAE;WACpB;QACH;MACF;MAEA;MACA,IAAI,sBAAsB,CAACK,IAAI,CAACtB,UAAU,CAAC,EAAE;QAC3C,IAAMyC,SAAS,GAAGF,QAAQ,CAACC,aAAa,CAAC,6CAA6C,CAAC;QACvF,IAAIC,SAAS,EAAE;UACb,OAAO;YACLzB,MAAM,EAAE,QAAQ;YAChBkB,MAAM,EAAEO,SAAwB;YAChC9B,UAAU,EAAE,GAAG;YACfM,iBAAiB,EAAE;WACpB;QACH;MACF;MAEA;MACA,IAAI,8BAA8B,CAACK,IAAI,CAACtB,UAAU,CAAC,EAAE;QACnD,IAAM0C,IAAI,GAAGH,QAAQ,CAACC,aAAa,CAAC,8BAA8B,CAAC;QACnE,IAAIE,IAAI,EAAE;UACR,OAAO;YACL1B,MAAM,EAAE,MAAM;YACdkB,MAAM,EAAEQ,IAAmB;YAC3B/B,UAAU,EAAE,GAAG;YACfM,iBAAiB,EAAE;WACpB;QACH;MACF;MAEA;MACA,IAAI,iBAAiB,CAACK,IAAI,CAACtB,UAAU,CAAC,EAAE;QACtC,IAAM2C,WAAW,GAAGJ,QAAQ,CAACC,aAAa,CAAC,6CAA6C,CAAC;QACzF,IAAIG,WAAW,EAAE;UACf,OAAO;YACL3B,MAAM,EAAE,OAAO;YACfkB,MAAM,EAAES,WAA0B;YAClChC,UAAU,EAAE,IAAI;YAChBM,iBAAiB,EAAE;WACpB;QACH;MACF;MAEA,OAAO,IAAI;IACb;IAEA;;;EAAA;IAAAzB,GAAA;IAAAC,KAAA;MAAA,IAAAmD,QAAA,GAAAjD,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGQ,SAAAgD,SAAc9C,OAAqB;QAAA,IAAA+C,oBAAA;QAAA,IAAAC,QAAA,EAAAC,MAAA;QAAA,OAAApD,YAAA,GAAAQ,CAAA,WAAA6C,SAAA;UAAA,kBAAAA,SAAA,CAAA1C,CAAA;YAAA;cAAA0C,SAAA,CAAA1C,CAAA;cAAA,OAClB2C,KAAK,IAAAvB,MAAA,CAAI,IAAI,CAACtC,WAAW,gBAAa;gBAC3D8D,MAAM,EAAE,MAAM;gBACdC,OAAO,EAAE;kBAAE,cAAc,EAAE;gBAAkB,CAAE;gBAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;kBACnBxD,OAAO,EAAEA,OAAO,CAACC,UAAU;kBAC3BwD,QAAQ,EAAEzD,OAAO,CAACyD,QAAQ;kBAC1B9C,WAAW,EAAEX,OAAO,CAACW,WAAW;kBAChC+C,UAAU,EAAE,EAAAX,oBAAA,GAAA/C,OAAO,CAAC2D,WAAW,cAAAZ,oBAAA,uBAAnBA,oBAAA,CAAqBa,GAAG,KAAIC,MAAM,CAACC,QAAQ,CAACC;iBACzD;eACF,CAAC;YAAA;cATIf,QAAQ,GAAAE,SAAA,CAAApC,CAAA;cAAA,IAWTkC,QAAQ,CAACgB,EAAE;gBAAAd,SAAA,CAAA1C,CAAA;gBAAA;cAAA;cAAA,MACR,IAAIyD,KAAK,CAAC,2BAA2B,CAAC;YAAA;cAAAf,SAAA,CAAA1C,CAAA;cAAA,OAGzBwC,QAAQ,CAACkB,IAAI,EAAE;YAAA;cAA9BjB,MAAM,GAAAC,SAAA,CAAApC,CAAA;cAAA,OAAAoC,SAAA,CAAArC,CAAA,IAGL;gBACLI,MAAM,EAAEgC,MAAM,CAAChC,MAAM;gBACrBS,UAAU,EAAEuB,MAAM,CAACvB,UAAU;gBAC7Bd,UAAU,EAAEqC,MAAM,CAACrC,UAAU,IAAI,GAAG;gBACpCM,iBAAiB,EAAE+B,MAAM,CAACD;eAC3B;UAAA;QAAA,GAAAF,QAAA;MAAA,CACF;MAAA,SAzBa3C,OAAOA,CAAAgE,GAAA;QAAA,OAAAtB,QAAA,CAAAxB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAPnB,OAAO;IAAA;IA2BrB;;;IAAA;EAAA;IAAAV,GAAA;IAAAC,KAAA,EAGQ,SAAAwC,iBAAiBA,CAACkC,IAAY,EAAEzD,WAAwB;MAC9D,IAAM0D,UAAU,GAAGD,IAAI,CAAC3D,WAAW,EAAE;MAErC;MACA,IAAM6D,OAAO,GAAGC,KAAK,CAACC,IAAI,CAAChC,QAAQ,CAACiC,gBAAgB,CAAC,yBAAyB,CAAC,CAAC;MAChF,SAAAC,EAAA,MAAAC,QAAA,GAAkBL,OAAO,EAAAI,EAAA,GAAAC,QAAA,CAAAC,MAAA,EAAAF,EAAA,IAAE;QAAA,IAAAG,gBAAA;QAAtB,IAAMC,GAAG,GAAAH,QAAA,CAAAD,EAAA;QACZ,IAAMK,OAAO,GAAG,EAAAF,gBAAA,GAAAC,GAAG,CAACE,WAAW,cAAAH,gBAAA,uBAAfA,gBAAA,CAAiBpE,WAAW,EAAE,KAAI,EAAE;QACpD,IAAIsE,OAAO,CAACtD,QAAQ,CAAC4C,UAAU,CAAC,IAAI,IAAI,CAACY,UAAU,CAACF,OAAO,EAAEV,UAAU,CAAC,EAAE;UACxE,OAAOS,GAAkB;QAC3B;MACF;MAEA;MACA,IAAMI,KAAK,GAAGX,KAAK,CAACC,IAAI,CAAChC,QAAQ,CAACiC,gBAAgB,CAAC,GAAG,CAAC,CAAC;MACxD,SAAAU,GAAA,MAAAC,MAAA,GAAmBF,KAAK,EAAAC,GAAA,GAAAC,MAAA,CAAAR,MAAA,EAAAO,GAAA,IAAE;QAAA,IAAAE,iBAAA;QAArB,IAAMC,IAAI,GAAAF,MAAA,CAAAD,GAAA;QACb,IAAMI,QAAQ,GAAG,EAAAF,iBAAA,GAAAC,IAAI,CAACN,WAAW,cAAAK,iBAAA,uBAAhBA,iBAAA,CAAkB5E,WAAW,EAAE,KAAI,EAAE;QACtD,IAAI8E,QAAQ,CAAC9D,QAAQ,CAAC4C,UAAU,CAAC,IAAI,IAAI,CAACY,UAAU,CAACM,QAAQ,EAAElB,UAAU,CAAC,EAAE;UAC1E,OAAOiB,IAAmB;QAC5B;MACF;MAEA;MACA,IAAME,SAAS,GAAGjB,KAAK,CAACC,IAAI,CAAChC,QAAQ,CAACiC,gBAAgB,CAAC,wCAAwC,CAAC,CAAC;MACjG,SAAAgB,GAAA,MAAAC,UAAA,GAAiBF,SAAS,EAAAC,GAAA,GAAAC,UAAA,CAAAd,MAAA,EAAAa,GAAA,IAAE;QAAA,IAAAE,eAAA;QAAvB,IAAMC,EAAE,GAAAF,UAAA,CAAAD,GAAA;QACX,IAAMI,MAAM,GAAG,EAAAF,eAAA,GAAAC,EAAE,CAACZ,WAAW,cAAAW,eAAA,uBAAdA,eAAA,CAAgBlF,WAAW,EAAE,KAAI,EAAE;QAClD,IAAIoF,MAAM,CAACpE,QAAQ,CAAC4C,UAAU,CAAC,IAAI,IAAI,CAACY,UAAU,CAACY,MAAM,EAAExB,UAAU,CAAC,EAAE;UACtE,OAAOuB,EAAiB;QAC1B;MACF;MAEA,OAAO,IAAI;IACb;IAEA;;;EAAA;IAAAnG,GAAA;IAAAC,KAAA,EAGQ,SAAA4C,qBAAqBA,CAAC8B,IAAY,EAAEzD,WAAwB;MAClE,IAAM0D,UAAU,GAAGD,IAAI,CAAC3D,WAAW,EAAE;MAErC;MACA,IAAMqF,QAAQ,GAAGvB,KAAK,CAACC,IAAI,CAAChC,QAAQ,CAACiC,gBAAgB,CAAC,wCAAwC,CAAC,CAAC;MAChG,SAAAsB,GAAA,MAAAC,SAAA,GAAmBF,QAAQ,EAAAC,GAAA,GAAAC,SAAA,CAAApB,MAAA,EAAAmB,GAAA,IAAE;QAAA,IAAAE,kBAAA;QAAxB,IAAMX,IAAI,GAAAU,SAAA,CAAAD,GAAA;QACb,IAAMR,QAAQ,GAAG,EAAAU,kBAAA,GAAAX,IAAI,CAACN,WAAW,cAAAiB,kBAAA,uBAAhBA,kBAAA,CAAkBxF,WAAW,EAAE,KAAI,EAAE;QACtD,IAAI8E,QAAQ,CAAC9D,QAAQ,CAAC4C,UAAU,CAAC,IAAI,IAAI,CAACY,UAAU,CAACM,QAAQ,EAAElB,UAAU,CAAC,EAAE;UAC1E,OAAOiB,IAAmB;QAC5B;MACF;MAEA;MACA,OAAO,IAAI,CAACpD,iBAAiB,CAACkC,IAAI,EAAEzD,WAAW,CAAC;IAClD;IAEA;;;EAAA;IAAAlB,GAAA;IAAAC,KAAA,EAGQ,SAAAuF,UAAUA,CAACiB,IAAY,EAAEC,IAAY,EAAyB;MAAA,IAAvBC,SAAA,GAAA9E,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAoB,GAAG;MACpE,IAAMgF,QAAQ,GAAG,IAAI,CAACC,mBAAmB,CAACL,IAAI,EAAEC,IAAI,CAAC;MACrD,IAAMK,MAAM,GAAGC,IAAI,CAACC,GAAG,CAACR,IAAI,CAACtB,MAAM,EAAEuB,IAAI,CAACvB,MAAM,CAAC;MACjD,IAAM+B,UAAU,GAAG,CAAC,GAAGL,QAAQ,GAAGE,MAAM;MACxC,OAAOG,UAAU,IAAIP,SAAS;IAChC;IAEA;;;EAAA;IAAA3G,GAAA;IAAAC,KAAA,EAGQ,SAAA6G,mBAAmBA,CAACL,IAAY,EAAEC,IAAY;MACpD,IAAMS,MAAM,GAAe,EAAE;MAE7B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIV,IAAI,CAACvB,MAAM,EAAEiC,CAAC,EAAE,EAAE;QACrCD,MAAM,CAACC,CAAC,CAAC,GAAG,CAACA,CAAC,CAAC;MACjB;MAEA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIZ,IAAI,CAACtB,MAAM,EAAEkC,CAAC,EAAE,EAAE;QACrCF,MAAM,CAAC,CAAC,CAAC,CAACE,CAAC,CAAC,GAAGA,CAAC;MAClB;MAEA,KAAK,IAAID,GAAC,GAAG,CAAC,EAAEA,GAAC,IAAIV,IAAI,CAACvB,MAAM,EAAEiC,GAAC,EAAE,EAAE;QACrC,KAAK,IAAIC,EAAC,GAAG,CAAC,EAAEA,EAAC,IAAIZ,IAAI,CAACtB,MAAM,EAAEkC,EAAC,EAAE,EAAE;UACrC,IAAIX,IAAI,CAACY,MAAM,CAACF,GAAC,GAAG,CAAC,CAAC,KAAKX,IAAI,CAACa,MAAM,CAACD,EAAC,GAAG,CAAC,CAAC,EAAE;YAC7CF,MAAM,CAACC,GAAC,CAAC,CAACC,EAAC,CAAC,GAAGF,MAAM,CAACC,GAAC,GAAG,CAAC,CAAC,CAACC,EAAC,GAAG,CAAC,CAAC;UACrC,CAAC,MAAM;YACLF,MAAM,CAACC,GAAC,CAAC,CAACC,EAAC,CAAC,GAAGL,IAAI,CAACO,GAAG,CACrBJ,MAAM,CAACC,GAAC,GAAG,CAAC,CAAC,CAACC,EAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EACxBF,MAAM,CAACC,GAAC,CAAC,CAACC,EAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EACpBF,MAAM,CAACC,GAAC,GAAG,CAAC,CAAC,CAACC,EAAC,CAAC,GAAG,CAAC,CACrB;UACH;QACF;MACF;MAEA,OAAOF,MAAM,CAACT,IAAI,CAACvB,MAAM,CAAC,CAACsB,IAAI,CAACtB,MAAM,CAAC;IACzC;IAEA;;;EAAA;IAAAnF,GAAA;IAAAC,KAAA;MAAA,IAAAuH,eAAA,GAAArH,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAAoH,SAAqBC,MAAqB;QAAA,IAAAC,KAAA,EAAAhD,IAAA,EAAAiD,MAAA,EAAAC,GAAA;QAAA,OAAAzH,YAAA,GAAAQ,CAAA,WAAAkH,SAAA;UAAA,kBAAAA,SAAA,CAAA/G,CAAA;YAAA;cAAA8G,GAAA,GAChCH,MAAM,CAAClG,MAAM;cAAAsG,SAAA,CAAA/G,CAAA,GAAA8G,GAAA,KACd,QAAQ,OAAAA,GAAA,KAIR,OAAO,OAAAA,GAAA,KAMP,UAAU,OAAAA,GAAA,KAMV,WAAW,OAAAA,GAAA,KAUX,QAAQ,OAAAA,GAAA,KAMR,OAAO,OAAAA,GAAA,KAOP,MAAM;cAAA;YAAA;cAtCT,IAAI,CAACE,aAAa,CAACL,MAAM,CAACzF,UAAU,CAAC;cAAA,OAAA6F,SAAA,CAAA1G,CAAA;YAAA;cAIrC,IAAIsG,MAAM,CAAChF,MAAM,EAAE;gBACjBgF,MAAM,CAAChF,MAAM,CAACsF,KAAK,EAAE;cACvB;cAAC,OAAAF,SAAA,CAAA1G,CAAA;YAAA;cAID,IAAIsG,MAAM,CAAChF,MAAM,IAAIgF,MAAM,CAAChF,MAAM,CAACuF,OAAO,KAAK,GAAG,EAAE;gBACjDP,MAAM,CAAChF,MAA4B,CAACsF,KAAK,EAAE;cAC9C;cAAC,OAAAF,SAAA,CAAA1G,CAAA;YAAA;cAID;cACA,IAAIsG,MAAM,CAAChF,MAAM,EAAE;gBACjBgF,MAAM,CAAChF,MAAM,CAACwF,cAAc,CAAC;kBAAEC,QAAQ,EAAE,QAAQ;kBAAEC,KAAK,EAAE;gBAAQ,CAAE,CAAC;gBACrE;gBACMT,KAAK,GAAG,IAAIU,WAAW,CAAC,gBAAgB,EAAE;kBAAEC,MAAM,EAAE;oBAAExF,IAAI,EAAE4E,MAAM,CAAChF;kBAAM;gBAAE,CAAE,CAAC;gBACpFK,QAAQ,CAACwF,aAAa,CAACZ,KAAK,CAAC;cAC/B;cAAC,OAAAG,SAAA,CAAA1G,CAAA;YAAA;cAID,IAAIsG,MAAM,CAAChF,MAAM,EAAE;gBACjBgF,MAAM,CAAChF,MAAM,CAACsF,KAAK,EAAE;cACvB;cAAC,OAAAF,SAAA,CAAA1G,CAAA;YAAA;cAID,IAAIsG,MAAM,CAAChF,MAAM,EAAE;gBACjBgF,MAAM,CAAChF,MAAM,CAAC8F,KAAK,EAAE;gBACrBd,MAAM,CAAChF,MAAM,CAACwF,cAAc,CAAC;kBAAEC,QAAQ,EAAE,QAAQ;kBAAEC,KAAK,EAAE;gBAAQ,CAAE,CAAC;cACvE;cAAC,OAAAN,SAAA,CAAA1G,CAAA;YAAA;cAID,IAAIsG,MAAM,CAAChF,MAAM,EAAE;gBACXiC,IAAI,GAAG+C,MAAM,CAAChF,MAAM,CAAC6C,WAAW,IAAI,EAAE;gBACtCoC,MAAK,GAAG,IAAIU,WAAW,CAAC,WAAW,EAAE;kBAAEC,MAAM,EAAE;oBAAE3D,IAAI,EAAJA;kBAAI;gBAAE,CAAE,CAAC;gBAChE5B,QAAQ,CAACwF,aAAa,CAACZ,MAAK,CAAC;cAC/B;cAAC,OAAAG,SAAA,CAAA1G,CAAA;YAAA;cAIDE,OAAO,CAACmH,GAAG,CAAC,iBAAiB,EAAEf,MAAM,CAAClG,MAAM,CAAC;YAAA;cAAA,OAAAsG,SAAA,CAAA1G,CAAA;UAAA;QAAA,GAAAqG,QAAA;MAAA,CAElD;MAAA,SApDKiB,cAAcA,CAAAC,GAAA;QAAA,OAAAnB,eAAA,CAAA5F,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAd6G,cAAc;IAAA;IAsDpB;;;IAAA;EAAA;IAAA1I,GAAA;IAAAC,KAAA,EAGQ,SAAA8H,aAAaA,CAACa,MAA4B;MAChD,IAAI,CAACA,MAAM,EAAE;MAEb,IAAIA,MAAM,CAACxG,QAAQ,EAAE;QACnB,IAAIwG,MAAM,CAACxG,QAAQ,KAAK,KAAK,EAAE;UAC7BgC,MAAM,CAACyE,QAAQ,CAAC;YAAEC,GAAG,EAAE,CAAC;YAAEX,QAAQ,EAAE;UAAQ,CAAE,CAAC;QACjD,CAAC,MAAM,IAAIS,MAAM,CAACxG,QAAQ,KAAK,QAAQ,EAAE;UACvCgC,MAAM,CAACyE,QAAQ,CAAC;YAAEC,GAAG,EAAE/F,QAAQ,CAACc,IAAI,CAACkF,YAAY;YAAEZ,QAAQ,EAAE;UAAQ,CAAE,CAAC;QAC1E;MACF,CAAC,MAAM,IAAIS,MAAM,CAAC7G,SAAS,EAAE;QAC3B,IAAMG,MAAM,GAAG0G,MAAM,CAAC1G,MAAM,IAAI,GAAG;QACnC,IAAM8G,aAAa,GAAG5E,MAAM,CAAC6E,OAAO;QACpC,IAAMC,SAAS,GAAGN,MAAM,CAAC7G,SAAS,KAAK,MAAM,GACzCiH,aAAa,GAAG9G,MAAM,GACtB8G,aAAa,GAAG9G,MAAM;QAE1BkC,MAAM,CAACyE,QAAQ,CAAC;UAAEC,GAAG,EAAEI,SAAS;UAAEf,QAAQ,EAAE;QAAQ,CAAE,CAAC;MACzD;IACF;EAAC;AAAA,I;;;;;;;;;;;;;;;;;;;;;ACxXH;;;;AAuFA,IAAagB,WAAW;EAAA,SAAAA,YAAA;IAAArJ,eAAA,OAAAqJ,WAAA;EAAA;EAAA,OAAApJ,YAAA,CAAAoJ,WAAA;IAAAnJ,GAAA;IAAAC,KAAA;IACtB;;;IAGA,SAAAmJ,OAAOA,CAAA;MACL9H,OAAO,CAACmH,GAAG,CAAC,yCAAyC,CAAC;MACtD,IAAMY,SAAS,GAAGC,IAAI,CAACC,GAAG,EAAE;MAE5B,IAAMC,QAAQ,GAAG;QACfC,KAAK,EAAE,IAAI,CAACC,YAAY,EAAE;QAC1BC,UAAU,EAAE,IAAI,CAACC,iBAAiB,EAAE;QACpCC,OAAO,EAAE,IAAI,CAACC,cAAc,EAAE;QAC9BC,YAAY,EAAE,IAAI,CAACC,oBAAoB,EAAE;QACzCC,SAAS,EAAE,IAAI,CAACC,gBAAgB,EAAE;QAClCC,QAAQ,EAAE,IAAI,CAACC,eAAe;OAC/B;MAED,IAAMC,QAAQ,GAAGf,IAAI,CAACC,GAAG,EAAE,GAAGF,SAAS;MACvC/H,OAAO,CAACmH,GAAG,uCAAAtG,MAAA,CAAuCkI,QAAQ,UAAO;QAC/DZ,KAAK,EAAED,QAAQ,CAACC,KAAK,CAACtE,MAAM;QAC5BwE,UAAU,EAAEH,QAAQ,CAACG,UAAU,CAACxE,MAAM;QACtC4E,YAAY,EAAEP,QAAQ,CAACO,YAAY,CAAC5E,MAAM;QAC1C8E,SAAS,EAAET,QAAQ,CAACS,SAAS,CAAC9E,MAAM;QACpCmF,SAAS,EAAEd,QAAQ,CAACW,QAAQ,CAACI;OAC9B,CAAC;MAEF,OAAOf,QAAQ;IACjB;IAEA;;;EAAA;IAAAxJ,GAAA;IAAAC,KAAA,EAGQ,SAAAyJ,YAAYA,CAAA;MAAA,IAAAc,KAAA;MAClB,IAAMf,KAAK,GAAG3E,KAAK,CAACC,IAAI,CAAChC,QAAQ,CAACiC,gBAAgB,CAAC,MAAM,CAAC,CAAC;MAC3D1D,OAAO,CAACmH,GAAG,wBAAAtG,MAAA,CAAwBsH,KAAK,CAACtE,MAAM,aAAU,CAAC;MAE1D,OAAOsE,KAAK,CAACgB,GAAG,CAAC,UAAC3H,IAAI,EAAE4H,KAAK,EAAI;QAC/B,IAAMC,MAAM,GAAGH,KAAI,CAACI,iBAAiB,CAAC9H,IAAI,CAAC;QAC3C,IAAM+B,OAAO,GAAG2F,KAAI,CAACK,kBAAkB,CAAC/H,IAAI,CAAC;QAC7C,IAAMgI,SAAS,GAAGN,KAAI,CAACO,eAAe,CAACjI,IAAI,CAAC;QAE5CxB,OAAO,CAACmH,GAAG,uBAAAtG,MAAA,CAAuBuI,KAAK,QAAK;UAC1CM,EAAE,EAAElI,IAAI,CAACkI,EAAE,YAAA7I,MAAA,CAAYuI,KAAK,CAAE;UAC9BC,MAAM,EAAEA,MAAM,CAACxF,MAAM;UACrBN,OAAO,EAAEA,OAAO,CAACM;SAClB,CAAC;QAEF,OAAO;UACL6F,EAAE,EAAElI,IAAI,CAACkI,EAAE,YAAA7I,MAAA,CAAYuI,KAAK,CAAE;UAC9BlJ,MAAM,EAAEsB,IAAI,CAACtB,MAAM,IAAI4C,MAAM,CAACC,QAAQ,CAACC,IAAI;UAC3CX,MAAM,EAAEb,IAAI,CAACa,MAAM,IAAI,KAAK;UAC5BgH,MAAM,EAANA,MAAM;UACN9F,OAAO,EAAPA,OAAO;UACPiG,SAAS,EAAEA,SAAS,CAACG,WAAW;UAChCC,WAAW,EAAEJ,SAAS,CAACI,WAAW;UAClCC,UAAU,EAAEL,SAAS,CAACK;SACvB;MACH,CAAC,CAAC;IACJ;IAEA;;;EAAA;IAAAnL,GAAA;IAAAC,KAAA,EAGQ,SAAA2K,iBAAiBA,CAAC9H,IAAqB;MAAA,IAAAsI,MAAA;MAC7C,IAAMC,MAAM,GAAGvI,IAAI,CAACkC,gBAAgB,CAAC,yBAAyB,CAAC;MAE/D,OAAOF,KAAK,CAACC,IAAI,CAACsG,MAAM,CAAC,CACtBC,MAAM,CAAC,UAACC,KAAK,EAAI;QAChB,IAAMpF,EAAE,GAAGoF,KAAyB;QACpC;QACA,OAAOpF,EAAE,CAACqF,IAAI,KAAK,QAAQ,IACpBrF,EAAE,CAACqF,IAAI,KAAK,QAAQ,IACpBrF,EAAE,CAACqF,IAAI,KAAK,QAAQ,IACpBrF,EAAE,CAACqF,IAAI,KAAK,OAAO;MAC5B,CAAC,CAAC,CACDf,GAAG,CAAC,UAACc,KAAK,EAAEb,KAAK,EAAI;QACpB,IAAMe,KAAK,GAAGF,KAAmE;QAEjF,OAAO;UACLP,EAAE,EAAES,KAAK,CAACT,EAAE,aAAA7I,MAAA,CAAauI,KAAK,CAAE;UAChCgB,IAAI,EAAED,KAAK,CAACC,IAAI,IAAID,KAAK,CAACT,EAAE,aAAA7I,MAAA,CAAauI,KAAK,CAAE;UAChDc,IAAI,EAAEJ,MAAI,CAACO,YAAY,CAACF,KAAK,CAAC;UAC9BG,KAAK,EAAER,MAAI,CAACS,SAAS,CAACJ,KAAK,CAAC;UAC5BK,WAAW,EAAEV,MAAI,CAACW,cAAc,CAACN,KAAK,CAAC;UACvCO,QAAQ,EAAEZ,MAAI,CAACa,UAAU,CAACR,KAAK,CAAC;UAChCxL,KAAK,EAAEmL,MAAI,CAACc,QAAQ,CAACT,KAAK,CAAC;UAC3BU,OAAO,EAAEf,MAAI,CAACgB,cAAc,CAACX,KAAK,CAAC;UACnCY,UAAU,EAAEjB,MAAI,CAACkB,iBAAiB,CAACb,KAAK,CAAC;UACzCc,SAAS,EAAEd,KAAK,CAACe,YAAY,CAAC,YAAY,CAAC,IAAI5F,SAAS;UACxD6F,eAAe,EAAEhB,KAAK,CAACe,YAAY,CAAC,kBAAkB,CAAC,IAAI5F,SAAS;UACpE8F,eAAe,EAAEtB,MAAI,CAACuB,kBAAkB,CAAClB,KAAK,CAAC;UAC/Cf,KAAK,EAALA,KAAK,CAAC;SACP;MACH,CAAC,CAAC;IACN;IAEA;;;EAAA;IAAA1K,GAAA;IAAAC,KAAA,EAGQ,SAAA0L,YAAYA,CAACF,KAAkB;MACrC,IAAIA,KAAK,CAACxD,OAAO,KAAK,QAAQ,EAAE,OAAO,QAAQ;MAC/C,IAAIwD,KAAK,CAACxD,OAAO,KAAK,UAAU,EAAE,OAAO,UAAU;MAEnD,IAAMsD,KAAK,GAAGE,KAAyB;MACvC,OAAOF,KAAK,CAACC,IAAI,IAAI,MAAM;IAC7B;IAEA;;;EAAA;IAAAxL,GAAA;IAAAC,KAAA,EAGQ,SAAA4L,SAASA,CAACJ,KAAkB;MAClC;MACA,IAAIA,KAAK,CAACT,EAAE,EAAE;QACZ,IAAMY,KAAK,GAAG7I,QAAQ,CAACC,aAAa,gBAAAb,MAAA,CAAesJ,KAAK,CAACT,EAAE,QAAI,CAAC;QAChE,IAAIY,KAAK,aAALA,KAAK,eAALA,KAAK,CAAErG,WAAW,EAAE;UACtB,OAAOqG,KAAK,CAACrG,WAAW,CAACtE,IAAI,EAAE;QACjC;MACF;MAEA;MACA,IAAM2L,WAAW,GAAGnB,KAAK,CAACoB,OAAO,CAAC,OAAO,CAAC;MAC1C,IAAID,WAAW,EAAE;QAAA,IAAAE,kBAAA;QACf,IAAMC,KAAK,GAAGH,WAAW,CAACI,SAAS,CAAC,IAAI,CAAgB;QACxD,IAAMC,UAAU,GAAGF,KAAK,CAAC/J,aAAa,CAAC,yBAAyB,CAAC;QACjEiK,UAAU,aAAVA,UAAU,eAAVA,UAAU,CAAEC,MAAM,EAAE;QACpB,IAAMvI,IAAI,IAAAmI,kBAAA,GAAGC,KAAK,CAACxH,WAAW,cAAAuH,kBAAA,uBAAjBA,kBAAA,CAAmB7L,IAAI,EAAE;QACtC,IAAI0D,IAAI,EAAE,OAAOA,IAAI;MACvB;MAEA;MACA,IAAM4H,SAAS,GAAGd,KAAK,CAACe,YAAY,CAAC,YAAY,CAAC;MAClD,IAAID,SAAS,EAAE,OAAOA,SAAS;MAE/B;MACA,IAAMY,cAAc,GAAG1B,KAAK,CAACe,YAAY,CAAC,iBAAiB,CAAC;MAC5D,IAAIW,cAAc,EAAE;QAClB,IAAMC,YAAY,GAAGrK,QAAQ,CAACsK,cAAc,CAACF,cAAc,CAAC;QAC5D,IAAIC,YAAY,aAAZA,YAAY,eAAZA,YAAY,CAAE7H,WAAW,EAAE;UAC7B,OAAO6H,YAAY,CAAC7H,WAAW,CAACtE,IAAI,EAAE;QACxC;MACF;MAEA;MACA,IAAMqM,WAAW,GAAG7B,KAAK,CAAC8B,sBAAsB;MAChD,IAAID,WAAW,IAAIA,WAAW,CAAC/H,WAAW,EAAE;QAC1C,IAAMZ,KAAI,GAAG2I,WAAW,CAAC/H,WAAW,CAACtE,IAAI,EAAE;QAC3C,IAAI0D,KAAI,CAACQ,MAAM,GAAG,GAAG,EAAE,OAAOR,KAAI;MACpC;MAEA;MACA,IAAM+G,IAAI,GAAGD,KAAK,CAACe,YAAY,CAAC,MAAM,CAAC;MACvC,IAAMxB,EAAE,GAAGS,KAAK,CAACe,YAAY,CAAC,IAAI,CAAC;MACnC,OAAOd,IAAI,IAAIV,EAAE,IAAI,IAAI;IAC3B;IAEA;;;EAAA;IAAAhL,GAAA;IAAAC,KAAA,EAGQ,SAAA8L,cAAcA,CAACN,KAAkB;MACvC,IAAMK,WAAW,GAAGL,KAAK,CAACe,YAAY,CAAC,aAAa,CAAC;MACrD,IAAIV,WAAW,EAAE,OAAOA,WAAW;MAEnC;MACA,IAAM0B,eAAe,GAAG/B,KAAK,CAACe,YAAY,CAAC,kBAAkB,CAAC;MAC9D,OAAOgB,eAAe,IAAI,IAAI;IAChC;IAEA;;;EAAA;IAAAxN,GAAA;IAAAC,KAAA,EAGQ,SAAAgM,UAAUA,CAACR,KAAkB;MACnC;MACA,IAAIA,KAAK,CAACgC,YAAY,CAAC,UAAU,CAAC,EAAE,OAAO,IAAI;MAE/C;MACA,IAAIhC,KAAK,CAACe,YAAY,CAAC,eAAe,CAAC,KAAK,MAAM,EAAE,OAAO,IAAI;MAE/D;MACA,IAAMZ,KAAK,GAAG,IAAI,CAACC,SAAS,CAACJ,KAAK,CAAC;MACnC,IAAIG,KAAK,KAAKA,KAAK,CAAC5J,QAAQ,CAAC,GAAG,CAAC,IAAI4J,KAAK,CAAC5K,WAAW,EAAE,CAACgB,QAAQ,CAAC,UAAU,CAAC,CAAC,EAAE;QAC9E,OAAO,IAAI;MACb;MAEA,OAAO,KAAK;IACd;IAEA;;;EAAA;IAAAhC,GAAA;IAAAC,KAAA,EAGQ,SAAAiM,QAAQA,CAACT,KAAkB;MACjC,IAAIA,KAAK,CAACxD,OAAO,KAAK,QAAQ,EAAE;QAC9B,IAAMyF,MAAM,GAAGjC,KAA0B;QACzC,OAAOiC,MAAM,CAACzN,KAAK,IAAI,EAAE;MAC3B;MAEA,IAAIwL,KAAK,CAACxD,OAAO,KAAK,UAAU,EAAE;QAChC,IAAM0F,QAAQ,GAAGlC,KAA4B;QAC7C,OAAOkC,QAAQ,CAAC1N,KAAK,IAAI,EAAE;MAC7B;MAEA,IAAMsL,KAAK,GAAGE,KAAyB;MACvC,IAAIF,KAAK,CAACC,IAAI,KAAK,UAAU,IAAID,KAAK,CAACC,IAAI,KAAK,OAAO,EAAE;QACvD,OAAOD,KAAK,CAACqC,OAAO,GAAG,SAAS,GAAG,EAAE;MACvC;MAEA,OAAOrC,KAAK,CAACtL,KAAK,IAAI,EAAE;IAC1B;IAEA;;;EAAA;IAAAD,GAAA;IAAAC,KAAA,EAGQ,SAAAmM,cAAcA,CAACX,KAAkB;MAAA,IAAAoC,MAAA;MACvC,IAAIpC,KAAK,CAACxD,OAAO,KAAK,QAAQ,EAAE;QAC9B,IAAMyF,MAAM,GAAGjC,KAA0B;QACzC,OAAO3G,KAAK,CAACC,IAAI,CAAC2I,MAAM,CAACvB,OAAO,CAAC,CAAC1B,GAAG,CAAC,UAAAqD,GAAG;UAAA,OAAIA,GAAG,CAACnJ,IAAI;QAAA,EAAC;MACxD;MAEA;MACA,IAAI8G,KAAK,CAACxD,OAAO,KAAK,OAAO,EAAE;QAC7B,IAAMsD,KAAK,GAAGE,KAAyB;QACvC,IAAIF,KAAK,CAACC,IAAI,KAAK,OAAO,IAAID,KAAK,CAACC,IAAI,KAAK,UAAU,EAAE;UACvD,IAAME,IAAI,GAAGH,KAAK,CAACG,IAAI;UACvB,IAAIA,IAAI,EAAE;YACR,IAAMqC,KAAK,GAAGhL,QAAQ,CAACiC,gBAAgB,iBAAA7C,MAAA,CAAgBuJ,IAAI,QAAI,CAAC;YAChE,OAAO5G,KAAK,CAACC,IAAI,CAACgJ,KAAK,CAAC,CAACtD,GAAG,CAAC,UAAAtE,EAAE,EAAG;cAChC,IAAMyF,KAAK,GAAGiC,MAAI,CAAChC,SAAS,CAAC1F,EAAiB,CAAC;cAC/C,OAAOyF,KAAK,IAAKzF,EAAuB,CAAClG,KAAK;YAChD,CAAC,CAAC;UACJ;QACF;MACF;MAEA,OAAO,EAAE;IACX;IAEA;;;EAAA;IAAAD,GAAA;IAAAC,KAAA,EAGQ,SAAAqM,iBAAiBA,CAACb,KAAkB;MAC1C,IAAMY,UAAU,GAA4B,EAAE;MAE9C,IAAM2B,OAAO,GAAGvC,KAAK,CAACe,YAAY,CAAC,SAAS,CAAC;MAC7C,IAAIwB,OAAO,EAAE3B,UAAU,CAAC2B,OAAO,GAAGA,OAAO;MAEzC,IAAMzG,GAAG,GAAGkE,KAAK,CAACe,YAAY,CAAC,KAAK,CAAC;MACrC,IAAIjF,GAAG,EAAE8E,UAAU,CAAC9E,GAAG,GAAGA,GAAG;MAE7B,IAAMN,GAAG,GAAGwE,KAAK,CAACe,YAAY,CAAC,KAAK,CAAC;MACrC,IAAIvF,GAAG,EAAEoF,UAAU,CAACpF,GAAG,GAAGA,GAAG;MAE7B,IAAMgH,SAAS,GAAGxC,KAAK,CAACe,YAAY,CAAC,WAAW,CAAC;MACjD,IAAIyB,SAAS,EAAE5B,UAAU,CAAC4B,SAAS,GAAGC,QAAQ,CAACD,SAAS,CAAC;MAEzD,IAAME,SAAS,GAAG1C,KAAK,CAACe,YAAY,CAAC,WAAW,CAAC;MACjD,IAAI2B,SAAS,EAAE9B,UAAU,CAAC8B,SAAS,GAAGD,QAAQ,CAACC,SAAS,CAAC;MAEzD,OAAOC,MAAM,CAACC,IAAI,CAAChC,UAAU,CAAC,CAAClH,MAAM,GAAG,CAAC,GAAGkH,UAAU,GAAGzF,SAAS;IACpE;IAEA;;;EAAA;IAAA5G,GAAA;IAAAC,KAAA,EAGQ,SAAA0M,kBAAkBA,CAAClB,KAAkB;MAAA,IAAA6C,mBAAA;MAC3C,IAAMC,MAAM,GAAG9C,KAAK,CAAC+C,aAAa;MAClC,IAAI,CAACD,MAAM,EAAE,OAAO,EAAE;MAEtB,IAAMxB,KAAK,GAAGwB,MAAM,CAACvB,SAAS,CAAC,IAAI,CAAgB;MACnD,IAAM3B,MAAM,GAAG0B,KAAK,CAAC/H,gBAAgB,CAAC,yBAAyB,CAAC;MAChEqG,MAAM,CAACoD,OAAO,CAAC,UAAAtI,EAAE;QAAA,OAAIA,EAAE,CAAC+G,MAAM,EAAE;MAAA,EAAC;MAEjC,IAAMvI,IAAI,GAAG,EAAA2J,mBAAA,GAAAvB,KAAK,CAACxH,WAAW,cAAA+I,mBAAA,uBAAjBA,mBAAA,CAAmBrN,IAAI,EAAE,KAAI,EAAE;MAC5C,OAAO0D,IAAI,CAAC+J,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,EAAC;IAC5B;IAEA;;;EAAA;IAAA1O,GAAA;IAAAC,KAAA,EAGQ,SAAA4K,kBAAkBA,CAAC/H,IAAqB;MAC9C,IAAM+B,OAAO,GAAG/B,IAAI,CAACkC,gBAAgB,CAAC,oDAAoD,CAAC;MAE3F,OAAOF,KAAK,CAACC,IAAI,CAACF,OAAO,CAAC,CAAC4F,GAAG,CAAC,UAACpF,GAAG,EAAEqF,KAAK,EAAI;QAC5C,IAAMiE,MAAM,GAAGtJ,GAA2C;QAE1D;QACA,IAAIV,IAAI,GAAG,EAAE;QACb,IAAIgK,MAAM,CAAC1G,OAAO,KAAK,QAAQ,EAAE;UAAA,IAAA2G,mBAAA,EAAAC,iBAAA;UAC/B;UACAlK,IAAI,GAAG,EAAAiK,mBAAA,GAAAD,MAAM,CAACpJ,WAAW,cAAAqJ,mBAAA,uBAAlBA,mBAAA,CAAoB3N,IAAI,EAAE,OAAA4N,iBAAA,GAAIF,MAAM,CAACG,SAAS,cAAAD,iBAAA,uBAAhBA,iBAAA,CAAkB5N,IAAI,EAAE,KAAI,EAAE;QACrE,CAAC,MAAM,IAAI0N,MAAM,CAAC1G,OAAO,KAAK,OAAO,EAAE;UACrC;UACAtD,IAAI,GAAGgK,MAAM,CAAC1O,KAAK,IAAI,EAAE;QAC3B;QAEA;QACA,IAAI,CAAC0E,IAAI,EAAE;UACTA,IAAI,GAAGgK,MAAM,CAACnC,YAAY,CAAC,YAAY,CAAC,IAAI,QAAQ;QACtD;QAEA,OAAO;UACLhB,IAAI,EAAEmD,MAAM,CAACnD,IAAI,IAAI,QAAQ;UAC7B7G,IAAI,EAAEA,IAAI;UACVqG,EAAE,EAAE2D,MAAM,CAAC3D,EAAE,cAAA7I,MAAA,CAAcuI,KAAK,CAAE;UAClCgB,IAAI,EAAEiD,MAAM,CAACjD,IAAI,IAAIiD,MAAM,CAAC3D,EAAE,cAAA7I,MAAA,CAAcuI,KAAK,CAAE;UACnD6B,SAAS,EAAEoC,MAAM,CAACnC,YAAY,CAAC,YAAY,CAAC,IAAI5F;SACjD;MACH,CAAC,CAAC;IACJ;IAEA;;;EAAA;IAAA5G,GAAA;IAAAC,KAAA,EAGQ,SAAA8K,eAAeA,CAACjI,IAAqB;MAK3C;MACA,IAAMiM,cAAc,GAAGjM,IAAI,CAACkC,gBAAgB,CAAC,oDAAoD,CAAC;MAElG,IAAI+J,cAAc,CAAC5J,MAAM,GAAG,CAAC,EAAE;QAC7B;QACA,IAAM6J,aAAa,GAAGlM,IAAI,CAACE,aAAa,CAAC,+CAA+C,CAAC;QACzF,IAAMkI,WAAW,GAAG8D,aAAa,GAC/BlK,KAAK,CAACC,IAAI,CAACgK,cAAc,CAAC,CAACE,OAAO,CAACD,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC;QAE3D,OAAO;UACL/D,WAAW,EAAE,IAAI;UACjBC,WAAW,EAAXA,WAAW;UACXC,UAAU,EAAE4D,cAAc,CAAC5J;SAC5B;MACH;MAEA;MACA,IAAM+J,OAAO,GAAGpM,IAAI,CAACE,aAAa,CAAC,6CAA6C,CAAC;MACjF,IAAMmM,OAAO,GAAGrM,IAAI,CAACE,aAAa,CAAC,6CAA6C,CAAC;MAEjF,IAAIkM,OAAO,IAAIC,OAAO,EAAE;QACtB,OAAO;UAAElE,WAAW,EAAE;QAAI,CAAE;MAC9B;MAEA,OAAO;QAAEA,WAAW,EAAE;MAAK,CAAE;IAC/B;IAEA;;;EAAA;IAAAjL,GAAA;IAAAC,KAAA,EAGQ,SAAA2J,iBAAiBA,CAAA;MACvB,IAAMwF,WAAW,GAAwB,EAAE;MAE3C;MACA,IAAMC,aAAa,GAAGtM,QAAQ,CAACiC,gBAAgB,CAC7C,wDAAwD,CACzD;MAEDqK,aAAa,CAACZ,OAAO,CAAC,UAAAa,SAAS,EAAG;QAChC;QACA,IAAM7J,KAAK,GAAG6J,SAAS,CAACtK,gBAAgB,CAAC,GAAG,CAAC;QAC7CS,KAAK,CAACgJ,OAAO,CAAC,UAAA5I,IAAI,EAAG;UAAA,IAAAD,iBAAA;UACnBwJ,WAAW,CAACG,IAAI,CAAC;YACf/D,IAAI,EAAE,MAAM;YACZ7G,IAAI,EAAE,EAAAiB,iBAAA,GAAAC,IAAI,CAACN,WAAW,cAAAK,iBAAA,uBAAhBA,iBAAA,CAAkB3E,IAAI,EAAE,KAAI,EAAE;YACpCqD,IAAI,EAAEuB,IAAI,CAACvB,IAAI;YACf0G,EAAE,EAAEnF,IAAI,CAACmF,EAAE;YACXuB,SAAS,EAAE1G,IAAI,CAAC2G,YAAY,CAAC,YAAY,CAAC,IAAI5F,SAAS;YACvD4I,IAAI,EAAE3J,IAAI,CAAC2G,YAAY,CAAC,MAAM,CAAC,IAAI5F;WACpC,CAAC;QACJ,CAAC,CAAC;QAEF;QACA,IAAM/B,OAAO,GAAGyK,SAAS,CAACtK,gBAAgB,CAAC,QAAQ,CAAC;QACpDH,OAAO,CAAC4J,OAAO,CAAC,UAAAE,MAAM,EAAG;UAAA,IAAAc,oBAAA;UACvBL,WAAW,CAACG,IAAI,CAAC;YACf/D,IAAI,EAAE,QAAQ;YACd7G,IAAI,EAAE,EAAA8K,oBAAA,GAAAd,MAAM,CAACpJ,WAAW,cAAAkK,oBAAA,uBAAlBA,oBAAA,CAAoBxO,IAAI,EAAE,KAAI,EAAE;YACtC+J,EAAE,EAAE2D,MAAM,CAAC3D,EAAE;YACbuB,SAAS,EAAEoC,MAAM,CAACnC,YAAY,CAAC,YAAY,CAAC,IAAI5F,SAAS;YACzD4I,IAAI,EAAEb,MAAM,CAACnC,YAAY,CAAC,MAAM,CAAC,IAAI5F;WACtC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,CAAC;MAEF,OAAOwI,WAAW;IACpB;IAEA;;;EAAA;IAAApP,GAAA;IAAAC,KAAA,EAGQ,SAAA6J,cAAcA,CAAA;MACpB,IAAMD,OAAO,GAAqB,EAAE;MAEpC;MACA,IAAM6F,QAAQ,GAAG3M,QAAQ,CAACiC,gBAAgB,CAAC,wBAAwB,CAAC;MACpE0K,QAAQ,CAACjB,OAAO,CAAC,UAAAkB,OAAO,EAAG;QAAA,IAAAC,oBAAA;QACzB/F,OAAO,CAAC0F,IAAI,CAAC;UACX/D,IAAI,EAAE,SAAS;UACfqE,KAAK,EAAE3B,QAAQ,CAACyB,OAAO,CAAC1H,OAAO,CAAC,CAAC,CAAC,CAAC;UACnCtD,IAAI,EAAE,EAAAiL,oBAAA,GAAAD,OAAO,CAACpK,WAAW,cAAAqK,oBAAA,uBAAnBA,oBAAA,CAAqB3O,IAAI,EAAE,KAAI,EAAE;UACvC+J,EAAE,EAAE2E,OAAO,CAAC3E,EAAE;UACduB,SAAS,EAAEoD,OAAO,CAACnD,YAAY,CAAC,YAAY,CAAC,IAAI5F;SAClD,CAAC;MACJ,CAAC,CAAC;MAEF;MACA,IAAMkJ,YAAY,GAAG/M,QAAQ,CAACiC,gBAAgB,CAAC,uCAAuC,CAAC;MACvF8K,YAAY,CAACrB,OAAO,CAAC,UAAAjM,OAAO,EAAG;QAAA,IAAAuN,oBAAA;QAC7BlG,OAAO,CAAC0F,IAAI,CAAC;UACX/D,IAAI,EAAEhJ,OAAO,CAACyF,OAAO,CAACjH,WAAW,EAAoC;UACrE2D,IAAI,EAAE,EAAAoL,oBAAA,GAAAvN,OAAO,CAAC+C,WAAW,cAAAwK,oBAAA,uBAAnBA,oBAAA,CAAqBrB,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAACzN,IAAI,EAAE,KAAI,EAAE;UACrD+J,EAAE,EAAExI,OAAO,CAACwI,EAAE;UACduB,SAAS,EAAE/J,OAAO,CAACgK,YAAY,CAAC,YAAY,CAAC,IAAI5F;SAClD,CAAC;MACJ,CAAC,CAAC;MAEF,OAAOiD,OAAO;IAChB;IAEA;;;EAAA;IAAA7J,GAAA;IAAAC,KAAA,EAGQ,SAAA+J,oBAAoBA,CAAA;MAC1B,IAAMD,YAAY,GAA0B,EAAE;MAE9C;MACAhH,QAAQ,CAACiC,gBAAgB,CAAC,QAAQ,CAAC,CAACyJ,OAAO,CAAC,UAAApJ,GAAG,EAAG;QAAA,IAAAD,gBAAA;QAChD2E,YAAY,CAACwF,IAAI,CAAC;UAChB/D,IAAI,EAAE,QAAQ;UACd7G,IAAI,EAAE,EAAAS,gBAAA,GAAAC,GAAG,CAACE,WAAW,cAAAH,gBAAA,uBAAfA,gBAAA,CAAiBnE,IAAI,EAAE,KAAI,EAAE;UACnC+J,EAAE,EAAE3F,GAAG,CAAC2F,EAAE;UACVwE,IAAI,EAAEnK,GAAG,CAACmH,YAAY,CAAC,MAAM,CAAC,IAAI5F,SAAS;UAC3C2F,SAAS,EAAElH,GAAG,CAACmH,YAAY,CAAC,YAAY,CAAC,IAAI5F,SAAS;UACtDb,SAAS,EAAE;SACZ,CAAC;MACJ,CAAC,CAAC;MAEF;MACAhD,QAAQ,CAACiC,gBAAgB,CAAC,SAAS,CAAC,CAACyJ,OAAO,CAAC,UAAA5I,IAAI,EAAG;QAAA,IAAAmK,mBAAA;QAClD,IAAMC,MAAM,GAAGpK,IAAyB;QACxCkE,YAAY,CAACwF,IAAI,CAAC;UAChB/D,IAAI,EAAE,MAAM;UACZ7G,IAAI,EAAE,EAAAqL,mBAAA,GAAAC,MAAM,CAAC1K,WAAW,cAAAyK,mBAAA,uBAAlBA,mBAAA,CAAoB/O,IAAI,EAAE,KAAI,EAAE;UACtC+J,EAAE,EAAEiF,MAAM,CAACjF,EAAE;UACbwE,IAAI,EAAES,MAAM,CAACzD,YAAY,CAAC,MAAM,CAAC,IAAI5F,SAAS;UAC9C2F,SAAS,EAAE0D,MAAM,CAACzD,YAAY,CAAC,YAAY,CAAC,IAAI5F,SAAS;UACzDb,SAAS,EAAE;SACZ,CAAC;MACJ,CAAC,CAAC;MAEF,OAAOgE,YAAY;IACrB;IAEA;;;EAAA;IAAA/J,GAAA;IAAAC,KAAA,EAGQ,SAAAiK,gBAAgBA,CAAA;MACtB,IAAMD,SAAS,GAA6D,EAAE;MAE9E,IAAMiG,aAAa,GAAG,CACpB,QAAQ,EAAE,YAAY,EAAE,MAAM,EAAE,eAAe,EAC/C,aAAa,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,CAC1C;MAEDA,aAAa,CAACzB,OAAO,CAAC,UAAAe,IAAI,EAAG;QAC3B,IAAMW,QAAQ,GAAGpN,QAAQ,CAACiC,gBAAgB,YAAA7C,MAAA,CAAWqN,IAAI,QAAI,CAAC;QAC9DW,QAAQ,CAAC1B,OAAO,CAAC,UAACtI,EAAE,EAAEuE,KAAK,EAAI;UAC7BT,SAAS,CAACsF,IAAI,CAAC;YACbC,IAAI,EAAJA,IAAI;YACJ5D,KAAK,EAAEzF,EAAE,CAACqG,YAAY,CAAC,YAAY,CAAC,IAAI5F,SAAS;YACjDpE,OAAO,EAAE2D,EAAE,CAAC8B,OAAO,CAACjH,WAAW,EAAE,IAAImF,EAAE,CAAC6E,EAAE,OAAA7I,MAAA,CAAOgE,EAAE,CAAC6E,EAAE,QAAA7I,MAAA,CAASuI,KAAK,CAAE;WACvE,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,CAAC;MAEF;MACA,IAAM0F,iBAAiB,GAAG,CACxB;QAAEC,GAAG,EAAE,QAAQ;QAAEb,IAAI,EAAE;MAAQ,CAAE,EACjC;QAAEa,GAAG,EAAE,KAAK;QAAEb,IAAI,EAAE;MAAY,CAAE,EAClC;QAAEa,GAAG,EAAE,MAAM;QAAEb,IAAI,EAAE;MAAM,CAAE,EAC7B;QAAEa,GAAG,EAAE,OAAO;QAAEb,IAAI,EAAE;MAAe,CAAE,EACvC;QAAEa,GAAG,EAAE,QAAQ;QAAEb,IAAI,EAAE;MAAa,CAAE,CACvC;MAEDY,iBAAiB,CAAC3B,OAAO,CAAC,UAAA6B,IAAA,EAAkB;QAAA,IAAfD,GAAG,GAAAC,IAAA,CAAHD,GAAG;UAAEb,IAAI,GAAAc,IAAA,CAAJd,IAAI;QACpC,IAAMW,QAAQ,GAAGpN,QAAQ,CAACiC,gBAAgB,CAACqL,GAAG,CAAC;QAC/CF,QAAQ,CAAC1B,OAAO,CAAC,UAACtI,EAAE,EAAEuE,KAAK,EAAI;UAC7B,IAAI,CAACvE,EAAE,CAACsH,YAAY,CAAC,MAAM,CAAC,EAAE;YAC5BxD,SAAS,CAACsF,IAAI,CAAC;cACbC,IAAI,EAAJA,IAAI;cACJ5D,KAAK,EAAEzF,EAAE,CAACqG,YAAY,CAAC,YAAY,CAAC,IAAI5F,SAAS;cACjDpE,OAAO,KAAAL,MAAA,CAAKkO,GAAG,EAAAlO,MAAA,CAAGgE,EAAE,CAAC6E,EAAE,OAAA7I,MAAA,CAAOgE,EAAE,CAAC6E,EAAE,QAAA7I,MAAA,CAASuI,KAAK,CAAE;aACpD,CAAC;UACJ;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;MAEF,OAAOT,SAAS;IAClB;IAEA;;;EAAA;IAAAjK,GAAA;IAAAC,KAAA,EAGQ,SAAAmK,eAAeA,CAAA;MAAA,IAAAmG,qBAAA;MACrB,OAAO;QACLhG,KAAK,EAAExH,QAAQ,CAACwH,KAAK;QACrBpG,GAAG,EAAEC,MAAM,CAACC,QAAQ,CAACC,IAAI;QACzBN,QAAQ,EAAEjB,QAAQ,CAACyN,eAAe,CAACC,IAAI,IAAI,IAAI;QAC/CC,WAAW,EAAE,EAAAH,qBAAA,GAAAxN,QAAQ,CAACC,aAAa,CAAC,0BAA0B,CAAC,cAAAuN,qBAAA,uBAAlDA,qBAAA,CAAoD/D,YAAY,CAAC,SAAS,CAAC,KAAI5F;OAC7F;IACH;IAEA;;;EAAA;IAAA5G,GAAA;IAAAC,KAAA,EAGA,SAAA0Q,OAAOA,CAACC,UAA2B;MACjC,IAAMnH,KAAK,GAAG,IAAI,CAACC,YAAY,EAAE;MAEjC,IAAI,OAAOkH,UAAU,KAAK,QAAQ,EAAE;QAClC,OAAOnH,KAAK,CAACmH,UAAU,CAAC,IAAI,IAAI;MAClC;MAEA,OAAOnH,KAAK,CAACoH,IAAI,CAAC,UAAAC,CAAC;QAAA,OAAIA,CAAC,CAAC9F,EAAE,KAAK4F,UAAU;MAAA,EAAC,IAAI,IAAI;IACrD;IAEA;;;EAAA;IAAA5Q,GAAA;IAAAC,KAAA,EAGA,SAAA8Q,UAAUA,CAACpM,IAAY,EAAEqM,WAAoB;MAC3C,IAAMpM,UAAU,GAAGD,IAAI,CAAC3D,WAAW,EAAE;MACrC,IAAIiQ,QAAQ,GAAG,GAAG;MAElB,IAAID,WAAW,EAAE;QACfC,QAAQ,GAAGD,WAAW;MACxB;MAEA,IAAMb,QAAQ,GAAGrL,KAAK,CAACC,IAAI,CAAChC,QAAQ,CAACiC,gBAAgB,CAACiM,QAAQ,CAAC,CAAC;MAEhE,OAAOd,QAAQ,CAAC7E,MAAM,CAAC,UAAAnF,EAAE,EAAG;QAAA,IAAAD,eAAA,EAAAgL,gBAAA;QAC1B,IAAMrH,OAAO,GAAG,EAAA3D,eAAA,GAAAC,EAAE,CAACZ,WAAW,cAAAW,eAAA,uBAAdA,eAAA,CAAgBlF,WAAW,EAAE,KAAI,EAAE;QACnD,IAAM4K,KAAK,GAAG,EAAAsF,gBAAA,GAAA/K,EAAE,CAACqG,YAAY,CAAC,YAAY,CAAC,cAAA0E,gBAAA,uBAA7BA,gBAAA,CAA+BlQ,WAAW,EAAE,KAAI,EAAE;QAEhE,OAAO6I,OAAO,CAAC7H,QAAQ,CAAC4C,UAAU,CAAC,IAAIgH,KAAK,CAAC5J,QAAQ,CAAC4C,UAAU,CAAC;MACnE,CAAC,CAAkB;IACrB;EAAC;AAAA,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpnBH;;;;AAKqE;AAoBrE,IAAauM,WAAW;EAOtB,SAAAA,YAAYtR,WAAmB,EAAEuR,OAAgC;IAAAtR,eAAA,OAAAqR,WAAA;IAJzD,KAAAE,cAAc,GAA8B,IAAI;IAKtD,IAAI,CAACxR,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAACyR,QAAQ,GAAG,IAAInI,qDAAW,EAAE;IACjC,IAAI,CAACiI,OAAO,GAAGA,OAAO;EACxB;EAEA;;;EAAA,OAAArR,YAAA,CAAAoR,WAAA;IAAAnR,GAAA;IAAAC,KAAA;MAAA,IAAAsR,iBAAA,GAAApR,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAAC,QAAuBwC,IAAqB;QAAA,IAAAkB,QAAA;UAAAwN,MAAA;UAAAC,QAAA;UAAAC,KAAA,GAAA7P,SAAA;QAAA,OAAAzB,YAAA,GAAAQ,CAAA,WAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAE,CAAA;YAAA;cAAEiD,QAAA,GAAA0N,KAAA,CAAAvM,MAAA,QAAAuM,KAAA,QAAA9K,SAAA,GAAA8K,KAAA,MAAmB,OAAO;cACtE;cACMF,MAAM,GAAG,IAAI,CAACG,iBAAiB,CAAC7O,IAAI,CAAC;cAAA,MAEvC,CAAC0O,MAAM,CAAC7G,MAAM,IAAI6G,MAAM,CAAC7G,MAAM,CAACxF,MAAM,KAAK,CAAC;gBAAAtE,QAAA,CAAAE,CAAA;gBAAA;cAAA;cAC9C,IAAI,CAAC6Q,KAAK,CAAC,wCAAwC,EAAE5N,QAAQ,CAAC;cAAA,OAAAnD,QAAA,CAAAO,CAAA;YAAA;cAIhE;cACA,IAAI,CAACiQ,cAAc,GAAG;gBACpBvO,IAAI,EAAJA,IAAI;gBACJ0O,MAAM,EAANA,MAAM;gBACNK,aAAa,EAAE,EAAE;gBACjBC,iBAAiB,EAAE,CAAC;gBACpBC,YAAY,EAAE,EAAE;gBAChB/N,QAAQ,EAARA;eACD;cAED;cAAAnD,QAAA,CAAAE,CAAA;cAAA,OACM,IAAI,CAACiR,cAAc,CAACR,MAAM,CAAC;YAAA;cAEjC;cACMC,QAAQ,GAAGzN,QAAQ,KAAK,OAAO,0PAAA7B,MAAA,CACmBqP,MAAM,CAAC7G,MAAM,CAACxF,MAAM,2NAAAhD,MAAA,CAC7BqP,MAAM,CAAC7G,MAAM,CAACxF,MAAM,4CAAyC;cAE5G,IAAI,CAACyM,KAAK,CAACH,QAAQ,EAAEzN,QAAQ,CAAC;cAE9B;cAAAnD,QAAA,CAAAE,CAAA;cAAA,OACM,IAAI,CAACkR,YAAY,EAAE;YAAA;cAAA,OAAApR,QAAA,CAAAO,CAAA;UAAA;QAAA,GAAAd,OAAA;MAAA,CAC1B;MAAA,SA/BK4R,gBAAgBA,CAAAvQ,EAAA;QAAA,OAAA4P,iBAAA,CAAA3P,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAhBqQ,gBAAgB;IAAA;IAiCtB;;;IAAA;EAAA;IAAAlS,GAAA;IAAAC,KAAA;MAAA,IAAAkS,kBAAA,GAAAhS,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAAgD,SAAwB7C,UAAkB;QAAA,IAAA+C,QAAA,EAAA5C,EAAA;QAAA,OAAAP,YAAA,GAAAQ,CAAA,WAAA6C,SAAA;UAAA,kBAAAA,SAAA,CAAA3C,CAAA,GAAA2C,SAAA,CAAA1C,CAAA;YAAA;cAAA,IACnC,IAAI,CAACsQ,cAAc;gBAAA5N,SAAA,CAAA1C,CAAA;gBAAA;cAAA;cACtBO,OAAO,CAACC,KAAK,CAAC,gCAAgC,CAAC;cAAA,OAAAkC,SAAA,CAAArC,CAAA;YAAA;cAIjD;cACA,IAAI,CAACiQ,cAAc,CAACU,YAAY,CAACxC,IAAI,CAAC;gBACpCC,IAAI,EAAE,MAAM;gBACZ3F,OAAO,EAAErJ;eACV,CAAC;cAEF;cAAAiD,SAAA,CAAA3C,CAAA;cAAA2C,SAAA,CAAA1C,CAAA;cAAA,OAEyB,IAAI,CAACqR,UAAU,CAAC5R,UAAU,CAAC;YAAA;cAA5C+C,QAAQ,GAAAE,SAAA,CAAApC,CAAA;cAEd;cACA,IAAI,CAACgQ,cAAc,CAACU,YAAY,CAACxC,IAAI,CAAC;gBACpCC,IAAI,EAAE,WAAW;gBACjB3F,OAAO,EAAEtG,QAAQ,CAACA;eACnB,CAAC;cAEF;cACA,IAAIA,QAAQ,CAAC8O,aAAa,EAAE;gBAC1BjE,MAAM,CAACkE,MAAM,CAAC,IAAI,CAACjB,cAAc,CAACQ,aAAa,EAAEtO,QAAQ,CAAC8O,aAAa,CAAC;gBAExE;gBACA,IAAI,CAACE,UAAU,CAAChP,QAAQ,CAAC8O,aAAa,CAAC;cACzC;cAEA;cACA,IAAI,CAACT,KAAK,CAACrO,QAAQ,CAACA,QAAQ,EAAE,IAAI,CAAC8N,cAAc,CAACrN,QAAQ,CAAC;cAE3D;cAAA,KACIT,QAAQ,CAACiP,UAAU;gBAAA/O,SAAA,CAAA1C,CAAA;gBAAA;cAAA;cAAA0C,SAAA,CAAA1C,CAAA;cAAA,OACf,IAAI,CAAC0R,YAAY,EAAE;YAAA;cAAAhP,SAAA,CAAA1C,CAAA;cAAA;YAAA;cACpB,IAAIwC,QAAQ,CAACmP,YAAY,EAAE;gBAChC;gBACA,IAAI,CAACrB,cAAc,CAACS,iBAAiB,EAAE;cACzC;YAAC;cAAArO,SAAA,CAAA1C,CAAA;cAAA;YAAA;cAAA0C,SAAA,CAAA3C,CAAA;cAAAH,EAAA,GAAA8C,SAAA,CAAApC,CAAA;cAEDC,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAAZ,EAAO,CAAC;cAC3C,IAAI,CAACiR,KAAK,CAAC,yDAAyD,EAAE,IAAI,CAACP,cAAc,CAACrN,QAAQ,CAAC;YAAA;cAAA,OAAAP,SAAA,CAAArC,CAAA;UAAA;QAAA,GAAAiC,QAAA;MAAA,CAEtG;MAAA,SA5CKsP,iBAAiBA,CAAAjO,GAAA;QAAA,OAAAyN,kBAAA,CAAAvQ,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAjB8Q,iBAAiB;IAAA;IA8CvB;;;IAAA;EAAA;IAAA3S,GAAA;IAAAC,KAAA,EAGQ,SAAA0R,iBAAiBA,CAAC7O,IAAqB;MAAA,IAAA0H,KAAA;MAC7C,IAAMoI,YAAY,GAAG,IAAI,CAACtB,QAAQ,CAAClI,OAAO,EAAE;MAC5C,IAAMyJ,YAAY,GAAGD,YAAY,CAACnJ,KAAK,CAACoH,IAAI,CAAC,UAAAC,CAAC,EAAG;QAC/C,IAAMgC,MAAM,GAAG/P,QAAQ,CAACsK,cAAc,CAACyD,CAAC,CAAC9F,EAAE,CAAC;QAC5C,OAAO8H,MAAM,KAAKhQ,IAAI;MACxB,CAAC,CAAC;MAEF,IAAI+P,YAAY,EAAE;QAChB,OAAOA,YAAY;MACrB;MAEA;MACA,IAAMlI,MAAM,GAAG7F,KAAK,CAACC,IAAI,CAACjC,IAAI,CAACkC,gBAAgB,CAAC,yBAAyB,CAAC,CAAC,CACxEsG,MAAM,CAAC,UAAAnF,EAAE,EAAG;QACX,IAAMoF,KAAK,GAAGpF,EAAsB;QACpC,OAAOoF,KAAK,CAACC,IAAI,KAAK,QAAQ,IAAID,KAAK,CAACC,IAAI,KAAK,QAAQ,IAAID,KAAK,CAACC,IAAI,KAAK,QAAQ;MACtF,CAAC,CAAC,CACDf,GAAG,CAAC,UAACtE,EAAE,EAAEiB,CAAC;QAAA,OAAKoD,KAAI,CAACuI,iBAAiB,CAAC5M,EAAsB,EAAEiB,CAAC,CAAC;MAAA,EAAC;MAEpE,OAAO;QACL4D,EAAE,EAAElI,IAAI,CAACkI,EAAE,IAAI,QAAQ;QACvBxJ,MAAM,EAAEsB,IAAI,CAACtB,MAAM;QACnBmC,MAAM,EAAEb,IAAI,CAACa,MAAM;QACnBgH,MAAM,EAANA,MAAM;QACN9F,OAAO,EAAE,EAAE;QACXiG,SAAS,EAAE;OACZ;IACH;IAEA;;;EAAA;IAAA9K,GAAA;IAAAC,KAAA,EAGQ,SAAA8S,iBAAiBA,CAACvQ,OAAmE,EAAEkI,KAAa;MAC1G,IAAMkB,KAAK,GAAG,IAAI,CAACoH,cAAc,CAACxQ,OAAO,CAAC;MAC1C,IAAMsJ,WAAW,GAAGtJ,OAAO,CAACgK,YAAY,CAAC,aAAa,CAAC;MAEvD,OAAO;QACLxB,EAAE,EAAExI,OAAO,CAACwI,EAAE,aAAA7I,MAAA,CAAauI,KAAK,CAAE;QAClCgB,IAAI,EAAElJ,OAAO,CAACkJ,IAAI,IAAIlJ,OAAO,CAACwI,EAAE,aAAA7I,MAAA,CAAauI,KAAK,CAAE;QACpDc,IAAI,EAAE,IAAI,CAACG,YAAY,CAACnJ,OAAO,CAAC;QAChCoJ,KAAK,EAAEA,KAAK;QACZE,WAAW,EAAEA,WAAW;QACxBE,QAAQ,EAAExJ,OAAO,CAACiL,YAAY,CAAC,UAAU,CAAC;QAC1CxN,KAAK,EAAE,IAAI,CAACgT,aAAa,CAACzQ,OAAO,CAAC;QAClC2J,OAAO,EAAE,IAAI,CAAC+G,eAAe,CAAC1Q,OAAO,CAAC;QACtC6J,UAAU,EAAE,IAAI,CAAC8G,kBAAkB,CAAC3Q,OAAO;OAC5C;IACH;IAEA;;;EAAA;IAAAxC,GAAA;IAAAC,KAAA,EAGQ,SAAA+S,cAAcA,CAACxQ,OAAoB;MACzC,IAAIA,OAAO,CAACwI,EAAE,EAAE;QAAA,IAAAoI,kBAAA;QACd,IAAMxH,KAAK,GAAG7I,QAAQ,CAACC,aAAa,gBAAAb,MAAA,CAAeK,OAAO,CAACwI,EAAE,QAAI,CAAC;QAClE,IAAIY,KAAK,EAAE,OAAO,EAAAwH,kBAAA,GAAAxH,KAAK,CAACrG,WAAW,cAAA6N,kBAAA,uBAAjBA,kBAAA,CAAmBnS,IAAI,EAAE,KAAI,IAAI;MACrD;MAEA,IAAM2L,WAAW,GAAGpK,OAAO,CAACqK,OAAO,CAAC,OAAO,CAAC;MAC5C,IAAID,WAAW,EAAE;QAAA,IAAAyG,oBAAA,EAAAvG,kBAAA;QACf,IAAMC,KAAK,GAAGH,WAAW,CAACI,SAAS,CAAC,IAAI,CAAgB;QACxD,CAAAqG,oBAAA,GAAAtG,KAAK,CAAC/J,aAAa,CAAC,yBAAyB,CAAC,cAAAqQ,oBAAA,eAA9CA,oBAAA,CAAgDnG,MAAM,EAAE;QACxD,OAAO,EAAAJ,kBAAA,GAAAC,KAAK,CAACxH,WAAW,cAAAuH,kBAAA,uBAAjBA,kBAAA,CAAmB7L,IAAI,EAAE,KAAI,IAAI;MAC1C;MAEA,OAAOuB,OAAO,CAACgK,YAAY,CAAC,YAAY,CAAC,IAAIhK,OAAO,CAACgK,YAAY,CAAC,MAAM,CAAC,IAAI,IAAI;IACnF;IAEA;;;EAAA;IAAAxM,GAAA;IAAAC,KAAA,EAGQ,SAAA0L,YAAYA,CAACnJ,OAAoB;MACvC,IAAIA,OAAO,CAACyF,OAAO,KAAK,QAAQ,EAAE,OAAO,QAAQ;MACjD,IAAIzF,OAAO,CAACyF,OAAO,KAAK,UAAU,EAAE,OAAO,UAAU;MACrD,OAAQzF,OAA4B,CAACgJ,IAAI,IAAI,MAAM;IACrD;IAEA;;;EAAA;IAAAxL,GAAA;IAAAC,KAAA,EAGQ,SAAAgT,aAAaA,CAACzQ,OAAoB;MACxC,IAAIA,OAAO,CAACyF,OAAO,KAAK,QAAQ,EAAE;QAChC,OAAQzF,OAA6B,CAACvC,KAAK;MAC7C;MACA,IAAIuC,OAAO,CAACyF,OAAO,KAAK,UAAU,EAAE;QAClC,OAAQzF,OAA+B,CAACvC,KAAK;MAC/C;MACA,OAAQuC,OAA4B,CAACvC,KAAK,IAAI,EAAE;IAClD;IAEA;;;EAAA;IAAAD,GAAA;IAAAC,KAAA,EAGQ,SAAAiT,eAAeA,CAAC1Q,OAAoB;MAC1C,IAAIA,OAAO,CAACyF,OAAO,KAAK,QAAQ,EAAE;QAChC,OAAOnD,KAAK,CAACC,IAAI,CAAEvC,OAA6B,CAAC2J,OAAO,CAAC,CAAC1B,GAAG,CAAC,UAAAqD,GAAG;UAAA,OAAIA,GAAG,CAACnJ,IAAI;QAAA,EAAC;MAChF;MACA,OAAO,EAAE;IACX;IAEA;;;EAAA;IAAA3E,GAAA;IAAAC,KAAA,EAGQ,SAAAkT,kBAAkBA,CAAC3Q,OAAoB;MAC7C,IAAM6J,UAAU,GAAQ,EAAE;MAE1B,IAAI7J,OAAO,CAACiL,YAAY,CAAC,SAAS,CAAC,EAAE;QACnCpB,UAAU,CAAC2B,OAAO,GAAGxL,OAAO,CAACgK,YAAY,CAAC,SAAS,CAAC;MACtD;MACA,IAAIhK,OAAO,CAACiL,YAAY,CAAC,KAAK,CAAC,EAAE;QAC/BpB,UAAU,CAAC9E,GAAG,GAAG/E,OAAO,CAACgK,YAAY,CAAC,KAAK,CAAC;MAC9C;MACA,IAAIhK,OAAO,CAACiL,YAAY,CAAC,KAAK,CAAC,EAAE;QAC/BpB,UAAU,CAACpF,GAAG,GAAGzE,OAAO,CAACgK,YAAY,CAAC,KAAK,CAAC;MAC9C;MACA,IAAIhK,OAAO,CAACiL,YAAY,CAAC,WAAW,CAAC,EAAE;QACrCpB,UAAU,CAAC4B,SAAS,GAAGC,QAAQ,CAAC1L,OAAO,CAACgK,YAAY,CAAC,WAAW,CAAC,IAAI,GAAG,CAAC;MAC3E;MACA,IAAIhK,OAAO,CAACiL,YAAY,CAAC,WAAW,CAAC,EAAE;QACrCpB,UAAU,CAAC8B,SAAS,GAAGD,QAAQ,CAAC1L,OAAO,CAACgK,YAAY,CAAC,WAAW,CAAC,IAAI,GAAG,CAAC;MAC3E;MAEA,OAAO4B,MAAM,CAACC,IAAI,CAAChC,UAAU,CAAC,CAAClH,MAAM,GAAG,CAAC,GAAGkH,UAAU,GAAGzF,SAAS;IACpE;IAEA;;;EAAA;IAAA5G,GAAA;IAAAC,KAAA;MAAA,IAAAqT,eAAA,GAAAnT,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGQ,SAAAoH,SAAqB+J,MAAqB;QAAA,IAAA+B,SAAA,EAAAC,KAAA,EAAA/H,KAAA,EAAAgI,oBAAA,EAAAlQ,QAAA,EAAAmQ,cAAA,EAAA7L,GAAA,EAAA8L,GAAA;QAAA,OAAAvT,YAAA,GAAAQ,CAAA,WAAAkH,SAAA;UAAA,kBAAAA,SAAA,CAAAhH,CAAA,GAAAgH,SAAA,CAAA/G,CAAA;YAAA;cAAAwS,SAAA,GAAAK,0BAAA,CAC5BpC,MAAM,CAAC7G,MAAM;cAAA7C,SAAA,CAAAhH,CAAA;cAAAyS,SAAA,CAAAM,CAAA;YAAA;cAAA,KAAAL,KAAA,GAAAD,SAAA,CAAAxS,CAAA,IAAA+S,IAAA;gBAAAhM,SAAA,CAAA/G,CAAA;gBAAA;cAAA;cAAtB0K,KAAK,GAAA+H,KAAA,CAAAvT,KAAA;cAAA6H,SAAA,CAAAhH,CAAA;cAAAgH,SAAA,CAAA/G,CAAA;cAAA,OAEW2C,KAAK,IAAAvB,MAAA,CAAI,IAAI,CAACtC,WAAW,sBAAmB;gBACjE8D,MAAM,EAAE,MAAM;gBACdC,OAAO,EAAE;kBAAE,cAAc,EAAE;gBAAkB,CAAE;gBAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;kBACnBgQ,YAAY,EAAE;oBACZnI,KAAK,EAAEH,KAAK,CAACG,KAAK;oBAClBE,WAAW,EAAEL,KAAK,CAACK,WAAW;oBAC9BJ,IAAI,EAAED,KAAK,CAACC,IAAI;oBAChBF,IAAI,EAAEC,KAAK,CAACD,IAAI;oBAChBe,SAAS,EAAEd,KAAK,CAACc,SAAS;oBAC1BJ,OAAO,EAAEV,KAAK,CAACU,OAAO;oBACtBE,UAAU,EAAEZ,KAAK,CAACY;mBACnB;kBACDrI,QAAQ,GAAAyP,oBAAA,GAAE,IAAI,CAACpC,cAAc,cAAAoC,oBAAA,uBAAnBA,oBAAA,CAAqBzP;iBAChC;eACF,CAAC;YAAA;cAfIT,QAAQ,GAAAuE,SAAA,CAAAzG,CAAA;cAAA,KAiBVkC,QAAQ,CAACgB,EAAE;gBAAAuD,SAAA,CAAA/G,CAAA;gBAAA;cAAA;cAAA+G,SAAA,CAAA/G,CAAA;cAAA,OACgBwC,QAAQ,CAACkB,IAAI,EAAE;YAAA;cAAtCiP,cAAc,GAAA5L,SAAA,CAAAzG,CAAA;cAElBoK,KAAa,CAACuI,gBAAgB,GAAGN,cAAc;YAAA;cAAA5L,SAAA,CAAA/G,CAAA;cAAA;YAAA;cAAA+G,SAAA,CAAAhH,CAAA;cAAA+G,GAAA,GAAAC,SAAA,CAAAzG,CAAA;cAGnDC,OAAO,CAACC,KAAK,CAAC,8BAA8B,EAAAsG,GAAO,CAAC;YAAA;cAAAC,SAAA,CAAA/G,CAAA;cAAA;YAAA;cAAA+G,SAAA,CAAA/G,CAAA;cAAA;YAAA;cAAA+G,SAAA,CAAAhH,CAAA;cAAA6S,GAAA,GAAA7L,SAAA,CAAAzG,CAAA;cAAAkS,SAAA,CAAAU,CAAA,CAAAN,GAAA;YAAA;cAAA7L,SAAA,CAAAhH,CAAA;cAAAyS,SAAA,CAAAzC,CAAA;cAAA,OAAAhJ,SAAA,CAAAgJ,CAAA;YAAA;cAAA,OAAAhJ,SAAA,CAAA1G,CAAA;UAAA;QAAA,GAAAqG,QAAA;MAAA,CAGzD;MAAA,SA7BauK,cAAcA,CAAArJ,GAAA;QAAA,OAAA2K,eAAA,CAAA1R,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAdmQ,cAAc;IAAA;IA+B5B;;;IAAA;EAAA;IAAAhS,GAAA;IAAAC,KAAA;MAAA,IAAAiU,aAAA,GAAA/T,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGQ,SAAA8T,SAAA;QAAA,IAAA1I,KAAA,EAAA2I,QAAA;QAAA,OAAAhU,YAAA,GAAAQ,CAAA,WAAAyT,SAAA;UAAA,kBAAAA,SAAA,CAAAtT,CAAA;YAAA;cAAA,IACD,IAAI,CAACsQ,cAAc;gBAAAgD,SAAA,CAAAtT,CAAA;gBAAA;cAAA;cAAA,OAAAsT,SAAA,CAAAjT,CAAA;YAAA;cAElBqK,KAAK,GAAG,IAAI,CAAC4F,cAAc,CAACG,MAAM,CAAC7G,MAAM,CAAC,IAAI,CAAC0G,cAAc,CAACS,iBAAiB,CAAC;cAAA,IACjFrG,KAAK;gBAAA4I,SAAA,CAAAtT,CAAA;gBAAA;cAAA;cAAA,OAAAsT,SAAA,CAAAjT,CAAA;YAAA;cAEJgT,QAAQ,GAAG,IAAI,CAACE,gBAAgB,CAAC7I,KAAK,CAAC;cAC7C,IAAI,CAACmG,KAAK,CAACwC,QAAQ,EAAE,IAAI,CAAC/C,cAAc,CAACrN,QAAQ,CAAC;YAAA;cAAA,OAAAqQ,SAAA,CAAAjT,CAAA;UAAA;QAAA,GAAA+S,QAAA;MAAA,CACnD;MAAA,SARalC,YAAYA,CAAA;QAAA,OAAAiC,aAAA,CAAAtS,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAZoQ,YAAY;IAAA;IAU1B;;;IAAA;EAAA;IAAAjS,GAAA;IAAAC,KAAA,EAGQ,SAAAqU,gBAAgBA,CAAC7I,KAAgB;MAAA,IAAA8I,qBAAA;MACvC,IAAM9D,IAAI,GAAG,EAAA8D,qBAAA,OAAI,CAAClD,cAAc,cAAAkD,qBAAA,uBAAnBA,qBAAA,CAAqBvQ,QAAQ,KAAI,OAAO;MAErD,IAAIyM,IAAI,KAAK,OAAO,EAAE;QACpB,IAAIhF,KAAK,CAACD,IAAI,KAAK,QAAQ,IAAIC,KAAK,CAACU,OAAO,CAAChH,MAAM,GAAG,CAAC,EAAE;UACvD,yCAAAhD,MAAA,CAAgBsJ,KAAK,CAACG,KAAK,IAAIH,KAAK,CAACC,IAAI,uCAAAvJ,MAAA,CAAWsJ,KAAK,CAACU,OAAO,CAACqI,IAAI,CAAC,IAAI,CAAC;QAC9E;QACA,yCAAArS,MAAA,CAAgBsJ,KAAK,CAACG,KAAK,IAAIH,KAAK,CAACC,IAAI,qCAAAvJ,MAAA,CAASsJ,KAAK,CAACO,QAAQ,GAAG,cAAc,GAAG,EAAE;MACxF,CAAC,MAAM;QACL,IAAIP,KAAK,CAACD,IAAI,KAAK,QAAQ,IAAIC,KAAK,CAACU,OAAO,CAAChH,MAAM,GAAG,CAAC,EAAE;UACvD,wBAAAhD,MAAA,CAAwBsJ,KAAK,CAACG,KAAK,IAAIH,KAAK,CAACC,IAAI,QAAAvJ,MAAA,CAAKsJ,KAAK,CAACU,OAAO,CAACqI,IAAI,CAAC,IAAI,CAAC;QAChF;QACA,8BAAArS,MAAA,CAA8BsJ,KAAK,CAACG,KAAK,IAAIH,KAAK,CAACC,IAAI,EAAAvJ,MAAA,CAAGsJ,KAAK,CAACO,QAAQ,GAAG,aAAa,GAAG,EAAE;MAC/F;IACF;IAEA;;;EAAA;IAAAhM,GAAA;IAAAC,KAAA;MAAA,IAAAwU,WAAA,GAAAtU,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGQ,SAAAqU,SAAiBlU,UAAkB;QAAA,IAAA+C,QAAA;QAAA,OAAAnD,YAAA,GAAAQ,CAAA,WAAA+T,SAAA;UAAA,kBAAAA,SAAA,CAAA5T,CAAA;YAAA;cAAA,IACpC,IAAI,CAACsQ,cAAc;gBAAAsD,SAAA,CAAA5T,CAAA;gBAAA;cAAA;cAAA,MAChB,IAAIyD,KAAK,CAAC,mBAAmB,CAAC;YAAA;cAAAmQ,SAAA,CAAA5T,CAAA;cAAA,OAGf2C,KAAK,IAAAvB,MAAA,CAAI,IAAI,CAACtC,WAAW,qBAAkB;gBAChE8D,MAAM,EAAE,MAAM;gBACdC,OAAO,EAAE;kBAAE,cAAc,EAAE;gBAAkB,CAAE;gBAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;kBACnBgO,YAAY,EAAE,IAAI,CAACV,cAAc,CAACU,YAAY,CAACtH,GAAG,CAAC,UAAAmK,GAAG;oBAAA,OAAK;sBACzDpF,IAAI,EAAEoF,GAAG,CAACpF,IAAI;sBACd3F,OAAO,EAAE+K,GAAG,CAAC/K;qBACd;kBAAA,CAAC,CAAC;kBACHgL,UAAU,EAAE,IAAI,CAACxD,cAAc,CAACG,MAAM;kBACtCK,aAAa,EAAE,IAAI,CAACR,cAAc,CAACQ,aAAa;kBAChD7N,QAAQ,EAAE,IAAI,CAACqN,cAAc,CAACrN;iBAC/B;eACF,CAAC;YAAA;cAZIT,QAAQ,GAAAoR,SAAA,CAAAtT,CAAA;cAAA,IAcTkC,QAAQ,CAACgB,EAAE;gBAAAoQ,SAAA,CAAA5T,CAAA;gBAAA;cAAA;cAAA,MACR,IAAIyD,KAAK,CAAC,2BAA2B,CAAC;YAAA;cAAAmQ,SAAA,CAAA5T,CAAA;cAAA,OAGjCwC,QAAQ,CAACkB,IAAI,EAAE;YAAA;cAAA,OAAAkQ,SAAA,CAAAvT,CAAA,IAAAuT,SAAA,CAAAtT,CAAA;UAAA;QAAA,GAAAqT,QAAA;MAAA,CAC7B;MAAA,SAxBatC,UAAUA,CAAA0C,GAAA;QAAA,OAAAL,WAAA,CAAA7S,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAVuQ,UAAU;IAAA;IA0BxB;;;IAAA;EAAA;IAAApS,GAAA;IAAAC,KAAA,EAGQ,SAAAsS,UAAUA,CAACwC,IAAyB;MAAA,IAAA3J,MAAA;MAC1C,IAAI,CAAC,IAAI,CAACiG,cAAc,EAAE;MAAM,IAAA2D,KAAA,YAAAA,MAAA,EAEiB;QAA5C,IAAAC,kBAAA,GAAAC,cAAA,CAAAC,eAAA,CAAAlQ,EAAA;UAAOjF,GAAG,GAAAiV,kBAAA;UAAEhV,KAAK,GAAAgV,kBAAA;QACpB,IAAMxJ,KAAK,GAAGL,MAAI,CAACiG,cAAc,CAACG,MAAM,CAAC7G,MAAM,CAACkG,IAAI,CAAC,UAAAC,CAAC;UAAA,IAAAsE,QAAA;UAAA,OACpDtE,CAAC,CAACpF,IAAI,KAAK1L,GAAG,IAAI8Q,CAAC,CAAC9F,EAAE,KAAKhL,GAAG,IAAI,EAAAoV,QAAA,GAAAtE,CAAC,CAAClF,KAAK,cAAAwJ,QAAA,uBAAPA,QAAA,CAASpU,WAAW,EAAE,MAAKhB,GAAG,CAACgB,WAAW,EAAE;QAAA,EAC/E;QAED,IAAIyK,KAAK,EAAE;UACT,IAAMjJ,OAAO,GAAG4I,MAAI,CAACiG,cAAc,CAACvO,IAAI,CAACE,aAAa,YAAAb,MAAA,CAC1CsJ,KAAK,CAACC,IAAI,YAAAvJ,MAAA,CAAQsJ,KAAK,CAACT,EAAE,CAAE,CACuB;UAE/D,IAAIxI,OAAO,EAAE;YACX,IAAIA,OAAO,CAACyF,OAAO,KAAK,QAAQ,EAAE;cAC/BzF,OAA6B,CAACvC,KAAK,GAAGA,KAAK;YAC9C,CAAC,MAAM,IAAIuC,OAAO,CAACyF,OAAO,KAAK,UAAU,EAAE;cACxCzF,OAA+B,CAACvC,KAAK,GAAGA,KAAK;YAChD,CAAC,MAAM;cACL,IAAMsL,KAAK,GAAG/I,OAA2B;cACzC,IAAI+I,KAAK,CAACC,IAAI,KAAK,UAAU,IAAID,KAAK,CAACC,IAAI,KAAK,OAAO,EAAE;gBACvDD,KAAK,CAACqC,OAAO,GAAG,CAAC,CAAC3N,KAAK;cACzB,CAAC,MAAM;gBACLsL,KAAK,CAACtL,KAAK,GAAGA,KAAK;cACrB;YACF;YAEA;YACAuC,OAAO,CAAC+F,aAAa,CAAC,IAAI8M,KAAK,CAAC,QAAQ,EAAE;cAAEC,OAAO,EAAE;YAAI,CAAE,CAAC,CAAC;YAC7D9S,OAAO,CAAC+F,aAAa,CAAC,IAAI8M,KAAK,CAAC,OAAO,EAAE;cAAEC,OAAO,EAAE;YAAI,CAAE,CAAC,CAAC;UAC9D;QACF;MACF,CAAC;MA7BD,SAAArQ,EAAA,MAAAkQ,eAAA,GAA2B/G,MAAM,CAACmH,OAAO,CAACR,IAAI,CAAC,EAAA9P,EAAA,GAAAkQ,eAAA,CAAAhQ,MAAA,EAAAF,EAAA;QAAA+P,KAAA;MAAA;IA8BjD;IAEA;;;EAAA;IAAAhV,GAAA;IAAAC,KAAA;MAAA,IAAAuV,aAAA,GAAArV,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGQ,SAAAoV,SAAA;QAAA,IAAAhF,IAAA,EAAAiF,OAAA,EAAA/N,KAAA;QAAA,OAAAvH,YAAA,GAAAQ,CAAA,WAAA+U,SAAA;UAAA,kBAAAA,SAAA,CAAA5U,CAAA;YAAA;cAAA,IACD,IAAI,CAACsQ,cAAc;gBAAAsE,SAAA,CAAA5U,CAAA;gBAAA;cAAA;cAAA,OAAA4U,SAAA,CAAAvU,CAAA;YAAA;cAElBqP,IAAI,GAAG,IAAI,CAACY,cAAc,CAACrN,QAAQ;cACnC0R,OAAO,GAAGjF,IAAI,KAAK,OAAO,GAC5B,yDAAyD,GACzD,gDAAgD;cAEpD,IAAI,CAACmB,KAAK,CAAC8D,OAAO,EAAEjF,IAAI,CAAC;cAEzB,IAAI,IAAI,CAACmF,cAAc,EAAE;gBACvB,IAAI,CAACA,cAAc,CAAC,IAAI,CAACvE,cAAc,CAACQ,aAAa,CAAC;cACxD;cAEA;cACMlK,KAAK,GAAG,IAAIU,WAAW,CAAC,mBAAmB,EAAE;gBACjDC,MAAM,EAAE;kBACNxF,IAAI,EAAE,IAAI,CAACuO,cAAc,CAACvO,IAAI;kBAC9BiS,IAAI,EAAE,IAAI,CAAC1D,cAAc,CAACQ;;eAE7B,CAAC;cACF9O,QAAQ,CAACwF,aAAa,CAACZ,KAAK,CAAC;YAAA;cAAA,OAAAgO,SAAA,CAAAvU,CAAA;UAAA;QAAA,GAAAqU,QAAA;MAAA,CAC9B;MAAA,SAtBahD,YAAYA,CAAA;QAAA,OAAA+C,aAAA,CAAA5T,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAZ4Q,YAAY;IAAA;IAwB1B;;;IAAA;EAAA;IAAAzS,GAAA;IAAAC,KAAA,EAGA,SAAA4V,UAAUA,CAAA;MACR,IAAI,CAAC,IAAI,CAACxE,cAAc,EAAE;MAE1B,IAAMpO,SAAS,GAAG,IAAI,CAACoO,cAAc,CAACvO,IAAI,CAACE,aAAa,CACtD,6CAA6C,CACN;MAEzC,IAAIC,SAAS,EAAE;QACbA,SAAS,CAAC+E,KAAK,EAAE;MACnB,CAAC,MAAM;QACL,IAAI,CAACqJ,cAAc,CAACvO,IAAI,CAACgT,MAAM,EAAE;MACnC;IACF;IAEA;;;EAAA;IAAA9V,GAAA;IAAAC,KAAA,EAGA,SAAA8V,iBAAiBA,CAAA;MACf,IAAI,CAAC1E,cAAc,GAAG,IAAI;IAC5B;IAEA;;;EAAA;IAAArR,GAAA;IAAAC,KAAA,EAGQ,SAAA2R,KAAKA,CAACjN,IAAY,EAAEX,QAAgB;MAC1C,IAAI,IAAI,CAACoN,OAAO,EAAE;QAChB,IAAI,CAACA,OAAO,CAACzM,IAAI,CAAC;MACpB;MACArD,OAAO,CAACmH,GAAG,CAAC,yBAAyB,EAAE9D,IAAI,CAAC;IAC9C;IAEA;;;EAAA;IAAA3E,GAAA;IAAAC,KAAA,EAGA,SAAA+V,UAAUA,CAACC,QAA6C;MACtD,IAAI,CAACL,cAAc,GAAGK,QAAQ;IAChC;IAEA;;;EAAA;IAAAjW,GAAA;IAAAC,KAAA,EAGA,SAAAiW,cAAcA,CAAA;MACZ,OAAO,IAAI,CAAC7E,cAAc;IAC5B;EAAC;AAAA,I;;;;;;;;;;;;;;;;;;;;;ACzcH;;;;AAYA,IAAa8E,aAAa;EAGxB,SAAAA,cAAA;IAAArW,eAAA,OAAAqW,aAAA;IAFQ,KAAAC,MAAM,GAAsB,EAAE;IAGpC,IAAI,CAACC,gBAAgB,EAAE;EACzB;EAEA;;;EAAA,OAAAtW,YAAA,CAAAoW,aAAA;IAAAnW,GAAA;IAAAC,KAAA,EAGQ,SAAAoW,gBAAgBA,CAAA;MACtB,IAAI,CAACD,MAAM,GAAG,CACZ;QACEE,IAAI,EAAE,GAAG;QACTC,QAAQ,EAAE,CAAC,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,OAAO,EAAE,SAAS,CAAC;QAC/DC,OAAO,EAAE,CAAC,WAAW,EAAE,MAAM,CAAC;QAC9BC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,WAAW;QACjBC,QAAQ,EAAE,CAAC,OAAO,EAAE,UAAU,EAAE,eAAe,EAAE,SAAS,EAAE,YAAY,EAAE,MAAM,CAAC;QACjFC,OAAO,EAAE,CAAC,YAAY,EAAE,cAAc,EAAE,aAAa,EAAE,UAAU,CAAC;QAClEC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,UAAU;QAChBC,QAAQ,EAAE,CAAC,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,cAAc,EAAE,UAAU,CAAC;QAC3EC,OAAO,EAAE,CAAC,cAAc,EAAE,eAAe,EAAE,oBAAoB,EAAE,OAAO,CAAC;QACzEC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE,CAAC,SAAS,EAAE,YAAY,EAAE,cAAc,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,CAAC;QAClFC,OAAO,EAAE,CAAC,cAAc,EAAE,cAAc,EAAE,kBAAkB,CAAC;QAC7DC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,YAAY;QAClBC,QAAQ,EAAE,CAAC,WAAW,EAAE,UAAU,EAAE,UAAU,EAAE,WAAW,EAAE,eAAe,CAAC;QAC7EC,OAAO,EAAE,CAAC,eAAe,EAAE,cAAc,CAAC;QAC1CC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE,CAAC,YAAY,EAAE,WAAW,EAAE,SAAS,EAAE,cAAc,EAAE,SAAS,CAAC;QAC3EC,OAAO,EAAE,CAAC,kBAAkB,EAAE,gBAAgB,EAAE,eAAe,CAAC;QAChEC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,kBAAkB;QACxBC,QAAQ,EAAE,CAAC,SAAS,EAAE,aAAa,EAAE,iBAAiB,EAAE,kBAAkB,EAAE,UAAU,CAAC;QACvFC,OAAO,EAAE,CAAC,iBAAiB,EAAE,qBAAqB,CAAC;QACnDC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,sBAAsB;QAC5BC,QAAQ,EAAE,CAAC,KAAK,EAAE,sBAAsB,EAAE,kBAAkB,EAAE,aAAa,CAAC;QAC5EC,OAAO,EAAE,CAAC,iBAAiB,EAAE,UAAU,CAAC;QACxCC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,yCAAyC;QAC/CC,QAAQ,EAAE,CAAC,wBAAwB,EAAE,kBAAkB,EAAE,qBAAqB,EAAE,aAAa,CAAC;QAC9FC,OAAO,EAAE,CAAC,yBAAyB,EAAE,oBAAoB,CAAC;QAC1DC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,iBAAiB;QACvBC,QAAQ,EAAE,CAAC,SAAS,EAAE,gBAAgB,EAAE,iBAAiB,EAAE,mBAAmB,CAAC;QAC/EC,OAAO,EAAE,CAAC,cAAc,EAAE,eAAe,CAAC;QAC1CC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,uBAAuB;QAC7BC,QAAQ,EAAE,CAAC,OAAO,EAAE,sBAAsB,EAAE,kBAAkB,EAAE,KAAK,EAAE,aAAa,CAAC;QACrFC,OAAO,EAAE,CAAC,cAAc,EAAE,eAAe,CAAC;QAC1CC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,eAAe;QACrBC,QAAQ,EAAE,CAAC,OAAO,EAAE,cAAc,EAAE,UAAU,EAAE,YAAY,EAAE,gBAAgB,CAAC;QAC/EC,OAAO,EAAE,CAAC,iBAAiB,EAAE,mBAAmB,CAAC;QACjDC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,YAAY;QAClBC,QAAQ,EAAE,CAAC,WAAW,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,aAAa,CAAC;QACrEC,OAAO,EAAE,CAAC,mBAAmB,EAAE,aAAa,CAAC;QAC7CC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,OAAO;QACbC,QAAQ,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,eAAe,EAAE,aAAa,CAAC;QACrEC,OAAO,EAAE,CAAC,WAAW,EAAE,cAAc,EAAE,YAAY,CAAC;QACpDC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,cAAc;QACpBC,QAAQ,EAAE,CAAC,aAAa,EAAE,cAAc,EAAE,SAAS,EAAE,SAAS,EAAE,YAAY,CAAC;QAC7EC,OAAO,EAAE,CAAC,kBAAkB,EAAE,cAAc,CAAC;QAC7CC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,WAAW;QACjBC,QAAQ,EAAE,CAAC,UAAU,EAAE,OAAO,EAAE,aAAa,EAAE,YAAY,EAAE,aAAa,CAAC;QAC3EC,OAAO,EAAE,CAAC,eAAe,EAAE,kBAAkB,CAAC;QAC9CC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,4BAA4B;QAClCC,QAAQ,EAAE,CAAC,iBAAiB,EAAE,mBAAmB,EAAE,cAAc,EAAE,iBAAiB,CAAC;QACrFC,OAAO,EAAE,CAAC,eAAe,EAAE,eAAe,CAAC;QAC3CC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,yBAAyB;QAC/BC,QAAQ,EAAE,CAAC,cAAc,EAAE,iBAAiB,EAAE,kBAAkB,EAAE,YAAY,CAAC;QAC/EC,OAAO,EAAE,CAAC,uBAAuB,EAAE,WAAW,CAAC;QAC/CC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,6BAA6B;QACnCC,QAAQ,EAAE,CAAC,cAAc,EAAE,kBAAkB,EAAE,UAAU,EAAE,gBAAgB,CAAC;QAC5EC,OAAO,EAAE,CAAC,cAAc,EAAE,sBAAsB,CAAC;QACjDC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,2BAA2B;QACjCC,QAAQ,EAAE,CAAC,KAAK,EAAE,gBAAgB,EAAE,sBAAsB,EAAE,eAAe,EAAE,oBAAoB,CAAC;QAClGC,OAAO,EAAE,CAAC,YAAY,EAAE,cAAc,CAAC;QACvCC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,uBAAuB;QAC7BC,QAAQ,EAAE,CAAC,YAAY,EAAE,WAAW,EAAE,SAAS,EAAE,yBAAyB,CAAC;QAC3EC,OAAO,EAAE,CAAC,eAAe,EAAE,iCAAiC,CAAC;QAC7DC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,0CAA0C;QAChDC,QAAQ,EAAE,CAAC,YAAY,EAAE,UAAU,EAAE,gBAAgB,EAAE,cAAc,EAAE,YAAY,CAAC;QACpFC,OAAO,EAAE,CAAC,sBAAsB,EAAE,qBAAqB,CAAC;QACxDC,QAAQ,EAAE;OACX,EACD;QACEH,IAAI,EAAE,4BAA4B;QAClCC,QAAQ,EAAE,CAAC,WAAW,EAAE,iBAAiB,EAAE,KAAK,EAAE,KAAK,EAAE,eAAe,EAAE,MAAM,CAAC;QACjFC,OAAO,EAAE,CAAC,WAAW,EAAE,gBAAgB,EAAE,UAAU,CAAC;QACpDC,QAAQ,EAAE;OACX,CACF;IACH;IAEA;;;EAAA;IAAAzW,GAAA;IAAAC,KAAA,EAGA,SAAAyW,SAASA,CAACC,WAAmB;MAC3B,IAAMC,SAAS,GAAGD,WAAW,CAAC3V,WAAW,EAAE,CAACC,IAAI,EAAE;MAElD,IAAI,CAAC2V,SAAS,EAAE,OAAO,IAAI;MAE3B;MACA,IAAMC,YAAY,GAAG,IAAI,CAACT,MAAM,CAAC3L,GAAG,CAAC,UAAAqM,KAAK,EAAG;QAAA,IAAAC,cAAA,EAAAC,eAAA,EAAAC,eAAA;QAC3C,IAAIC,KAAK,GAAG,CAAC;QAEb;QACA,IAAIJ,KAAK,CAACP,QAAQ,CAACY,IAAI,CAAC,UAAAC,OAAO;UAAA,OAAIA,OAAO,KAAKR,SAAS;QAAA,EAAC,EAAE;UACzDM,KAAK,IAAI,GAAG;QACd;QAEA;QACA,KAAAH,cAAA,GAAID,KAAK,CAACN,OAAO,cAAAO,cAAA,eAAbA,cAAA,CAAeI,IAAI,CAAC,UAAAE,KAAK;UAAA,OAAIA,KAAK,KAAKT,SAAS;QAAA,EAAC,EAAE;UACrDM,KAAK,IAAI,EAAE;QACb;QAEA;QACA,IAAIJ,KAAK,CAACP,QAAQ,CAACY,IAAI,CAAC,UAAAC,OAAO;UAAA,OAAIA,OAAO,CAACpV,QAAQ,CAAC4U,SAAS,CAAC;QAAA,EAAC,EAAE;UAC/DM,KAAK,IAAI,EAAE;QACb;QAEA;QACA,IAAIJ,KAAK,CAACP,QAAQ,CAACY,IAAI,CAAC,UAAAC,OAAO;UAAA,OAAIR,SAAS,CAAC5U,QAAQ,CAACoV,OAAO,CAAC;QAAA,EAAC,EAAE;UAC/DF,KAAK,IAAI,EAAE;QACb;QAEA;QACA,KAAAF,eAAA,GAAIF,KAAK,CAACN,OAAO,cAAAQ,eAAA,eAAbA,eAAA,CAAeG,IAAI,CAAC,UAAAE,KAAK;UAAA,OAAIA,KAAK,CAACrV,QAAQ,CAAC4U,SAAS,CAAC;QAAA,EAAC,EAAE;UAC3DM,KAAK,IAAI,EAAE;QACb;QAEA;QACA,KAAAD,eAAA,GAAIH,KAAK,CAACN,OAAO,cAAAS,eAAA,eAAbA,eAAA,CAAeE,IAAI,CAAC,UAAAE,KAAK;UAAA,OAAIT,SAAS,CAAC5U,QAAQ,CAACqV,KAAK,CAAC;QAAA,EAAC,EAAE;UAC3DH,KAAK,IAAI,EAAE;QACb;QAEA;QACA,IAAMI,QAAQ,GAAGR,KAAK,CAACR,IAAI,CAACiB,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,EAAE,IAAI,EAAE;QAClD,IAAIF,QAAQ,IAAIV,SAAS,CAAC5U,QAAQ,CAACsV,QAAQ,CAAC,EAAE;UAC5CJ,KAAK,IAAI,EAAE;QACb;QAEA;QACA,IAAIJ,KAAK,CAACL,QAAQ,EAAE;UAClBS,KAAK,IAAK,CAAC,GAAIJ,KAAK,CAACL,QAAQ,GAAG,EAAI;QACtC;QAEA,OAAO;UAAEK,KAAK,EAALA,KAAK;UAAEI,KAAK,EAALA;QAAK,CAAE;MACzB,CAAC,CAAC;MAEF;MACAL,YAAY,CAACY,IAAI,CAAC,UAACrW,CAAC,EAAEsW,CAAC;QAAA,OAAKA,CAAC,CAACR,KAAK,GAAG9V,CAAC,CAAC8V,KAAK;MAAA,EAAC;MAE9C;MACA,IAAMS,SAAS,GAAGd,YAAY,CAAC,CAAC,CAAC;MACjC,IAAIc,SAAS,IAAIA,SAAS,CAACT,KAAK,GAAG,EAAE,EAAE;QACrC,OAAOS,SAAS,CAACb,KAAK;MACxB;MAEA,OAAO,IAAI;IACb;IAEA;;;EAAA;IAAA9W,GAAA;IAAAC,KAAA,EAGA,SAAA2X,YAAYA,CAAA;MACV,OAAO,IAAI,CAACxB,MAAM;IACpB;IAEA;;;EAAA;IAAApW,GAAA;IAAAC,KAAA,EAGA,SAAA4X,cAAcA,CAACvB,IAAY;MACzB,OAAO,IAAI,CAACF,MAAM,CAACvF,IAAI,CAAC,UAAAiH,CAAC;QAAA,OAAIA,CAAC,CAACxB,IAAI,KAAKA,IAAI;MAAA,EAAC,IAAI,IAAI;IACvD;IAEA;;;EAAA;IAAAtW,GAAA;IAAAC,KAAA,EAGA,SAAA8X,QAAQA,CAACjB,KAAsB;MAC7B,IAAI,CAACV,MAAM,CAAC7G,IAAI,CAACuH,KAAK,CAAC;IACzB;IAEA;;;EAAA;IAAA9W,GAAA;IAAAC,KAAA,EAGA,SAAA+X,QAAQA,CAAC1B,IAAY,EAAE2B,OAAgB;MACrC,IAAMC,IAAI,GAAGD,OAAO,IAAI7T,MAAM,CAACC,QAAQ,CAAC8T,MAAM;MAC9C,UAAAhW,MAAA,CAAU+V,IAAI,EAAA/V,MAAA,CAAGmU,IAAI;IACvB;EAAC;AAAA,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpQH;;;;AAKwD;AACM;AACnB;AAc3C,IAAa8B,cAAc;EAYzB,SAAAA,eAAYC,MAA4B;IAAA,IAAA7N,KAAA;IAAA1K,eAAA,OAAAsY,cAAA;IANhC,KAAAE,SAAS,GAAoC,IAAI;IACjD,KAAAC,WAAW,GAAY,KAAK;IAC5B,KAAAC,QAAQ,GAAY,KAAK;IACzB,KAAAC,cAAc,GAAoC,IAAIC,GAAG,EAAE;IAC3D,KAAAC,kBAAkB,GAAuB,IAAI;IAGnD,IAAI,CAACN,MAAM,GAAAO,aAAA;MACT5U,QAAQ,EAAE,OAA4B;MACtC6U,cAAc,EAAE,IAAI;MACpBC,SAAS,EAAE;IAAK,GACbT,MAAM,CACV;IAED;IACA,IAAI,CAAC,IAAI,CAACA,MAAM,CAACxY,WAAW,EAAE;MAC5B,MAAM,IAAI2E,KAAK,CAAC,iDAAiD,CAAC;IACpE;IAEA,IAAI,CAAC8M,QAAQ,GAAG,IAAInI,qDAAW,EAAE;IACjC,IAAI,CAAC4P,aAAa,GAAG,IAAInZ,yDAAa,CAAC,IAAI,CAACyY,MAAM,CAACxY,WAAY,CAAC;IAChE,IAAI,CAACmZ,WAAW,GAAG,IAAI7H,qDAAW,CAAC,IAAI,CAACkH,MAAM,CAACxY,WAAY,EAAE,UAAC8E,IAAI;MAAA,OAAK6F,KAAI,CAACoH,KAAK,CAACjN,IAAI,CAAC;IAAA,EAAC;IAExF,IAAI,CAACsU,gBAAgB,EAAE;IACvB,IAAI,CAACC,mBAAmB,EAAE;IAE1B,IAAI,IAAI,CAACb,MAAM,CAACS,SAAS,EAAE;MACzB,IAAI,CAACK,KAAK,EAAE;IACd;EACF;EAEA;;;EAAA,OAAApZ,YAAA,CAAAqY,cAAA;IAAApY,GAAA;IAAAC,KAAA,EAGQ,SAAAgZ,gBAAgBA,CAAA;MAAA,IAAA7N,MAAA;MACtB;MACA,IAAMgO,iBAAiB,GAAIhV,MAAc,CAACgV,iBAAiB,IAAKhV,MAAc,CAACiV,uBAAuB;MAEtG,IAAI,CAACD,iBAAiB,EAAE;QACtB9X,OAAO,CAACC,KAAK,CAAC,kDAAkD,CAAC;QACjE;MACF;MAEA,IAAI,CAAC+X,WAAW,GAAG,IAAIF,iBAAiB,EAAE;MAC1C,IAAI,CAACE,WAAW,CAACC,UAAU,GAAG,IAAI;MAClC,IAAI,CAACD,WAAW,CAACE,cAAc,GAAG,KAAK;MACvC,IAAI,CAACF,WAAW,CAAC7I,IAAI,GAAG,IAAI,CAAC4H,MAAM,CAACrU,QAAQ;MAE5C,IAAI,CAACsV,WAAW,CAACG,OAAO,GAAG,YAAK;QAC9BrO,MAAI,CAACmN,WAAW,GAAG,IAAI;QACvBnN,MAAI,CAACsO,IAAI,CAAC,WAAW,EAAE;UAAEC,SAAS,EAAE;QAAI,CAAE,CAAC;QAC3CrY,OAAO,CAACmH,GAAG,CAAC,8BAA8B,CAAC;MAC7C,CAAC;MAED,IAAI,CAAC6Q,WAAW,CAACM,KAAK,GAAG,YAAK;QAC5BxO,MAAI,CAACmN,WAAW,GAAG,KAAK;QACxBnN,MAAI,CAACsO,IAAI,CAAC,WAAW,EAAE;UAAEC,SAAS,EAAE;QAAK,CAAE,CAAC;QAE5C;QACA,IAAIvO,MAAI,CAACoN,QAAQ,EAAE;UACjBqB,UAAU,CAAC,YAAK;YACd,IAAIzO,MAAI,CAACoN,QAAQ,EAAE;cACjBpN,MAAI,CAACkO,WAAW,CAACH,KAAK,EAAE;YAC1B;UACF,CAAC,EAAE,IAAI,CAAC;QACV;MACF,CAAC;MAED,IAAI,CAACG,WAAW,CAACQ,QAAQ;QAAA,IAAAxJ,IAAA,GAAAnQ,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAAG,SAAAC,QAAOqH,KAAU;UAAA,IAAAoS,IAAA,EAAAvZ,UAAA,EAAAW,UAAA;UAAA,OAAAf,YAAA,GAAAQ,CAAA,WAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAE,CAAA;cAAA;gBACrCgZ,IAAI,GAAGpS,KAAK,CAACqS,OAAO,CAAC7U,MAAM,GAAG,CAAC;gBAC/B3E,UAAU,GAAGmH,KAAK,CAACqS,OAAO,CAACD,IAAI,CAAC,CAAC,CAAC,CAAC,CAACvZ,UAAU;gBAC9CW,UAAU,GAAGwG,KAAK,CAACqS,OAAO,CAACD,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC5Y,UAAU;gBAEpDG,OAAO,CAACmH,GAAG,CAAC,mBAAmB,EAAEjI,UAAU,EAAE,aAAa,EAAEW,UAAU,CAAC;gBAEvEiK,MAAI,CAACsO,IAAI,CAAC,SAAS,EAAE;kBAAElZ,UAAU,EAAVA,UAAU;kBAAEW,UAAU,EAAVA;gBAAU,CAAE,CAAC;gBAAAN,QAAA,CAAAE,CAAA;gBAAA,OAE1CqK,MAAI,CAAC6O,cAAc,CAACzZ,UAAU,CAAC;cAAA;gBAAA,OAAAK,QAAA,CAAAO,CAAA;YAAA;UAAA,GAAAd,OAAA;QAAA,CACtC;QAAA,iBAAAqB,EAAA;UAAA,OAAA2O,IAAA,CAAA1O,KAAA,OAAAC,SAAA;QAAA;MAAA;MAED,IAAI,CAACyX,WAAW,CAACY,OAAO,GAAG,UAACvS,KAAU,EAAI;QACxCrG,OAAO,CAACC,KAAK,CAAC,+BAA+B,EAAEoG,KAAK,CAACpG,KAAK,CAAC;QAC3D6J,MAAI,CAACsO,IAAI,CAAC,OAAO,EAAE;UAAEnY,KAAK,EAAEoG,KAAK,CAACpG;QAAK,CAAE,CAAC;MAC5C,CAAC;MAED;MACA,IAAI,CAAC+W,SAAS,GAAG,IAAI6B,wBAAwB,EAAE;MAC/C,IAAI,CAAC7B,SAAS,CAAC7H,IAAI,GAAG,IAAI,CAAC4H,MAAM,CAACrU,QAAS;IAC7C;IAEA;;;EAAA;IAAAhE,GAAA;IAAAC,KAAA,EAGQ,SAAAiZ,mBAAmBA,CAAA;MAAA,IAAArL,MAAA;MACzB;MACA9K,QAAQ,CAACqX,gBAAgB,CAAC,gBAAgB,EAAE,UAACzS,KAAU,EAAI;QACzDkG,MAAI,CAAC6L,IAAI,CAAC,WAAW,EAAE;UAAE5W,IAAI,EAAE6E,KAAK,CAACW,MAAM,CAACxF;QAAI,CAAE,CAAC;MACrD,CAAC,CAAC;MAEFC,QAAQ,CAACqX,gBAAgB,CAAC,mBAAmB,EAAE,UAACzS,KAAU,EAAI;QAC5DkG,MAAI,CAAC6L,IAAI,CAAC,cAAc,EAAE;UACxB5W,IAAI,EAAE6E,KAAK,CAACW,MAAM,CAACxF,IAAI;UACvBiS,IAAI,EAAEpN,KAAK,CAACW,MAAM,CAACyM;SACpB,CAAC;MACJ,CAAC,CAAC;MAEF;MACA,IAAIsF,OAAO,GAAGjW,MAAM,CAACC,QAAQ,CAACC,IAAI;MAClC,IAAIgW,gBAAgB,CAAC,YAAK;QACxB,IAAMrW,UAAU,GAAGG,MAAM,CAACC,QAAQ,CAACC,IAAI;QACvC,IAAIL,UAAU,KAAKoW,OAAO,EAAE;UAC1BA,OAAO,GAAGpW,UAAU;UACpB4J,MAAI,CAAC0M,YAAY,EAAE;QACrB;MACF,CAAC,CAAC,CAACC,OAAO,CAACzX,QAAQ,EAAE;QAAE0X,OAAO,EAAE,IAAI;QAAEC,SAAS,EAAE;MAAI,CAAE,CAAC;IAC1D;IAEA;;;EAAA;IAAA1a,GAAA;IAAAC,KAAA;MAAA,IAAA0a,MAAA,GAAAxa,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAAgD,SAAA;QAAA,IAAAE,QAAA,EAAAqX,QAAA,EAAAC,UAAA,EAAAla,EAAA;QAAA,OAAAP,YAAA,GAAAQ,CAAA,WAAA6C,SAAA;UAAA,kBAAAA,SAAA,CAAA3C,CAAA,GAAA2C,SAAA,CAAA1C,CAAA;YAAA;cAAA,KACM,IAAI,CAACyX,QAAQ;gBAAA/U,SAAA,CAAA1C,CAAA;gBAAA;cAAA;cACfO,OAAO,CAACmH,GAAG,CAAC,2BAA2B,CAAC;cAAA,OAAAhF,SAAA,CAAArC,CAAA;YAAA;cAI1CE,OAAO,CAACmH,GAAG,CAAC,wBAAwB,CAAC;cAErC;cACA,IAAI,CAACkQ,kBAAkB,GAAG,IAAI,CAACrH,QAAQ,CAAClI,OAAO,EAAE;cACjD9H,OAAO,CAACmH,GAAG,CAAC,0BAA0B,EAAE,IAAI,CAACkQ,kBAAkB,CAAC;cAEhE;cAAAlV,SAAA,CAAA3C,CAAA;cAAA2C,SAAA,CAAA1C,CAAA;cAAA,OAEyB2C,KAAK,IAAAvB,MAAA,CAAI,IAAI,CAACkW,MAAM,CAACxY,WAAW,mBAAgB;gBACrE8D,MAAM,EAAE,MAAM;gBACdC,OAAO,EAAE;kBAAE,cAAc,EAAE;gBAAkB,CAAE;gBAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;kBACnBI,GAAG,EAAEC,MAAM,CAACC,QAAQ,CAACC,IAAI;kBACzBpD,WAAW,EAAE,IAAI,CAACyX,kBAAkB;kBACpC3U,QAAQ,EAAE,IAAI,CAACqU,MAAM,CAACrU;iBACvB;eACF,CAAC;YAAA;cARIT,QAAQ,GAAAE,SAAA,CAAApC,CAAA;cAAA,KAUVkC,QAAQ,CAACgB,EAAE;gBAAAd,SAAA,CAAA1C,CAAA;gBAAA;cAAA;cAAA0C,SAAA,CAAA1C,CAAA;cAAA,OACUwC,QAAQ,CAACkB,IAAI,EAAE;YAAA;cAAhCmW,QAAQ,GAAAnX,SAAA,CAAApC,CAAA;cACdC,OAAO,CAACmH,GAAG,CAAC,2BAA2B,EAAEmS,QAAQ,CAAC;cAElD;cACA,IAAIA,QAAQ,CAACE,WAAW,IAAIF,QAAQ,CAACE,WAAW,CAAC3V,MAAM,GAAG,CAAC,EAAE;gBACrD0V,UAAU,GAAGD,QAAQ,CAACE,WAAW,CAAC,CAAC,CAAC;gBAC1C,IAAI,CAAClJ,KAAK,4BAAAzP,MAAA,CAA4B0Y,UAAU,CAAE,CAAC;cACrD,CAAC,MAAM;gBACL,IAAI,CAACjJ,KAAK,CAAC,iDAAiD,CAAC;cAC/D;YAAC;cAAAnO,SAAA,CAAA1C,CAAA;cAAA;YAAA;cAAA0C,SAAA,CAAA3C,CAAA;cAAAH,EAAA,GAAA8C,SAAA,CAAApC,CAAA;cAGHC,OAAO,CAACC,KAAK,CAAC,yCAAyC,EAAAZ,EAAO,CAAC;cAC/D,IAAI,CAACiR,KAAK,CAAC,iDAAiD,CAAC;YAAA;cAG/D,IAAI,CAAC4G,QAAQ,GAAG,IAAI;cACpB,IAAI,CAACc,WAAW,CAACH,KAAK,EAAE;cAExB,IAAI,CAACO,IAAI,CAAC,OAAO,EAAE;gBAAExY,WAAW,EAAE,IAAI,CAACyX;cAAkB,CAAE,CAAC;YAAA;cAAA,OAAAlV,SAAA,CAAArC,CAAA;UAAA;QAAA,GAAAiC,QAAA;MAAA,CAC7D;MAAA,SA7CK8V,KAAKA,CAAA;QAAA,OAAAwB,MAAA,CAAA/Y,KAAA,OAAAC,SAAA;MAAA;MAAA,OAALsX,KAAK;IAAA;IA+CX;;;IAAA;EAAA;IAAAnZ,GAAA;IAAAC,KAAA,EAGA,SAAA8a,IAAIA,CAAA;MACFzZ,OAAO,CAACmH,GAAG,CAAC,wBAAwB,CAAC;MACrC,IAAI,CAAC+P,QAAQ,GAAG,KAAK;MACrB,IAAI,CAACD,WAAW,GAAG,KAAK;MAExB,IAAI,IAAI,CAACe,WAAW,EAAE;QACpB,IAAI,CAACA,WAAW,CAACyB,IAAI,EAAE;MACzB;MAEA,IAAI,CAACnJ,KAAK,CAAC,2BAA2B,CAAC;IACzC;IAEA;;;EAAA;IAAA5R,GAAA;IAAAC,KAAA;MAAA,IAAA+a,eAAA,GAAA7a,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGQ,SAAAoH,SAAqBjH,UAAkB;QAAA,IAAAya,eAAA,EAAAvT,MAAA,EAAAG,GAAA;QAAA,OAAAzH,YAAA,GAAAQ,CAAA,WAAAkH,SAAA;UAAA,kBAAAA,SAAA,CAAAhH,CAAA,GAAAgH,SAAA,CAAA/G,CAAA;YAAA;cAAA,IACxC,IAAI,CAAC4X,kBAAkB;gBAAA7Q,SAAA,CAAA/G,CAAA;gBAAA;cAAA;cAC1BO,OAAO,CAACC,KAAK,CAAC,sCAAsC,CAAC;cAAA,OAAAuG,SAAA,CAAA1G,CAAA;YAAA;cAIjD6Z,eAAe,GAAGza,UAAU,CAACQ,WAAW,EAAE,EAEhD;cAAA,KACI,4BAA4B,CAACc,IAAI,CAACmZ,eAAe,CAAC;gBAAAnT,SAAA,CAAA/G,CAAA;gBAAA;cAAA;cACpD,IAAI,CAACga,IAAI,EAAE;cAAA,OAAAjT,SAAA,CAAA1G,CAAA;YAAA;cAAA,KAKT,IAAI,CAAC4X,WAAW,CAAC9C,cAAc,EAAE;gBAAApO,SAAA,CAAA/G,CAAA;gBAAA;cAAA;cAAA+G,SAAA,CAAA/G,CAAA;cAAA,OAC7B,IAAI,CAACiY,WAAW,CAACrG,iBAAiB,CAACnS,UAAU,CAAC;YAAA;cAAA,OAAAsH,SAAA,CAAA1G,CAAA;YAAA;cAAA0G,SAAA,CAAAhH,CAAA;cAAAgH,SAAA,CAAA/G,CAAA;cAAA,OAM/B,IAAI,CAACgY,aAAa,CAACrX,UAAU,CAAC;gBACjDlB,UAAU,EAAVA,UAAU;gBACVwD,QAAQ,EAAE,IAAI,CAACqU,MAAM,CAACrU,QAAS;gBAC/B9C,WAAW,EAAE,IAAI,CAACyX,kBAAkB;gBACpCzU,WAAW,EAAE;kBACXC,GAAG,EAAEC,MAAM,CAACC,QAAQ,CAACC,IAAI;kBACzBiG,KAAK,EAAExH,QAAQ,CAACwH;;eAEnB,CAAC;YAAA;cARI7C,MAAM,GAAAI,SAAA,CAAAzG,CAAA;cAUZC,OAAO,CAACmH,GAAG,CAAC,4BAA4B,EAAEf,MAAM,CAAC;cAEjD;cACA,IAAI,IAAI,CAAC2Q,MAAM,CAACQ,cAAc,IAAInR,MAAM,CAACvG,UAAU,GAAG,GAAG,EAAE;gBACzD,IAAI,CAACyQ,KAAK,wBAAAzP,MAAA,CAAwBuF,MAAM,CAACjG,iBAAiB,uBAAoB,CAAC;gBAC/E;gBACA;cACF;cAEA;cAAA,MACIiG,MAAM,CAAClG,MAAM,KAAK,WAAW,IAAIkG,MAAM,CAAChF,MAAM;gBAAAoF,SAAA,CAAA/G,CAAA;gBAAA;cAAA;cAAA+G,SAAA,CAAA/G,CAAA;cAAA,OAC1C,IAAI,CAACiY,WAAW,CAAC9G,gBAAgB,CACrCxK,MAAM,CAAChF,MAAyB,EAChC,IAAI,CAAC2V,MAAM,CAACrU,QAAS,CACtB;YAAA;cAAA8D,SAAA,CAAA/G,CAAA;cAAA;YAAA;cAAA+G,SAAA,CAAA/G,CAAA;cAAA,OAEK,IAAI,CAACgY,aAAa,CAACrQ,cAAc,CAAChB,MAAM,CAAC;YAAA;cAE/C,IAAIA,MAAM,CAACjG,iBAAiB,EAAE;gBAC5B,IAAI,CAACmQ,KAAK,CAAClK,MAAM,CAACjG,iBAAiB,CAAC;cACtC;YAAC;cAGH,IAAI,CAACiY,IAAI,CAAC,QAAQ,EAAE;gBAAEhS,MAAM,EAANA;cAAM,CAAE,CAAC;cAAAI,SAAA,CAAA/G,CAAA;cAAA;YAAA;cAAA+G,SAAA,CAAAhH,CAAA;cAAA+G,GAAA,GAAAC,SAAA,CAAAzG,CAAA;cAE/BC,OAAO,CAACC,KAAK,CAAC,sCAAsC,EAAAsG,GAAO,CAAC;cAC5D,IAAI,CAAC+J,KAAK,CAAC,+DAA+D,CAAC;cAC3E,IAAI,CAAC8H,IAAI,CAAC,OAAO,EAAE;gBAAEnY,KAAK,EAAAsG;cAAA,CAAE,CAAC;YAAA;cAAA,OAAAC,SAAA,CAAA1G,CAAA;UAAA;QAAA,GAAAqG,QAAA;MAAA,CAEhC;MAAA,SA7DawS,cAAcA,CAAAvV,GAAA;QAAA,OAAAsW,eAAA,CAAApZ,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAdoY,cAAc;IAAA;IA+D5B;;;IAAA;EAAA;IAAAja,GAAA;IAAAC,KAAA,EAGA,SAAA2R,KAAKA,CAACjN,IAAY;MAChB;MACAP,MAAM,CAAC8W,eAAe,CAACC,MAAM,EAAE;MAE/B,IAAI,IAAI,CAAC7C,SAAS,EAAE;QAClB,IAAI,CAACA,SAAS,CAAC3T,IAAI,GAAGA,IAAI;QAC1B,IAAI,CAAC2T,SAAS,CAAC7H,IAAI,GAAG,IAAI,CAAC4H,MAAM,CAACrU,QAAS;QAC3CI,MAAM,CAAC8W,eAAe,CAACtJ,KAAK,CAAC,IAAI,CAAC0G,SAAS,CAAC;MAC9C;MAEAhX,OAAO,CAACmH,GAAG,CAAC,sBAAsB,EAAE9D,IAAI,CAAC;IAC3C;IAEA;;;EAAA;IAAA3E,GAAA;IAAAC,KAAA;MAAA,IAAAmb,aAAA,GAAAjb,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGQ,SAAA8T,SAAA;QAAA,OAAA/T,YAAA,GAAAQ,CAAA,WAAAyT,SAAA;UAAA,kBAAAA,SAAA,CAAAtT,CAAA;YAAA;cACNO,OAAO,CAACmH,GAAG,CAAC,0CAA0C,CAAC;cAEvD;cACA,IAAI,CAACkQ,kBAAkB,GAAG,IAAI,CAACrH,QAAQ,CAAClI,OAAO,EAAE;cAEjD;cACA,IAAI,CAAC4P,WAAW,CAACjD,iBAAiB,EAAE;cAEpC,IAAI,CAACnE,KAAK,CAAC,0CAA0C,CAAC;YAAA;cAAA,OAAAyC,SAAA,CAAAjT,CAAA;UAAA;QAAA,GAAA+S,QAAA;MAAA,CACvD;MAAA,SAVaoG,YAAYA,CAAA;QAAA,OAAAa,aAAA,CAAAxZ,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAZ0Y,YAAY;IAAA;IAY1B;;;IAAA;EAAA;IAAAva,GAAA;IAAAC,KAAA,EAGA,SAAAob,WAAWA,CAACrX,QAA2B;MACrC,IAAI,CAACqU,MAAM,CAACrU,QAAQ,GAAGA,QAAQ;MAC/B,IAAI,IAAI,CAACsV,WAAW,EAAE;QACpB,IAAI,CAACA,WAAW,CAAC7I,IAAI,GAAGzM,QAAQ;MAClC;MACA,IAAI,IAAI,CAACsU,SAAS,EAAE;QAClB,IAAI,CAACA,SAAS,CAAC7H,IAAI,GAAGzM,QAAQ;MAChC;IACF;IAEA;;;EAAA;IAAAhE,GAAA;IAAAC,KAAA,EAGA,SAAAqb,EAAEA,CAAC3T,KAAqB,EAAEsO,QAAkB;MAC1C,IAAI,CAAC,IAAI,CAACwC,cAAc,CAAC8C,GAAG,CAAC5T,KAAK,CAAC,EAAE;QACnC,IAAI,CAAC8Q,cAAc,CAAC+C,GAAG,CAAC7T,KAAK,EAAE,EAAE,CAAC;MACpC;MACA,IAAI,CAAC8Q,cAAc,CAACgD,GAAG,CAAC9T,KAAK,CAAE,CAAC4H,IAAI,CAAC0G,QAAQ,CAAC;IAChD;IAEA;;;EAAA;IAAAjW,GAAA;IAAAC,KAAA,EAGA,SAAAyb,GAAGA,CAAC/T,KAAqB,EAAEsO,QAAkB;MAC3C,IAAM0F,SAAS,GAAG,IAAI,CAAClD,cAAc,CAACgD,GAAG,CAAC9T,KAAK,CAAC;MAChD,IAAIgU,SAAS,EAAE;QACb,IAAMjR,KAAK,GAAGiR,SAAS,CAAC1M,OAAO,CAACgH,QAAQ,CAAC;QACzC,IAAIvL,KAAK,GAAG,CAAC,CAAC,EAAE;UACdiR,SAAS,CAACC,MAAM,CAAClR,KAAK,EAAE,CAAC,CAAC;QAC5B;MACF;IACF;IAEA;;;EAAA;IAAA1K,GAAA;IAAAC,KAAA,EAGQ,SAAAyZ,IAAIA,CAAC/R,KAAqB,EAAEoN,IAAS;MAC3C,IAAM4G,SAAS,GAAG,IAAI,CAAClD,cAAc,CAACgD,GAAG,CAAC9T,KAAK,CAAC;MAChD,IAAIgU,SAAS,EAAE;QACbA,SAAS,CAAClN,OAAO,CAAC,UAAAwH,QAAQ;UAAA,OAAIA,QAAQ,CAAClB,IAAI,CAAC;QAAA,EAAC;MAC/C;IACF;IAEA;;;EAAA;IAAA/U,GAAA;IAAAC,KAAA,EAGA,SAAA4b,cAAcA,CAAA;MACZ,OAAO,IAAI,CAAClD,kBAAkB;IAChC;IAEA;;;EAAA;IAAA3Y,GAAA;IAAAC,KAAA,EAGA,SAAA6b,OAAOA,CAAA;MACL,IAAI,CAACnD,kBAAkB,GAAG,IAAI,CAACrH,QAAQ,CAAClI,OAAO,EAAE;MACjD9H,OAAO,CAACmH,GAAG,CAAC,6BAA6B,EAAE,IAAI,CAACkQ,kBAAkB,CAAC;IACrE;IAEA;;;EAAA;IAAA3Y,GAAA;IAAAC,KAAA,EAGA,SAAA8b,oBAAoBA,CAAA;MAClB,OAAO,IAAI,CAACxD,WAAW;IACzB;IAEA;;;EAAA;IAAAvY,GAAA;IAAAC,KAAA,EAGA,SAAA+b,iBAAiBA,CAAA;MACf,OAAO,IAAI,CAACxD,QAAQ;IACtB;EAAC;AAAA;AAGH;AACA,IAAI,OAAOpU,MAAM,KAAK,WAAW,EAAE;EAChCA,MAAc,CAACgU,cAAc,GAAGA,cAAc;AACjD,C;;;;;;;;;;;;;;;;;;;;;;;;;ACjYA;;;;AAKiG;AACA;AACX;AACQ;AACzB;AAErE;;;;;;;;;;;;;;;;;0BCVA,uKAAAnE,CAAA,EAAAiI,CAAA,EAAApE,CAAA,wBAAAqE,MAAA,GAAAA,MAAA,OAAApb,CAAA,GAAA+W,CAAA,CAAAsE,QAAA,kBAAAC,CAAA,GAAAvE,CAAA,CAAAwE,WAAA,8BAAAlV,EAAA0Q,CAAA,EAAA/W,CAAA,EAAAsb,CAAA,EAAAjV,CAAA,QAAAmV,CAAA,GAAAxb,CAAA,IAAAA,CAAA,CAAAyb,SAAA,YAAAC,SAAA,GAAA1b,CAAA,GAAA0b,SAAA,EAAAC,CAAA,GAAAtO,MAAA,CAAAuO,MAAA,CAAAJ,CAAA,CAAAC,SAAA,UAAAI,mBAAA,CAAAF,CAAA,uBAAA5E,CAAA,EAAA/W,CAAA,EAAAsb,CAAA,QAAAjV,CAAA,EAAAmV,CAAA,EAAAG,CAAA,EAAA5L,CAAA,MAAAhQ,CAAA,GAAAub,CAAA,QAAAQ,CAAA,OAAAC,CAAA,KAAAhc,CAAA,KAAAC,CAAA,KAAAM,CAAA,EAAA4S,CAAA,EAAA7S,CAAA,EAAA2b,CAAA,EAAAjM,CAAA,EAAAiM,CAAA,CAAAC,IAAA,CAAA/I,CAAA,MAAA8I,CAAA,WAAAA,EAAAb,CAAA,EAAApE,CAAA,WAAA1Q,CAAA,GAAA8U,CAAA,EAAAK,CAAA,MAAAG,CAAA,GAAAzI,CAAA,EAAA6I,CAAA,CAAA/b,CAAA,GAAA+W,CAAA,EAAA1W,CAAA,gBAAA2b,EAAAjF,CAAA,EAAA/W,CAAA,SAAAwb,CAAA,GAAAzE,CAAA,EAAA4E,CAAA,GAAA3b,CAAA,EAAAmb,CAAA,OAAAW,CAAA,IAAA/L,CAAA,KAAAuL,CAAA,IAAAH,CAAA,GAAApb,CAAA,CAAAqE,MAAA,EAAA+W,CAAA,UAAAG,CAAA,EAAAjV,CAAA,GAAAtG,CAAA,CAAAob,CAAA,GAAAa,CAAA,GAAAD,CAAA,CAAAhc,CAAA,EAAAmc,CAAA,GAAA7V,CAAA,KAAA0Q,CAAA,QAAAuE,CAAA,GAAAY,CAAA,KAAAlc,CAAA,MAAA2b,CAAA,GAAAtV,CAAA,EAAAmV,CAAA,GAAAnV,CAAA,YAAAmV,CAAA,WAAAnV,CAAA,MAAAA,CAAA,MAAA6M,CAAA,IAAA7M,CAAA,OAAA2V,CAAA,MAAAV,CAAA,GAAAvE,CAAA,QAAAiF,CAAA,GAAA3V,CAAA,QAAAmV,CAAA,MAAAO,CAAA,CAAAzb,CAAA,GAAAN,CAAA,EAAA+b,CAAA,CAAA/b,CAAA,GAAAqG,CAAA,OAAA2V,CAAA,GAAAE,CAAA,KAAAZ,CAAA,GAAAvE,CAAA,QAAA1Q,CAAA,MAAArG,CAAA,IAAAA,CAAA,GAAAkc,CAAA,MAAA7V,CAAA,MAAA0Q,CAAA,EAAA1Q,CAAA,MAAArG,CAAA,EAAA+b,CAAA,CAAA/b,CAAA,GAAAkc,CAAA,EAAAV,CAAA,cAAAF,CAAA,IAAAvE,CAAA,aAAA1W,CAAA,QAAAyb,CAAA,OAAA9b,CAAA,qBAAAsb,CAAA,EAAAvb,CAAA,EAAAmc,CAAA,QAAAnM,CAAA,YAAAoM,SAAA,uCAAAL,CAAA,UAAA/b,CAAA,IAAAic,CAAA,CAAAjc,CAAA,EAAAmc,CAAA,GAAAV,CAAA,GAAAzb,CAAA,EAAA4b,CAAA,GAAAO,CAAA,GAAAf,CAAA,GAAAK,CAAA,OAAAtI,CAAA,GAAAyI,CAAA,MAAAG,CAAA,KAAAzV,CAAA,KAAAmV,CAAA,GAAAA,CAAA,QAAAA,CAAA,SAAAO,CAAA,CAAA/b,CAAA,QAAAgc,CAAA,CAAAR,CAAA,EAAAG,CAAA,KAAAI,CAAA,CAAA/b,CAAA,GAAA2b,CAAA,GAAAI,CAAA,CAAAzb,CAAA,GAAAqb,CAAA,aAAA5L,CAAA,MAAA1J,CAAA,QAAAmV,CAAA,KAAAF,CAAA,YAAAH,CAAA,GAAA9U,CAAA,CAAAiV,CAAA,WAAAH,CAAA,GAAAA,CAAA,CAAAiB,IAAA,CAAA/V,CAAA,EAAAsV,CAAA,UAAAQ,SAAA,2CAAAhB,CAAA,CAAApI,IAAA,SAAAoI,CAAA,EAAAQ,CAAA,GAAAR,CAAA,CAAAjc,KAAA,EAAAsc,CAAA,SAAAA,CAAA,oBAAAA,CAAA,KAAAL,CAAA,GAAA9U,CAAA,eAAA8U,CAAA,CAAAiB,IAAA,CAAA/V,CAAA,GAAAmV,CAAA,SAAAG,CAAA,GAAAQ,SAAA,uCAAAb,CAAA,gBAAAE,CAAA,OAAAnV,CAAA,GAAA6M,CAAA,cAAAiI,CAAA,IAAAW,CAAA,GAAAC,CAAA,CAAA/b,CAAA,QAAA2b,CAAA,GAAA5E,CAAA,CAAAqF,IAAA,CAAApc,CAAA,EAAA+b,CAAA,OAAA1b,CAAA,kBAAA8a,CAAA,IAAA9U,CAAA,GAAA6M,CAAA,EAAAsI,CAAA,MAAAG,CAAA,GAAAR,CAAA,cAAApL,CAAA,mBAAA7Q,KAAA,EAAAic,CAAA,EAAApI,IAAA,EAAA+I,CAAA,SAAA/E,CAAA,EAAAuE,CAAA,EAAAjV,CAAA,QAAAsV,CAAA,QAAAtb,CAAA,gBAAAqb,UAAA,cAAAW,kBAAA,cAAAC,2BAAA,KAAAnB,CAAA,GAAA9N,MAAA,CAAAkP,cAAA,MAAAf,CAAA,MAAAxb,CAAA,IAAAmb,CAAA,CAAAA,CAAA,IAAAnb,CAAA,SAAA6b,mBAAA,CAAAV,CAAA,OAAAnb,CAAA,iCAAAmb,CAAA,GAAAQ,CAAA,GAAAW,0BAAA,CAAAb,SAAA,GAAAC,SAAA,CAAAD,SAAA,GAAApO,MAAA,CAAAuO,MAAA,CAAAJ,CAAA,YAAAzL,EAAAmD,CAAA,WAAA7F,MAAA,CAAAmP,cAAA,GAAAnP,MAAA,CAAAmP,cAAA,CAAAtJ,CAAA,EAAAoJ,0BAAA,KAAApJ,CAAA,CAAAuJ,SAAA,GAAAH,0BAAA,EAAAT,mBAAA,CAAA3I,CAAA,EAAAoI,CAAA,yBAAApI,CAAA,CAAAuI,SAAA,GAAApO,MAAA,CAAAuO,MAAA,CAAAD,CAAA,GAAAzI,CAAA,WAAAmJ,iBAAA,CAAAZ,SAAA,GAAAa,0BAAA,EAAAT,mBAAA,CAAAF,CAAA,iBAAAW,0BAAA,GAAAT,mBAAA,CAAAS,0BAAA,iBAAAD,iBAAA,GAAAA,iBAAA,CAAAK,WAAA,wBAAAb,mBAAA,CAAAS,0BAAA,EAAAhB,CAAA,wBAAAO,mBAAA,CAAAF,CAAA,GAAAE,mBAAA,CAAAF,CAAA,EAAAL,CAAA,gBAAAO,mBAAA,CAAAF,CAAA,EAAA3b,CAAA,iCAAA6b,mBAAA,CAAAF,CAAA,8DAAAtc,YAAA,YAAAA,aAAA,aAAAQ,CAAA,EAAAwG,CAAA,EAAA/G,CAAA,EAAAyQ,CAAA;AAAA,SAAA8L,oBAAA3I,CAAA,EAAA6D,CAAA,EAAA/W,CAAA,EAAAmb,CAAA,QAAA9U,CAAA,GAAAgH,MAAA,CAAAsP,cAAA,QAAAtW,CAAA,uBAAA6M,CAAA,IAAA7M,CAAA,QAAAwV,mBAAA,YAAAe,mBAAA1J,CAAA,EAAA6D,CAAA,EAAA/W,CAAA,EAAAmb,CAAA,aAAAG,EAAAvE,CAAA,EAAA/W,CAAA,IAAA6b,mBAAA,CAAA3I,CAAA,EAAA6D,CAAA,YAAA7D,CAAA,gBAAA2J,OAAA,CAAA9F,CAAA,EAAA/W,CAAA,EAAAkT,CAAA,SAAA6D,CAAA,GAAA1Q,CAAA,GAAAA,CAAA,CAAA6M,CAAA,EAAA6D,CAAA,IAAA7X,KAAA,EAAAc,CAAA,EAAA8c,UAAA,GAAA3B,CAAA,EAAA4B,YAAA,GAAA5B,CAAA,EAAA6B,QAAA,GAAA7B,CAAA,MAAAjI,CAAA,CAAA6D,CAAA,IAAA/W,CAAA,IAAAsb,CAAA,aAAAA,CAAA,cAAAA,CAAA,mBAAAO,mBAAA,CAAA3I,CAAA,EAAA6D,CAAA,EAAA/W,CAAA,EAAAmb,CAAA;AAAA,SAAA8B,mBAAAjd,CAAA,EAAAmb,CAAA,EAAAjI,CAAA,EAAA6D,CAAA,EAAAuE,CAAA,EAAAjb,CAAA,EAAAmb,CAAA,cAAAnV,CAAA,GAAArG,CAAA,CAAAK,CAAA,EAAAmb,CAAA,GAAAG,CAAA,GAAAtV,CAAA,CAAAnH,KAAA,WAAAc,CAAA,gBAAAkT,CAAA,CAAAlT,CAAA,KAAAqG,CAAA,CAAA0M,IAAA,GAAAoI,CAAA,CAAAQ,CAAA,IAAAuB,OAAA,CAAAC,OAAA,CAAAxB,CAAA,EAAAyB,IAAA,CAAArG,CAAA,EAAAuE,CAAA;AAAA,SAAAlc,kBAAAY,CAAA,6BAAAmb,CAAA,SAAAjI,CAAA,GAAApS,SAAA,aAAAoc,OAAA,WAAAnG,CAAA,EAAAuE,CAAA,QAAAjb,CAAA,GAAAL,CAAA,CAAAa,KAAA,CAAAsa,CAAA,EAAAjI,CAAA,YAAAmK,MAAArd,CAAA,IAAAid,kBAAA,CAAA5c,CAAA,EAAA0W,CAAA,EAAAuE,CAAA,EAAA+B,KAAA,EAAAC,MAAA,UAAAtd,CAAA,cAAAsd,OAAAtd,CAAA,IAAAid,kBAAA,CAAA5c,CAAA,EAAA0W,CAAA,EAAAuE,CAAA,EAAA+B,KAAA,EAAAC,MAAA,WAAAtd,CAAA,KAAAqd,KAAA;AAAA,SAAAte,gBAAAsB,CAAA,EAAAL,CAAA,UAAAK,CAAA,YAAAL,CAAA,aAAAmc,SAAA;AAAA,SAAAoB,kBAAArK,CAAA,EAAA6D,CAAA,aAAAoE,CAAA,MAAAA,CAAA,GAAApE,CAAA,CAAA3S,MAAA,EAAA+W,CAAA,UAAAG,CAAA,GAAAvE,CAAA,CAAAoE,CAAA,GAAAG,CAAA,CAAAwB,UAAA,GAAAxB,CAAA,CAAAwB,UAAA,QAAAxB,CAAA,CAAAyB,YAAA,kBAAAzB,CAAA,KAAAA,CAAA,CAAA0B,QAAA,QAAA3P,MAAA,CAAAsP,cAAA,CAAAzJ,CAAA,EAAAsK,cAAA,CAAAlC,CAAA,CAAArc,GAAA,GAAAqc,CAAA;AAAA,SAAAtc,aAAAkU,CAAA,EAAA6D,CAAA,EAAAoE,CAAA,WAAApE,CAAA,IAAAwG,iBAAA,CAAArK,CAAA,CAAAuI,SAAA,EAAA1E,CAAA,GAAAoE,CAAA,IAAAoC,iBAAA,CAAArK,CAAA,EAAAiI,CAAA,GAAA9N,MAAA,CAAAsP,cAAA,CAAAzJ,CAAA,iBAAA8J,QAAA,SAAA9J,CAAA;AAAA,SAAAsK,eAAArC,CAAA,QAAA9U,CAAA,GAAAoX,YAAA,CAAAtC,CAAA,gCAAAuC,OAAA,CAAArX,CAAA,IAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAoX,aAAAtC,CAAA,EAAApE,CAAA,oBAAA2G,OAAA,CAAAvC,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAAjI,CAAA,GAAAiI,CAAA,CAAAC,MAAA,CAAAuC,WAAA,kBAAAzK,CAAA,QAAA7M,CAAA,GAAA6M,CAAA,CAAAkJ,IAAA,CAAAjB,CAAA,EAAApE,CAAA,gCAAA2G,OAAA,CAAArX,CAAA,UAAAA,CAAA,YAAA8V,SAAA,yEAAApF,CAAA,GAAA6G,MAAA,GAAAC,MAAA,EAAA1C,CAAA;AADA;AACA;AACA;;AAEO,IAAM2C,UAAU;EACrB,SAAAA,WAAYC,MAAM,EAAE;IAAAhf,eAAA,OAAA+e,UAAA;IAClB,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACzG,MAAM,GAAGyG,MAAM,CAACzG,MAAM;EAC7B;;EAEA;AACF;AACA;EAFE,OAAAtY,YAAA,CAAA8e,UAAA;IAAA7e,GAAA;IAAAC,KAAA;MAAA,IAAA8e,0BAAA,GAAA5e,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAAC,QAAA;QAAA,IAAAiD,QAAA,EAAA5C,EAAA;QAAA,OAAAP,YAAA,GAAAQ,CAAA,WAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,CAAA,GAAAD,QAAA,CAAAE,CAAA;YAAA;cAAA,MACM,IAAI,CAACsX,MAAM,CAAC2G,IAAI,KAAK,QAAQ;gBAAAne,QAAA,CAAAE,CAAA;gBAAA;cAAA;cAAA,OAAAF,QAAA,CAAAO,CAAA,IAExB;gBACL6d,KAAK,EAAE,IAAI,CAAC5G,MAAM,CAAC6G,WAAW,CAAClf,GAAG;gBAClCmf,MAAM,EAAE,IAAI,CAAC9G,MAAM,CAAC6G,WAAW,CAACC,MAAM;gBACtCC,OAAO,EAAE;cACX,CAAC;YAAA;cAAAve,QAAA,CAAAC,CAAA;cAAAD,QAAA,CAAAE,CAAA;cAAA,OAKsB2C,KAAK,IAAAvB,MAAA,CAAI,IAAI,CAACkW,MAAM,CAACgH,OAAO,oBAAiB;gBAClE1b,MAAM,EAAE,KAAK;gBACbC,OAAO,EAAE;kBACP,cAAc,EAAE;gBAClB;cACF,CAAC,CAAC;YAAA;cALIL,QAAQ,GAAA1C,QAAA,CAAAQ,CAAA;cAAA,IAOTkC,QAAQ,CAACgB,EAAE;gBAAA1D,QAAA,CAAAE,CAAA;gBAAA;cAAA;cAAA,MACR,IAAIyD,KAAK,wBAAArC,MAAA,CAAwBoB,QAAQ,CAAC+b,MAAM,CAAE,CAAC;YAAA;cAAAze,QAAA,CAAAE,CAAA;cAAA,OAG9CwC,QAAQ,CAACkB,IAAI,CAAC,CAAC;YAAA;cAAA,OAAA5D,QAAA,CAAAO,CAAA,IAAAP,QAAA,CAAAQ,CAAA;YAAA;cAAAR,QAAA,CAAAC,CAAA;cAAAH,EAAA,GAAAE,QAAA,CAAAQ,CAAA;cAE5B,IAAI,CAACyd,MAAM,CAACrW,GAAG,CAAC,iDAAiD,EAAA9H,EAAO,CAAC;cAAC,OAAAE,QAAA,CAAAO,CAAA,IACnE;gBAAEge,OAAO,EAAE,KAAK;gBAAE7d,KAAK,EAAEZ,EAAA,CAAM+U;cAAQ,CAAC;UAAA;QAAA,GAAApV,OAAA;MAAA,CAElD;MAAA,SA5BKif,yBAAyBA,CAAA;QAAA,OAAAR,0BAAA,CAAAnd,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAzB0d,yBAAyB;IAAA;IA8B/B;AACF;AACA;IAFE;EAAA;IAAAvf,GAAA;IAAAC,KAAA;MAAA,IAAAuf,oBAAA,GAAArf,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAAgD,SAA0B9C,OAAO,EAAEW,WAAW,EAAE+C,UAAU;QAAA,OAAA7D,YAAA,GAAAQ,CAAA,WAAA6C,SAAA;UAAA,kBAAAA,SAAA,CAAA1C,CAAA;YAAA;cAAA,MACpD,IAAI,CAACsX,MAAM,CAAC2G,IAAI,KAAK,QAAQ;gBAAAvb,SAAA,CAAA1C,CAAA;gBAAA;cAAA;cAAA0C,SAAA,CAAA1C,CAAA;cAAA,OAElB,IAAI,CAAC0e,0BAA0B,CAAClf,OAAO,EAAEW,WAAW,EAAE+C,UAAU,CAAC;YAAA;cAAA,OAAAR,SAAA,CAAArC,CAAA,IAAAqC,SAAA,CAAApC,CAAA;YAAA;cAAAoC,SAAA,CAAA1C,CAAA;cAAA,OAInE,IAAI,CAAC2e,0BAA0B,CAACnf,OAAO,EAAEW,WAAW,EAAE+C,UAAU,CAAC;YAAA;cAAA,OAAAR,SAAA,CAAArC,CAAA,IAAAqC,SAAA,CAAApC,CAAA;UAAA;QAAA,GAAAgC,QAAA;MAAA,CAC/E;MAAA,SARKsc,mBAAmBA,CAAAhe,EAAA,EAAA+C,GAAA,EAAAiE,GAAA;QAAA,OAAA6W,oBAAA,CAAA5d,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAnB8d,mBAAmB;IAAA;IAUzB;AACF;AACA;IAFE;EAAA;IAAA3f,GAAA;IAAAC,KAAA;MAAA,IAAA2f,2BAAA,GAAAzf,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAAoH,SAAiClH,OAAO,EAAEW,WAAW,EAAE+C,UAAU;QAAA,IAAA4b,WAAA,EAAAtc,QAAA,EAAAwR,IAAA,EAAA+K,SAAA,EAAAjY,GAAA;QAAA,OAAAzH,YAAA,GAAAQ,CAAA,WAAAkH,SAAA;UAAA,kBAAAA,SAAA,CAAAhH,CAAA,GAAAgH,SAAA,CAAA/G,CAAA;YAAA;cAAA+G,SAAA,CAAAhH,CAAA;cAEvD+e,WAAW,GAAG;gBAClBtf,OAAO,EAAPA,OAAO;gBACPyD,QAAQ,EAAE,IAAI,CAAC8a,MAAM,CAACiB,KAAK,CAAC/b,QAAQ;gBACpCC,UAAU,EAAEA,UAAU,IAAIG,MAAM,CAACC,QAAQ,CAACC;cAC5C,CAAC;cAED,IAAI,IAAI,CAACwa,MAAM,CAACiB,KAAK,CAACC,cAAc,IAAI9e,WAAW,EAAE;gBACnD2e,WAAW,CAAC3e,WAAW,GAAGA,WAAW;gBACrC,IAAI,CAAC4d,MAAM,CAACrW,GAAG,CAAC,wCAAwC,EAAE;kBACxDgB,KAAK,EAAEvI,WAAW,CAACuI,KAAK,CAACtE,MAAM;kBAC/BwE,UAAU,EAAEzI,WAAW,CAACyI,UAAU,CAACxE,MAAM;kBACzC4E,YAAY,EAAE7I,WAAW,CAAC6I,YAAY,CAAC5E;gBACzC,CAAC,CAAC;cACJ;cAEA,IAAI,CAAC2Z,MAAM,CAACrW,GAAG,CAAC,2CAA2C,CAAC;cAACX,SAAA,CAAA/G,CAAA;cAAA,OAEtC2C,KAAK,IAAAvB,MAAA,CAAI,IAAI,CAACkW,MAAM,CAACgH,OAAO,gBAAa;gBAC9D1b,MAAM,EAAE,MAAM;gBACdC,OAAO,EAAE;kBACP,cAAc,EAAE;gBAClB,CAAC;gBACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC8b,WAAW;cAClC,CAAC,CAAC;YAAA;cANItc,QAAQ,GAAAuE,SAAA,CAAAzG,CAAA;cAQd,IAAI,CAACyd,MAAM,CAACrW,GAAG,CAAC,mBAAmB,EAAElF,QAAQ,CAAC+b,MAAM,EAAE/b,QAAQ,CAAC0c,UAAU,CAAC;cAAC,KAEvE1c,QAAQ,CAACgB,EAAE;gBAAAuD,SAAA,CAAA/G,CAAA;gBAAA;cAAA;cAAA+G,SAAA,CAAA/G,CAAA;cAAA,OACMwC,QAAQ,CAACkB,IAAI,CAAC,CAAC;YAAA;cAA5BsQ,IAAI,GAAAjN,SAAA,CAAAzG,CAAA;cACV,IAAI,CAACyd,MAAM,CAACrW,GAAG,CAAC,kBAAkB,EAAEsM,IAAI,CAAC;cAAC,OAAAjN,SAAA,CAAA1G,CAAA,IACnC2T,IAAI;YAAA;cAAAjN,SAAA,CAAA/G,CAAA;cAAA,OAEawC,QAAQ,CAACkB,IAAI,CAAC,CAAC,SAAM,CAAC;gBAAA,OAAO,CAAC,CAAC;cAAA,CAAC,CAAC;YAAA;cAAnDqb,SAAS,GAAAhY,SAAA,CAAAzG,CAAA;cACf,IAAI,CAACyd,MAAM,CAACrW,GAAG,CAAC,eAAe,EAAEqX,SAAS,CAAC;cAAC,MACtC,IAAItb,KAAK,CAAC,mBAAmB,CAAC;YAAA;cAAAsD,SAAA,CAAA/G,CAAA;cAAA;YAAA;cAAA+G,SAAA,CAAAhH,CAAA;cAAA+G,GAAA,GAAAC,SAAA,CAAAzG,CAAA;cAGtC,IAAI,CAACyd,MAAM,CAACrW,GAAG,CAAC,YAAY,EAAAZ,GAAO,CAAC;cAAC,MAAAA,GAAA;YAAA;cAAA,OAAAC,SAAA,CAAA1G,CAAA;UAAA;QAAA,GAAAqG,QAAA;MAAA,CAGxC;MAAA,SA1CKiY,0BAA0BA,CAAA5K,GAAA,EAAAoL,GAAA,EAAAC,GAAA;QAAA,OAAAP,2BAAA,CAAAhe,KAAA,OAAAC,SAAA;MAAA;MAAA,OAA1B6d,0BAA0B;IAAA;IA4ChC;AACF;AACA;IAFE;EAAA;IAAA1f,GAAA;IAAAC,KAAA;MAAA,IAAAmgB,2BAAA,GAAAjgB,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAA8T,SAAiC5T,OAAO,EAAEW,WAAW,EAAE+C,UAAU;QAAA,IAAAoc,WAAA,EAAAC,YAAA,EAAAC,WAAA,EAAAC,QAAA,EAAAC,MAAA,EAAAld,QAAA,EAAAhC,KAAA,EAAAwT,IAAA,EAAA2L,UAAA,EAAA/M,GAAA;QAAA,OAAAvT,YAAA,GAAAQ,CAAA,WAAAyT,SAAA;UAAA,kBAAAA,SAAA,CAAAvT,CAAA,GAAAuT,SAAA,CAAAtT,CAAA;YAAA;cAAAsT,SAAA,CAAAvT,CAAA;cAErDuf,WAAW,GAAK,IAAI,CAAChI,MAAM,CAA3BgI,WAAW,EAEnB;cACMC,YAAY,GAAG,IAAI,CAACK,iBAAiB,CAAC,IAAI,CAAC7B,MAAM,CAACiB,KAAK,CAAC/b,QAAQ,EAAE9C,WAAW,CAAC,EAEpF;cACMqf,WAAW,GAAG,IAAI,CAACK,YAAY,CAAC3c,UAAU,EAAE/C,WAAW,CAAC,EAE9D;cACMsf,QAAQ,GAAG,CACf;gBAAEhR,IAAI,EAAE,QAAQ;gBAAE3F,OAAO,EAAEyW;cAAa,CAAC,EACzC;gBACE9Q,IAAI,EAAE,MAAM;gBACZ3F,OAAO,KAAA1H,MAAA,CAAKoe,WAAW,uBAAApe,MAAA,CAAmB5B,OAAO;cACnD,CAAC,CACF,EAED;cACMkgB,MAAM,MAAAte,MAAA,CAAMke,WAAW,CAACQ,QAAQ,0BAAA1e,MAAA,CAAuBke,WAAW,CAACS,UAAU;cAEnF,IAAI,CAAChC,MAAM,CAACrW,GAAG,CAAC,iDAAiD,CAAC;cAAC4L,SAAA,CAAAtT,CAAA;cAAA,OAE5C2C,KAAK,CAAC+c,MAAM,EAAE;gBACnC9c,MAAM,EAAE,MAAM;gBACdC,OAAO,EAAE;kBACP,cAAc,EAAE,kBAAkB;kBAClC,SAAS,EAAEyc,WAAW,CAACU;gBACzB,CAAC;gBACDld,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;kBACnByc,QAAQ,EAARA,QAAQ;kBACRQ,WAAW,EAAE,GAAG;kBAChBC,UAAU,EAAE,GAAG;kBACfC,eAAe,EAAE;oBAAE1V,IAAI,EAAE;kBAAc;gBACzC,CAAC;cACH,CAAC,CAAC;YAAA;cAZIjI,QAAQ,GAAA8Q,SAAA,CAAAhT,CAAA;cAAA,IAcTkC,QAAQ,CAACgB,EAAE;gBAAA8P,SAAA,CAAAtT,CAAA;gBAAA;cAAA;cAAAsT,SAAA,CAAAtT,CAAA;cAAA,OACMwC,QAAQ,CAACoB,IAAI,CAAC,CAAC;YAAA;cAA7BpD,KAAK,GAAA8S,SAAA,CAAAhT,CAAA;cACX,IAAI,CAACyd,MAAM,CAACrW,GAAG,CAAC,qBAAqB,EAAElH,KAAK,CAAC;cAAC,MACxC,IAAIiD,KAAK,CAAC,0BAA0B,CAAC;YAAA;cAAA6P,SAAA,CAAAtT,CAAA;cAAA,OAG1BwC,QAAQ,CAACkB,IAAI,CAAC,CAAC;YAAA;cAA5BsQ,IAAI,GAAAV,SAAA,CAAAhT,CAAA;cACJqf,UAAU,GAAG5c,IAAI,CAACqd,KAAK,CAACpM,IAAI,CAACqM,OAAO,CAAC,CAAC,CAAC,CAAC1L,OAAO,CAAC7L,OAAO,CAAC,EAE9D;cAAA,OAAAwK,SAAA,CAAAjT,CAAA,IACO;gBACLI,MAAM,EAAEkf,UAAU,CAAClf,MAAM,IAAI,MAAM;gBACnCS,UAAU,EAAEye,UAAU,CAACze,UAAU,IAAI,CAAC,CAAC;gBACvCsB,QAAQ,EAAEmd,UAAU,CAACnd,QAAQ,IAAI,EAAE;gBACnC8d,OAAO,EAAEX,UAAU,CAACW,OAAO,IAAI,IAAI;gBACnCC,aAAa,EAAEZ,UAAU,CAACY,aAAa,IAAI,KAAK;gBAChDngB,UAAU,EAAEuf,UAAU,CAACvf,UAAU,IAAI;cACvC,CAAC;YAAA;cAAAkT,SAAA,CAAAvT,CAAA;cAAA6S,GAAA,GAAAU,SAAA,CAAAhT,CAAA;cAED,IAAI,CAACyd,MAAM,CAACrW,GAAG,CAAC,sBAAsB,EAAAkL,GAAO,CAAC;cAAC,MAAAA,GAAA;YAAA;cAAA,OAAAU,SAAA,CAAAjT,CAAA;UAAA;QAAA,GAAA+S,QAAA;MAAA,CAGlD;MAAA,SA5DKsL,0BAA0BA,CAAA8B,GAAA,EAAAC,GAAA,EAAAC,GAAA;QAAA,OAAArB,2BAAA,CAAAxe,KAAA,OAAAC,SAAA;MAAA;MAAA,OAA1B4d,0BAA0B;IAAA;IA8DhC;AACF;AACA;IAFE;EAAA;IAAAzf,GAAA;IAAAC,KAAA,EAGA,SAAA0gB,iBAAiBA,CAAC3c,QAAQ,EAAE9C,WAAW,EAAE;MAAA,IAAAwgB,kBAAA,EAAAC,qBAAA;MACvC,IAAMC,OAAO,GAAG5d,QAAQ,KAAK,OAAO;MAEpC,IAAM6d,SAAS,GAAG,CAAA3gB,WAAW,aAAXA,WAAW,gBAAAwgB,kBAAA,GAAXxgB,WAAW,CAAEuI,KAAK,cAAAiY,kBAAA,uBAAlBA,kBAAA,CAAoBvc,MAAM,IAAG,CAAC,GAC5CjE,WAAW,CAACuI,KAAK,CAACgB,GAAG,CAAC,UAACqG,CAAC,EAAE1J,CAAC,EAAK;QAAA,IAAA0a,SAAA,EAAAC,UAAA;QAC9B,IAAMC,YAAY,IAAAF,SAAA,GAAGhR,CAAC,CAACnG,MAAM,cAAAmX,SAAA,uBAARA,SAAA,CAAUrX,GAAG,CAAC,UAAAgB,KAAK;UAAA,UAAAtJ,MAAA,CACnCsJ,KAAK,CAACG,KAAK,IAAIH,KAAK,CAACC,IAAI,IAAID,KAAK,CAACK,WAAW,IAAIL,KAAK,CAACD,IAAI;QAAA,CACjE,CAAC,CAACgJ,IAAI,CAAC,IAAI,CAAC;QACZ,eAAArS,MAAA,CAAeiF,CAAC,GAAG,CAAC,QAAAjF,MAAA,CAAK,EAAA4f,UAAA,GAAAjR,CAAC,CAACnG,MAAM,cAAAoX,UAAA,uBAARA,UAAA,CAAU5c,MAAM,KAAI,CAAC,eAAAhD,MAAA,CAAY6f,YAAY;MACxE,CAAC,CAAC,CAACxN,IAAI,CAAC,IAAI,CAAC,GACb,uBAAuB;MAE3B,IAAMyN,OAAO,GAAG,CAAA/gB,WAAW,aAAXA,WAAW,gBAAAygB,qBAAA,GAAXzgB,WAAW,CAAEyI,UAAU,cAAAgY,qBAAA,uBAAvBA,qBAAA,CAAyBxc,MAAM,IAAG,CAAC,0BAAAhD,MAAA,CACxBjB,WAAW,CAACyI,UAAU,CAAC+E,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAACjE,GAAG,CAAC,UAAA1J,CAAC;QAAA,OAAIA,CAAC,CAAC4D,IAAI;MAAA,EAAC,CAAC2G,MAAM,CAAC,UAAA4Q,CAAC;QAAA,OAAIA,CAAC;MAAA,EAAC,CAAC1H,IAAI,CAAC,IAAI,CAAC,IACrG,6BAA6B;MAEjC,IAAIoN,OAAO,EAAE;QACX,yWAAAzf,MAAA,CAA2S0f,SAAS,oBAAA1f,MAAA,CAAiB8f,OAAO;MAC9U;MAEA,gTAAA9f,MAAA,CAAoS0f,SAAS,oBAAA1f,MAAA,CAAiB8f,OAAO;IACvU;;IAEA;AACF;AACA;EAFE;IAAAjiB,GAAA;IAAAC,KAAA,EAGA,SAAA2gB,YAAYA,CAACzc,GAAG,EAAEjD,WAAW,EAAE;MAAA,IAAAghB,qBAAA;MAC7B,IAAIb,OAAO,oBAAAlf,MAAA,CAAoBgC,GAAG,oBAAAhC,MAAA,CAAiB,CAAAjB,WAAW,aAAXA,WAAW,gBAAAghB,qBAAA,GAAXhhB,WAAW,CAAEiJ,QAAQ,cAAA+X,qBAAA,uBAArBA,qBAAA,CAAuB3X,KAAK,KAAI,SAAS,SAAM;MAElG,IAAIrJ,WAAW,EAAE;QAAA,IAAAihB,mBAAA,EAAAC,sBAAA,EAAAC,qBAAA;QACfhB,OAAO,qBAAqB;QAC5BA,OAAO,gBAAAlf,MAAA,CAAgB,EAAAggB,mBAAA,GAAAjhB,WAAW,CAACuI,KAAK,cAAA0Y,mBAAA,uBAAjBA,mBAAA,CAAmBhd,MAAM,KAAI,CAAC,OAAI;QACzDkc,OAAO,8BAAAlf,MAAA,CAA8B,EAAAigB,sBAAA,GAAAlhB,WAAW,CAACyI,UAAU,cAAAyY,sBAAA,uBAAtBA,sBAAA,CAAwBjd,MAAM,KAAI,CAAC,OAAI;QAC5Ekc,OAAO,+BAAAlf,MAAA,CAA+B,EAAAkgB,qBAAA,GAAAnhB,WAAW,CAAC6I,YAAY,cAAAsY,qBAAA,uBAAxBA,qBAAA,CAA0Bld,MAAM,KAAI,CAAC,OAAI;MACjF;MAEA,OAAOkc,OAAO;IAChB;EAAC;AAAA,I;;;;;;;;;;;;;;;;;;0BC/MH,uKAAApN,CAAA,EAAAiI,CAAA,EAAApE,CAAA,wBAAAqE,MAAA,GAAAA,MAAA,OAAApb,CAAA,GAAA+W,CAAA,CAAAsE,QAAA,kBAAAC,CAAA,GAAAvE,CAAA,CAAAwE,WAAA,8BAAAlV,EAAA0Q,CAAA,EAAA/W,CAAA,EAAAsb,CAAA,EAAAjV,CAAA,QAAAmV,CAAA,GAAAxb,CAAA,IAAAA,CAAA,CAAAyb,SAAA,YAAAC,SAAA,GAAA1b,CAAA,GAAA0b,SAAA,EAAAC,CAAA,GAAAtO,MAAA,CAAAuO,MAAA,CAAAJ,CAAA,CAAAC,SAAA,UAAAI,mBAAA,CAAAF,CAAA,uBAAA5E,CAAA,EAAA/W,CAAA,EAAAsb,CAAA,QAAAjV,CAAA,EAAAmV,CAAA,EAAAG,CAAA,EAAA5L,CAAA,MAAAhQ,CAAA,GAAAub,CAAA,QAAAQ,CAAA,OAAAC,CAAA,KAAAhc,CAAA,KAAAC,CAAA,KAAAM,CAAA,EAAA4S,CAAA,EAAA7S,CAAA,EAAA2b,CAAA,EAAAjM,CAAA,EAAAiM,CAAA,CAAAC,IAAA,CAAA/I,CAAA,MAAA8I,CAAA,WAAAA,EAAAb,CAAA,EAAApE,CAAA,WAAA1Q,CAAA,GAAA8U,CAAA,EAAAK,CAAA,MAAAG,CAAA,GAAAzI,CAAA,EAAA6I,CAAA,CAAA/b,CAAA,GAAA+W,CAAA,EAAA1W,CAAA,gBAAA2b,EAAAjF,CAAA,EAAA/W,CAAA,SAAAwb,CAAA,GAAAzE,CAAA,EAAA4E,CAAA,GAAA3b,CAAA,EAAAmb,CAAA,OAAAW,CAAA,IAAA/L,CAAA,KAAAuL,CAAA,IAAAH,CAAA,GAAApb,CAAA,CAAAqE,MAAA,EAAA+W,CAAA,UAAAG,CAAA,EAAAjV,CAAA,GAAAtG,CAAA,CAAAob,CAAA,GAAAa,CAAA,GAAAD,CAAA,CAAAhc,CAAA,EAAAmc,CAAA,GAAA7V,CAAA,KAAA0Q,CAAA,QAAAuE,CAAA,GAAAY,CAAA,KAAAlc,CAAA,MAAA2b,CAAA,GAAAtV,CAAA,EAAAmV,CAAA,GAAAnV,CAAA,YAAAmV,CAAA,WAAAnV,CAAA,MAAAA,CAAA,MAAA6M,CAAA,IAAA7M,CAAA,OAAA2V,CAAA,MAAAV,CAAA,GAAAvE,CAAA,QAAAiF,CAAA,GAAA3V,CAAA,QAAAmV,CAAA,MAAAO,CAAA,CAAAzb,CAAA,GAAAN,CAAA,EAAA+b,CAAA,CAAA/b,CAAA,GAAAqG,CAAA,OAAA2V,CAAA,GAAAE,CAAA,KAAAZ,CAAA,GAAAvE,CAAA,QAAA1Q,CAAA,MAAArG,CAAA,IAAAA,CAAA,GAAAkc,CAAA,MAAA7V,CAAA,MAAA0Q,CAAA,EAAA1Q,CAAA,MAAArG,CAAA,EAAA+b,CAAA,CAAA/b,CAAA,GAAAkc,CAAA,EAAAV,CAAA,cAAAF,CAAA,IAAAvE,CAAA,aAAA1W,CAAA,QAAAyb,CAAA,OAAA9b,CAAA,qBAAAsb,CAAA,EAAAvb,CAAA,EAAAmc,CAAA,QAAAnM,CAAA,YAAAoM,SAAA,uCAAAL,CAAA,UAAA/b,CAAA,IAAAic,CAAA,CAAAjc,CAAA,EAAAmc,CAAA,GAAAV,CAAA,GAAAzb,CAAA,EAAA4b,CAAA,GAAAO,CAAA,GAAAf,CAAA,GAAAK,CAAA,OAAAtI,CAAA,GAAAyI,CAAA,MAAAG,CAAA,KAAAzV,CAAA,KAAAmV,CAAA,GAAAA,CAAA,QAAAA,CAAA,SAAAO,CAAA,CAAA/b,CAAA,QAAAgc,CAAA,CAAAR,CAAA,EAAAG,CAAA,KAAAI,CAAA,CAAA/b,CAAA,GAAA2b,CAAA,GAAAI,CAAA,CAAAzb,CAAA,GAAAqb,CAAA,aAAA5L,CAAA,MAAA1J,CAAA,QAAAmV,CAAA,KAAAF,CAAA,YAAAH,CAAA,GAAA9U,CAAA,CAAAiV,CAAA,WAAAH,CAAA,GAAAA,CAAA,CAAAiB,IAAA,CAAA/V,CAAA,EAAAsV,CAAA,UAAAQ,SAAA,2CAAAhB,CAAA,CAAApI,IAAA,SAAAoI,CAAA,EAAAQ,CAAA,GAAAR,CAAA,CAAAjc,KAAA,EAAAsc,CAAA,SAAAA,CAAA,oBAAAA,CAAA,KAAAL,CAAA,GAAA9U,CAAA,eAAA8U,CAAA,CAAAiB,IAAA,CAAA/V,CAAA,GAAAmV,CAAA,SAAAG,CAAA,GAAAQ,SAAA,uCAAAb,CAAA,gBAAAE,CAAA,OAAAnV,CAAA,GAAA6M,CAAA,cAAAiI,CAAA,IAAAW,CAAA,GAAAC,CAAA,CAAA/b,CAAA,QAAA2b,CAAA,GAAA5E,CAAA,CAAAqF,IAAA,CAAApc,CAAA,EAAA+b,CAAA,OAAA1b,CAAA,kBAAA8a,CAAA,IAAA9U,CAAA,GAAA6M,CAAA,EAAAsI,CAAA,MAAAG,CAAA,GAAAR,CAAA,cAAApL,CAAA,mBAAA7Q,KAAA,EAAAic,CAAA,EAAApI,IAAA,EAAA+I,CAAA,SAAA/E,CAAA,EAAAuE,CAAA,EAAAjV,CAAA,QAAAsV,CAAA,QAAAtb,CAAA,gBAAAqb,UAAA,cAAAW,kBAAA,cAAAC,2BAAA,KAAAnB,CAAA,GAAA9N,MAAA,CAAAkP,cAAA,MAAAf,CAAA,MAAAxb,CAAA,IAAAmb,CAAA,CAAAA,CAAA,IAAAnb,CAAA,SAAA6b,mBAAA,CAAAV,CAAA,OAAAnb,CAAA,iCAAAmb,CAAA,GAAAQ,CAAA,GAAAW,0BAAA,CAAAb,SAAA,GAAAC,SAAA,CAAAD,SAAA,GAAApO,MAAA,CAAAuO,MAAA,CAAAJ,CAAA,YAAAzL,EAAAmD,CAAA,WAAA7F,MAAA,CAAAmP,cAAA,GAAAnP,MAAA,CAAAmP,cAAA,CAAAtJ,CAAA,EAAAoJ,0BAAA,KAAApJ,CAAA,CAAAuJ,SAAA,GAAAH,0BAAA,EAAAT,mBAAA,CAAA3I,CAAA,EAAAoI,CAAA,yBAAApI,CAAA,CAAAuI,SAAA,GAAApO,MAAA,CAAAuO,MAAA,CAAAD,CAAA,GAAAzI,CAAA,WAAAmJ,iBAAA,CAAAZ,SAAA,GAAAa,0BAAA,EAAAT,mBAAA,CAAAF,CAAA,iBAAAW,0BAAA,GAAAT,mBAAA,CAAAS,0BAAA,iBAAAD,iBAAA,GAAAA,iBAAA,CAAAK,WAAA,wBAAAb,mBAAA,CAAAS,0BAAA,EAAAhB,CAAA,wBAAAO,mBAAA,CAAAF,CAAA,GAAAE,mBAAA,CAAAF,CAAA,EAAAL,CAAA,gBAAAO,mBAAA,CAAAF,CAAA,EAAA3b,CAAA,iCAAA6b,mBAAA,CAAAF,CAAA,8DAAAtc,YAAA,YAAAA,aAAA,aAAAQ,CAAA,EAAAwG,CAAA,EAAA/G,CAAA,EAAAyQ,CAAA;AAAA,SAAA8L,oBAAA3I,CAAA,EAAA6D,CAAA,EAAA/W,CAAA,EAAAmb,CAAA,QAAA9U,CAAA,GAAAgH,MAAA,CAAAsP,cAAA,QAAAtW,CAAA,uBAAA6M,CAAA,IAAA7M,CAAA,QAAAwV,mBAAA,YAAAe,mBAAA1J,CAAA,EAAA6D,CAAA,EAAA/W,CAAA,EAAAmb,CAAA,aAAAG,EAAAvE,CAAA,EAAA/W,CAAA,IAAA6b,mBAAA,CAAA3I,CAAA,EAAA6D,CAAA,YAAA7D,CAAA,gBAAA2J,OAAA,CAAA9F,CAAA,EAAA/W,CAAA,EAAAkT,CAAA,SAAA6D,CAAA,GAAA1Q,CAAA,GAAAA,CAAA,CAAA6M,CAAA,EAAA6D,CAAA,IAAA7X,KAAA,EAAAc,CAAA,EAAA8c,UAAA,GAAA3B,CAAA,EAAA4B,YAAA,GAAA5B,CAAA,EAAA6B,QAAA,GAAA7B,CAAA,MAAAjI,CAAA,CAAA6D,CAAA,IAAA/W,CAAA,IAAAsb,CAAA,aAAAA,CAAA,cAAAA,CAAA,mBAAAO,mBAAA,CAAA3I,CAAA,EAAA6D,CAAA,EAAA/W,CAAA,EAAAmb,CAAA;AAAA,SAAA8B,mBAAAjd,CAAA,EAAAmb,CAAA,EAAAjI,CAAA,EAAA6D,CAAA,EAAAuE,CAAA,EAAAjb,CAAA,EAAAmb,CAAA,cAAAnV,CAAA,GAAArG,CAAA,CAAAK,CAAA,EAAAmb,CAAA,GAAAG,CAAA,GAAAtV,CAAA,CAAAnH,KAAA,WAAAc,CAAA,gBAAAkT,CAAA,CAAAlT,CAAA,KAAAqG,CAAA,CAAA0M,IAAA,GAAAoI,CAAA,CAAAQ,CAAA,IAAAuB,OAAA,CAAAC,OAAA,CAAAxB,CAAA,EAAAyB,IAAA,CAAArG,CAAA,EAAAuE,CAAA;AAAA,SAAAlc,kBAAAY,CAAA,6BAAAmb,CAAA,SAAAjI,CAAA,GAAApS,SAAA,aAAAoc,OAAA,WAAAnG,CAAA,EAAAuE,CAAA,QAAAjb,CAAA,GAAAL,CAAA,CAAAa,KAAA,CAAAsa,CAAA,EAAAjI,CAAA,YAAAmK,MAAArd,CAAA,IAAAid,kBAAA,CAAA5c,CAAA,EAAA0W,CAAA,EAAAuE,CAAA,EAAA+B,KAAA,EAAAC,MAAA,UAAAtd,CAAA,cAAAsd,OAAAtd,CAAA,IAAAid,kBAAA,CAAA5c,CAAA,EAAA0W,CAAA,EAAAuE,CAAA,EAAA+B,KAAA,EAAAC,MAAA,WAAAtd,CAAA,KAAAqd,KAAA;AAAA,SAAAte,gBAAAsB,CAAA,EAAAL,CAAA,UAAAK,CAAA,YAAAL,CAAA,aAAAmc,SAAA;AAAA,SAAAoB,kBAAArK,CAAA,EAAA6D,CAAA,aAAAoE,CAAA,MAAAA,CAAA,GAAApE,CAAA,CAAA3S,MAAA,EAAA+W,CAAA,UAAAG,CAAA,GAAAvE,CAAA,CAAAoE,CAAA,GAAAG,CAAA,CAAAwB,UAAA,GAAAxB,CAAA,CAAAwB,UAAA,QAAAxB,CAAA,CAAAyB,YAAA,kBAAAzB,CAAA,KAAAA,CAAA,CAAA0B,QAAA,QAAA3P,MAAA,CAAAsP,cAAA,CAAAzJ,CAAA,EAAAsK,cAAA,CAAAlC,CAAA,CAAArc,GAAA,GAAAqc,CAAA;AAAA,SAAAtc,aAAAkU,CAAA,EAAA6D,CAAA,EAAAoE,CAAA,WAAApE,CAAA,IAAAwG,iBAAA,CAAArK,CAAA,CAAAuI,SAAA,EAAA1E,CAAA,GAAAoE,CAAA,IAAAoC,iBAAA,CAAArK,CAAA,EAAAiI,CAAA,GAAA9N,MAAA,CAAAsP,cAAA,CAAAzJ,CAAA,iBAAA8J,QAAA,SAAA9J,CAAA;AAAA,SAAAsK,eAAArC,CAAA,QAAA9U,CAAA,GAAAoX,YAAA,CAAAtC,CAAA,gCAAAuC,OAAA,CAAArX,CAAA,IAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAoX,aAAAtC,CAAA,EAAApE,CAAA,oBAAA2G,OAAA,CAAAvC,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAAjI,CAAA,GAAAiI,CAAA,CAAAC,MAAA,CAAAuC,WAAA,kBAAAzK,CAAA,QAAA7M,CAAA,GAAA6M,CAAA,CAAAkJ,IAAA,CAAAjB,CAAA,EAAApE,CAAA,gCAAA2G,OAAA,CAAArX,CAAA,UAAAA,CAAA,YAAA8V,SAAA,yEAAApF,CAAA,GAAA6G,MAAA,GAAAC,MAAA,EAAA1C,CAAA;AADA;AACA;AACA;AACA;;AAEoE;AAE7D,IAAMqG,YAAY;EACvB,SAAAA,aAAYzD,MAAM,EAAE;IAAAhf,eAAA,OAAAyiB,YAAA;IAClB,IAAI,CAACzD,MAAM,GAAGA,MAAM;IACpB,IAAI,CAAC0D,UAAU,GAAG,IAAI;IACtB,IAAI,CAACC,WAAW,GAAG,IAAI;EACzB;;EAEA;AACF;AACA;EAFE,OAAA1iB,YAAA,CAAAwiB,YAAA;IAAAviB,GAAA;IAAAC,KAAA;MAAA,IAAAyiB,sBAAA,GAAAviB,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAAC,QAAA;QAAA,IAAAkK,KAAA;QAAA,IAAAmY,WAAA,EAAA1D,KAAA,EAAAE,MAAA,EAAAyD,YAAA,EAAAC,WAAA,EAAAC,SAAA,EAAAC,cAAA,EAAApiB,EAAA;QAAA,OAAAP,YAAA,GAAAQ,CAAA,WAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,CAAA,GAAAD,QAAA,CAAAE,CAAA;YAAA;cAAAF,QAAA,CAAAC,CAAA;cAAAD,QAAA,CAAAE,CAAA;cAAA,OAE8B,IAAI,CAAC+d,MAAM,CAACkE,UAAU,CAACzD,yBAAyB,CAAC,CAAC;YAAA;cAAtEoD,WAAW,GAAA9hB,QAAA,CAAAQ,CAAA;cAAA,IAEZshB,WAAW,CAACvD,OAAO;gBAAAve,QAAA,CAAAE,CAAA;gBAAA;cAAA;cACtB,IAAI,CAAC+d,MAAM,CAACrW,GAAG,CAAC,sCAAsC,CAAC;cAAC,OAAA5H,QAAA,CAAAO,CAAA,IACjD,KAAK;YAAA;cAGN6d,KAAK,GAAa0D,WAAW,CAA7B1D,KAAK,EAAEE,MAAM,GAAKwD,WAAW,CAAtBxD,MAAM,EAErB;cACMyD,YAAY,GAAGN,gFAAsB,CAACY,gBAAgB,CAACjE,KAAK,EAAEE,MAAM,CAAC;cAC3EyD,YAAY,CAACO,yBAAyB,GAAG,IAAI,CAACrE,MAAM,CAACiB,KAAK,CAAC/b,QAAQ;cAE7D6e,WAAW,GAAGP,+EAAqB,CAACe,0BAA0B,CAAC,CAAC;cACtE,IAAI,CAACb,UAAU,GAAG,IAAIF,oFAA0B,CAACM,YAAY,EAAEC,WAAW,CAAC;;cAE3E;cACA,IAAI,CAACL,UAAU,CAACe,WAAW,GAAG,UAAC1P,CAAC,EAAEI,CAAC,EAAK;gBACtC,IAAIA,CAAC,CAACzQ,MAAM,CAACmB,IAAI,EAAE;kBACjB6F,KAAI,CAACsU,MAAM,CAAC0E,QAAQ,CAAC;oBAAEhjB,UAAU,EAAEyT,CAAC,CAACzQ,MAAM,CAACmB,IAAI,CAAC3D,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC;kBAAE,CAAC,CAAC;gBAC1E;cACF,CAAC;cAED,IAAI,CAACuhB,UAAU,CAACiB,UAAU,GAAG,UAAC5P,CAAC,EAAEI,CAAC,EAAK;gBACrC,IAAIA,CAAC,CAACzQ,MAAM,CAACkgB,MAAM,KAAKpB,gFAAsB,CAACsB,gBAAgB,IAAI3P,CAAC,CAACzQ,MAAM,CAACmB,IAAI,EAAE;kBAChF,IAAMpE,OAAO,GAAG0T,CAAC,CAACzQ,MAAM,CAACmB,IAAI,CAAC3D,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;kBAClDuJ,KAAI,CAACsU,MAAM,CAAC0E,QAAQ,CAAC;oBAAEhjB,UAAU,EAAED;kBAAQ,CAAC,CAAC;kBAC7CiK,KAAI,CAACsU,MAAM,CAAC+E,kBAAkB,CAACtjB,OAAO,CAAC;gBACzC;cACF,CAAC;cAED,IAAI,CAACiiB,UAAU,CAACsB,QAAQ,GAAG,UAACjQ,CAAC,EAAEI,CAAC,EAAK;gBACnC,IAAIA,CAAC,CAACyP,MAAM,KAAKpB,sFAA4B,CAAC0B,WAAW,EAAE;kBACzDxZ,KAAI,CAACsU,MAAM,CAACrW,GAAG,CAAC,kCAAkC,EAAEwL,CAAC,CAACyP,MAAM,CAAC;gBAC/D;cACF,CAAC;;cAED;cACA,IAAI,CAAClB,UAAU,CAACyB,+BAA+B,CAC7C,YAAM;gBACJzZ,KAAI,CAACsU,MAAM,CAACrW,GAAG,CAAC,gCAAgC,CAAC;cACnD,CAAC,EACD,UAACyb,GAAG,EAAK;gBACP1Z,KAAI,CAACsU,MAAM,CAACrW,GAAG,CAAC,yCAAyC,EAAEyb,GAAG,CAAC;cACjE,CACF,CAAC;;cAED;cACMpB,SAAS,GAAGR,gFAAsB,CAACY,gBAAgB,CAACjE,KAAK,EAAEE,MAAM,CAAC;cACxE2D,SAAS,CAACqB,uBAAuB,GAAG,IAAI,CAACrF,MAAM,CAACiB,KAAK,CAAC/b,QAAQ;cAC9D;cACA8e,SAAS,CAACsB,wBAAwB,GAAG,IAAI,CAACtF,MAAM,CAACiB,KAAK,CAAC/b,QAAQ,KAAK,OAAO,GACvE,mBAAmB,GACnB,mBAAmB;cAEjB+e,cAAc,GAAGT,+EAAqB,CAAC+B,wBAAwB,CAAC,CAAC;cACvE,IAAI,CAAC5B,WAAW,GAAG,IAAIH,qFAA2B,CAACQ,SAAS,EAAEC,cAAc,CAAC;cAE7E,IAAI,CAACjE,MAAM,CAACrW,GAAG,CAAC,qCAAqC,CAAC;cAAC,OAAA5H,QAAA,CAAAO,CAAA,IAChD,IAAI;YAAA;cAAAP,QAAA,CAAAC,CAAA;cAAAH,EAAA,GAAAE,QAAA,CAAAQ,CAAA;cAEX,IAAI,CAACyd,MAAM,CAACrW,GAAG,CAAC,mCAAmC,EAAA9H,EAAO,CAAC;cAAC,OAAAE,QAAA,CAAAO,CAAA,IACrD,KAAK;UAAA;QAAA,GAAAd,OAAA;MAAA,CAEf;MAAA,SAlEKikB,qBAAqBA,CAAA;QAAA,OAAA7B,sBAAA,CAAA9gB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAArB0iB,qBAAqB;IAAA;IAoE3B;AACF;AACA;IAFE;EAAA;IAAAvkB,GAAA;IAAAC,KAAA;MAAA,IAAA0a,MAAA,GAAAxa,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAAgD,SAAA;QAAA,IAAAmhB,WAAA,EAAA9O,OAAA;QAAA,OAAAtV,YAAA,GAAAQ,CAAA,WAAA6C,SAAA;UAAA,kBAAAA,SAAA,CAAA1C,CAAA;YAAA;cAAA0C,SAAA,CAAA1C,CAAA;cAAA,OAC4B,IAAI,CAACwjB,qBAAqB,CAAC,CAAC;YAAA;cAAhDC,WAAW,GAAA/gB,SAAA,CAAApC,CAAA;cAEjB,IAAImjB,WAAW,EAAE;gBACT9O,OAAO,GAAG,IAAI,CAACoJ,MAAM,CAACiB,KAAK,CAAC/b,QAAQ,KAAK,OAAO,GAClD,uBAAuB,GACvB,wBAAwB;gBAC5B,IAAI,CAAC4N,KAAK,CAAC8D,OAAO,CAAC;cACrB,CAAC,MAAM;gBACL,IAAI,CAAC9D,KAAK,CAAC,kCAAkC,CAAC;gBAC9C,IAAI,CAACkN,MAAM,CAAC0E,QAAQ,CAAC;kBAAEjL,WAAW,EAAE;gBAAM,CAAC,CAAC;cAC9C;YAAC;cAAA,OAAA9U,SAAA,CAAArC,CAAA;UAAA;QAAA,GAAAiC,QAAA;MAAA,CACF;MAAA,SAZK8V,KAAKA,CAAA;QAAA,OAAAwB,MAAA,CAAA/Y,KAAA,OAAAC,SAAA;MAAA;MAAA,OAALsX,KAAK;IAAA;IAcX;AACF;AACA;IAFE;EAAA;IAAAnZ,GAAA;IAAAC,KAAA,EAGA,SAAA8a,IAAIA,CAAA,EAAG;MAAA,IAAA3P,MAAA;MACL,IAAI,IAAI,CAACoX,UAAU,EAAE;QACnB,IAAI,CAACA,UAAU,CAACiC,8BAA8B,CAC5C,YAAM;UACJrZ,MAAI,CAACoX,UAAU,CAACkC,KAAK,CAAC,CAAC;UACvBtZ,MAAI,CAACoX,UAAU,GAAG,IAAI;UACtBpX,MAAI,CAAC0T,MAAM,CAACrW,GAAG,CAAC,gCAAgC,CAAC;QACnD,CAAC,EACD,UAACyb,GAAG,EAAK;UACP9Y,MAAI,CAAC0T,MAAM,CAACrW,GAAG,CAAC,wCAAwC,EAAEyb,GAAG,CAAC;QAChE,CACF,CAAC;MACH;MAEA,IAAI,IAAI,CAACzB,WAAW,EAAE;QACpB,IAAI,CAACA,WAAW,CAACiC,KAAK,CAAC,CAAC;QACxB,IAAI,CAACjC,WAAW,GAAG,IAAI;MACzB;MAEA,IAAI,CAAC3D,MAAM,CAAC0E,QAAQ,CAAC;QAAEhjB,UAAU,EAAE;MAAG,CAAC,CAAC;IAC1C;;IAEA;AACF;AACA;EAFE;IAAAR,GAAA;IAAAC,KAAA,EAGA,SAAA2R,KAAKA,CAACjN,IAAI,EAAE;MAAA,IAAAkJ,MAAA;MACV,IAAI,CAAC,IAAI,CAACiR,MAAM,CAACiB,KAAK,CAAC4E,YAAY,EAAE;QACnC,IAAI,CAAC7F,MAAM,CAACrW,GAAG,CAAC,qCAAqC,CAAC;QACtD;MACF;MAEA,IAAI,IAAI,CAACga,WAAW,EAAE;QACpB,IAAI,CAAC3D,MAAM,CAACrW,GAAG,CAAC,eAAe,EAAE9D,IAAI,CAAC;QACtC,IAAI,CAAC8d,WAAW,CAACmC,cAAc,CAC7BjgB,IAAI,EACJ,YAAM;UACJkJ,MAAI,CAACiR,MAAM,CAACrW,GAAG,CAAC,+BAA+B,CAAC;QAClD,CAAC,EACD,UAAClH,KAAK,EAAK;UACTsM,MAAI,CAACiR,MAAM,CAACrW,GAAG,CAAC,6BAA6B,EAAElH,KAAK,CAAC;QACvD,CACF,CAAC;MACH,CAAC,MAAM;QACL,IAAI,CAACud,MAAM,CAACrW,GAAG,CAAC,yCAAyC,CAAC;MAC5D;IACF;;IAEA;AACF;AACA;EAFE;IAAAzI,GAAA;IAAAC,KAAA,EAGA,SAAA4kB,YAAYA,CAAA,EAAG;MACb;MACA,IAAMnP,OAAO,GAAG,IAAI,CAACoJ,MAAM,CAACiB,KAAK,CAAC/b,QAAQ,KAAK,OAAO,GAAG,SAAS,GAAG,SAAS;MAC9E,IAAI,CAAC4N,KAAK,CAAC8D,OAAO,CAAC;IACrB;;IAEA;AACF;AACA;EAFE;IAAA1V,GAAA;IAAAC,KAAA;MAAA,IAAA6kB,aAAA,GAAA3kB,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAAoH,SAAA;QAAA,OAAArH,YAAA,GAAAQ,CAAA,WAAAkH,SAAA;UAAA,kBAAAA,SAAA,CAAA/G,CAAA;YAAA;cACE,IAAI,CAAC+d,MAAM,CAACrW,GAAG,CAAC,mDAAmD,CAAC;cACpE,IAAI,CAACsS,IAAI,CAAC,CAAC;cAACjT,SAAA,CAAA/G,CAAA;cAAA,OAEN,IAAIkd,OAAO,CAAC,UAAAC,OAAO;gBAAA,OAAIrE,UAAU,CAACqE,OAAO,EAAE,GAAG,CAAC;cAAA,EAAC;YAAA;cAAA,KAElD,IAAI,CAACY,MAAM,CAACiB,KAAK,CAACxH,WAAW;gBAAAzQ,SAAA,CAAA/G,CAAA;gBAAA;cAAA;cAAA+G,SAAA,CAAA/G,CAAA;cAAA,OACzB,IAAI,CAACoY,KAAK,CAAC,CAAC;YAAA;cAAA,OAAArR,SAAA,CAAA1G,CAAA;UAAA;QAAA,GAAAqG,QAAA;MAAA,CAErB;MAAA,SATKsd,YAAYA,CAAA;QAAA,OAAAD,aAAA,CAAAljB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAZkjB,YAAY;IAAA;EAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpKpB;AACA;AACA;AACA;AACA;;AAEO,IAAMC,gBAAgB;EAC3B,SAAAA,iBAAYlG,MAAM,EAAE;IAAAhf,eAAA,OAAAklB,gBAAA;IAClB,IAAI,CAAClG,MAAM,GAAGA,MAAM;EACtB;;EAEA;AACF;AACA;EAFE,OAAA/e,YAAA,CAAAilB,gBAAA;IAAAhlB,GAAA;IAAAC,KAAA,EAGA,SAAAglB,aAAaA,CAACzjB,MAAM,EAAmB;MAAA,IAAAgJ,KAAA;MAAA,IAAjBvI,UAAU,GAAAJ,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAG,CAAC,CAAC;MACnC,IAAI,CAACid,MAAM,CAACrW,GAAG,CAAC,qBAAqB,EAAEjH,MAAM,EAAES,UAAU,CAAC;;MAE1D;MACA,IAAMijB,aAAa,GAAG;QACpB,eAAe,EAAE,QAAQ;QACzB,kBAAkB,EAAE,QAAQ;QAC5B,cAAc,EAAE,QAAQ;QACxB,YAAY,EAAE,KAAK;QACnB,eAAe,EAAE,KAAK;QACtB,WAAW,EAAE,KAAK;QAClB,eAAe,EAAE,QAAQ;QACzB,kBAAkB,EAAE,QAAQ;QAC5B,cAAc,EAAE,QAAQ;QACxB,SAAS,EAAE,MAAM;QACjB,gBAAgB,EAAE,aAAa;QAC/B,UAAU,EAAE;MACd,CAAC;;MAED;MACA,IAAMC,YAAY,GAAGD,aAAa,CAAC1jB,MAAM,CAAC,IAAIA,MAAM;MAEpD,IAAM4jB,OAAO,GAAG;QACd;QACA,WAAW,EAAE,SAAbC,SAAWA,CAAA;UAAA,OAAQjhB,MAAM,CAACkhB,QAAQ,CAAC;YAAExc,GAAG,EAAE,CAAC,GAAG;YAAEX,QAAQ,EAAE;UAAS,CAAC,CAAC;QAAA;QACrE,aAAa,EAAE,SAAfod,WAAaA,CAAA;UAAA,OAAQnhB,MAAM,CAACkhB,QAAQ,CAAC;YAAExc,GAAG,EAAE,GAAG;YAAEX,QAAQ,EAAE;UAAS,CAAC,CAAC;QAAA;QACtE,eAAe,EAAE,SAAjBqd,aAAeA,CAAA;UAAA,OAAQphB,MAAM,CAACyE,QAAQ,CAAC;YAAEC,GAAG,EAAE,CAAC;YAAEX,QAAQ,EAAE;UAAS,CAAC,CAAC;QAAA;QACtE,kBAAkB,EAAE,SAApBsd,gBAAkBA,CAAA;UAAA,OAAQrhB,MAAM,CAACyE,QAAQ,CAAC;YAAEC,GAAG,EAAE/F,QAAQ,CAACyN,eAAe,CAACzH,YAAY;YAAEZ,QAAQ,EAAE;UAAS,CAAC,CAAC;QAAA;QAC7G,KAAK,EAAE,SAAPW,GAAKA,CAAA;UAAA,OAAQ1E,MAAM,CAACyE,QAAQ,CAAC;YAAEC,GAAG,EAAE,CAAC;YAAEX,QAAQ,EAAE;UAAS,CAAC,CAAC;QAAA;QAC5D,QAAQ,EAAE,SAAVud,MAAQA,CAAA;UAAA,OAAQthB,MAAM,CAACyE,QAAQ,CAAC;YAAEC,GAAG,EAAE/F,QAAQ,CAACyN,eAAe,CAACzH,YAAY;YAAEZ,QAAQ,EAAE;UAAS,CAAC,CAAC;QAAA;QACnG,QAAQ,EAAE,SAAVwd,MAAQA,CAAA;UAAA,OAAQvhB,MAAM,CAACyE,QAAQ,CAAC;YAAEC,GAAG,EAAE/F,QAAQ,CAACyN,eAAe,CAACzH,YAAY,GAAG,CAAC;YAAEZ,QAAQ,EAAE;UAAS,CAAC,CAAC;QAAA;QAEvG;QACA,SAAS,EAAE,SAAXyd,OAASA,CAAA,EAAQ;UACf,IAAMC,WAAW,GAAGC,UAAU,CAAC/iB,QAAQ,CAACc,IAAI,CAACkiB,KAAK,CAACC,IAAI,IAAI,GAAG,CAAC;UAC/DjjB,QAAQ,CAACc,IAAI,CAACkiB,KAAK,CAACC,IAAI,MAAA7jB,MAAA,CAAM0jB,WAAW,GAAG,GAAG,CAAE;QACnD,CAAC;QACD,UAAU,EAAE,SAAZI,QAAUA,CAAA,EAAQ;UAChB,IAAMJ,WAAW,GAAGC,UAAU,CAAC/iB,QAAQ,CAACc,IAAI,CAACkiB,KAAK,CAACC,IAAI,IAAI,GAAG,CAAC;UAC/DjjB,QAAQ,CAACc,IAAI,CAACkiB,KAAK,CAACC,IAAI,MAAA7jB,MAAA,CAAM6E,IAAI,CAACC,GAAG,CAAC,GAAG,EAAE4e,WAAW,GAAG,GAAG,CAAC,CAAE;QAClE,CAAC;QACD,YAAY,EAAE,SAAdK,UAAYA,CAAA,EAAQ;UAClBnjB,QAAQ,CAACc,IAAI,CAACkiB,KAAK,CAACC,IAAI,GAAG,GAAG;QAChC,CAAC;QAED;QACA,MAAM,EAAE,SAARG,IAAMA,CAAA;UAAA,OAAQ3b,KAAI,CAAC4b,cAAc,CAAC,GAAG,CAAC;QAAA;QACtC,UAAU,EAAE,SAAZC,QAAUA,CAAA;UAAA,OAAQ7b,KAAI,CAAC4b,cAAc,CAAC,WAAW,CAAC;QAAA;QAClD,SAAS,EAAE,SAAXE,OAASA,CAAA;UAAA,OAAQ9b,KAAI,CAAC4b,cAAc,CAAC,UAAU,CAAC;QAAA;QAChD,OAAO,EAAE,SAATG,KAAOA,CAAA;UAAA,OAAQ/b,KAAI,CAAC4b,cAAc,CAAC,WAAW,CAAC;QAAA;QAC/C,SAAS,EAAE,SAAXI,OAASA,CAAA;UAAA,OAAQhc,KAAI,CAAC4b,cAAc,CAAC,aAAa,CAAC;QAAA;QACnD,WAAW,EAAE,SAAbK,SAAWA,CAAA;UAAA,OAAQjc,KAAI,CAAC4b,cAAc,CAAC,YAAY,CAAC;QAAA;QACpD,SAAS,EAAE,SAAXM,OAASA,CAAA;UAAA,OAAQlc,KAAI,CAAC4b,cAAc,CAAC,UAAU,CAAC;QAAA;QAChD,UAAU,EAAE,SAAZO,QAAUA,CAAA;UAAA,OAAQnc,KAAI,CAAC4b,cAAc,CAAC,kBAAkB,CAAC;QAAA;QAEzD;QACA,SAAS,EAAE,SAAXQ,OAASA,CAAA;UAAA,OAAQpc,KAAI,CAAC4b,cAAc,CAAC,mBAAmB,CAAC;QAAA;QACzD,aAAa,EAAE,SAAfS,WAAaA,CAAA;UAAA,OAAQrc,KAAI,CAAC4b,cAAc,CAAC,0BAA0B,CAAC;QAAA;QACpE,iBAAiB,EAAE,SAAnBU,eAAiBA,CAAA;UAAA,OAAQtc,KAAI,CAAC4b,cAAc,CAAC,qCAAqC,CAAC;QAAA;QAEnF;QACA,gBAAgB,EAAE,SAAlBW,cAAgBA,CAAA;UAAA,OAAQvc,KAAI,CAAC4b,cAAc,CAAC,2BAA2B,CAAC;QAAA;QACxE,cAAc,EAAE,SAAhBY,YAAcA,CAAA;UAAA,OAAQxc,KAAI,CAAC4b,cAAc,CAAC,yBAAyB,CAAC;QAAA;QAEpE;QACA,SAAS,EAAE,SAAXa,OAASA,CAAA;UAAA,OAAQzc,KAAI,CAAC4b,cAAc,CAAC,uCAAuC,CAAC;QAAA;QAC7E,YAAY,EAAE,SAAdc,UAAYA,CAAA;UAAA,OAAQ1c,KAAI,CAAC4b,cAAc,CAAC,kCAAkC,CAAC;QAAA;QAC3E,WAAW,EAAE,SAAbe,SAAWA,CAAA;UAAA,OAAQ3c,KAAI,CAAC4b,cAAc,CAAC,kCAAkC,CAAC;QAAA;QAE1E;QACA,UAAU,EAAE,SAAZgB,QAAUA,CAAA;UAAA,OAAQ5c,KAAI,CAAC6c,mBAAmB,CAACplB,UAAU,CAAC;QAAA;QAEtD;QACA,WAAW,EAAE,SAAbqlB,SAAWA,CAAA;UAAA,OAAQ9c,KAAI,CAAC+c,mBAAmB,CAACtlB,UAAU,CAAC;QAAA;QAEvD;QACA,OAAO,EAAE,SAAT+F,KAAOA,CAAA;UAAA,OAAQwC,KAAI,CAACgd,uBAAuB,CAACvlB,UAAU,CAAC;QAAA;QAEvD;QACA,MAAM,EAAE,SAARwlB,IAAMA,CAAA;UAAA,OAAQrjB,MAAM,CAACsjB,OAAO,CAACD,IAAI,CAAC,CAAC;QAAA;QACnC,SAAS,EAAE,SAAXE,OAASA,CAAA;UAAA,OAAQvjB,MAAM,CAACsjB,OAAO,CAACC,OAAO,CAAC,CAAC;QAAA;QACzC,SAAS,EAAE,SAAX7L,OAASA,CAAA;UAAA,OAAQ1X,MAAM,CAACC,QAAQ,CAACujB,MAAM,CAAC,CAAC;QAAA;QACzC,OAAO,EAAE,SAATC,KAAOA,CAAA;UAAA,OAAQzjB,MAAM,CAACyjB,KAAK,CAAC,CAAC;QAAA;QAC7B,eAAe,EAAE,SAAjBC,aAAeA,CAAA;UAAA,OAAQtd,KAAI,CAACsU,MAAM,CAAC0E,QAAQ,CAAC;YAAEuE,YAAY,EAAE;UAAM,CAAC,CAAC;QAAA;QACpE,eAAe,EAAE,SAAjBC,aAAeA,CAAA;UAAA,OAAQxd,KAAI,CAACsU,MAAM,CAAC0E,QAAQ,CAAC;YAAEuE,YAAY,EAAE;UAAK,CAAC,CAAC;QAAA;QAEnE;QACA,MAAM,EAAE,SAARE,IAAMA,CAAA;UAAA,OAAQzd,KAAI,CAAC0d,eAAe,CAAC,CAAC;QAAA;QACpC,cAAc,EAAE,SAAhBC,YAAcA,CAAA;UAAA,OAAQ3d,KAAI,CAACsU,MAAM,CAAC+F,YAAY,CAAC,CAAC;QAAA;MAClD,CAAC;MAED,IAAMuD,QAAQ,GAAGhD,OAAO,CAACD,YAAY,CAAC;MACtC,IAAIiD,QAAQ,EAAE;QACZA,QAAQ,CAAC,CAAC;QACV,OAAO,IAAI;MACb;MACA,OAAO,KAAK;IACd;;IAEA;AACF;AACA;EAFE;IAAApoB,GAAA;IAAAC,KAAA,EAGA,SAAAmmB,cAAcA,CAAC9P,IAAI,EAAE;MACnBlS,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGgS,IAAI;IAC7B;;IAEA;AACF;AACA;EAFE;IAAAtW,GAAA;IAAAC,KAAA,EAGA,SAAAioB,eAAeA,CAAA,EAAG;MAChB,IAAMG,WAAW,GAAGtlB,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC,IAAID,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC,IAAID,QAAQ,CAACc,IAAI;MAC9G,IAAIwkB,WAAW,EAAE;QAAA,IAAAC,qBAAA;QACf,IAAM3jB,IAAI,GAAG,EAAA2jB,qBAAA,GAAAD,WAAW,CAAC9iB,WAAW,cAAA+iB,qBAAA,uBAAvBA,qBAAA,CAAyB5Z,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,KAAI,oBAAoB;QAC3E,IAAI,CAACoQ,MAAM,CAAClN,KAAK,CAACjN,IAAI,CAAC;MACzB;IACF;;IAEA;AACF;AACA;EAFE;IAAA3E,GAAA;IAAAC,KAAA,EAGA,SAAAsnB,mBAAmBA,CAACtlB,UAAU,EAAE;MAAA,IAAAmJ,MAAA;MAC9B,IAAI,CAAC0T,MAAM,CAACrW,GAAG,CAAC,4BAA4B,EAAExG,UAAU,CAAC;MAEzD,IAAQf,WAAW,GAAK,IAAI,CAAC4d,MAAM,CAACiB,KAAK,CAAjC7e,WAAW;MAEnB,IAAI,CAACA,WAAW,IAAIA,WAAW,CAACuI,KAAK,CAACtE,MAAM,KAAK,CAAC,EAAE;QAClD,IAAI,CAAC2Z,MAAM,CAACrW,GAAG,CAAC,+BAA+B,CAAC;QAChD;MACF;;MAEA;MACA,IAAI8f,UAAU,GAAGrnB,WAAW,CAACuI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;;MAEvC;MACA,IAAIvI,WAAW,CAACuI,KAAK,CAACtE,MAAM,GAAG,CAAC,IAAIlD,UAAU,EAAE;QAC9C,IAAMumB,SAAS,GAAGpa,MAAM,CAACC,IAAI,CAACpM,UAAU,CAAC0I,MAAM,IAAI1I,UAAU,CAAC;QAAC,IAAAsR,SAAA,GAAAK,0BAAA,CAC5C1S,WAAW,CAACuI,KAAK;UAAA+J,KAAA;QAAA;UAApC,KAAAD,SAAA,CAAAM,CAAA,MAAAL,KAAA,GAAAD,SAAA,CAAAxS,CAAA,IAAA+S,IAAA,GAAsC;YAAA,IAA3BhR,IAAI,GAAA0Q,KAAA,CAAAvT,KAAA;YACb,IAAMwoB,gBAAgB,GAAG3lB,IAAI,CAAC6H,MAAM,CAACwM,IAAI,CAAC,UAAArG,CAAC;cAAA,OACzC0X,SAAS,CAACrR,IAAI,CAAC,UAAAnX,GAAG;gBAAA,IAAA0oB,OAAA,EAAAtT,QAAA;gBAAA,OAChB,EAAAsT,OAAA,GAAA5X,CAAC,CAACpF,IAAI,cAAAgd,OAAA,uBAANA,OAAA,CAAQ1nB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAAChC,GAAG,CAACgB,WAAW,CAAC,CAAC,CAAC,OAAAoU,QAAA,GACjDtE,CAAC,CAAClF,KAAK,cAAAwJ,QAAA,uBAAPA,QAAA,CAASpU,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAAChC,GAAG,CAACgB,WAAW,CAAC,CAAC,CAAC,KAClD8P,CAAC,CAACtF,IAAI,KAAKxL,GAAG,CAACgB,WAAW,CAAC,CAAC,IAC3BhB,GAAG,KAAK,OAAO,IAAI8Q,CAAC,CAACtF,IAAI,KAAK,OAAQ;cAAA,CACzC,CAAC;YAAA,CACH,CAAC;YACD,IAAIid,gBAAgB,EAAE;cACpBF,UAAU,GAAGzlB,IAAI;cACjB;YACF;UACF;QAAC,SAAAohB,GAAA;UAAA3Q,SAAA,CAAAU,CAAA,CAAAiQ,GAAA;QAAA;UAAA3Q,SAAA,CAAAzC,CAAA;QAAA;MACH;MAEA,IAAI,CAACgO,MAAM,CAACrW,GAAG,CAAC,4BAA4B,EAAE8f,UAAU,CAACvd,EAAE,EAAE,MAAM,EAAEud,UAAU,CAAC5d,MAAM,CAACxF,MAAM,EAAE,QAAQ,CAAC;;MAExG;MACA,IAAMwjB,WAAW,GAAG1mB,UAAU,CAAC0I,MAAM,IAAI1I,UAAU;MACnD,IAAI,CAAC6c,MAAM,CAACrW,GAAG,CAAC,sCAAsC,EAAEkgB,WAAW,CAAC;MAEpE,IAAIC,WAAW,GAAG,CAAC;MACnB,IAAMC,YAAY,GAAG,EAAE;;MAEvB;MACAza,MAAM,CAACmH,OAAO,CAACoT,WAAW,CAAC,CAACla,OAAO,CAAC,UAAA6B,IAAA,EAAkB;QAAA,IAAAwY,KAAA,GAAA5T,cAAA,CAAA5E,IAAA;UAAhBtQ,GAAG,GAAA8oB,KAAA;UAAE7oB,KAAK,GAAA6oB,KAAA;QAC9C1d,MAAI,CAAC0T,MAAM,CAACrW,GAAG,gDAAAtG,MAAA,CAAsCnC,GAAG,SAAAmC,MAAA,CAAMlC,KAAK,CAAE,CAAC;;QAEtE;QACA,IAAMwL,KAAK,GAAG8c,UAAU,CAAC5d,MAAM,CAACkG,IAAI,CAAC,UAACC,CAAC,EAAK;UAAA,IAAAiY,QAAA,EAAAC,SAAA,EAAAC,KAAA,EAAAC,cAAA;UAC1C,IAAMC,QAAQ,GAAGnpB,GAAG,CAACgB,WAAW,CAAC,CAAC;;UAElC;UACA,IAAImoB,QAAQ,KAAK,OAAO,IAAIrY,CAAC,CAACtF,IAAI,KAAK,OAAO,EAAE,OAAO,IAAI;;UAE3D;UACA,OAAO,EAAAud,QAAA,GAAAjY,CAAC,CAACpF,IAAI,cAAAqd,QAAA,uBAANA,QAAA,CAAQ/nB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAACmnB,QAAQ,CAAC,OAAAH,SAAA,GACxClY,CAAC,CAAClF,KAAK,cAAAod,SAAA,uBAAPA,SAAA,CAAShoB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAACmnB,QAAQ,CAAC,OAAAF,KAAA,GACzCnY,CAAC,CAAC9F,EAAE,cAAAie,KAAA,uBAAJA,KAAA,CAAMjoB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAACmnB,QAAQ,CAAC,OAAAD,cAAA,GACtCpY,CAAC,CAAChF,WAAW,cAAAod,cAAA,uBAAbA,cAAA,CAAeloB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAACmnB,QAAQ,CAAC,KAC/CrY,CAAC,CAACtF,IAAI,KAAK2d,QAAQ;QAC5B,CAAC,CAAC;QAEF,IAAI1d,KAAK,EAAE;UACTL,MAAI,CAAC0T,MAAM,CAACrW,GAAG,oCAA+BgD,KAAK,CAAC;UAEpD,IAAIF,KAAK,GAAG,IAAI;;UAEhB;UACA,IAAIE,KAAK,CAACD,IAAI,KAAK,OAAO,EAAE;YAC1B,IAAM4d,WAAW,GAAGrmB,QAAQ,CAACiC,gBAAgB,CAAC,qBAAqB,CAAC;YACpE,IAAIokB,WAAW,CAACjkB,MAAM,KAAK,CAAC,EAAE;cAC5BoG,KAAK,GAAG6d,WAAW,CAAC,CAAC,CAAC;cACtBhe,MAAI,CAAC0T,MAAM,CAACrW,GAAG,CAAC,iDAAiD,CAAC;YACpE,CAAC,MAAM,IAAI2gB,WAAW,CAACjkB,MAAM,GAAG,CAAC,EAAE;cACjC,IAAMkkB,WAAW,GAAGtmB,QAAQ,CAACC,aAAa,KAAAb,MAAA,CAAKomB,UAAU,CAACvd,EAAE,CAAE,CAAC,IAC7CjI,QAAQ,CAACiC,gBAAgB,CAAC,MAAM,CAAC,CAAC9D,WAAW,CAACuI,KAAK,CAACwF,OAAO,CAACsZ,UAAU,CAAC,CAAC;cAC1F,IAAIc,WAAW,EAAE;gBACf9d,KAAK,GAAG8d,WAAW,CAACrmB,aAAa,CAAC,qBAAqB,CAAC;gBACxD,IAAIuI,KAAK,EAAEH,MAAI,CAAC0T,MAAM,CAACrW,GAAG,CAAC,iDAAiD,CAAC;cAC/E;YACF;UACF;;UAEA;UACA,IAAI,CAAC8C,KAAK,IAAIE,KAAK,CAACC,IAAI,IAAI,CAACD,KAAK,CAACC,IAAI,CAAC4d,UAAU,CAAC,QAAQ,CAAC,EAAE;YAC5D/d,KAAK,GAAGxI,QAAQ,CAACC,aAAa,iBAAAb,MAAA,CAAgBsJ,KAAK,CAACC,IAAI,yBAAAvJ,MAAA,CAAoBsJ,KAAK,CAACC,IAAI,2BAAAvJ,MAAA,CAAsBsJ,KAAK,CAACC,IAAI,QAAI,CAAC;YAC3H,IAAIH,KAAK,EAAEH,MAAI,CAAC0T,MAAM,CAACrW,GAAG,CAAC,+BAA+B,EAAEgD,KAAK,CAACC,IAAI,CAAC;UACzE;;UAEA;UACA,IAAI,CAACH,KAAK,IAAIE,KAAK,CAACT,EAAE,IAAI,CAACS,KAAK,CAACT,EAAE,CAACse,UAAU,CAAC,QAAQ,CAAC,EAAE;YACxD/d,KAAK,GAAGxI,QAAQ,CAACC,aAAa,KAAAb,MAAA,CAAKsJ,KAAK,CAACT,EAAE,CAAE,CAAC;YAC9C,IAAIO,KAAK,EAAEH,MAAI,CAAC0T,MAAM,CAACrW,GAAG,CAAC,6BAA6B,EAAEgD,KAAK,CAACT,EAAE,CAAC;UACrE;;UAEA;UACA,IAAI,CAACO,KAAK,IAAIE,KAAK,CAACG,KAAK,EAAE;YACzB,IAAM2d,MAAM,GAAGzkB,KAAK,CAACC,IAAI,CAAChC,QAAQ,CAACiC,gBAAgB,CAAC,OAAO,CAAC,CAAC;YAC7D,IAAMwkB,aAAa,GAAGD,MAAM,CAAC1Y,IAAI,CAAC,UAAAoM,CAAC,EAAI;cAAA,IAAAwM,cAAA,EAAAC,YAAA,EAAAC,aAAA;cACrC,IAAMC,SAAS,IAAAH,cAAA,GAAGxM,CAAC,CAAC1X,WAAW,cAAAkkB,cAAA,uBAAbA,cAAA,CAAexoB,IAAI,CAAC,CAAC,CAACD,WAAW,CAAC,CAAC;cACrD,OAAO4oB,SAAS,OAAAF,YAAA,GAAKje,KAAK,CAACG,KAAK,cAAA8d,YAAA,uBAAXA,YAAA,CAAa1oB,WAAW,CAAC,CAAC,MACxC4oB,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAE5nB,QAAQ,EAAA2nB,aAAA,GAACle,KAAK,CAACG,KAAK,cAAA+d,aAAA,uBAAXA,aAAA,CAAa3oB,WAAW,CAAC,CAAC,CAAC;YACxD,CAAC,CAAC;YACF,IAAIwoB,aAAa,EAAE;cACjB,IAAMK,OAAO,GAAGL,aAAa,CAAChd,YAAY,CAAC,KAAK,CAAC;cACjD,IAAIqd,OAAO,EAAE;gBACXte,KAAK,GAAGxI,QAAQ,CAACC,aAAa,KAAAb,MAAA,CAAK0nB,OAAO,CAAE,CAAC;gBAC7C,IAAIte,KAAK,EAAEH,MAAI,CAAC0T,MAAM,CAACrW,GAAG,CAAC,+CAA+C,CAAC;cAC7E,CAAC,MAAM;gBACL8C,KAAK,GAAGie,aAAa,CAACxmB,aAAa,CAAC,yBAAyB,CAAC;gBAC9D,IAAIuI,KAAK,EAAEH,MAAI,CAAC0T,MAAM,CAACrW,GAAG,CAAC,wCAAwC,CAAC;cACtE;YACF;UACF;;UAEA;UACA,IAAI,CAAC8C,KAAK,IAAIE,KAAK,CAACK,WAAW,EAAE;YAC/BP,KAAK,GAAGxI,QAAQ,CAACC,aAAa,yBAAAb,MAAA,CAAwBsJ,KAAK,CAACK,WAAW,mCAAA3J,MAAA,CAA8BsJ,KAAK,CAACK,WAAW,QAAI,CAAC;YAC3H,IAAIP,KAAK,EAAEH,MAAI,CAAC0T,MAAM,CAACrW,GAAG,CAAC,sCAAsC,EAAEgD,KAAK,CAACK,WAAW,CAAC;UACvF;;UAEA;UACA,IAAI,CAACP,KAAK,IAAI,OAAOE,KAAK,CAACf,KAAK,KAAK,QAAQ,EAAE;YAC7C,IAAM2e,YAAW,GAAGtmB,QAAQ,CAACC,aAAa,KAAAb,MAAA,CAAKomB,UAAU,CAACvd,EAAE,CAAE,CAAC,IAC7CjI,QAAQ,CAACiC,gBAAgB,CAAC,MAAM,CAAC,CAAC9D,WAAW,CAACuI,KAAK,CAACwF,OAAO,CAACsZ,UAAU,CAAC,CAAC;YAC1F,IAAIc,YAAW,EAAE;cACf,IAAMS,SAAS,GAAGT,YAAW,CAACrkB,gBAAgB,CAAC,wFAAwF,CAAC;cACxIuG,KAAK,GAAGue,SAAS,CAACre,KAAK,CAACf,KAAK,CAAC;cAC9B,IAAIa,KAAK,EAAEH,MAAI,CAAC0T,MAAM,CAACrW,GAAG,CAAC,gCAAgC,EAAEgD,KAAK,CAACf,KAAK,CAAC;YAC3E;UACF;UAEA,IAAIa,KAAK,EAAE;YAAA,IAAAwe,qBAAA;YACT;YACAxe,KAAK,CAAC/C,KAAK,CAAC,CAAC;;YAEb;YACA+C,KAAK,CAACtL,KAAK,GAAGA,KAAK;;YAEnB;YACAsL,KAAK,CAAChD,aAAa,CAAC,IAAI8M,KAAK,CAAC,OAAO,EAAE;cAAEC,OAAO,EAAE;YAAK,CAAC,CAAC,CAAC;YAC1D/J,KAAK,CAAChD,aAAa,CAAC,IAAI8M,KAAK,CAAC,QAAQ,EAAE;cAAEC,OAAO,EAAE;YAAK,CAAC,CAAC,CAAC;;YAE3D;YACA,IAAM0U,sBAAsB,IAAAD,qBAAA,GAAG3b,MAAM,CAAC6b,wBAAwB,CAAC7lB,MAAM,CAAC8lB,gBAAgB,CAAC1N,SAAS,EAAE,OAAO,CAAC,cAAAuN,qBAAA,uBAA3EA,qBAAA,CAA6EvO,GAAG;YAC/G,IAAIwO,sBAAsB,EAAE;cAC1BA,sBAAsB,CAAC7M,IAAI,CAAC5R,KAAK,EAAEtL,KAAK,CAAC;cACzCsL,KAAK,CAAChD,aAAa,CAAC,IAAI8M,KAAK,CAAC,OAAO,EAAE;gBAAEC,OAAO,EAAE;cAAK,CAAC,CAAC,CAAC;YAC5D;YAEAlK,MAAI,CAAC0T,MAAM,CAACrW,GAAG,6CAAAtG,MAAA,CAAuCsJ,KAAK,CAACG,KAAK,IAAIH,KAAK,CAACC,IAAI,IAAID,KAAK,CAACD,IAAI,gBAAArJ,MAAA,CAAWlC,KAAK,OAAG,CAAC;YACjH2oB,WAAW,EAAE;YACbC,YAAY,CAACtZ,IAAI,CAAC9D,KAAK,CAACG,KAAK,IAAIH,KAAK,CAACC,IAAI,IAAID,KAAK,CAACD,IAAI,CAAC;UAC5D,CAAC,MAAM;YACLJ,MAAI,CAAC0T,MAAM,CAACrW,GAAG,gEAAsDgD,KAAK,CAAC;UAC7E;QACF,CAAC,MAAM;UACLL,MAAI,CAAC0T,MAAM,CAACrW,GAAG,2DAAAtG,MAAA,CAAgDnC,GAAG,OAAG,CAAC;QACxE;MACF,CAAC,CAAC;MAEF,IAAI4oB,WAAW,GAAG,CAAC,EAAE;QACnB,IAAMuB,UAAU,GAAGtB,YAAY,CAACrU,IAAI,CAAC,IAAI,CAAC;QAC1C,IAAI,CAACsK,MAAM,CAACrW,GAAG,2CAAAtG,MAAA,CAAsCymB,WAAW,iBAAAzmB,MAAA,CAAcgoB,UAAU,CAAE,CAAC;MAC7F,CAAC,MAAM;QACL,IAAI,CAACrL,MAAM,CAACrW,GAAG,CAAC,0CAA0C,CAAC;MAC7D;IACF;;IAEA;AACF;AACA;EAFE;IAAAzI,GAAA;IAAAC,KAAA,EAGA,SAAAunB,uBAAuBA,CAACvlB,UAAU,EAAE;MAAA,IAAA4L,MAAA;MAClC,IAAI,CAACiR,MAAM,CAACrW,GAAG,CAAC,yBAAyB,EAAExG,UAAU,CAAC;MAEtD,IAAQf,WAAW,GAAK,IAAI,CAAC4d,MAAM,CAACiB,KAAK,CAAjC7e,WAAW;MACnB,IAAMwB,MAAM,GAAG,CAAAT,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAES,MAAM,MAAIT,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEO,OAAO,MAAIP,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAE0M,MAAM,KAAI,QAAQ;MAC1F,IAAMyb,WAAW,GAAG1nB,MAAM,CAAC1B,WAAW,CAAC,CAAC;MACxC,IAAI,CAAC8d,MAAM,CAACrW,GAAG,CAAC,yBAAyB,EAAE/F,MAAM,CAAC;MAElD,IAAIF,OAAO,GAAG,IAAI;;MAElB;MACA,IAAItB,WAAW,aAAXA,WAAW,eAAXA,WAAW,CAAEuI,KAAK,CAACtE,MAAM,EAAE;QAAA,IAAAklB,UAAA,GAAAzW,0BAAA,CACV1S,WAAW,CAACuI,KAAK;UAAA6gB,MAAA;QAAA;UAAA,IAAAtV,KAAA,YAAAA,MAAA,EAAE;YAAA,IAAAuV,aAAA;YAAA,IAA3BznB,IAAI,GAAAwnB,MAAA,CAAArqB,KAAA;YACb4N,MAAI,CAACiR,MAAM,CAACrW,GAAG,uCAAAtG,MAAA,CAA6BW,IAAI,CAACkI,EAAE,gBAAalI,IAAI,CAAC+B,OAAO,CAAC;YAE7E,IAAM8J,MAAM,IAAA4b,aAAA,GAAGznB,IAAI,CAAC+B,OAAO,cAAA0lB,aAAA,uBAAZA,aAAA,CAAc1Z,IAAI,CAAC,UAAA6G,CAAC;cAAA,IAAA8S,OAAA,EAAAC,OAAA,EAAAC,KAAA,EAAAC,OAAA,EAAAC,QAAA,EAAAC,MAAA,EAAAC,QAAA;cAAA,OACjC,EAAAN,OAAA,GAAA9S,CAAC,CAAC/S,IAAI,cAAA6lB,OAAA,uBAANA,OAAA,CAAQxpB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAACooB,WAAW,CAAC,OAAAK,OAAA,GAC3C/S,CAAC,CAAClM,IAAI,cAAAif,OAAA,uBAANA,OAAA,CAAQzpB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAACooB,WAAW,CAAC,OAAAM,KAAA,GAC3ChT,CAAC,CAAC1M,EAAE,cAAA0f,KAAA,uBAAJA,KAAA,CAAM1pB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAACooB,WAAW,CAAC,OAAAO,OAAA,GACzCjT,CAAC,CAAChM,IAAI,cAAAif,OAAA,uBAANA,OAAA,CAAQ3pB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAACooB,WAAW,CAAC,KAC1CA,WAAW,CAACpoB,QAAQ,CAAC,QAAQ,CAAC,IAAI0V,CAAC,CAAClM,IAAI,KAAK,QAAS,IACtD4e,WAAW,CAACpoB,QAAQ,CAAC,WAAW,CAAC,KAChC,EAAA4oB,QAAA,GAAAlT,CAAC,CAAC/S,IAAI,cAAAimB,QAAA,uBAANA,QAAA,CAAQ5pB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAAC,WAAW,CAAC,OAAA6oB,MAAA,GAC3CnT,CAAC,CAAC1M,EAAE,cAAA6f,MAAA,uBAAJA,MAAA,CAAM7pB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAAC,WAAW,CAAC,OAAA8oB,QAAA,GACzCpT,CAAC,CAAChM,IAAI,cAAAof,QAAA,uBAANA,QAAA,CAAQ9pB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAAC,WAAW,CAAC,EAC3C;YAAA,CACJ,CAAC;YAED,IAAI2M,MAAM,EAAE;cACVd,MAAI,CAACiR,MAAM,CAACrW,GAAG,CAAC,iCAAiC,EAAEkG,MAAM,CAAC;;cAE1D;cACA,IAAIA,MAAM,CAAC3D,EAAE,IAAI,CAAC2D,MAAM,CAAC3D,EAAE,CAACse,UAAU,CAAC,SAAS,CAAC,EAAE;gBACjD9mB,OAAO,GAAGO,QAAQ,CAACC,aAAa,KAAAb,MAAA,CAAKwM,MAAM,CAAC3D,EAAE,CAAE,CAAC;gBACjD,IAAIxI,OAAO,EAAEqL,MAAI,CAACiR,MAAM,CAACrW,GAAG,CAAC,yBAAyB,EAAEkG,MAAM,CAAC3D,EAAE,CAAC;cACpE;cAEA,IAAI,CAACxI,OAAO,IAAImM,MAAM,CAACjD,IAAI,EAAE;gBAC3BlJ,OAAO,GAAGO,QAAQ,CAACC,aAAa,kBAAAb,MAAA,CAAiBwM,MAAM,CAACjD,IAAI,wBAAAvJ,MAAA,CAAmBwM,MAAM,CAACjD,IAAI,QAAI,CAAC;gBAC/F,IAAIlJ,OAAO,EAAEqL,MAAI,CAACiR,MAAM,CAACrW,GAAG,CAAC,2BAA2B,EAAEkG,MAAM,CAACjD,IAAI,CAAC;cACxE;cAEA,IAAI,CAAClJ,OAAO,IAAImM,MAAM,CAAChK,IAAI,EAAE;gBAC3B,IAAME,OAAO,GAAGC,KAAK,CAACC,IAAI,CAAChC,QAAQ,CAACiC,gBAAgB,CAAC,oDAAoD,CAAC,CAAC;gBAC3GxC,OAAO,GAAGqC,OAAO,CAACgM,IAAI,CAAC,UAAAxL,GAAG;kBAAA,IAAAD,gBAAA,EAAA2lB,UAAA;kBAAA,OACxB,EAAA3lB,gBAAA,GAAAC,GAAG,CAACE,WAAW,cAAAH,gBAAA,uBAAfA,gBAAA,CAAiBnE,IAAI,CAAC,CAAC,CAACD,WAAW,CAAC,CAAC,MAAK2N,MAAM,CAAChK,IAAI,CAAC3D,WAAW,CAAC,CAAC,IACnE,EAAA+pB,UAAA,GAAA1lB,GAAG,CAACpF,KAAK,cAAA8qB,UAAA,uBAATA,UAAA,CAAW/pB,WAAW,CAAC,CAAC,MAAK2N,MAAM,CAAChK,IAAI,CAAC3D,WAAW,CAAC,CAAC;gBAAA,CACxD,CAAC;gBACD,IAAIwB,OAAO,EAAEqL,MAAI,CAACiR,MAAM,CAACrW,GAAG,CAAC,2BAA2B,EAAEkG,MAAM,CAAChK,IAAI,CAAC;cACxE;cAEA,IAAI,CAACnC,OAAO,EAAE;gBACZ,IAAMwoB,SAAS,GAAG9pB,WAAW,CAACuI,KAAK,CAACwF,OAAO,CAACnM,IAAI,CAAC;gBACjD,IAAMumB,WAAW,GAAGtmB,QAAQ,CAACiC,gBAAgB,CAAC,MAAM,CAAC,CAACgmB,SAAS,CAAC;gBAChE,IAAI3B,WAAW,EAAE;kBACf7mB,OAAO,GAAG6mB,WAAW,CAACrmB,aAAa,CAAC,0EAA0E,CAAC;kBAC/G,IAAIR,OAAO,EAAEqL,MAAI,CAACiR,MAAM,CAACrW,GAAG,CAAC,wCAAwC,CAAC;gBACxE;cACF;cAEA,IAAIjG,OAAO;YACb;UACF,CAAC;UAlDD,KAAA6nB,UAAA,CAAAxW,CAAA,MAAAyW,MAAA,GAAAD,UAAA,CAAAtpB,CAAA,IAAA+S,IAAA;YAAA,IAAAkB,KAAA,IAgDiB;UAAM;QAEtB,SAAAkP,GAAA;UAAAmG,UAAA,CAAApW,CAAA,CAAAiQ,GAAA;QAAA;UAAAmG,UAAA,CAAAvZ,CAAA;QAAA;MACH;;MAEA;MACA,IAAI,CAACtO,OAAO,IAAItB,WAAW,aAAXA,WAAW,eAAXA,WAAW,CAAE6I,YAAY,CAAC5E,MAAM,EAAE;QAChD,IAAI,CAAC2Z,MAAM,CAACrW,GAAG,CAAC,mCAAmC,EAAEvH,WAAW,CAAC6I,YAAY,CAAC5E,MAAM,CAAC;QACrF,IAAM8lB,WAAW,GAAG/pB,WAAW,CAAC6I,YAAY,CAAC8G,IAAI,CAAC,UAAAzJ,CAAC;UAAA,IAAA8jB,OAAA,EAAAC,YAAA,EAAAC,QAAA,EAAAC,aAAA;UAAA,OACjD,EAAAH,OAAA,GAAA9jB,CAAC,CAACzC,IAAI,cAAAumB,OAAA,uBAANA,OAAA,CAAQlqB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAACooB,WAAW,CAAC,OAAAe,YAAA,GAC3C/jB,CAAC,CAACmF,SAAS,cAAA4e,YAAA,uBAAXA,YAAA,CAAanqB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAACooB,WAAW,CAAC,KAC/CA,WAAW,CAACpoB,QAAQ,CAAC,WAAW,CAAC,KAChC,EAAAopB,QAAA,GAAAhkB,CAAC,CAACzC,IAAI,cAAAymB,QAAA,uBAANA,QAAA,CAAQpqB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAAC,WAAW,CAAC,OAAAqpB,aAAA,GAC3CjkB,CAAC,CAACmF,SAAS,cAAA8e,aAAA,uBAAXA,aAAA,CAAarqB,WAAW,CAAC,CAAC,CAACgB,QAAQ,CAAC,WAAW,CAAC,EAChD;QAAA,CACJ,CAAC;QAED,IAAIipB,WAAW,EAAE;UACf,IAAI,CAACnM,MAAM,CAACrW,GAAG,CAAC,8BAA8B,EAAEwiB,WAAW,CAAC;UAC5D,IAAIA,WAAW,CAACjgB,EAAE,EAAE;YAClBxI,OAAO,GAAGO,QAAQ,CAACC,aAAa,KAAAb,MAAA,CAAK8oB,WAAW,CAACjgB,EAAE,CAAE,CAAC;UACxD;UACA,IAAI,CAACxI,OAAO,IAAIyoB,WAAW,CAACtmB,IAAI,EAAE;YAChC,IAAMwL,QAAQ,GAAGrL,KAAK,CAACC,IAAI,CAAChC,QAAQ,CAACiC,gBAAgB,CAAC,uDAAuD,CAAC,CAAC;YAC/GxC,OAAO,GAAG2N,QAAQ,CAACU,IAAI,CAAC,UAAA1K,EAAE;cAAA,IAAAD,eAAA;cAAA,OACxB,EAAAA,eAAA,GAAAC,EAAE,CAACZ,WAAW,cAAAW,eAAA,uBAAdA,eAAA,CAAgBjF,IAAI,CAAC,CAAC,CAACD,WAAW,CAAC,CAAC,MAAKiqB,WAAW,CAACtmB,IAAI,CAAC3D,WAAW,CAAC,CAAC;YAAA,CACzE,CAAC;UACH;QACF;MACF;;MAEA;MACA,IAAI,CAACwB,OAAO,EAAE;QACZ,IAAI,CAACsc,MAAM,CAACrW,GAAG,CAAC,uDAAuD,CAAC;QACxE,IAAM6iB,UAAU,GAAGxmB,KAAK,CAACC,IAAI,CAAChC,QAAQ,CAACiC,gBAAgB,CAAC,uFAAuF,CAAC,CAAC;;QAEjJ;QACAxC,OAAO,GAAG8oB,UAAU,CAACza,IAAI,CAAC,UAAAxL,GAAG,EAAI;UAAA,IAAAkmB,iBAAA,EAAAC,WAAA;UAC/B,IAAM7mB,IAAI,GAAG,EAAA4mB,iBAAA,GAAAlmB,GAAG,CAACE,WAAW,cAAAgmB,iBAAA,uBAAfA,iBAAA,CAAiBtqB,IAAI,CAAC,CAAC,CAACD,WAAW,CAAC,CAAC,OAAAwqB,WAAA,GAAInmB,GAAG,CAACpF,KAAK,cAAAurB,WAAA,uBAATA,WAAA,CAAWxqB,WAAW,CAAC,CAAC,KAAI,EAAE;UACpF,OAAO2D,IAAI,KAAKylB,WAAW;QAC7B,CAAC,CAAC;;QAEF;QACA,IAAI,CAAC5nB,OAAO,EAAE;UACZA,OAAO,GAAG8oB,UAAU,CAACza,IAAI,CAAC,UAAAxL,GAAG,EAAI;YAAA,IAAAomB,iBAAA,EAAAC,WAAA,EAAAC,iBAAA;YAC/B,IAAMhnB,IAAI,GAAG,EAAA8mB,iBAAA,GAAApmB,GAAG,CAACE,WAAW,cAAAkmB,iBAAA,uBAAfA,iBAAA,CAAiBxqB,IAAI,CAAC,CAAC,CAACD,WAAW,CAAC,CAAC,OAAA0qB,WAAA,GAAIrmB,GAAG,CAACpF,KAAK,cAAAyrB,WAAA,uBAATA,WAAA,CAAW1qB,WAAW,CAAC,CAAC,KAAI,EAAE;YACpF,IAAMuL,SAAS,GAAG,EAAAof,iBAAA,GAAAtmB,GAAG,CAACmH,YAAY,CAAC,YAAY,CAAC,cAAAmf,iBAAA,uBAA9BA,iBAAA,CAAgC3qB,WAAW,CAAC,CAAC,KAAI,EAAE;YACrE,OAAO2D,IAAI,CAAC3C,QAAQ,CAACooB,WAAW,CAAC,IAAI7d,SAAS,CAACvK,QAAQ,CAACooB,WAAW,CAAC,IAC5DA,WAAW,CAACpoB,QAAQ,CAAC,WAAW,CAAC,KAAK2C,IAAI,CAAC3C,QAAQ,CAAC,WAAW,CAAC,IAAIuK,SAAS,CAACvK,QAAQ,CAAC,WAAW,CAAC,CAAE,IACrGooB,WAAW,CAACpoB,QAAQ,CAAC,QAAQ,CAAC,IAAIqD,GAAG,CAACmH,YAAY,CAAC,MAAM,CAAC,KAAK,QAAS;UAClF,CAAC,CAAC;QACJ;QAEA,IAAIhK,OAAO,EAAE;UACX,IAAI,CAACsc,MAAM,CAACrW,GAAG,CAAC,iCAAiC,EAAEjG,OAAO,CAAC;QAC7D;MACF;;MAEA;MACA,IAAIA,OAAO,EAAE;QACX,IAAI,CAACsc,MAAM,CAACrW,GAAG,CAAC,6BAA6B,EAAEjG,OAAO,CAAC;;QAEvD;QACAA,OAAO,CAAC0F,cAAc,CAAC;UAAEC,QAAQ,EAAE,QAAQ;UAAEC,KAAK,EAAE;QAAS,CAAC,CAAC;;QAE/D;QACAyR,UAAU,CAAC,YAAM;UACfrX,OAAO,CAACwF,KAAK,CAAC,CAAC;UACf6F,MAAI,CAACiR,MAAM,CAACrW,GAAG,CAAC,wCAAwC,CAAC;QAC3D,CAAC,EAAE,GAAG,CAAC;MACT,CAAC,MAAM;QACL,IAAI,CAACqW,MAAM,CAACrW,GAAG,CAAC,mCAAmC,EAAE/F,MAAM,CAAC;MAC9D;IACF;;IAEA;AACF;AACA;EAFE;IAAA1C,GAAA;IAAAC,KAAA,EAGA,SAAAonB,mBAAmBA,CAACplB,UAAU,EAAE;MAAA,IAAA0f,qBAAA;MAC9B,IAAI,CAAC7C,MAAM,CAACrW,GAAG,CAAC,2BAA2B,EAAExG,UAAU,CAAC;MAExD,IAAA2pB,kBAAA,GAAuC,IAAI,CAAC9M,MAAM,CAACiB,KAAK;QAAhD7e,WAAW,GAAA0qB,kBAAA,CAAX1qB,WAAW;QAAE2qB,aAAa,GAAAD,kBAAA,CAAbC,aAAa;MAClC,IAAMlV,WAAW,GAAG,CAAA1U,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAE0U,WAAW,MAAI1U,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAES,MAAM,MAAIT,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAE6pB,IAAI,KAAI,EAAE;MAC3F,IAAMlV,SAAS,GAAGD,WAAW,CAAC3V,WAAW,CAAC,CAAC;MAC3C,IAAI,CAAC8d,MAAM,CAACrW,GAAG,CAAC,4BAA4B,EAAEkO,WAAW,CAAC;MAE1D,IAAI,CAACA,WAAW,EAAE;QAChB,IAAI,CAACmI,MAAM,CAACrW,GAAG,CAAC,wCAAwC,CAAC;QACzD;MACF;MAEA,IAAI5C,IAAI,GAAG,IAAI;MACf,IAAIkmB,UAAU,GAAG,IAAI;;MAErB;MACA,IAAIF,aAAa,EAAE;QACjB,IAAI,CAAC/M,MAAM,CAACrW,GAAG,CAAC,2CAA2C,CAAC;QAC5D,IAAMqO,KAAK,GAAG+U,aAAa,CAACnV,SAAS,CAACE,SAAS,CAAC;QAEhD,IAAIE,KAAK,EAAE;UACTiV,UAAU,GAAGjV,KAAK,CAACR,IAAI;UACvB,IAAI,CAACwI,MAAM,CAACrW,GAAG,CAAC,uCAAuC,EAAE;YACvD6N,IAAI,EAAEQ,KAAK,CAACR,IAAI;YAChB0V,eAAe,EAAElV,KAAK,CAACP,QAAQ,CAACjL,MAAM,CAAC,UAAA2gB,CAAC;cAAA,OACtCA,CAAC,CAACjqB,QAAQ,CAAC4U,SAAS,CAAC,IAAIA,SAAS,CAAC5U,QAAQ,CAACiqB,CAAC,CAAC;YAAA,CAChD;UACF,CAAC,CAAC;QACJ,CAAC,MAAM;UACL,IAAI,CAACnN,MAAM,CAACrW,GAAG,CAAC,0CAA0C,CAAC;QAC7D;MACF;;MAEA;MACA,IAAI,CAACsjB,UAAU,IAAI7qB,WAAW,aAAXA,WAAW,gBAAAygB,qBAAA,GAAXzgB,WAAW,CAAEyI,UAAU,cAAAgY,qBAAA,eAAvBA,qBAAA,CAAyBxc,MAAM,EAAE;QAClD,IAAI,CAAC2Z,MAAM,CAACrW,GAAG,CAAC,0CAA0C,EAAEvH,WAAW,CAACyI,UAAU,CAACxE,MAAM,CAAC;QAE1F,IAAM+mB,OAAO,GAAGhrB,WAAW,CAACyI,UAAU,CAACkH,IAAI,CAAC,UAAA9P,CAAC,EAAI;UAAA,IAAAorB,OAAA,EAAAC,YAAA,EAAAC,OAAA;UAC/C,IAAMC,SAAS,GAAG,EAAAH,OAAA,GAAAprB,CAAC,CAAC4D,IAAI,cAAAwnB,OAAA,uBAANA,OAAA,CAAQnrB,WAAW,CAAC,CAAC,KAAI,EAAE;UAC7C,IAAMurB,cAAc,GAAG,EAAAH,YAAA,GAAArrB,CAAC,CAACwL,SAAS,cAAA6f,YAAA,uBAAXA,YAAA,CAAaprB,WAAW,CAAC,CAAC,KAAI,EAAE;UACvD,IAAMwrB,SAAS,GAAG,EAAAH,OAAA,GAAAtrB,CAAC,CAACuD,IAAI,cAAA+nB,OAAA,uBAANA,OAAA,CAAQrrB,WAAW,CAAC,CAAC,KAAI,EAAE;UAE7C,IAAI,CAACsrB,SAAS,IAAI,CAACC,cAAc,IAAI,CAACC,SAAS,EAAE;YAC/C,OAAO,KAAK;UACd;;UAEA;UACA,IAAIF,SAAS,KACXA,SAAS,CAACtqB,QAAQ,CAAC4U,SAAS,CAAC,IAC7BA,SAAS,CAAC5U,QAAQ,CAACsqB,SAAS,CAAC,IAC5B1V,SAAS,CAAC5U,QAAQ,CAAC,OAAO,CAAC,IAAIsqB,SAAS,CAACtqB,QAAQ,CAAC,OAAO,CAAE,IAC3D4U,SAAS,CAAC5U,QAAQ,CAAC,SAAS,CAAC,IAAIsqB,SAAS,CAACtqB,QAAQ,CAAC,SAAS,CAAE,IAC/D4U,SAAS,CAAC5U,QAAQ,CAAC,SAAS,CAAC,IAAIsqB,SAAS,CAACtqB,QAAQ,CAAC,SAAS,CAAE,IAC/D4U,SAAS,CAAC5U,QAAQ,CAAC,SAAS,CAAC,IAAIsqB,SAAS,CAACtqB,QAAQ,CAAC,SAAS,CAAE,IAC/D4U,SAAS,CAAC5U,QAAQ,CAAC,MAAM,CAAC,KAAKsqB,SAAS,KAAK,MAAM,IAAIA,SAAS,KAAK,SAAS,CAAE,CAClF,EAAE;YACD,OAAO,IAAI;UACb;;UAEA;UACA,IAAIC,cAAc,KAChBA,cAAc,CAACvqB,QAAQ,CAAC4U,SAAS,CAAC,IAClCA,SAAS,CAAC5U,QAAQ,CAACuqB,cAAc,CAAC,IACjC3V,SAAS,CAAC5U,QAAQ,CAAC,OAAO,CAAC,IAAIuqB,cAAc,CAACvqB,QAAQ,CAAC,OAAO,CAAE,IAChE4U,SAAS,CAAC5U,QAAQ,CAAC,SAAS,CAAC,IAAIuqB,cAAc,CAACvqB,QAAQ,CAAC,SAAS,CAAE,IACpE4U,SAAS,CAAC5U,QAAQ,CAAC,SAAS,CAAC,IAAIuqB,cAAc,CAACvqB,QAAQ,CAAC,SAAS,CAAE,IACpE4U,SAAS,CAAC5U,QAAQ,CAAC,SAAS,CAAC,IAAIuqB,cAAc,CAACvqB,QAAQ,CAAC,SAAS,CAAE,CACtE,EAAE;YACD,OAAO,IAAI;UACb;;UAEA;UACA,IAAIwqB,SAAS,KACXA,SAAS,CAACxqB,QAAQ,CAAC4U,SAAS,CAAC6V,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,IAClDD,SAAS,CAACxqB,QAAQ,CAAC4U,SAAS,CAAC6V,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,CAClD,EAAE;YACD,OAAO,IAAI;UACb;UAEA,OAAO,KAAK;QACd,CAAC,CAAC;QAEF,IAAIP,OAAO,EAAE;UACX,IAAI,CAACpN,MAAM,CAACrW,GAAG,CAAC,qCAAqC,EAAEyjB,OAAO,CAAC;;UAE/D;UACA,IAAIA,OAAO,CAAC5nB,IAAI,EAAE;YAChBuB,IAAI,GAAG9C,QAAQ,CAACC,aAAa,aAAAb,MAAA,CAAY+pB,OAAO,CAAC5nB,IAAI,QAAI,CAAC;YAC1D,IAAI,CAACuB,IAAI,EAAE;cACT,IAAMJ,KAAK,GAAGX,KAAK,CAACC,IAAI,CAAChC,QAAQ,CAACiC,gBAAgB,CAAC,GAAG,CAAC,CAAC;cACxDa,IAAI,GAAGJ,KAAK,CAACoL,IAAI,CAAC,UAAAzP,CAAC;gBAAA,OAAIA,CAAC,CAACkD,IAAI,CAACtC,QAAQ,CAACkqB,OAAO,CAAC5nB,IAAI,CAAC;cAAA,EAAC;YACvD;UACF;UAEA,IAAI,CAACuB,IAAI,IAAIqmB,OAAO,CAACvnB,IAAI,EAAE;YACzB,IAAMc,MAAK,GAAGX,KAAK,CAACC,IAAI,CAAChC,QAAQ,CAACiC,gBAAgB,CAAC,GAAG,CAAC,CAAC;YACxDa,IAAI,GAAGJ,MAAK,CAACoL,IAAI,CAAC,UAAAzP,CAAC;cAAA,IAAAsrB,cAAA;cAAA,OACjB,EAAAA,cAAA,GAAAtrB,CAAC,CAACmE,WAAW,cAAAmnB,cAAA,uBAAbA,cAAA,CAAezrB,IAAI,CAAC,CAAC,CAACD,WAAW,CAAC,CAAC,MAAKkrB,OAAO,CAACvnB,IAAI,CAAC3D,WAAW,CAAC,CAAC;YAAA,CACpE,CAAC;UACH;UAEA,IAAI,CAAC6E,IAAI,IAAIqmB,OAAO,CAAC3f,SAAS,EAAE;YAC9B,IAAM9G,OAAK,GAAGX,KAAK,CAACC,IAAI,CAAChC,QAAQ,CAACiC,gBAAgB,CAAC,GAAG,CAAC,CAAC;YACxDa,IAAI,GAAGJ,OAAK,CAACoL,IAAI,CAAC,UAAAzP,CAAC;cAAA,IAAAurB,eAAA;cAAA,OACjB,EAAAA,eAAA,GAAAvrB,CAAC,CAACoL,YAAY,CAAC,YAAY,CAAC,cAAAmgB,eAAA,uBAA5BA,eAAA,CAA8B3rB,WAAW,CAAC,CAAC,MAAKkrB,OAAO,CAAC3f,SAAS,CAACvL,WAAW,CAAC,CAAC;YAAA,CACjF,CAAC;UACH;QACF;MACF;;MAEA;MACA,IAAI,CAAC+qB,UAAU,IAAI,CAAClmB,IAAI,EAAE;QACxB,IAAI,CAACiZ,MAAM,CAACrW,GAAG,CAAC,6CAA6C,CAAC;QAC9D,IAAMmkB,QAAQ,GAAG9nB,KAAK,CAACC,IAAI,CAAChC,QAAQ,CAACiC,gBAAgB,CAAC,SAAS,CAAC,CAAC;;QAEjE;QACAa,IAAI,GAAG+mB,QAAQ,CAAC/b,IAAI,CAAC,UAAAzP,CAAC,EAAI;UAAA,IAAAyrB,eAAA,EAAAC,gBAAA;UACxB,IAAMnoB,IAAI,GAAG,EAAAkoB,eAAA,GAAAzrB,CAAC,CAACmE,WAAW,cAAAsnB,eAAA,uBAAbA,eAAA,CAAe5rB,IAAI,CAAC,CAAC,CAACD,WAAW,CAAC,CAAC,KAAI,EAAE;UACtD,IAAMuL,SAAS,GAAG,EAAAugB,gBAAA,GAAA1rB,CAAC,CAACoL,YAAY,CAAC,YAAY,CAAC,cAAAsgB,gBAAA,uBAA5BA,gBAAA,CAA8B9rB,WAAW,CAAC,CAAC,KAAI,EAAE;UACnE,OAAO2D,IAAI,KAAKiS,SAAS,IAAIrK,SAAS,KAAKqK,SAAS;QACtD,CAAC,CAAC,IAAI,IAAI;;QAEV;QACA,IAAI,CAAC/Q,IAAI,EAAE;UAAA,IAAAknB,aAAA;UACT,IAAMC,WAAW,GAAGJ,QAAQ,CAACniB,GAAG,CAAC,UAAArJ,CAAC,EAAI;YAAA,IAAA6rB,eAAA,EAAAC,gBAAA;YACpC,IAAMvoB,IAAI,GAAG,EAAAsoB,eAAA,GAAA7rB,CAAC,CAACmE,WAAW,cAAA0nB,eAAA,uBAAbA,eAAA,CAAehsB,IAAI,CAAC,CAAC,CAACD,WAAW,CAAC,CAAC,KAAI,EAAE;YACtD,IAAMuL,SAAS,GAAG,EAAA2gB,gBAAA,GAAA9rB,CAAC,CAACoL,YAAY,CAAC,YAAY,CAAC,cAAA0gB,gBAAA,uBAA5BA,gBAAA,CAA8BlsB,WAAW,CAAC,CAAC,KAAI,EAAE;YACnE,IAAMsD,IAAI,GAAGlD,CAAC,CAACkD,IAAI,CAACtD,WAAW,CAAC,CAAC;YACjC,IAAIkW,KAAK,GAAG,CAAC;YAEb,IAAIvS,IAAI,KAAKiS,SAAS,IAAIrK,SAAS,KAAKqK,SAAS,EAAEM,KAAK,IAAI,GAAG;YAC/D,IAAIvS,IAAI,CAAC3C,QAAQ,CAAC4U,SAAS,CAAC,EAAEM,KAAK,IAAI,EAAE;YACzC,IAAIN,SAAS,CAAC5U,QAAQ,CAAC2C,IAAI,CAAC,IAAIA,IAAI,CAACQ,MAAM,GAAG,CAAC,EAAE+R,KAAK,IAAI,EAAE;YAC5D,IAAI3K,SAAS,CAACvK,QAAQ,CAAC4U,SAAS,CAAC,EAAEM,KAAK,IAAI,EAAE;YAC9C,IAAIN,SAAS,CAAC5U,QAAQ,CAACuK,SAAS,CAAC,IAAIA,SAAS,CAACpH,MAAM,GAAG,CAAC,EAAE+R,KAAK,IAAI,EAAE;YAEtE,IAAMiW,OAAO,GAAG,IAAIC,GAAG,CAAChsB,CAAC,CAACkD,IAAI,EAAEF,MAAM,CAACC,QAAQ,CAAC8T,MAAM,CAAC,CAACkV,QAAQ,CAACrsB,WAAW,CAAC,CAAC;YAC9E,IAAMssB,QAAQ,GAAG1W,SAAS,CAAC6V,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;YAC/C,IAAIU,OAAO,CAACnrB,QAAQ,CAACsrB,QAAQ,CAAC,EAAEpW,KAAK,IAAI,EAAE;YAC3C,IAAIiW,OAAO,CAACnrB,QAAQ,CAAC4U,SAAS,CAAC6V,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,EAAEvV,KAAK,IAAI,EAAE;;YAEhE;YACA,IAAIN,SAAS,CAAC5U,QAAQ,CAAC,OAAO,CAAC,KAAK2C,IAAI,CAAC3C,QAAQ,CAAC,OAAO,CAAC,IAAIuK,SAAS,CAACvK,QAAQ,CAAC,OAAO,CAAC,IAAIsC,IAAI,CAACtC,QAAQ,CAAC,OAAO,CAAC,CAAC,EAAEkV,KAAK,IAAI,EAAE;YACjI,IAAIN,SAAS,CAAC5U,QAAQ,CAAC,SAAS,CAAC,KAAK2C,IAAI,CAAC3C,QAAQ,CAAC,SAAS,CAAC,IAAIuK,SAAS,CAACvK,QAAQ,CAAC,SAAS,CAAC,IAAIsC,IAAI,CAACtC,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAEkV,KAAK,IAAI,EAAE;YACzI,IAAIN,SAAS,CAAC5U,QAAQ,CAAC,SAAS,CAAC,KAAK2C,IAAI,CAAC3C,QAAQ,CAAC,SAAS,CAAC,IAAIuK,SAAS,CAACvK,QAAQ,CAAC,SAAS,CAAC,IAAIsC,IAAI,CAACtC,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAEkV,KAAK,IAAI,EAAE;YACzI,IAAIN,SAAS,CAAC5U,QAAQ,CAAC,SAAS,CAAC,KAAK2C,IAAI,CAAC3C,QAAQ,CAAC,SAAS,CAAC,IAAIuK,SAAS,CAACvK,QAAQ,CAAC,SAAS,CAAC,IAAIsC,IAAI,CAACtC,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAEkV,KAAK,IAAI,EAAE;YACzI,IAAIN,SAAS,CAAC5U,QAAQ,CAAC,MAAM,CAAC,KAAKsC,IAAI,KAAK,GAAG,IAAIA,IAAI,CAACipB,QAAQ,CAAC,GAAG,CAAC,IAAI5oB,IAAI,KAAK,MAAM,IAAI4H,SAAS,KAAK,MAAM,CAAC,EAAE2K,KAAK,IAAI,EAAE;YAE9H,IAAI,CAACvS,IAAI,IAAI,CAAC4H,SAAS,EAAE2K,KAAK,IAAI,EAAE;YAEpC,OAAO;cAAErR,IAAI,EAAEzE,CAAC;cAAE8V,KAAK,EAALA;YAAM,CAAC;UAC3B,CAAC,CAAC;UAEF8V,WAAW,CAACvV,IAAI,CAAC,UAACrW,CAAC,EAAEsW,CAAC;YAAA,OAAKA,CAAC,CAACR,KAAK,GAAG9V,CAAC,CAAC8V,KAAK;UAAA,EAAC;UAE7C,IAAI,EAAA6V,aAAA,GAAAC,WAAW,CAAC,CAAC,CAAC,cAAAD,aAAA,uBAAdA,aAAA,CAAgB7V,KAAK,IAAG,EAAE,EAAE;YAAA,IAAAtR,iBAAA;YAC9BC,IAAI,GAAGmnB,WAAW,CAAC,CAAC,CAAC,CAACnnB,IAAI;YAC1B,IAAI,CAACiZ,MAAM,CAACrW,GAAG,CAAC,iCAAiC,EAAE;cACjD9D,IAAI,GAAAiB,iBAAA,GAAEC,IAAI,CAACN,WAAW,cAAAK,iBAAA,uBAAhBA,iBAAA,CAAkB3E,IAAI,CAAC,CAAC;cAC9BsL,SAAS,EAAE1G,IAAI,CAAC2G,YAAY,CAAC,YAAY,CAAC;cAC1ClI,IAAI,EAAEuB,IAAI,CAACvB,IAAI;cACf4S,KAAK,EAAE8V,WAAW,CAAC,CAAC,CAAC,CAAC9V;YACxB,CAAC,CAAC;UACJ;QACF;MACF;;MAEA;MACA,IAAI6U,UAAU,EAAE;QACd,IAAI,CAACjN,MAAM,CAACrW,GAAG,CAAC,kCAAkC,EAAEsjB,UAAU,CAAC;QAC/D3nB,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGynB,UAAU;QACjC,IAAI,CAACjN,MAAM,CAACrW,GAAG,CAAC,mCAAmC,CAAC;MACtD,CAAC,MAAM,IAAI5C,IAAI,EAAE;QACf,IAAI,CAACiZ,MAAM,CAACrW,GAAG,CAAC,6BAA6B,EAAE5C,IAAI,CAACvB,IAAI,CAAC;QAEzD,IAAMkpB,UAAU,GAAG3nB,IAAI,CAAC4nB,QAAQ,KAAKrpB,MAAM,CAACC,QAAQ,CAACopB,QAAQ;QAE7D,IAAID,UAAU,EAAE;UACdppB,MAAM,CAACspB,IAAI,CAAC7nB,IAAI,CAACvB,IAAI,EAAE,QAAQ,CAAC;QAClC,CAAC,MAAM;UACLF,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGuB,IAAI,CAACvB,IAAI;QAClC;QAEA,IAAI,CAACwa,MAAM,CAACrW,GAAG,CAAC,mCAAmC,CAAC;MACtD,CAAC,MAAM;QACL,IAAI,CAACqW,MAAM,CAACrW,GAAG,CAAC,mCAAmC,EAAEkO,WAAW,CAAC;MACnE;IACF;EAAC;AAAA,I;;;;;;;;;;;;;;;ACtnBH;AACA;AACA;AACA;;AAEO,IAAMgX,KAAK,GAAG;EACnBC,aAAa,EAAE,SAAfA,aAAaA,CAAA;IAAA,IAAGC,SAAS,GAAAhsB,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAG,EAAE;IAAA,6BAAAM,MAAA,CACd0rB,SAAS;EAAA,CAOxB;EAEDC,QAAQ,EAAE,SAAVA,QAAQA,CAAA;IAAA,IAAGD,SAAS,GAAAhsB,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAG,EAAE;IAAA,6BAAAM,MAAA,CACT0rB,SAAS;EAAA,CAOxB;EAEDE,IAAI,EAAE,SAANA,IAAIA,CAAA;IAAA,IAAGF,SAAS,GAAAhsB,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAG,EAAE;IAAA,6BAAAM,MAAA,CACL0rB,SAAS;EAAA,CAQxB;EAEDG,QAAQ,EAAE,SAAVA,QAAQA,CAAA;IAAA,IAAGH,SAAS,GAAAhsB,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAG,EAAE;IAAA,6BAAAM,MAAA,CACT0rB,SAAS;EAAA,CAIxB;EAEDI,OAAO,EAAE,SAATA,OAAOA,CAAA;IAAA,IAAGJ,SAAS,GAAAhsB,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAG,EAAE;IAAA,6BAAAM,MAAA,CACR0rB,SAAS;EAAA,CAKxB;EAEDK,OAAO,EAAE,SAATA,OAAOA,CAAA;IAAA,IAAGL,SAAS,GAAAhsB,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAG,EAAE;IAAA,6BAAAM,MAAA,CACR0rB,SAAS;EAAA,CAKxB;EAEDM,SAAS,EAAE,SAAXA,SAASA,CAAA;IAAA,IAAGN,SAAS,GAAAhsB,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAG,EAAE;IAAA,6BAAAM,MAAA,CACV0rB,SAAS;EAAA,CAQxB;EAEDO,KAAK,EAAE,SAAPA,KAAKA,CAAA;IAAA,IAAGP,SAAS,GAAAhsB,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAG,EAAE;IAAA,6BAAAM,MAAA,CACN0rB,SAAS;EAAA,CAGxB;EAEDQ,QAAQ,EAAE,SAAVA,QAAQA,CAAA;IAAA,IAAGR,SAAS,GAAAhsB,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAG,EAAE;IAAA,6BAAAM,MAAA,CACT0rB,SAAS;EAAA,CAGxB;EAEDS,CAAC,EAAE,SAAHA,CAACA,CAAA;IAAA,IAAGT,SAAS,GAAAhsB,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAG,EAAE;IAAA,6BAAAM,MAAA,CACF0rB,SAAS;EAAA;AAK3B,CAAC,C;;;;;;;;;;;;;;;;;;;;;;ACzFD;AACA;AACA;AACA;;AAEmC;AAE5B,IAAMU,YAAY;EACvB,SAAAA,aAAYzP,MAAM,EAAE;IAAAhf,eAAA,OAAAyuB,YAAA;IAClB,IAAI,CAACzP,MAAM,GAAGA,MAAM;EACtB;;EAEA;AACF;AACA;EAFE,OAAA/e,YAAA,CAAAwuB,YAAA;IAAAvuB,GAAA;IAAAC,KAAA,EAGA,SAAAuuB,eAAeA,CAAA,EAAG;MAChB,IAAMlf,SAAS,GAAGvM,QAAQ,CAAC0rB,aAAa,CAAC,KAAK,CAAC;MAC/Cnf,SAAS,CAACtE,EAAE,GAAG,sBAAsB;MACrCsE,SAAS,CAACue,SAAS,GAAG,2BAA2B;MACjD,OAAOve,SAAS;IAClB;;IAEA;AACF;AACA;EAFE;IAAAtP,GAAA;IAAAC,KAAA,EAGA,SAAAyuB,oBAAoBA,CAAA,EAAG;MAAA,IAAAlkB,KAAA;MACrB,IAAAohB,kBAAA,GAAsC,IAAI,CAAC9M,MAAM,CAACiB,KAAK;QAA/CxH,WAAW,GAAAqT,kBAAA,CAAXrT,WAAW;QAAEoW,YAAY,GAAA/C,kBAAA,CAAZ+C,YAAY;MAEjC,IAAMC,aAAa,GAAG7rB,QAAQ,CAAC0rB,aAAa,CAAC,KAAK,CAAC;MACnDG,aAAa,CAACf,SAAS,GAAG,4EAA4E;MAEtG,IAAMgB,iBAAiB,GAAG9rB,QAAQ,CAAC0rB,aAAa,CAAC,KAAK,CAAC;MACvDI,iBAAiB,CAAChB,SAAS,GAAG,UAAU;;MAExC;MACA,IAAMlf,MAAM,GAAG5L,QAAQ,CAAC0rB,aAAa,CAAC,QAAQ,CAAC;MAC/C9f,MAAM,CAACkf,SAAS,gIAAA1rB,MAAA,CACdoW,WAAW,GACP,6JAA6J,GAC7J,8BAA8B,CAClC;MACF5J,MAAM,CAACmgB,YAAY,CAAC,YAAY,EAAEvW,WAAW,GAAG,uBAAuB,GAAG,wBAAwB,CAAC;MACnG5J,MAAM,CAACmgB,YAAY,CAAC,OAAO,EAAEvW,WAAW,GAAG,4CAA4C,GAAG,kCAAkC,CAAC;MAC7H5J,MAAM,CAACogB,OAAO,GAAG;QAAA,OAAMvkB,KAAI,CAACsU,MAAM,CAACkQ,eAAe,CAAC,CAAC;MAAA;;MAEpD;MACA,IAAMC,aAAa,GAAGlsB,QAAQ,CAAC0rB,aAAa,CAAC,MAAM,CAAC;MACpDQ,aAAa,CAACpB,SAAS,GAAG,kCAAkC;MAE5D,IAAItV,WAAW,EAAE;QACf0W,aAAa,CAACC,SAAS,GAAGvB,4CAAK,CAACC,aAAa,CAAC,qCAAqC,CAAC;;QAEpF;QACA,IAAIe,YAAY,EAAE;UAChB,IAAMQ,OAAO,GAAGpsB,QAAQ,CAAC0rB,aAAa,CAAC,MAAM,CAAC;UAC9CU,OAAO,CAACtB,SAAS,GAAG,8BAA8B;UAClDsB,OAAO,CAACD,SAAS,GAAGvB,4CAAK,CAACG,QAAQ,CAAC,oCAAoC,CAAC;UACxEnf,MAAM,CAACygB,WAAW,CAACD,OAAO,CAAC;QAC7B;;QAEA;QACA,IAAME,SAAS,GAAGtsB,QAAQ,CAAC0rB,aAAa,CAAC,MAAM,CAAC;QAChDY,SAAS,CAACxB,SAAS,GAAG,yDAAyD;QAC/EwB,SAAS,CAACH,SAAS,2OAGlB;QACDvgB,MAAM,CAACygB,WAAW,CAACC,SAAS,CAAC;MAC/B,CAAC,MAAM;QACLJ,aAAa,CAACC,SAAS,GAAGvB,4CAAK,CAACC,aAAa,CAAC,uBAAuB,CAAC;MACxE;MAEAjf,MAAM,CAACygB,WAAW,CAACH,aAAa,CAAC;MACjCJ,iBAAiB,CAACO,WAAW,CAACzgB,MAAM,CAAC;;MAErC;MACA,IAAI4J,WAAW,EAAE;QACf,IAAM+W,cAAc,GAAG,IAAI,CAACC,qBAAqB,CAC/C,MAAM,EACN,eAAe,EACf,+EAA+E,EAC/E;UAAA,OAAM/kB,KAAI,CAACsU,MAAM,CAAC0E,QAAQ,CAAC;YAAEuE,YAAY,EAAE,CAACvd,KAAI,CAACsU,MAAM,CAACiB,KAAK,CAACgI;UAAa,CAAC,CAAC;QAAA,CAC/E,CAAC;QACD8G,iBAAiB,CAACO,WAAW,CAACE,cAAc,CAAC;QAE7C,IAAME,cAAc,GAAG,IAAI,CAACD,qBAAqB,CAC/C,UAAU,EACV,gBAAgB,EAChB,+EAA+E,EAC/E;UAAA,OAAM/kB,KAAI,CAACsU,MAAM,CAAC0E,QAAQ,CAAC;YAAEiM,YAAY,EAAE,CAACjlB,KAAI,CAACsU,MAAM,CAACiB,KAAK,CAAC0P;UAAa,CAAC,CAAC;QAAA,CAC/E,CAAC;QACDZ,iBAAiB,CAACO,WAAW,CAACI,cAAc,CAAC;MAC/C;MAEAZ,aAAa,CAACQ,WAAW,CAACP,iBAAiB,CAAC;MAC5C,OAAOD,aAAa;IACtB;;IAEA;AACF;AACA;EAFE;IAAA5uB,GAAA;IAAAC,KAAA,EAGA,SAAAsvB,qBAAqBA,CAACG,IAAI,EAAEnlB,KAAK,EAAEsjB,SAAS,EAAEkB,OAAO,EAAE;MACrD,IAAMpgB,MAAM,GAAG5L,QAAQ,CAAC0rB,aAAa,CAAC,QAAQ,CAAC;MAC/C9f,MAAM,CAACkf,SAAS,MAAA1rB,MAAA,CAAM0rB,SAAS,qHAAkH;MACjJlf,MAAM,CAACmgB,YAAY,CAAC,OAAO,EAAEvkB,KAAK,CAAC;MACnCoE,MAAM,CAACogB,OAAO,GAAGA,OAAO;MAExB,IAAMY,QAAQ,GAAGD,IAAI,KAAK,MAAM,GAAG/B,4CAAK,CAACI,IAAI,CAAC,uBAAuB,CAAC,GAAGJ,4CAAK,CAACK,QAAQ,CAAC,uBAAuB,CAAC;MAChHrf,MAAM,CAACugB,SAAS,GAAGS,QAAQ;MAE3B,OAAOhhB,MAAM;IACf;;IAEA;AACF;AACA;EAFE;IAAA3O,GAAA;IAAAC,KAAA,EAGA,SAAA2vB,uBAAuBA,CAAA,EAAG;MACxB,IAAAC,mBAAA,GAAkD,IAAI,CAAC/Q,MAAM,CAACiB,KAAK;QAA3DxH,WAAW,GAAAsX,mBAAA,CAAXtX,WAAW;QAAE/X,UAAU,GAAAqvB,mBAAA,CAAVrvB,UAAU;QAAEmuB,YAAY,GAAAkB,mBAAA,CAAZlB,YAAY;MAE7C,IAAI,CAACpW,WAAW,IAAI,CAAC/X,UAAU,EAAE,OAAO,IAAI;MAE5C,IAAMsvB,OAAO,GAAG/sB,QAAQ,CAAC0rB,aAAa,CAAC,KAAK,CAAC;MAC7CqB,OAAO,CAACjC,SAAS,GAAG,0aAA0a;MAE9biC,OAAO,CAACZ,SAAS,2qBAAA/sB,MAAA,CAUL,IAAI,CAAC2c,MAAM,CAACiB,KAAK,CAAC/b,QAAQ,KAAK,OAAO,GAAG,gBAAgB,GAAG,cAAc,mKAAA7B,MAAA,CAG6B3B,UAAU,oCAAA2B,MAAA,CAEvHwsB,YAAY,oCAAAxsB,MAAA,CAAkCwrB,4CAAK,CAACG,QAAQ,CAAC,yEAAyE,CAAC,eAAY,EAAE,yBAE1J;MAED,OAAOgC,OAAO;IAChB;;IAEA;AACF;AACA;EAFE;IAAA9vB,GAAA;IAAAC,KAAA,EAGA,SAAA8vB,mBAAmBA,CAAA,EAAG;MACpB,IAAAC,mBAAA,GAA8F,IAAI,CAAClR,MAAM,CAACiB,KAAK;QAAvG0P,YAAY,GAAAO,mBAAA,CAAZP,YAAY;QAAEzrB,QAAQ,GAAAgsB,mBAAA,CAARhsB,QAAQ;QAAE2gB,YAAY,GAAAqL,mBAAA,CAAZrL,YAAY;QAAEzjB,WAAW,GAAA8uB,mBAAA,CAAX9uB,WAAW;QAAE8e,cAAc,GAAAgQ,mBAAA,CAAdhQ,cAAc;QAAEiQ,cAAc,GAAAD,mBAAA,CAAdC,cAAc;MAEzF,IAAI,CAACR,YAAY,EAAE,OAAO,IAAI;MAE9B,IAAMS,KAAK,GAAGntB,QAAQ,CAAC0rB,aAAa,CAAC,KAAK,CAAC;MAC3CyB,KAAK,CAACrC,SAAS,GAAG,iRAAiR;MAEnS,IAAMjM,OAAO,GAAG5d,QAAQ,KAAK,OAAO;MAEpCksB,KAAK,CAAChB,SAAS,yLAAA/sB,MAAA,CAILyf,OAAO,GAAG,eAAe,GAAG,gBAAgB,uIAAAzf,MAAA,CAG5CwrB,4CAAK,CAACW,CAAC,CAAC,SAAS,CAAC,mRAAAnsB,MAAA,CAQhByf,OAAO,GAAG,MAAM,GAAG,UAAU,wNAAAzf,MAAA,CAI3BwrB,4CAAK,CAACQ,SAAS,CAAC,SAAS,CAAC,wBAAAhsB,MAAA,CAC1Byf,OAAO,GAAG,OAAO,GAAG,SAAS,+YAAAzf,MAAA,CAK3B6B,QAAQ,KAAK,OAAO,GAAG2pB,4CAAK,CAACS,KAAK,CAAC,iBAAiB,CAAC,GAAG,EAAE,gRAAAjsB,MAAA,CAI1D6B,QAAQ,KAAK,OAAO,GAAG2pB,4CAAK,CAACS,KAAK,CAAC,iBAAiB,CAAC,GAAG,EAAE,wSAAAjsB,MAAA,CAS9Dyf,OAAO,GAAG,aAAa,GAAG,gBAAgB,+IAAAzf,MAAA,CAG1CwiB,YAAY,GAAGgJ,4CAAK,CAACM,OAAO,CAAC,uBAAuB,CAAC,GAAGN,4CAAK,CAACO,OAAO,CAAC,uBAAuB,CAAC,6QAAA/rB,MAAA,CAQ5Fyf,OAAO,GAAG,QAAQ,GAAG,SAAS,6HAAAzf,MAAA,CAG9Byf,OAAO,GAAG,iBAAiB,GAAG,wBAAwB,mHAAAzf,MAAA,CAIxDwrB,4CAAK,CAACG,QAAQ,CAAC,yBAAyB,CAAC,8FAAA3rB,MAAA,CAEvCyf,OAAO,GAAG,MAAM,GAAG,IAAI,4HAAAzf,MAAA,CAM7B6d,cAAc,kLAAA7d,MAAA,CAIRyf,OAAO,GAAG,cAAc,GAAG,cAAc,6HAAAzf,MAAA,CAGzCjB,WAAW,MAAAiB,MAAA,CACNjB,WAAW,CAACuI,KAAK,CAACtE,MAAM,cAAAhD,MAAA,CAAWjB,WAAW,CAACyI,UAAU,CAACxE,MAAM,YACnE,kBAAkB,yKAAAhD,MAAA,CAItBjB,WAAW,GAAGysB,4CAAK,CAACU,QAAQ,CAAC,6BAA6B,CAAC,GAAG,EAAE,sBAAAlsB,MAAA,CAChEyf,OAAO,GAAG,OAAO,GAAG,MAAM,6DAG5B,EAAE,4EAAAzf,MAAA,CAIN8tB,cAAc,CAAC9qB,MAAM,GAAG,CAAC,0KAAAhD,MAAA,CAGrByf,OAAO,GAAG,YAAY,GAAG,QAAQ,yHAAAzf,MAAA,CAGjC8tB,cAAc,CAACvhB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACjE,GAAG,CAAC,UAAA0lB,GAAG;QAAA,oJAAAhuB,MAAA,CAEyBguB,GAAG,CAAC5vB,OAAO,yFAAA4B,MAAA,CACPguB,GAAG,CAAC3uB,MAAM;MAAA,CAE1E,CAAC,CAACgT,IAAI,CAAC,EAAE,CAAC,oDAGX,EAAE,yBAET;;MAED;MACA,IAAI,CAAC4b,4BAA4B,CAACF,KAAK,CAAC;MAExC,OAAOA,KAAK;IACd;;IAEA;AACF;AACA;EAFE;IAAAlwB,GAAA;IAAAC,KAAA,EAGA,SAAAmwB,4BAA4BA,CAACF,KAAK,EAAE;MAAA,IAAA9kB,MAAA;MAClC;MACA8kB,KAAK,CAACltB,aAAa,CAAC,yBAAyB,CAAC,CAAC+rB,OAAO,GAAG,YAAM;QAC7D3jB,MAAI,CAAC0T,MAAM,CAAC0E,QAAQ,CAAC;UAAEiM,YAAY,EAAE;QAAM,CAAC,CAAC;MAC/C,CAAC;;MAED;MACA,IAAMY,UAAU,GAAGH,KAAK,CAACltB,aAAa,CAAC,sBAAsB,CAAC;MAC9D,IAAMstB,YAAY,GAAGJ,KAAK,CAACltB,aAAa,CAAC,wBAAwB,CAAC;MAElEqtB,UAAU,CAACtB,OAAO,GAAG,UAAC9a,CAAC,EAAK;QAC1BA,CAAC,CAACsc,eAAe,CAAC,CAAC;QACnBD,YAAY,CAACE,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;MACzC,CAAC;;MAED;MACAP,KAAK,CAACltB,aAAa,CAAC,kBAAkB,CAAC,CAAC+rB,OAAO,GAAG,YAAM;QACtD3jB,MAAI,CAAC0T,MAAM,CAAC0E,QAAQ,CAAC;UAAExf,QAAQ,EAAE;QAAQ,CAAC,CAAC;QAC3CoH,MAAI,CAAC0T,MAAM,CAAC4R,uBAAuB,CAAC,CAAC;MACvC,CAAC;MAEDR,KAAK,CAACltB,aAAa,CAAC,kBAAkB,CAAC,CAAC+rB,OAAO,GAAG,YAAM;QACtD3jB,MAAI,CAAC0T,MAAM,CAAC0E,QAAQ,CAAC;UAAExf,QAAQ,EAAE;QAAQ,CAAC,CAAC;QAC3CoH,MAAI,CAAC0T,MAAM,CAAC4R,uBAAuB,CAAC,CAAC;MACvC,CAAC;;MAED;MACAR,KAAK,CAACltB,aAAa,CAAC,uBAAuB,CAAC,CAAC+rB,OAAO,GAAG,YAAM;QAC3D3jB,MAAI,CAAC0T,MAAM,CAAC0E,QAAQ,CAAC;UAAEmB,YAAY,EAAE,CAACvZ,MAAI,CAAC0T,MAAM,CAACiB,KAAK,CAAC4E;QAAa,CAAC,CAAC;MACzE,CAAC;;MAED;MACA,IAAMgM,UAAU,GAAGT,KAAK,CAACltB,aAAa,CAAC,uBAAuB,CAAC;MAC/D,IAAI2tB,UAAU,EAAE;QACdA,UAAU,CAAC5B,OAAO,GAAG;UAAA,OAAM3jB,MAAI,CAAC0T,MAAM,CAAC8R,WAAW,CAAC,CAAC;QAAA;MACtD;IACF;;IAEA;AACF;AACA;EAFE;IAAA5wB,GAAA;IAAAC,KAAA,EAGA,SAAA4wB,qBAAqBA,CAAA,EAAG;MAAA,IAAAhjB,MAAA;MACtB,IAAAijB,mBAAA,GAAgD,IAAI,CAAChS,MAAM,CAACiB,KAAK;QAAzDxH,WAAW,GAAAuY,mBAAA,CAAXvY,WAAW;QAAEwP,YAAY,GAAA+I,mBAAA,CAAZ/I,YAAY;QAAE/jB,QAAQ,GAAA8sB,mBAAA,CAAR9sB,QAAQ;MAE3C,IAAI,CAACuU,WAAW,IAAI,CAACwP,YAAY,EAAE,OAAO,IAAI;MAE9C,IAAMnG,OAAO,GAAG5d,QAAQ,KAAK,OAAO;MAEpC,IAAM+sB,eAAe,GAAGnP,OAAO,GAC3B,CACE,kBAAkB,EAClB,oBAAoB,EACpB,oBAAoB,EACpB,4BAA4B,EAC5B,iBAAiB,EACjB,2BAA2B,CAC5B,GACD,CACE,mBAAmB,EACnB,eAAe,EACf,iBAAiB,EACjB,yBAAyB,EACzB,wBAAwB,EACxB,6BAA6B,CAC9B;MAEL,IAAMkO,OAAO,GAAG/sB,QAAQ,CAAC0rB,aAAa,CAAC,KAAK,CAAC;MAC7CqB,OAAO,CAACjC,SAAS,GAAG,2SAA2S;MAE/TiC,OAAO,CAACZ,SAAS,uPAAA/sB,MAAA,CAGTwrB,4CAAK,CAACG,QAAQ,CAAC,8EAA8E,CAAC,gGAAA3rB,MAAA,CAG1Fyf,OAAO,GAAG,oBAAoB,GAAG,iBAAiB,oHAAAzf,MAAA,CAGlDyf,OAAO,GAAG,sBAAsB,GAAG,sBAAsB,qLAAAzf,MAAA,CAK7DwrB,4CAAK,CAACW,CAAC,CAAC,SAAS,CAAC,4NAAAnsB,MAAA,CAMlByf,OAAO,GACL,yCAAyC,GACzC,iDAAiD,8BAAAzf,MAAA,CAErD4uB,eAAe,CAACtmB,GAAG,CAAC,UAAA0lB,GAAG;QAAA,wSAAAhuB,MAAA,CAEnBguB,GAAG;MAAA,CAER,CAAC,CAAC3b,IAAI,CAAC,EAAE,CAAC,gMAAArS,MAAA,CAKPyf,OAAO,GACL,wBAAwB,GACxB,2BAA2B,uCAGpC;;MAED;MACAkO,OAAO,CAAC9sB,aAAa,CAAC,yBAAyB,CAAC,CAAC+rB,OAAO,GAAG,YAAM;QAC/DlhB,MAAI,CAACiR,MAAM,CAAC0E,QAAQ,CAAC;UAAEuE,YAAY,EAAE;QAAM,CAAC,CAAC;MAC/C,CAAC;MAED,OAAO+H,OAAO;IAChB;EAAC;AAAA,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BCjYH,uKAAA7b,CAAA,EAAAiI,CAAA,EAAApE,CAAA,wBAAAqE,MAAA,GAAAA,MAAA,OAAApb,CAAA,GAAA+W,CAAA,CAAAsE,QAAA,kBAAAC,CAAA,GAAAvE,CAAA,CAAAwE,WAAA,8BAAAlV,EAAA0Q,CAAA,EAAA/W,CAAA,EAAAsb,CAAA,EAAAjV,CAAA,QAAAmV,CAAA,GAAAxb,CAAA,IAAAA,CAAA,CAAAyb,SAAA,YAAAC,SAAA,GAAA1b,CAAA,GAAA0b,SAAA,EAAAC,CAAA,GAAAtO,MAAA,CAAAuO,MAAA,CAAAJ,CAAA,CAAAC,SAAA,UAAAI,mBAAA,CAAAF,CAAA,uBAAA5E,CAAA,EAAA/W,CAAA,EAAAsb,CAAA,QAAAjV,CAAA,EAAAmV,CAAA,EAAAG,CAAA,EAAA5L,CAAA,MAAAhQ,CAAA,GAAAub,CAAA,QAAAQ,CAAA,OAAAC,CAAA,KAAAhc,CAAA,KAAAC,CAAA,KAAAM,CAAA,EAAA4S,CAAA,EAAA7S,CAAA,EAAA2b,CAAA,EAAAjM,CAAA,EAAAiM,CAAA,CAAAC,IAAA,CAAA/I,CAAA,MAAA8I,CAAA,WAAAA,EAAAb,CAAA,EAAApE,CAAA,WAAA1Q,CAAA,GAAA8U,CAAA,EAAAK,CAAA,MAAAG,CAAA,GAAAzI,CAAA,EAAA6I,CAAA,CAAA/b,CAAA,GAAA+W,CAAA,EAAA1W,CAAA,gBAAA2b,EAAAjF,CAAA,EAAA/W,CAAA,SAAAwb,CAAA,GAAAzE,CAAA,EAAA4E,CAAA,GAAA3b,CAAA,EAAAmb,CAAA,OAAAW,CAAA,IAAA/L,CAAA,KAAAuL,CAAA,IAAAH,CAAA,GAAApb,CAAA,CAAAqE,MAAA,EAAA+W,CAAA,UAAAG,CAAA,EAAAjV,CAAA,GAAAtG,CAAA,CAAAob,CAAA,GAAAa,CAAA,GAAAD,CAAA,CAAAhc,CAAA,EAAAmc,CAAA,GAAA7V,CAAA,KAAA0Q,CAAA,QAAAuE,CAAA,GAAAY,CAAA,KAAAlc,CAAA,MAAA2b,CAAA,GAAAtV,CAAA,EAAAmV,CAAA,GAAAnV,CAAA,YAAAmV,CAAA,WAAAnV,CAAA,MAAAA,CAAA,MAAA6M,CAAA,IAAA7M,CAAA,OAAA2V,CAAA,MAAAV,CAAA,GAAAvE,CAAA,QAAAiF,CAAA,GAAA3V,CAAA,QAAAmV,CAAA,MAAAO,CAAA,CAAAzb,CAAA,GAAAN,CAAA,EAAA+b,CAAA,CAAA/b,CAAA,GAAAqG,CAAA,OAAA2V,CAAA,GAAAE,CAAA,KAAAZ,CAAA,GAAAvE,CAAA,QAAA1Q,CAAA,MAAArG,CAAA,IAAAA,CAAA,GAAAkc,CAAA,MAAA7V,CAAA,MAAA0Q,CAAA,EAAA1Q,CAAA,MAAArG,CAAA,EAAA+b,CAAA,CAAA/b,CAAA,GAAAkc,CAAA,EAAAV,CAAA,cAAAF,CAAA,IAAAvE,CAAA,aAAA1W,CAAA,QAAAyb,CAAA,OAAA9b,CAAA,qBAAAsb,CAAA,EAAAvb,CAAA,EAAAmc,CAAA,QAAAnM,CAAA,YAAAoM,SAAA,uCAAAL,CAAA,UAAA/b,CAAA,IAAAic,CAAA,CAAAjc,CAAA,EAAAmc,CAAA,GAAAV,CAAA,GAAAzb,CAAA,EAAA4b,CAAA,GAAAO,CAAA,GAAAf,CAAA,GAAAK,CAAA,OAAAtI,CAAA,GAAAyI,CAAA,MAAAG,CAAA,KAAAzV,CAAA,KAAAmV,CAAA,GAAAA,CAAA,QAAAA,CAAA,SAAAO,CAAA,CAAA/b,CAAA,QAAAgc,CAAA,CAAAR,CAAA,EAAAG,CAAA,KAAAI,CAAA,CAAA/b,CAAA,GAAA2b,CAAA,GAAAI,CAAA,CAAAzb,CAAA,GAAAqb,CAAA,aAAA5L,CAAA,MAAA1J,CAAA,QAAAmV,CAAA,KAAAF,CAAA,YAAAH,CAAA,GAAA9U,CAAA,CAAAiV,CAAA,WAAAH,CAAA,GAAAA,CAAA,CAAAiB,IAAA,CAAA/V,CAAA,EAAAsV,CAAA,UAAAQ,SAAA,2CAAAhB,CAAA,CAAApI,IAAA,SAAAoI,CAAA,EAAAQ,CAAA,GAAAR,CAAA,CAAAjc,KAAA,EAAAsc,CAAA,SAAAA,CAAA,oBAAAA,CAAA,KAAAL,CAAA,GAAA9U,CAAA,eAAA8U,CAAA,CAAAiB,IAAA,CAAA/V,CAAA,GAAAmV,CAAA,SAAAG,CAAA,GAAAQ,SAAA,uCAAAb,CAAA,gBAAAE,CAAA,OAAAnV,CAAA,GAAA6M,CAAA,cAAAiI,CAAA,IAAAW,CAAA,GAAAC,CAAA,CAAA/b,CAAA,QAAA2b,CAAA,GAAA5E,CAAA,CAAAqF,IAAA,CAAApc,CAAA,EAAA+b,CAAA,OAAA1b,CAAA,kBAAA8a,CAAA,IAAA9U,CAAA,GAAA6M,CAAA,EAAAsI,CAAA,MAAAG,CAAA,GAAAR,CAAA,cAAApL,CAAA,mBAAA7Q,KAAA,EAAAic,CAAA,EAAApI,IAAA,EAAA+I,CAAA,SAAA/E,CAAA,EAAAuE,CAAA,EAAAjV,CAAA,QAAAsV,CAAA,QAAAtb,CAAA,gBAAAqb,UAAA,cAAAW,kBAAA,cAAAC,2BAAA,KAAAnB,CAAA,GAAA9N,MAAA,CAAAkP,cAAA,MAAAf,CAAA,MAAAxb,CAAA,IAAAmb,CAAA,CAAAA,CAAA,IAAAnb,CAAA,SAAA6b,mBAAA,CAAAV,CAAA,OAAAnb,CAAA,iCAAAmb,CAAA,GAAAQ,CAAA,GAAAW,0BAAA,CAAAb,SAAA,GAAAC,SAAA,CAAAD,SAAA,GAAApO,MAAA,CAAAuO,MAAA,CAAAJ,CAAA,YAAAzL,EAAAmD,CAAA,WAAA7F,MAAA,CAAAmP,cAAA,GAAAnP,MAAA,CAAAmP,cAAA,CAAAtJ,CAAA,EAAAoJ,0BAAA,KAAApJ,CAAA,CAAAuJ,SAAA,GAAAH,0BAAA,EAAAT,mBAAA,CAAA3I,CAAA,EAAAoI,CAAA,yBAAApI,CAAA,CAAAuI,SAAA,GAAApO,MAAA,CAAAuO,MAAA,CAAAD,CAAA,GAAAzI,CAAA,WAAAmJ,iBAAA,CAAAZ,SAAA,GAAAa,0BAAA,EAAAT,mBAAA,CAAAF,CAAA,iBAAAW,0BAAA,GAAAT,mBAAA,CAAAS,0BAAA,iBAAAD,iBAAA,GAAAA,iBAAA,CAAAK,WAAA,wBAAAb,mBAAA,CAAAS,0BAAA,EAAAhB,CAAA,wBAAAO,mBAAA,CAAAF,CAAA,GAAAE,mBAAA,CAAAF,CAAA,EAAAL,CAAA,gBAAAO,mBAAA,CAAAF,CAAA,EAAA3b,CAAA,iCAAA6b,mBAAA,CAAAF,CAAA,8DAAAtc,YAAA,YAAAA,aAAA,aAAAQ,CAAA,EAAAwG,CAAA,EAAA/G,CAAA,EAAAyQ,CAAA;AAAA,SAAA8L,oBAAA3I,CAAA,EAAA6D,CAAA,EAAA/W,CAAA,EAAAmb,CAAA,QAAA9U,CAAA,GAAAgH,MAAA,CAAAsP,cAAA,QAAAtW,CAAA,uBAAA6M,CAAA,IAAA7M,CAAA,QAAAwV,mBAAA,YAAAe,mBAAA1J,CAAA,EAAA6D,CAAA,EAAA/W,CAAA,EAAAmb,CAAA,aAAAG,EAAAvE,CAAA,EAAA/W,CAAA,IAAA6b,mBAAA,CAAA3I,CAAA,EAAA6D,CAAA,YAAA7D,CAAA,gBAAA2J,OAAA,CAAA9F,CAAA,EAAA/W,CAAA,EAAAkT,CAAA,SAAA6D,CAAA,GAAA1Q,CAAA,GAAAA,CAAA,CAAA6M,CAAA,EAAA6D,CAAA,IAAA7X,KAAA,EAAAc,CAAA,EAAA8c,UAAA,GAAA3B,CAAA,EAAA4B,YAAA,GAAA5B,CAAA,EAAA6B,QAAA,GAAA7B,CAAA,MAAAjI,CAAA,CAAA6D,CAAA,IAAA/W,CAAA,IAAAsb,CAAA,aAAAA,CAAA,cAAAA,CAAA,mBAAAO,mBAAA,CAAA3I,CAAA,EAAA6D,CAAA,EAAA/W,CAAA,EAAAmb,CAAA;AAAA,SAAA8B,mBAAAjd,CAAA,EAAAmb,CAAA,EAAAjI,CAAA,EAAA6D,CAAA,EAAAuE,CAAA,EAAAjb,CAAA,EAAAmb,CAAA,cAAAnV,CAAA,GAAArG,CAAA,CAAAK,CAAA,EAAAmb,CAAA,GAAAG,CAAA,GAAAtV,CAAA,CAAAnH,KAAA,WAAAc,CAAA,gBAAAkT,CAAA,CAAAlT,CAAA,KAAAqG,CAAA,CAAA0M,IAAA,GAAAoI,CAAA,CAAAQ,CAAA,IAAAuB,OAAA,CAAAC,OAAA,CAAAxB,CAAA,EAAAyB,IAAA,CAAArG,CAAA,EAAAuE,CAAA;AAAA,SAAAlc,kBAAAY,CAAA,6BAAAmb,CAAA,SAAAjI,CAAA,GAAApS,SAAA,aAAAoc,OAAA,WAAAnG,CAAA,EAAAuE,CAAA,QAAAjb,CAAA,GAAAL,CAAA,CAAAa,KAAA,CAAAsa,CAAA,EAAAjI,CAAA,YAAAmK,MAAArd,CAAA,IAAAid,kBAAA,CAAA5c,CAAA,EAAA0W,CAAA,EAAAuE,CAAA,EAAA+B,KAAA,EAAAC,MAAA,UAAAtd,CAAA,cAAAsd,OAAAtd,CAAA,IAAAid,kBAAA,CAAA5c,CAAA,EAAA0W,CAAA,EAAAuE,CAAA,EAAA+B,KAAA,EAAAC,MAAA,WAAAtd,CAAA,KAAAqd,KAAA;AAAA,SAAA4S,QAAA/c,CAAA,EAAA6D,CAAA,QAAAoE,CAAA,GAAA9N,MAAA,CAAAC,IAAA,CAAA4F,CAAA,OAAA7F,MAAA,CAAA6iB,qBAAA,QAAA5U,CAAA,GAAAjO,MAAA,CAAA6iB,qBAAA,CAAAhd,CAAA,GAAA6D,CAAA,KAAAuE,CAAA,GAAAA,CAAA,CAAA/Q,MAAA,WAAAwM,CAAA,WAAA1J,MAAA,CAAA6b,wBAAA,CAAAhW,CAAA,EAAA6D,CAAA,EAAA+F,UAAA,OAAA3B,CAAA,CAAA3M,IAAA,CAAA3N,KAAA,CAAAsa,CAAA,EAAAG,CAAA,YAAAH,CAAA;AAAA,SAAAtD,cAAA3E,CAAA,aAAA6D,CAAA,MAAAA,CAAA,GAAAjW,SAAA,CAAAsD,MAAA,EAAA2S,CAAA,UAAAoE,CAAA,WAAAra,SAAA,CAAAiW,CAAA,IAAAjW,SAAA,CAAAiW,CAAA,QAAAA,CAAA,OAAAkZ,OAAA,CAAA5iB,MAAA,CAAA8N,CAAA,OAAAzN,OAAA,WAAAqJ,CAAA,IAAAoZ,eAAA,CAAAjd,CAAA,EAAA6D,CAAA,EAAAoE,CAAA,CAAApE,CAAA,SAAA1J,MAAA,CAAA+iB,yBAAA,GAAA/iB,MAAA,CAAAgjB,gBAAA,CAAAnd,CAAA,EAAA7F,MAAA,CAAA+iB,yBAAA,CAAAjV,CAAA,KAAA8U,OAAA,CAAA5iB,MAAA,CAAA8N,CAAA,GAAAzN,OAAA,WAAAqJ,CAAA,IAAA1J,MAAA,CAAAsP,cAAA,CAAAzJ,CAAA,EAAA6D,CAAA,EAAA1J,MAAA,CAAA6b,wBAAA,CAAA/N,CAAA,EAAApE,CAAA,iBAAA7D,CAAA;AAAA,SAAAid,gBAAAjd,CAAA,EAAA6D,CAAA,EAAAoE,CAAA,YAAApE,CAAA,GAAAyG,cAAA,CAAAzG,CAAA,MAAA7D,CAAA,GAAA7F,MAAA,CAAAsP,cAAA,CAAAzJ,CAAA,EAAA6D,CAAA,IAAA7X,KAAA,EAAAic,CAAA,EAAA2B,UAAA,MAAAC,YAAA,MAAAC,QAAA,UAAA9J,CAAA,CAAA6D,CAAA,IAAAoE,CAAA,EAAAjI,CAAA;AAAA,SAAAnU,gBAAAsB,CAAA,EAAAL,CAAA,UAAAK,CAAA,YAAAL,CAAA,aAAAmc,SAAA;AAAA,SAAAoB,kBAAArK,CAAA,EAAA6D,CAAA,aAAAoE,CAAA,MAAAA,CAAA,GAAApE,CAAA,CAAA3S,MAAA,EAAA+W,CAAA,UAAAG,CAAA,GAAAvE,CAAA,CAAAoE,CAAA,GAAAG,CAAA,CAAAwB,UAAA,GAAAxB,CAAA,CAAAwB,UAAA,QAAAxB,CAAA,CAAAyB,YAAA,kBAAAzB,CAAA,KAAAA,CAAA,CAAA0B,QAAA,QAAA3P,MAAA,CAAAsP,cAAA,CAAAzJ,CAAA,EAAAsK,cAAA,CAAAlC,CAAA,CAAArc,GAAA,GAAAqc,CAAA;AAAA,SAAAtc,aAAAkU,CAAA,EAAA6D,CAAA,EAAAoE,CAAA,WAAApE,CAAA,IAAAwG,iBAAA,CAAArK,CAAA,CAAAuI,SAAA,EAAA1E,CAAA,GAAAoE,CAAA,IAAAoC,iBAAA,CAAArK,CAAA,EAAAiI,CAAA,GAAA9N,MAAA,CAAAsP,cAAA,CAAAzJ,CAAA,iBAAA8J,QAAA,SAAA9J,CAAA;AAAA,SAAAsK,eAAArC,CAAA,QAAA9U,CAAA,GAAAoX,YAAA,CAAAtC,CAAA,gCAAAuC,OAAA,CAAArX,CAAA,IAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAoX,aAAAtC,CAAA,EAAApE,CAAA,oBAAA2G,OAAA,CAAAvC,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAAjI,CAAA,GAAAiI,CAAA,CAAAC,MAAA,CAAAuC,WAAA,kBAAAzK,CAAA,QAAA7M,CAAA,GAAA6M,CAAA,CAAAkJ,IAAA,CAAAjB,CAAA,EAAApE,CAAA,gCAAA2G,OAAA,CAAArX,CAAA,UAAAA,CAAA,YAAA8V,SAAA,yEAAApF,CAAA,GAAA6G,MAAA,GAAAC,MAAA,EAAA1C,CAAA;AADA;AACA;AACA;AACA;AACA;AACA;;AAEoE;AACZ;AACP;AACQ;AACZ;AACI;AAC3B;AAEf,IAAMmV,WAAW;EACtB,SAAAA,YAAA,EAAyB;IAAA,IAAbhZ,MAAM,GAAAxW,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAG,CAAC,CAAC;IAAA/B,eAAA,OAAAuxB,WAAA;IACrB;IACA,IAAI,CAAChZ,MAAM,GAAAO,aAAA;MACTyG,OAAO,EAAEhH,MAAM,CAACgH,OAAO,IAAI,yBAAyB;MACpDL,IAAI,EAAE3G,MAAM,CAAC2G,IAAI,IAAI,QAAQ;MAAE;MAC/Bhb,QAAQ,EAAEqU,MAAM,CAACrU,QAAQ,IAAI,OAAO;MACpC8U,SAAS,EAAET,MAAM,CAACS,SAAS,KAAKlS,SAAS,GAAGyR,MAAM,CAACS,SAAS,GAAG,KAAK;MACpEwY,KAAK,EAAEjZ,MAAM,CAACiZ,KAAK,KAAK1qB,SAAS,GAAGyR,MAAM,CAACiZ,KAAK,GAAG;IAAI,GACpDjZ,MAAM,CACV;;IAED;IACA,IAAI,CAAC0H,KAAK,GAAG;MACXxH,WAAW,EAAE,KAAK;MAClBgZ,WAAW,EAAE,IAAI;MACjB/wB,UAAU,EAAE,EAAE;MACdmkB,YAAY,EAAE,IAAI;MAClB8K,YAAY,EAAE,KAAK;MACnB1H,YAAY,EAAE,IAAI;MAClBkI,cAAc,EAAE,EAAE;MAClBtB,YAAY,EAAE,KAAK;MACnB3qB,QAAQ,EAAE,IAAI,CAACqU,MAAM,CAACrU,QAAQ;MAC9BwtB,oBAAoB,EAAE,KAAK;MAC3BC,SAAS,EAAE,IAAI;MACfzR,cAAc,EAAE,IAAI;MACpB9e,WAAW,EAAE,IAAI;MACjB2qB,aAAa,EAAE;IACjB,CAAC;;IAED;IACA,IAAI,CAAC6F,IAAI,GAAG;MACVlP,UAAU,EAAE,IAAI;MAChBC,WAAW,EAAE,IAAI;MACjBkP,YAAY,EAAE,IAAI;MAClBC,UAAU,EAAE,IAAI;MAChBtiB,SAAS,EAAE;IACb,CAAC;;IAED;IACA,IAAI,CAACa,QAAQ,GAAG,CAAC,CAAC;;IAElB;IACA,IAAI,CAAC0hB,YAAY,GAAG,IAAItD,0DAAY,CAAC,IAAI,CAAC;IAC1C,IAAI,CAACuD,gBAAgB,GAAG,IAAI9M,kEAAgB,CAAC,IAAI,CAAC;IAClD,IAAI,CAAChC,UAAU,GAAG,IAAInE,sDAAU,CAAC,IAAI,CAAC;IACtC,IAAI,CAACkT,YAAY,GAAG,IAAIxP,0DAAY,CAAC,IAAI,CAAC;;IAE1C;IACA,IAAI,CAACyM,eAAe,GAAG,IAAI,CAACA,eAAe,CAAChS,IAAI,CAAC,IAAI,CAAC;IACtD,IAAI,CAAC6G,kBAAkB,GAAG,IAAI,CAACA,kBAAkB,CAAC7G,IAAI,CAAC,IAAI,CAAC;IAC5D,IAAI,CAACiI,aAAa,GAAG,IAAI,CAACA,aAAa,CAACjI,IAAI,CAAC,IAAI,CAAC;IAClD,IAAI,CAACpL,KAAK,GAAG,IAAI,CAACA,KAAK,CAACoL,IAAI,CAAC,IAAI,CAAC;IAClC,IAAI,CAAC6H,YAAY,GAAG,IAAI,CAACA,YAAY,CAAC7H,IAAI,CAAC,IAAI,CAAC;;IAEhD;IACA,IAAI,CAACgV,IAAI,CAAC,CAAC;EACb;;EAEA;AACF;AACA;EAFE,OAAAjyB,YAAA,CAAAsxB,WAAA;IAAArxB,GAAA;IAAAC,KAAA;MAAA,IAAAgyB,KAAA,GAAA9xB,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAAC,QAAA;QAAA,IAAAkK,KAAA;QAAA,OAAApK,YAAA,GAAAQ,CAAA,WAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAE,CAAA;YAAA;cACE,IAAI,CAAC0H,GAAG,CAAC,mCAAmC,EAAE,IAAI,CAAC4P,MAAM,CAAC;;cAE1D;cACA,IAAI,CAAC6Z,yBAAyB,CAAC,CAAC;;cAEhC;cACA,IAAI,CAACC,cAAc,CAAC,CAAC;;cAErB;cAAAtxB,QAAA,CAAAE,CAAA;cAAA,OACM,IAAI,CAACqxB,iBAAiB,CAAC,CAAC;YAAA;cAE9B;cACA,IAAI,IAAI,CAACrS,KAAK,CAACC,cAAc,EAAE;gBAC7BnG,UAAU,CAAC;kBAAA,OAAMrP,KAAI,CAAComB,WAAW,CAAC,CAAC;gBAAA,GAAE,GAAG,CAAC;cAC3C;;cAEA;cACA,IAAI,CAACyB,kBAAkB,CAAC,CAAC;;cAEzB;cACA,IAAI,IAAI,CAACha,MAAM,CAACS,SAAS,IAAI,IAAI,CAACiH,KAAK,CAACxH,WAAW,EAAE;gBACnD,IAAI,CAAC+Z,gBAAgB,CAAC,CAAC;cACzB;cAEA,IAAI,CAAC7pB,GAAG,CAAC,iCAAiC,CAAC;YAAC;cAAA,OAAA5H,QAAA,CAAAO,CAAA;UAAA;QAAA,GAAAd,OAAA;MAAA,CAC7C;MAAA,SA1BK0xB,IAAIA,CAAA;QAAA,OAAAC,KAAA,CAAArwB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAJmwB,IAAI;IAAA;IA4BV;AACF;AACA;IAFE;EAAA;IAAAhyB,GAAA;IAAAC,KAAA,EAGA,SAAAiyB,yBAAyBA,CAAA,EAAG;MAC1B,IAAI,OAAO9tB,MAAM,KAAK,WAAW,EAAE;MAEnC,IAAMmuB,cAAc,GAAGC,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC,KAAK,MAAM;MAC3E,IAAMC,iBAAiB,GAAGF,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC,KAAK,OAAO;MAC9E,IAAME,aAAa,GAAGH,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC,IAAI,OAAO;MACzE,IAAMG,OAAO,GAAGJ,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,KAAK,OAAO;MAC9D,IAAMI,YAAY,GAAGL,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,KAAK,OAAO;MAExE,IAAI,CAACjP,QAAQ,CAAC;QACZmB,YAAY,EAAE+N,iBAAiB;QAC/B1uB,QAAQ,EAAE2uB,aAAa;QACvBlB,SAAS,EAAEmB,OAAO;QAClB5S,cAAc,EAAE6S,YAAY;QAC5Bta,WAAW,EAAEga;MACf,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;IACb;;IAEA;AACF;AACA;EAFE;IAAAvyB,GAAA;IAAAC,KAAA,EAGA,SAAA6yB,uBAAuBA,CAAA,EAAG;MACxB,IAAI,OAAO1uB,MAAM,KAAK,WAAW,EAAE;MAEnCouB,YAAY,CAACO,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAChT,KAAK,CAACxH,WAAW,CAACya,QAAQ,CAAC,CAAC,CAAC;MAC5ER,YAAY,CAACO,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAChT,KAAK,CAAC4E,YAAY,CAACqO,QAAQ,CAAC,CAAC,CAAC;MAC5ER,YAAY,CAACO,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAChT,KAAK,CAAC/b,QAAQ,CAAC;MAC7DwuB,YAAY,CAACO,OAAO,CAAC,YAAY,EAAE,IAAI,CAAChT,KAAK,CAAC0R,SAAS,CAACuB,QAAQ,CAAC,CAAC,CAAC;MACnER,YAAY,CAACO,OAAO,CAAC,iBAAiB,EAAE,IAAI,CAAChT,KAAK,CAACC,cAAc,CAACgT,QAAQ,CAAC,CAAC,CAAC;IAC/E;;IAEA;AACF;AACA;EAFE;IAAAhzB,GAAA;IAAAC,KAAA;MAAA,IAAAgzB,kBAAA,GAAA9yB,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAAgD,SAAA;QAAA,IAAA6vB,MAAA;QAAA,OAAA9yB,YAAA,GAAAQ,CAAA,WAAA6C,SAAA;UAAA,kBAAAA,SAAA,CAAA1C,CAAA;YAAA;cACE,IAAI;gBACImyB,MAAM,GAAG,IAAI/c,qDAAa,CAAC,CAAC;gBAClC,IAAI,CAACqN,QAAQ,CAAC;kBAAEqI,aAAa,EAAEqH;gBAAO,CAAC,CAAC;gBACxC,IAAI,CAACzqB,GAAG,CAAC,qCAAqC,EAAEyqB,MAAM,CAACtb,YAAY,CAAC,CAAC,CAACzS,MAAM,EAAE,QAAQ,CAAC;cACzF,CAAC,CAAC,OAAO5D,KAAK,EAAE;gBACd,IAAI,CAACkH,GAAG,CAAC,wCAAwC,EAAElH,KAAK,CAAC;cAC3D;YAAC;cAAA,OAAAkC,SAAA,CAAArC,CAAA;UAAA;QAAA,GAAAiC,QAAA;MAAA,CACF;MAAA,SARK+uB,iBAAiBA,CAAA;QAAA,OAAAa,kBAAA,CAAArxB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAjBuwB,iBAAiB;IAAA;IAUvB;AACF;AACA;IAFE;EAAA;IAAApyB,GAAA;IAAAC,KAAA,EAGA,SAAA2wB,WAAWA,CAAA,EAAG;MACZ,IAAI,CAAC,IAAI,CAAC7Q,KAAK,CAACC,cAAc,EAAE;MAEhC,IAAI;QACF,IAAI,CAACvX,GAAG,CAAC,0BAA0B,CAAC;QACpC,IAAM6I,QAAQ,GAAG,IAAInI,mDAAW,CAAC,CAAC;QAClC,IAAMK,QAAQ,GAAG8H,QAAQ,CAAClI,OAAO,CAAC,CAAC;QAEnC,IAAI,CAACoa,QAAQ,CAAC;UAAEtiB,WAAW,EAAEsI;QAAS,CAAC,CAAC;QAExC,IAAI,CAACf,GAAG,CAAC,0BAA0B,EAAE;UACnCgB,KAAK,EAAED,QAAQ,CAACC,KAAK,CAACtE,MAAM;UAC5BwE,UAAU,EAAEH,QAAQ,CAACG,UAAU,CAACxE,MAAM;UACtC4E,YAAY,EAAEP,QAAQ,CAACO,YAAY,CAAC5E,MAAM;UAC1C8E,SAAS,EAAET,QAAQ,CAACS,SAAS,CAAC9E,MAAM;UACpCmF,SAAS,EAAEd,QAAQ,CAACW,QAAQ,CAACI;QAC/B,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOhJ,KAAK,EAAE;QACd,IAAI,CAACkH,GAAG,CAAC,wBAAwB,EAAElH,KAAK,CAAC;MAC3C;IACF;;IAEA;AACF;AACA;EAFE;IAAAvB,GAAA;IAAAC,KAAA,EAGA,SAAAoyB,kBAAkBA,CAAA,EAAG;MAAA,IAAAjnB,MAAA;MACnB;MACA,IAAIiP,OAAO,GAAGhW,QAAQ,CAACC,IAAI;MAE3B,IAAIgW,gBAAgB,CAAC,YAAM;QACzB,IAAMnW,GAAG,GAAGE,QAAQ,CAACC,IAAI;QACzB,IAAIH,GAAG,KAAKkW,OAAO,EAAE;UACnBA,OAAO,GAAGlW,GAAG;UACbiH,MAAI,CAAC3C,GAAG,CAAC,kCAAkC,CAAC;UAC5CoR,UAAU,CAAC;YAAA,OAAMzO,MAAI,CAACwlB,WAAW,CAAC,CAAC;UAAA,GAAE,GAAG,CAAC;QAC3C;MACF,CAAC,CAAC,CAACpW,OAAO,CAACzX,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC,EAAE;QACzCyX,OAAO,EAAE,IAAI;QACbC,SAAS,EAAE;MACb,CAAC,CAAC;IACJ;;IAEA;AACF;AACA;EAFE;IAAA1a,GAAA;IAAAC,KAAA,EAGA,SAAAujB,QAAQA,CAAC2P,OAAO,EAAuB;MAAA,IAArBC,YAAY,GAAAvxB,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAG,IAAI;MACnC,IAAMwxB,QAAQ,GAAAza,aAAA,KAAQ,IAAI,CAACmH,KAAK,CAAE;MAClC,IAAI,CAACA,KAAK,GAAAnH,aAAA,CAAAA,aAAA,KAAQ,IAAI,CAACmH,KAAK,GAAKoT,OAAO,CAAE;;MAE1C;MACA,IAAI,CAACL,uBAAuB,CAAC,CAAC;;MAE9B;MACA,IAAIM,YAAY,EAAE;QAChB,IAAI,CAACE,MAAM,CAACD,QAAQ,CAAC;MACvB;IACF;;IAEA;AACF;AACA;EAFE;IAAArzB,GAAA;IAAAC,KAAA,EAGA,SAAAwI,GAAGA,CAAA,EAAU;MACX,IAAI,IAAI,CAAC4P,MAAM,CAACiZ,KAAK,EAAE;QAAA,IAAAiC,QAAA;QAAA,SAAAC,IAAA,GAAA3xB,SAAA,CAAAsD,MAAA,EADlBsuB,IAAI,OAAA3uB,KAAA,CAAA0uB,IAAA,GAAAE,IAAA,MAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA;UAAJD,IAAI,CAAAC,IAAA,IAAA7xB,SAAA,CAAA6xB,IAAA;QAAA;QAEP,CAAAH,QAAA,GAAAjyB,OAAO,EAACmH,GAAG,CAAA7G,KAAA,CAAA2xB,QAAA,GAAC,gBAAgB,EAAApxB,MAAA,CAAKsxB,IAAI,EAAC;MACxC;IACF;;IAEA;AACF;AACA;EAFE;IAAAzzB,GAAA;IAAAC,KAAA,EAGA,SAAA+uB,eAAeA,CAAA,EAAG;MAChB,IAAI,CAACxL,QAAQ,CAAC;QAAEjL,WAAW,EAAE,CAAC,IAAI,CAACwH,KAAK,CAACxH;MAAY,CAAC,CAAC;MAEvD,IAAI,IAAI,CAACwH,KAAK,CAACxH,WAAW,EAAE;QAC1B,IAAI,CAAC+Z,gBAAgB,CAAC,CAAC;MACzB,CAAC,MAAM;QACL,IAAI,CAACqB,eAAe,CAAC,CAAC;MACxB;IACF;;IAEA;AACF;AACA;EAFE;IAAA3zB,GAAA;IAAAC,KAAA,EAGA,SAAA2zB,OAAOA,CAAA,EAAG;MACR,IAAI,CAACD,eAAe,CAAC,CAAC;MAEtB,IAAI,IAAI,CAACjC,IAAI,CAACpiB,SAAS,IAAI,IAAI,CAACoiB,IAAI,CAACpiB,SAAS,CAACukB,UAAU,EAAE;QACzD,IAAI,CAACnC,IAAI,CAACpiB,SAAS,CAACukB,UAAU,CAACC,WAAW,CAAC,IAAI,CAACpC,IAAI,CAACpiB,SAAS,CAAC;MACjE;MAEA,IAAI,CAAC7G,GAAG,CAAC,kBAAkB,CAAC;IAC9B;;IAEA;AACF;AACA;EAFE;IAAAzI,GAAA;IAAAC,KAAA,EAGA,SAAAkyB,cAAcA,CAAA,EAAG;MACf;MACA,IAAI,CAACT,IAAI,CAACpiB,SAAS,GAAG,IAAI,CAACuiB,YAAY,CAACrD,eAAe,CAAC,CAAC;MACzDzrB,QAAQ,CAACc,IAAI,CAACurB,WAAW,CAAC,IAAI,CAACsC,IAAI,CAACpiB,SAAS,CAAC;;MAE9C;MACA,IAAI,CAACgkB,MAAM,CAAC,CAAC;IACf;;IAEA;AACF;AACA;EAFE;IAAAtzB,GAAA;IAAAC,KAAA,EAGA,SAAAqzB,MAAMA,CAAA,EAAgB;MAAA,IAAfD,QAAQ,GAAAxxB,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAG,CAAC,CAAC;MAClB,IAAI,CAAC,IAAI,CAAC6vB,IAAI,CAACpiB,SAAS,EAAE;;MAE1B;MACA,IAAI,CAACoiB,IAAI,CAACpiB,SAAS,CAAC4f,SAAS,GAAG,EAAE;;MAElC;MACA,IAAMN,aAAa,GAAG,IAAI,CAACiD,YAAY,CAACnD,oBAAoB,CAAC,CAAC;MAC9D,IAAI,CAACgD,IAAI,CAACpiB,SAAS,CAAC8f,WAAW,CAACR,aAAa,CAAC;;MAE9C;MACA,IAAMC,iBAAiB,GAAGD,aAAa,CAAC5rB,aAAa,CAAC,WAAW,CAAC;;MAElE;MACA,IAAM+wB,iBAAiB,GAAG,IAAI,CAAClC,YAAY,CAACjC,uBAAuB,CAAC,CAAC;MACrE,IAAImE,iBAAiB,EAAE;QACrBlF,iBAAiB,CAACO,WAAW,CAAC2E,iBAAiB,CAAC;MAClD;;MAEA;MACA,IAAMC,aAAa,GAAG,IAAI,CAACnC,YAAY,CAAC9B,mBAAmB,CAAC,CAAC;MAC7D,IAAIiE,aAAa,EAAE;QACjBnF,iBAAiB,CAACO,WAAW,CAAC4E,aAAa,CAAC;MAC9C;;MAEA;MACA,IAAMC,eAAe,GAAG,IAAI,CAACpC,YAAY,CAAChB,qBAAqB,CAAC,CAAC;MACjE,IAAIoD,eAAe,EAAE;QACnB,IAAI,CAACvC,IAAI,CAACpiB,SAAS,CAAC8f,WAAW,CAAC6E,eAAe,CAAC;MAClD;IACF;;IAEA;AACF;AACA;EAFE;IAAAj0B,GAAA;IAAAC,KAAA,EAGA,SAAAglB,aAAaA,CAACzjB,MAAM,EAAES,UAAU,EAAE;MAChC,OAAO,IAAI,CAAC6vB,gBAAgB,CAAC7M,aAAa,CAACzjB,MAAM,EAAES,UAAU,CAAC;IAChE;;IAEA;AACF;AACA;EAFE;IAAAjC,GAAA;IAAAC,KAAA;MAAA,IAAAi0B,iBAAA,GAAA/zB,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAAoH,SAAA;QAAA,OAAArH,YAAA,GAAAQ,CAAA,WAAAkH,SAAA;UAAA,kBAAAA,SAAA,CAAA/G,CAAA;YAAA;cAAA+G,SAAA,CAAA/G,CAAA;cAAA,OACQ,IAAI,CAACgxB,YAAY,CAAC5Y,KAAK,CAAC,CAAC;YAAA;cAAA,OAAArR,SAAA,CAAA1G,CAAA;UAAA;QAAA,GAAAqG,QAAA;MAAA,CAChC;MAAA,SAFK6qB,gBAAgBA,CAAA;QAAA,OAAA4B,iBAAA,CAAAtyB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAhBywB,gBAAgB;IAAA;IAItB;AACF;AACA;IAFE;EAAA;IAAAtyB,GAAA;IAAAC,KAAA,EAGA,SAAA0zB,eAAeA,CAAA,EAAG;MAChB,IAAI,CAAC5B,YAAY,CAAChX,IAAI,CAAC,CAAC;IAC1B;;IAEA;AACF;AACA;EAFE;IAAA/a,GAAA;IAAAC,KAAA,EAGA,SAAA2R,KAAKA,CAACjN,IAAI,EAAE;MACV,IAAI,CAACotB,YAAY,CAACngB,KAAK,CAACjN,IAAI,CAAC;IAC/B;;IAEA;AACF;AACA;EAFE;IAAA3E,GAAA;IAAAC,KAAA,EAGA,SAAA4kB,YAAYA,CAAA,EAAG;MACb,IAAI,CAACkN,YAAY,CAAClN,YAAY,CAAC,CAAC;IAClC;;IAEA;AACF;AACA;EAFE;IAAA7kB,GAAA;IAAAC,KAAA;MAAA,IAAAk0B,wBAAA,GAAAh0B,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAA8T,SAAA;QAAA,OAAA/T,YAAA,GAAAQ,CAAA,WAAAyT,SAAA;UAAA,kBAAAA,SAAA,CAAAtT,CAAA;YAAA;cAAAsT,SAAA,CAAAtT,CAAA;cAAA,OACQ,IAAI,CAACgxB,YAAY,CAAChN,YAAY,CAAC,CAAC;YAAA;cAAA,OAAA1Q,SAAA,CAAAjT,CAAA;UAAA;QAAA,GAAA+S,QAAA;MAAA,CACvC;MAAA,SAFKuc,uBAAuBA,CAAA;QAAA,OAAAyD,wBAAA,CAAAvyB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAvB6uB,uBAAuB;IAAA;IAI7B;AACF;AACA;IAFE;EAAA;IAAA1wB,GAAA;IAAAC,KAAA;MAAA,IAAAm0B,mBAAA,GAAAj0B,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAGA,SAAAqU,SAAyBnU,OAAO;QAAA,IAAA8zB,UAAA,EAAAtf,IAAA,EAAAuf,gBAAA,EAAAC,QAAA,EAAAC,cAAA,EAAAC,eAAA,EAAAC,YAAA,EAAA/zB,EAAA;QAAA,OAAAP,YAAA,GAAAQ,CAAA,WAAA+T,SAAA;UAAA,kBAAAA,SAAA,CAAA7T,CAAA,GAAA6T,SAAA,CAAA5T,CAAA;YAAA;cAAA,MAC1B,CAACR,OAAO,IAAIA,OAAO,CAAC4E,MAAM,GAAG,CAAC;gBAAAwP,SAAA,CAAA5T,CAAA;gBAAA;cAAA;cAAA,OAAA4T,SAAA,CAAAvT,CAAA;YAAA;cAElC,IAAI,CAACqH,GAAG,CAAC,oBAAoB,EAAElI,OAAO,CAAC;cACvC,IAAI,CAACijB,QAAQ,CAAC;gBAAEmL,YAAY,EAAE;cAAK,CAAC,CAAC;;cAErC;cACM0F,UAAU,IACd;gBAAE9zB,OAAO,EAAPA,OAAO;gBAAEo0B,SAAS,EAAErrB,IAAI,CAACC,GAAG,CAAC,CAAC;gBAAE/H,MAAM,EAAE;cAAgB,CAAC,EAAAW,MAAA,CAAAyyB,kBAAA,CACxD,IAAI,CAAC7U,KAAK,CAACkQ,cAAc,CAACvhB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;cAE1C,IAAI,CAAC8U,QAAQ,CAAC;gBAAEyM,cAAc,EAAEoE;cAAW,CAAC,CAAC;cAAC1f,SAAA,CAAA7T,CAAA;cAAA6T,SAAA,CAAA5T,CAAA;cAAA,OAIzB,IAAI,CAACiiB,UAAU,CAACrD,mBAAmB,CACpDpf,OAAO,EACP,IAAI,CAACwf,KAAK,CAAC7e,WAAW,EACtBkD,MAAM,CAACC,QAAQ,CAACC,IAClB,CAAC;YAAA;cAJKyQ,IAAI,GAAAJ,SAAA,CAAAtT,CAAA;cAMV,IAAI,CAACoH,GAAG,CAAC,kBAAkB,EAAEsM,IAAI,CAAC;;cAElC;cACA,IAAIA,IAAI,CAACxR,QAAQ,EAAE;gBACjB,IAAI,CAACkF,GAAG,CAAC,eAAe,EAAEsM,IAAI,CAACxR,QAAQ,CAAC;gBACxC,IAAI,CAACqO,KAAK,CAACmD,IAAI,CAACxR,QAAQ,CAAC;cAC3B;;cAEA;cACA,IAAIwR,IAAI,CAACvT,MAAM,IAAIuT,IAAI,CAACvT,MAAM,KAAK,MAAM,EAAE;gBACzC;gBACM8yB,gBAAgB,GAAGvf,IAAI,CAACvT,MAAM,CAACirB,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAACzrB,WAAW,CAAC,CAAC;gBACvE,IAAI,CAACyH,GAAG,CAAC,YAAY,EAAE6rB,gBAAgB,EAAEvf,IAAI,CAAC9S,UAAU,IAAI,CAAC,CAAC,CAAC;gBAEzDsyB,QAAQ,GAAG,IAAI,CAACtP,aAAa,CAACqP,gBAAgB,EAAEvf,IAAI,CAAC9S,UAAU,CAAC;gBACtE,IAAI,CAACwG,GAAG,CAAC8rB,QAAQ,GAAG,cAAc,GAAG,YAAY,EAAED,gBAAgB,CAAC;;gBAEpE;gBACME,cAAc,GAAAI,kBAAA,CAAO,IAAI,CAAC7U,KAAK,CAACkQ,cAAc;gBACpD,IAAIuE,cAAc,CAAC,CAAC,CAAC,EAAE;kBACrBA,cAAc,CAAC,CAAC,CAAC,CAAChzB,MAAM,GAAG+yB,QAAQ,GAAGD,gBAAgB,GAAG,gBAAgB;gBAC3E;gBACA,IAAI,CAAC9Q,QAAQ,CAAC;kBAAEyM,cAAc,EAAEuE;gBAAe,CAAC,CAAC;cACnD,CAAC,MAAM;gBACL;gBACA,IAAI,CAAC/rB,GAAG,CAAC,gBAAgB,EAAEsM,IAAI,CAACxR,QAAQ,CAAC;gBACnCixB,eAAc,GAAAI,kBAAA,CAAO,IAAI,CAAC7U,KAAK,CAACkQ,cAAc;gBACpD,IAAIuE,eAAc,CAAC,CAAC,CAAC,EAAE;kBACrBA,eAAc,CAAC,CAAC,CAAC,CAAChzB,MAAM,GAAG,MAAM;gBACnC;gBACA,IAAI,CAACgiB,QAAQ,CAAC;kBAAEyM,cAAc,EAAEuE;gBAAe,CAAC,CAAC;cACnD;cAAC7f,SAAA,CAAA5T,CAAA;cAAA;YAAA;cAAA4T,SAAA,CAAA7T,CAAA;cAAAH,EAAA,GAAAgU,SAAA,CAAAtT,CAAA;cAED,IAAI,CAACoH,GAAG,CAAC,YAAY,EAAA9H,EAAO,CAAC;cACvB+zB,YAAY,GAAG,IAAI,CAAC3U,KAAK,CAAC/b,QAAQ,KAAK,OAAO,GAChD,iDAAiD,GACjD,gDAAgD;cACpD,IAAI,CAAC4N,KAAK,CAAC8iB,YAAY,CAAC;YAAC;cAAA/f,SAAA,CAAA7T,CAAA;cAEzB,IAAI,CAAC0iB,QAAQ,CAAC;gBAAEmL,YAAY,EAAE;cAAM,CAAC,CAAC;cACtC,IAAI,CAAClmB,GAAG,CAAC,0BAA0B,CAAC;cAAC,OAAAkM,SAAA,CAAA7D,CAAA;YAAA;cAAA,OAAA6D,SAAA,CAAAvT,CAAA;UAAA;QAAA,GAAAsT,QAAA;MAAA,CAExC;MAAA,SA/DKmP,kBAAkBA,CAAAliB,EAAA;QAAA,OAAAyyB,mBAAA,CAAAxyB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAlBgiB,kBAAkB;IAAA;EAAA;AAAA,I;;;;;;;;;;;ACpVd;AACZ;AACA,aAAa,mBAAO,CAAC,+CAAQ;;AAE7B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,KAAK;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uGAAuG;AACvG;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,gBAAgB;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA,2BAA2B,iBAAiB,gBAAgB;;AAE5D,qCAAqC,iCAAiC;AACtE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC3EY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6CAA6C,IAAI,mBAAmB,OAAO;AAC3E;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA,UAAU;AACV,+CAA+C,IAAI;AACnD;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,uCAAuC,WAAW;AAClD;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;AClDa;AACb;AACA;AACA,mCAAmC,oCAAoC,gBAAgB;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA,qBAAqB,mBAAO,CAAC,sIAAgC;AAC7D;AACA;AACA;AACA;AACA,aAAa,mBAAO,CAAC,kHAAsB;;AAE3C;;;;;;;;;;;;ACtBa;AACb;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC,gBAAgB;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B;AAC9B,wBAAwB,mBAAO,CAAC,iBAAI;AACpC,sBAAsB,mBAAO,CAAC,iHAAoB;AAClD,uBAAuB,mBAAO,CAAC,mHAAqB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,YAAY;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,KAAK,IAAI,WAAW;AACzD;AACA;AACA;AACA;AACA;AACA,8BAA8B;;AAE9B;;;;;;;;;;;;AC1Ga;AACb;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC,gBAAgB;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa,mBAAO,CAAC,mJAA6B;AAClD,aAAa,mBAAO,CAAC,yHAAgB;AACrC,aAAa,mBAAO,CAAC,mIAAqB;AAC1C,aAAa,mBAAO,CAAC,qIAAsB;AAC3C,aAAa,mBAAO,CAAC,6HAAkB;AACvC,aAAa,mBAAO,CAAC,6IAA0B;AAC/C,aAAa,mBAAO,CAAC,qJAA8B;AACnD,aAAa,mBAAO,CAAC,6IAA0B;AAC/C,aAAa,mBAAO,CAAC,yHAAgB;AACrC,aAAa,mBAAO,CAAC,2IAAyB;AAC9C,aAAa,mBAAO,CAAC,mIAAqB;;AAE1C;;;;;;;;;;;;AC1Ba;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,+BAA+B,mBAAO,CAAC,+IAAmC;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,yBAAyB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,kBAAkB,KAAK,MAAM;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;;AAEvB;;;;;;;;;;;;ACzLa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;;AAE7D;;;;;;;;;;;;ACLa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,GAAG,yCAAyC;AAClE,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,+BAA+B,mBAAO,CAAC,+IAAmC;AAC1E,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF;AAChF;AACA;AACA;AACA,0FAA0F;AAC1F;AACA;AACA;AACA;AACA;AACA,mCAAmC,yBAAyB,0BAA0B,sBAAsB;AAC5G;AACA;AACA;AACA,qBAAqB;AACrB,6FAA6F,MAAM;AACnG;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8FAA8F,OAAO;AACrG,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;;AAEA;;;;;;;;;;;;AC7Pa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB,kBAAkB,mBAAO,CAAC,kHAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,wBAAwB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D,yDAAyD,+BAA+B,gBAAgB;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,IAAI;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;;;;;;;;;;;;ACvIa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB;AACjB,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;;;;;;;;;;;;AClCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACxHa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,IAAI;AACjD,4FAA4F,OAAO;AACnG;AACA;AACA,yEAAyE,SAAS;AAClF,wEAAwE,SAAS;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrDa;AACb;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,GAAG,uBAAuB;AACpD,+BAA+B,mBAAO,CAAC,gDAAM;AAC7C,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gDAAgD,uBAAuB,KAAK;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,8BAA8B;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA,0BAA0B;;AAE1B;;;;;;;;;;;;ACxGa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B;AAC3B,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,qCAAqC,mBAAO,CAAC,qJAA8B;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,IAAI;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,WAAW,GAAG,IAAI;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;;AAE3B;;;;;;;;;;;;ACjFa;AACb;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC,gBAAgB;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,yBAAyB,mBAAO,CAAC,kBAAK;AACtC,yBAAyB,mBAAO,CAAC,kBAAK;AACtC,qCAAqC,mBAAO,CAAC,yBAAY;AACzD,4CAA4C,mBAAO,CAAC,gCAAmB;AACvE,6BAA6B,mBAAO,CAAC,iBAAI;AACzC,yBAAyB,mBAAO,CAAC,2IAAiC;AAClE,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,0BAA0B;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mKAAmK,cAAc,qBAAqB,YAAY;AAClN;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,iFAAiF,MAAM;AACvF,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,+EAA+E,MAAM;AACrF,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,wDAAwD;AAClI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,wEAAwE,MAAM;AAC9E,SAAS;AACT;AACA;AACA;AACA;AACA,0EAA0E,0BAA0B;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,EAAE;AAC7D;AACA;AACA;AACA,kDAAkD,KAAK,IAAI,OAAO;AAClE;AACA;AACA;AACA;AACA,8HAA8H,YAAY,aAAa,mCAAmC;AAC1L,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,mBAAmB,GAAG,6DAA6D;AACrJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;;AAEA;;;;;;;;;;;;AC9Ua;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;;;;;;;;;;;;ACzBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B;AAC9B,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;;AAE9B;;;;;;;;;;;;AC1Ea;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8CAA8C;AAC9C,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,yBAAyB,mBAAO,CAAC,4HAAkB;AACnD,6BAA6B,mBAAO,CAAC,oIAAsB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;;AAE9C;;;;;;;;;;;;AChDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC;AACpC,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,6BAA6B,mBAAO,CAAC,oIAAsB;AAC3D,yBAAyB,mBAAO,CAAC,4HAAkB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;;AAEA;;;;;;;;;;;;AC7Ba;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,iCAAiC,mBAAO,CAAC,4IAA0B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,0HAA0H;AAC1H;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;;AAE7B;;;;;;;;;;;;AC3Ea;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC;AACrC,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;;AAErC;;;;;;;;;;;;AC5Fa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gDAAgD;AAChD,qBAAqB,mBAAO,CAAC,qIAA8B;AAC3D,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,mCAAmC,mBAAO,CAAC,gJAA4B;AACvE,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C,yBAAyB,mBAAO,CAAC,4HAAkB;AACnD,iCAAiC,mBAAO,CAAC,4IAA0B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,KAAK,EAAE,kBAAkB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,KAAK,EAAE,+BAA+B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,0HAA0H;AAC1H;AACA;AACA,SAAS;AACT;AACA;AACA,gDAAgD;;AAEhD;;;;;;;;;;;;AC5Fa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kDAAkD;AAClD,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C,gCAAgC,mBAAO,CAAC,0MAAyD;AACjG,oCAAoC,mBAAO,CAAC,kNAA6D;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;;AAElD;;;;;;;;;;;;AC3Ga;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B;AACA,qBAAqB,mBAAO,CAAC,qIAA8B;AAC3D,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,mCAAmC,mBAAO,CAAC,gJAA4B;AACvE,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C,yBAAyB,mBAAO,CAAC,4HAAkB;AACnD,iCAAiC,mBAAO,CAAC,4IAA0B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sHAAsH,OAAO,GAAG,gCAAgC,EAAE,WAAW;AAC7K;AACA,0BAA0B,iBAAiB,EAAE,cAAc,EAAE,+BAA+B,GAAG,QAAQ;AACvG;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;;AAEA;;;;;;;;;;;;AC5Da;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B;AAC5B,qBAAqB,mBAAO,CAAC,qIAA8B;AAC3D,0BAA0B,mBAAO,CAAC,+HAA2B;AAC7D,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,+BAA+B,mBAAO,CAAC,+IAAmC;AAC1E,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,2CAA2C,mBAAO,CAAC,gKAAoC;AACvF,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C,qCAAqC,mBAAO,CAAC,oLAA8C;AAC3F,8BAA8B,mBAAO,CAAC,sKAAuC;AAC7E,8BAA8B,mBAAO,CAAC,wMAAwD;AAC9F,8CAA8C,mBAAO,CAAC,sKAAuC;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,WAAW;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qHAAqH,4BAA4B;AACjJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD,kHAAkH;AAClH,wHAAwH;AACxH;AACA,wBAAwB,qBAAqB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,wDAAwD;AACpF;AACA,aAAa;AACb;AACA;AACA,4BAA4B;;AAE5B;;;;;;;;;;;;AC7ea;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B;AAC9B,+BAA+B,mBAAO,CAAC,+IAAmC;AAC1E,+BAA+B,mBAAO,CAAC,+IAAmC;AAC1E,qCAAqC,mBAAO,CAAC,oLAA8C;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,8BAA8B;;AAE9B;;;;;;;;;;;;ACrDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC;AACrC,mBAAmB,mBAAO,CAAC,iHAAoB;AAC/C,oCAAoC,mBAAO,CAAC,kJAA6B;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;;AAErC;;;;;;;;;;;;ACnCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B,mBAAmB,mBAAO,CAAC,wJAAgC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,+BAA+B,uDAAuD;AACtF;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;;;;;;;;;;;;AC3Ea;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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C;;AAE7D;;;;;;;;;;;;ACLa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;;AAE7D;;;;;;;;;;;;ACLa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B;AAC3B;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChCa;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B,GAAG,mCAAmC,GAAG,+BAA+B,GAAG,gCAAgC,GAAG,6BAA6B,GAAG,iCAAiC,GAAG,8BAA8B;AAC7O,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wEAAwE,mCAAmC,KAAK;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;;;;;;;;;;;;ACzHa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB,GAAG,0BAA0B;AACrD;AACA,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C,oCAAoC,mBAAO,CAAC,kNAA6D;AACzG;AACA;AACA;AACA;AACA,CAAC,sDAAsD,0BAA0B,KAAK;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,6BAA6B;AAC/D;AACA;AACA;AACA,kCAAkC,wBAAwB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB;;;;;;;;;;;;ACpFa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,+BAA+B,mBAAO,CAAC,wIAAwB;AAC/D,+CAA+C,mBAAO,CAAC,wKAAwC;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;;AAEtB;;;;;;;;;;;;ACzNa;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B,GAAG,+BAA+B;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,CAAC,4DAA4D,6BAA6B,KAAK;;AAE/F;;;;;;;;;;;;ACjCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B;AAC5B,qBAAqB,mBAAO,CAAC,qHAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;;;;;;;;;;;;AC9Ea;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,GAAG,iBAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oCAAoC,iBAAiB,KAAK;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sDAAsD,0BAA0B,KAAK;;AAEtF;;;;;;;;;;;;AC9Ba;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB,GAAG,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gDAAgD,uBAAuB,KAAK;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oDAAoD,yBAAyB,KAAK;;AAEnF;;;;;;;;;;;;ACxCa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kDAAkD,wBAAwB,KAAK;;AAEhF;;;;;;;;;;;;AClBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,GAAG,4BAA4B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0DAA0D,4BAA4B,KAAK;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8CAA8C,sBAAsB,KAAK;;AAE1E;;;;;;;;;;;;AC5Ba;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mCAAmC,GAAG,+BAA+B;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gEAAgE,+BAA+B,KAAK;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wEAAwE,mCAAmC,KAAK;;AAEjH;;;;;;;;;;;;ACtCa;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sCAAsC,kBAAkB,KAAK;;AAE9D;;;;;;;;;;;;AChBa;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gDAAgD,uBAAuB,KAAK;;AAE7E;;;;;;;;;;;;AChBa;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sCAAsC,kBAAkB,KAAK;;AAE9D;;;;;;;;;;;;AChBa;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mCAAmC,GAAG,uBAAuB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gDAAgD,uBAAuB,KAAK;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wEAAwE,mCAAmC,KAAK;;AAEjH;;;;;;;;;;;;AC3Ba;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kDAAkD,wBAAwB,KAAK;;AAEhF;;;;;;;;;;;;AClBa;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB,GAAG,8BAA8B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8DAA8D,8BAA8B,KAAK;AAClG;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kDAAkD,wBAAwB,KAAK;;AAEhF;;;;;;;;;;;;ACxBa;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sCAAsC,kBAAkB,KAAK;;AAE9D;;;;;;;;;;;;AClBa;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC,GAAG,oBAAoB,GAAG,uBAAuB,GAAG,oBAAoB;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0CAA0C,oBAAoB,KAAK;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gDAAgD,uBAAuB,KAAK;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0CAA0C,oBAAoB,KAAK;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0EAA0E,oCAAoC,KAAK;;AAEpH;;;;;;;;;;;;ACzDa;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8DAA8D,8BAA8B,KAAK;;AAElG;;;;;;;;;;;;AChBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B,qBAAqB,mBAAO,CAAC,qHAAe;AAC5C;AACA;AACA;AACA,kIAAkI;AAClI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;;AAE1B;;;;;;;;;;;;AC1Da;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;;AAEtB;;;;;;;;;;;;ACnBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB;;;;;;;;;;;;ACxCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;;AAErB;;;;;;;;;;;;AC/Ba;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B,GAAG,oBAAoB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0CAA0C,oBAAoB,KAAK;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;;AAE9B;;;;;;;;;;;;AC3Ba;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0BAA0B,YAAY,KAAK;;AAE5C;;;;;;;;;;;;AChBa;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sCAAsC,kBAAkB,KAAK;;AAE9D;;;;;;;;;;;;AChBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B,uBAAuB,mBAAO,CAAC,sHAAwB;AACvD,+BAA+B,mBAAO,CAAC,yIAAyB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;;;;;;;;;;;;ACzDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,uBAAuB,mBAAO,CAAC,sHAAwB;AACvD,qBAAqB,mBAAO,CAAC,qHAAe;AAC5C,+BAA+B,mBAAO,CAAC,yIAAyB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;;AAEzB;;;;;;;;;;;;ACpFa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,qBAAqB,mBAAO,CAAC,qHAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;;;;;;;;;;;;AC5Ba;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;;;;;;;;;;;;ACpCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B,qBAAqB,mBAAO,CAAC,qIAA8B;AAC3D,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C,8CAA8C,mBAAO,CAAC,sKAAuC;AAC7F,0BAA0B,mBAAO,CAAC,8LAAmD;AACrF,oCAAoC,mBAAO,CAAC,kNAA6D;AACzG,uBAAuB,mBAAO,CAAC,gLAA4C;AAC3E,4BAA4B,mBAAO,CAAC,0LAAiD;AACrF,+BAA+B,mBAAO,CAAC,8LAAmD;AAC1F,uBAAuB,mBAAO,CAAC,8KAA2C;AAC1E,uBAAuB,mBAAO,CAAC,8KAA2C;AAC1E,4BAA4B,mBAAO,CAAC,4LAAkD;AACtF,2BAA2B,mBAAO,CAAC,0LAAiD;AACpF,uBAAuB,mBAAO,CAAC,wLAAgD;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2PAA2P,8BAA8B,wBAAwB,iCAAiC;AAClV;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,QAAQ;AACzC,6BAA6B,QAAQ;AACrC;AACA;AACA,sCAAsC;AACtC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAqF;AACrF;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,6BAA6B,6CAA6C;AAC1E,6BAA6B,6CAA6C;AAC1E;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,WAAW;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD,yDAAyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2IAA2I;AAC3I,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,eAAe,IAAI,4GAA4G,UAAU,WAAW;AAC3N;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,kBAAkB;AACxC,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;;AAEA;;;;;;;;;;;;ACr0Ba;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gCAAgC;AAChC;AACA,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,+BAA+B,mBAAO,CAAC,wIAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;;AAEhC;;;;;;;;;;;;ACvMa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,qBAAqB,mBAAO,CAAC,qIAA8B;AAC3D,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,mCAAmC,mBAAO,CAAC,gJAA4B;AACvE,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C,yBAAyB,mBAAO,CAAC,4HAAkB;AACnD,iCAAiC,mBAAO,CAAC,4IAA0B;AACnE,oCAAoC,mBAAO,CAAC,kNAA6D;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,KAAK,EAAE,kBAAkB,EAAE,kCAAkC;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,KAAK,EAAE,kBAAkB,EAAE,kCAAkC;AACnG;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;;;;;;;;;;;;ACpGa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,yBAAyB,mBAAO,CAAC,4HAAkB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;;;;;;;;;;;;AC9Fa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB,oCAAoC,mBAAO,CAAC,kNAA6D;AACzG,0BAA0B,mBAAO,CAAC,wLAAgD;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;;AAErB;;;;;;;;;;;;AC5Fa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,YAAY,GAAG,oBAAoB,GAAG,cAAc,GAAG,UAAU,GAAG,cAAc,GAAG,eAAe,GAAG,2BAA2B;AAClI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0CAA0C,oBAAoB,KAAK;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0BAA0B,YAAY,KAAK;;AAE5C;;;;;;;;;;;;AC/Fa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;;AAE7D;;;;;;;;;;;;ACLa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;;;;;;;;;;;;ACjIa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B;AAC9B,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;;AAE9B;;;;;;;;;;;;AC5Fa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wCAAwC;AACxC,qBAAqB,mBAAO,CAAC,qIAA8B;AAC3D,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,mCAAmC,mBAAO,CAAC,gJAA4B;AACvE,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C,yBAAyB,mBAAO,CAAC,4HAAkB;AACnD,iCAAiC,mBAAO,CAAC,4IAA0B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;;AAExC;;;;;;;;;;;;ACzDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B;AAC5B,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C,8CAA8C,mBAAO,CAAC,sKAAuC;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oPAAoP,8BAA8B,wBAAwB,iCAAiC;AAC3U;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,oBAAoB;AACnG,sBAAsB,wGAAwG,UAAU,gBAAgB;AACxJ;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;;AAEA;;;;;;;;;;;;AChYa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,uBAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB;;;;;;;;;;;;ACzDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B,GAAG,yCAAyC,GAAG,+BAA+B,GAAG,4BAA4B;AAC1I;AACA,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;;;;;;;;;;;;ACpDa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B;AAC5B,qBAAqB,mBAAO,CAAC,qIAA8B;AAC3D,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,mCAAmC,mBAAO,CAAC,gJAA4B;AACvE,yBAAyB,mBAAO,CAAC,4HAAkB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sHAAsH,OAAO,aAAa,WAAW;AACrJ;AACA,0BAA0B,SAAS;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,4BAA4B;;AAE5B;;;;;;;;;;;;AC1Ca;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,+BAA+B,mBAAO,CAAC,+IAAmC;AAC1E,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,oCAAoC,mBAAO,CAAC,kLAA6C;AACzF,6BAA6B,mBAAO,CAAC,oIAAsB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;;AAErB;;;;;;;;;;;;AClRa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB,GAAG,4BAA4B;AACxD,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C;AACA;AACA;AACA;AACA,CAAC,0DAA0D,4BAA4B,KAAK;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;;AAEzB;;;;;;;;;;;;ACrDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC;AACpC,qBAAqB,mBAAO,CAAC,qIAA8B;AAC3D,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,mCAAmC,mBAAO,CAAC,gJAA4B;AACvE,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C,yBAAyB,mBAAO,CAAC,4HAAkB;AACnD,iCAAiC,mBAAO,CAAC,4IAA0B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;;;;;;;;;;;;ACvDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC;AACpC,4BAA4B,mBAAO,CAAC,sJAAwC;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACtCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC;AACrC,qBAAqB,mBAAO,CAAC,wIAAiC;AAC9D,qBAAqB,mBAAO,CAAC,wHAAyB;AACtD,uBAAuB,mBAAO,CAAC,sHAAwB;AACvD,qBAAqB,mBAAO,CAAC,kHAAsB;AACnD,mCAAmC,mBAAO,CAAC,iJAA6B;AACxE,0CAA0C,mBAAO,CAAC,4KAAmC;AACrF,mDAAmD,mBAAO,CAAC,8LAA4C;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,aAAa,EAAE,6EAA6E;AAC9H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6FAA6F;AAC7F;AACA;AACA,qCAAqC;;AAErC;;;;;;;;;;;;ACjCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC;AACrC,qBAAqB,mBAAO,CAAC,wHAAyB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;;AAErC;;;;;;;;;;;;ACpBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B;AAC3B,qBAAqB,mBAAO,CAAC,wIAAiC;AAC9D,uBAAuB,mBAAO,CAAC,sHAAwB;AACvD,qBAAqB,mBAAO,CAAC,kHAAsB;AACnD,0CAA0C,mBAAO,CAAC,4KAAmC;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E,UAAU;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,aAAa,EAAE,kBAAkB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,2GAA2G,OAAO;AAClH;AACA;AACA;AACA,iDAAiD,yBAAyB,IAAI,4BAA4B;AAC1G;AACA;AACA,iDAAiD,cAAc;AAC/D;AACA;AACA,gDAAgD,UAAU;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4GAA4G,IAAI;AAChH,qHAAqH,IAAI;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,aAAa,EAAE,kBAAkB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,2BAA2B;;AAE3B;;;;;;;;;;;;ACvKa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kCAAkC;AAClC,qBAAqB,mBAAO,CAAC,wHAAyB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;;AAElC;;;;;;;;;;;;AClEa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kCAAkC;AAClC,qBAAqB,mBAAO,CAAC,wHAAyB;AACtD,qBAAqB,mBAAO,CAAC,kHAAsB;AACnD,qBAAqB,mBAAO,CAAC,qHAAe;AAC5C,2CAA2C,mBAAO,CAAC,8KAAoC;AACvF,wCAAwC,mBAAO,CAAC,wKAAiC;AACjF,6CAA6C,mBAAO,CAAC,kLAAsC;AAC3F,8CAA8C,mBAAO,CAAC,oLAAuC;AAC7F,qBAAqB,mBAAO,CAAC,kKAA8B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;;AAElC;;;;;;;;;;;;AC3Xa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+CAA+C;AAC/C,qBAAqB,mBAAO,CAAC,wIAAiC;AAC9D,yBAAyB,mBAAO,CAAC,gIAA6B;AAC9D,uBAAuB,mBAAO,CAAC,sHAAwB;AACvD,qBAAqB,mBAAO,CAAC,kHAAsB;AACnD,yBAAyB,mBAAO,CAAC,6HAAmB;AACpD,iCAAiC,mBAAO,CAAC,6IAA2B;AACpE,mCAAmC,mBAAO,CAAC,mJAA+B;AAC1E,qBAAqB,mBAAO,CAAC,uHAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kIAAkI,OAAO,YAAY,WAAW;AAChK,sDAAsD,KAAK;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iGAAiG;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;;AAEA;;;;;;;;;;;;ACzFa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gDAAgD,GAAG,iCAAiC,GAAG,qCAAqC,GAAG,4BAA4B,GAAG,yBAAyB,GAAG,wBAAwB;AAClN;AACA;AACA;AACA,qBAAqB,mBAAO,CAAC,kHAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;;AAEhD;;;;;;;;;;;;AC/Ga;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0CAA0C,GAAG,0CAA0C,GAAG,4BAA4B;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChGa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wCAAwC,GAAG,qCAAqC;AAChF;AACA,qBAAqB,mBAAO,CAAC,sIAAgC;AAC7D,qBAAqB,mBAAO,CAAC,wHAAyB;AACtD,uBAAuB,mBAAO,CAAC,sHAAwB;AACvD,qBAAqB,mBAAO,CAAC,kHAAsB;AACnD,2CAA2C,mBAAO,CAAC,8KAAoC;AACvF,wCAAwC,mBAAO,CAAC,wKAAiC;AACjF;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,EAAE;AAC3E;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,wCAAwC;;AAExC;;;;;;;;;;;;ACzQa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6CAA6C;AAC7C,qBAAqB,mBAAO,CAAC,wHAAyB;AACtD,2CAA2C,mBAAO,CAAC,8KAAoC;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yJAAyJ;AACzJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,yCAAyC;AAC5E;AACA;AACA;AACA;AACA,6DAA6D,EAAE;AAC/D;AACA;AACA;AACA;AACA,6CAA6C;;AAE7C;;;;;;;;;;;;ACjDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B,GAAG,0CAA0C,GAAG,0CAA0C,GAAG,iCAAiC,GAAG,4BAA4B,GAAG,qCAAqC,GAAG,wBAAwB,GAAG,yBAAyB,GAAG,gDAAgD,GAAG,6BAA6B,GAAG,qCAAqC,GAAG,oCAAoC,GAAG,2BAA2B;AACxd,+BAA+B,mBAAO,CAAC,0JAA0B;AACjE,uDAAsD,EAAE,qCAAqC,wDAAwD,EAAC;AACtJ,wCAAwC,mBAAO,CAAC,4KAAmC;AACnF,gEAA+D,EAAE,qCAAqC,0EAA0E,EAAC;AACjL,4CAA4C,mBAAO,CAAC,oLAAuC;AAC3F,iEAAgE,EAAE,qCAAqC,+EAA+E,EAAC;AACvL,iCAAiC,mBAAO,CAAC,8JAA4B;AACrE,yDAAwD,EAAE,qCAAqC,4DAA4D,EAAC;AAC5J,2CAA2C,mBAAO,CAAC,kLAAsC;AACzF,4EAA2E,EAAE,qCAAqC,yFAAyF,EAAC;AAC5M,qDAAoD,EAAE,qCAAqC,kEAAkE,EAAC;AAC9J,oDAAmD,EAAE,qCAAqC,iEAAiE,EAAC;AAC5J,iEAAgE,EAAE,qCAAqC,8EAA8E,EAAC;AACtL,wDAAuD,EAAE,qCAAqC,qEAAqE,EAAC;AACpK,6DAA4D,EAAE,qCAAqC,0EAA0E,EAAC;AAC9K,4CAA4C,mBAAO,CAAC,oLAAuC;AAC3F,sEAAqE,EAAE,qCAAqC,oFAAoF,EAAC;AACjM,sEAAqE,EAAE,qCAAqC,oFAAoF,EAAC;AACjM,wDAAuD,EAAE,qCAAqC,sEAAsE,EAAC;;AAErK;;;;;;;;;;;;ACzBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;;AAE9B;;;;;;;;;;;;ACxCa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B,GAAG,6BAA6B,GAAG,kCAAkC,GAAG,uCAAuC,GAAG,8BAA8B;AAC3K,kCAAkC,mBAAO,CAAC,gLAA6B;AACvE,0DAAyD,EAAE,qCAAqC,8DAA8D,EAAC;AAC/J,sCAAsC,mBAAO,CAAC,wLAAiC;AAC/E,mEAAkE,EAAE,qCAAqC,2EAA2E,EAAC;AACrL,8DAA6D,EAAE,qCAAqC,sEAAsE,EAAC;AAC3K,sCAAsC,mBAAO,CAAC,wLAAiC;AAC/E,yDAAwD,EAAE,qCAAqC,iEAAiE,EAAC;AACjK,uDAAsD,EAAE,qCAAqC,+DAA+D,EAAC;;AAE7J;;;;;;;;;;;;ACZa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kCAAkC,GAAG,uCAAuC;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;;AAElC;;;;;;;;;;;;AChFa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B,GAAG,6BAA6B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;;AAE3B;;;;;;;;;;;;ACnFa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B;AACA;AACA,qBAAqB,mBAAO,CAAC,wHAAyB;AACtD,uBAAuB,mBAAO,CAAC,sHAAwB;AACvD,qBAAqB,mBAAO,CAAC,kHAAsB;AACnD,qBAAqB,mBAAO,CAAC,qHAAe;AAC5C,oCAAoC,mBAAO,CAAC,mNAA8D;AAC1G;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,SAAS;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;;;;;;;;;;;;ACjKa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sCAAsC;AACtC,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C,8CAA8C,mBAAO,CAAC,sKAAuC;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,sCAAsC;;AAEtC;;;;;;;;;;;;ACtJa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC;AACpC,qBAAqB,mBAAO,CAAC,qIAA8B;AAC3D,yBAAyB,mBAAO,CAAC,6HAA0B;AAC3D,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,mCAAmC,mBAAO,CAAC,gJAA4B;AACvE,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C,yBAAyB,mBAAO,CAAC,4HAAkB;AACnD,iCAAiC,mBAAO,CAAC,4IAA0B;AACnE,oCAAoC,mBAAO,CAAC,kNAA6D;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,QAAQ;AACpF;AACA;AACA;AACA;AACA;AACA,qHAAqH,OAAO;AAC5H;AACA;AACA;AACA;AACA,qHAAqH,OAAO;AAC5H;AACA;AACA;AACA;AACA;AACA,wEAAwE,QAAQ;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;;;;;;;;;;;;AC5Fa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC;AACpC,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,qBAAqB,mBAAO,CAAC,+GAAmB;AAChD,qBAAqB,mBAAO,CAAC,oHAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;;;;;;;;;;;;ACzRa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oDAAoD,yBAAyB,KAAK;;AAEnF;;;;;;;;;;;;ACrBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC;AACjC,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE,KAAK,EAAE,yCAAyC;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,EAAE;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,OAAO,IAAI,wBAAwB,EAAE,KAAK;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;;;;;;;;;;;;AC7Ha;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC,GAAG,oCAAoC,GAAG,oCAAoC,GAAG,qCAAqC,GAAG,4BAA4B,GAAG,6BAA6B,GAAG,2BAA2B,GAAG,6BAA6B,GAAG,oCAAoC,GAAG,wBAAwB;AACtV;AACA,2BAA2B,mBAAO,CAAC,yHAAoB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;;;;;;;;;;;;ACpFa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB,qBAAqB,mBAAO,CAAC,6GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;;AAEvB;;;;;;;;;;;;ACjBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gCAAgC;AAChC,qBAAqB,mBAAO,CAAC,6GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,gCAAgC;;AAEhC;;;;;;;;;;;;AC3Da;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B,GAAG,kCAAkC,GAAG,sCAAsC,GAAG,qCAAqC,GAAG,4BAA4B,GAAG,6BAA6B,GAAG,kCAAkC,GAAG,4BAA4B,GAAG,uBAAuB,GAAG,oBAAoB;AACzU,2BAA2B,mBAAO,CAAC,yHAAoB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;;;;;;;;;;;;ACvIa;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB,GAAG,mBAAmB;AAC/C,mBAAmB,mBAAO,CAAC,yGAAY;AACvC,kBAAkB,mBAAO,CAAC,uGAAW;AACrC;AACA;AACA;AACA;AACA,CAAC,wCAAwC,mBAAmB,KAAK;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;;AAEzB;;;;;;;;;;;;AC9Da;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;;AAE9B;;;;;;;;;;;;ACnBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;;;;;;;;;;;;ACnCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uCAAuC,GAAG,mBAAmB;AAC7D,2BAA2B,mBAAO,CAAC,yHAAoB;AACvD;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;;AAEvC;;;;;;;;;;;;ACvBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B,GAAG,6BAA6B,GAAG,yBAAyB;AACvF;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;;AAE3B;;;;;;;;;;;;AC1Ea;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB,mBAAmB,mBAAO,CAAC,yGAAY;AACvC,kBAAkB,mBAAO,CAAC,uGAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;;;;;;;;;;;;ACpEa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc;AACd,mBAAmB,mBAAO,CAAC,yGAAY;AACvC,yBAAyB,mBAAO,CAAC,qHAAkB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA;;;;;;;;;;;;ACrBa;AACb;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC,gBAAgB;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,aAAa,mBAAO,CAAC,iIAAwB;AAC7C,aAAa,mBAAO,CAAC,+HAAuB;AAC5C,aAAa,mBAAO,CAAC,iIAAwB;AAC7C,aAAa,mBAAO,CAAC,2IAA6B;AAClD,aAAa,mBAAO,CAAC,qHAAkB;AACvC,aAAa,mBAAO,CAAC,uHAAmB;AACxC,aAAa,mBAAO,CAAC,yGAAY;AACjC,aAAa,mBAAO,CAAC,2GAAa;AAClC,aAAa,mBAAO,CAAC,qHAAkB;AACvC,aAAa,mBAAO,CAAC,uGAAW;AAChC,aAAa,mBAAO,CAAC,uHAAmB;AACxC,aAAa,mBAAO,CAAC,qHAAkB;AACvC,aAAa,mBAAO,CAAC,qHAAkB;AACvC,aAAa,mBAAO,CAAC,qHAAkB;AACvC,aAAa,mBAAO,CAAC,qHAAkB;AACvC,aAAa,mBAAO,CAAC,2HAAqB;AAC1C,aAAa,mBAAO,CAAC,uHAAmB;AACxC,aAAa,mBAAO,CAAC,2HAAqB;AAC1C,aAAa,mBAAO,CAAC,2GAAa;AAClC,aAAa,mBAAO,CAAC,mJAAiC;AACtD,aAAa,mBAAO,CAAC,uGAAW;AAChC,aAAa,mBAAO,CAAC,yHAAoB;AACzC,aAAa,mBAAO,CAAC,6GAAc;AACnC,aAAa,mBAAO,CAAC,yGAAY;AACjC,aAAa,mBAAO,CAAC,qIAA0B;AAC/C,aAAa,mBAAO,CAAC,2HAAqB;AAC1C,aAAa,mBAAO,CAAC,2GAAa;AAClC,6BAA6B,mBAAO,CAAC,uJAAuC;AAC5E,qDAAoD,EAAE,qCAAqC,oDAAoD,EAAC;AAChJ,aAAa,mBAAO,CAAC,+IAA+B;AACpD,aAAa,mBAAO,CAAC,iIAAwB;AAC7C,aAAa,mBAAO,CAAC,6GAAc;AACnC,aAAa,mBAAO,CAAC,mHAAiB;AACtC,aAAa,mBAAO,CAAC,6HAAsB;;AAE3C;;;;;;;;;;;;AClDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB,GAAG,kBAAkB;AAC7C,eAAe,mBAAO,CAAC,gEAAM;AAC7B;AACA,kBAAkB;AAClB;AACA,wBAAwB;;AAExB;;;;;;;;;;;;ACXa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;;AAE7D;;;;;;;;;;;;ACLa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;;AAE7D;;;;;;;;;;;;ACLa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gDAAgD,uBAAuB,KAAK;;AAE7E;;;;;;;;;;;;ACba;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;;AAE7D;;;;;;;;;;;;ACLa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;;AAE7D;;;;;;;;;;;;ACLa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;;AAE7D;;;;;;;;;;;;ACLa;AACb,8CAA6C,EAAE,aAAa,EAAC;;AAE7D;;;;;;;;;;;;ACHa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;;AAE7D;;;;;;;;;;;;ACLa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;;AAE7D;;;;;;;;;;;;ACLa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;;AAE7D;;;;;;;;;;;;ACLa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;;AAE7D;;;;;;;;;;;;ACLa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,YAAY;AACZ,mBAAmB,mBAAO,CAAC,yGAAY;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,0BAA0B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,0BAA0B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;AAEZ;;;;;;;;;;;;AC9Ma;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC,GAAG,kCAAkC,GAAG,gCAAgC,GAAG,mCAAmC,GAAG,yBAAyB,GAAG,uCAAuC,GAAG,kCAAkC,GAAG,iCAAiC,GAAG,+BAA+B,GAAG,oCAAoC,GAAG,+BAA+B,GAAG,iCAAiC,GAAG,kCAAkC,GAAG,6BAA6B,GAAG,0BAA0B,GAAG,+BAA+B,GAAG,iBAAiB;AACrkB;AACA,2BAA2B,mBAAO,CAAC,yHAAoB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;;;;;;;;;;;;ACzHa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,GAAG,iBAAiB;AACzC,kBAAkB,mBAAO,CAAC,uGAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oCAAoC,iBAAiB,KAAK;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;;AAErB;;;;;;;;;;;;ACxCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC,GAAG,YAAY,GAAG,gBAAgB,GAAG,gCAAgC,GAAG,qBAAqB,GAAG,oBAAoB;AACrJ;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0CAA0C,oBAAoB,KAAK;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,qCAAqC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,EAAE,gBAAgB,MAAM;AACtF;AACA;AACA;AACA,iDAAiD,MAAM;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,iCAAiC;;AAEjC;;;;;;;;;;;;AChNa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa;AACb,mBAAmB,mBAAO,CAAC,yGAAY;AACvC,kBAAkB,mBAAO,CAAC,uGAAW;AACrC,qBAAqB,mBAAO,CAAC,6GAAc;AAC3C;AACA;AACA;AACA;AACA,CAAC,wCAAwC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,WAAW;AACpB;AACA;AACA;AACA;AACA;AACA,uCAAuC,4DAA4D;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,yDAAyD;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;;;;;;;;;;;;AC1Ka;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B;AAC3B,+BAA+B,mBAAO,CAAC,iIAAwB;AAC/D,mBAAmB,mBAAO,CAAC,yGAAY;AACvC,kBAAkB,mBAAO,CAAC,uGAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;;AAE3B;;;;;;;;;;;;ACnDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;;AAEtB;;;;;;;;;;;;AC3Da;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc;AACd,mBAAmB,mBAAO,CAAC,yGAAY;AACvC,kBAAkB,mBAAO,CAAC,uGAAW;AACrC,mBAAmB,mBAAO,CAAC,yGAAY;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd;;;;;;;;;;;;ACxEa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB;AACA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;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,KAAK;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;;;;;;;;;;;;ACnCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B,GAAG,uBAAuB,GAAG,mBAAmB;AAC7E,qBAAqB,mBAAO,CAAC,wIAAiC;AAC9D,uBAAuB,mBAAO,CAAC,+GAAiB;AAChD,qBAAqB,mBAAO,CAAC,2GAAe;AAC5C,6BAA6B,mBAAO,CAAC,gIAAsB;AAC3D,8BAA8B,mBAAO,CAAC,kIAAuB;AAC7D,+BAA+B,mBAAO,CAAC,oIAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+DAA+D;AAC9E;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mDAAmD;AAClE;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,+BAA+B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AAAW;AACnB;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;;;;;;;;;;;;AC7Ra;AACb;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC,gBAAgB;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB,wBAAwB,mBAAO,CAAC,iBAAI;AACpC,uBAAuB,mBAAO,CAAC,+GAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,wDAAwD;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;;AAEvB;;;;;;;;;;;;ACnEa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gCAAgC,GAAG,4BAA4B,GAAG,gCAAgC,GAAG,4BAA4B,GAAG,wBAAwB;AAC5J;AACA,qBAAqB,mBAAO,CAAC,sIAAgC;AAC7D,qBAAqB,mBAAO,CAAC,wHAAyB;AACtD,kBAAkB,mBAAO,CAAC,kHAAsB;AAChD,qBAAqB,mBAAO,CAAC,2GAAe;AAC5C,+BAA+B,mBAAO,CAAC,oIAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,8BAA8B;AAC7C;AACA,eAAe,mBAAmB;AAClC;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,8BAA8B;AAC7C;AACA,eAAe,mBAAmB;AAClC;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,8BAA8B;AAC7C;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;;AAEhC;;;;;;;;;;;;AC9Ua;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B,yCAAyC,mBAAO,CAAC,mJAAmC;AACpF,+BAA+B,mBAAO,CAAC,oIAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC3Oa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC,GAAG,6BAA6B,GAAG,iCAAiC,GAAG,6BAA6B,GAAG,yBAAyB;AACjK;AACA,qBAAqB,mBAAO,CAAC,wHAAyB;AACtD,uBAAuB,mBAAO,CAAC,+GAAiB;AAChD,+BAA+B,mBAAO,CAAC,oIAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+BAA+B;AAC9C;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+BAA+B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;;;;;;;;;;;;ACtOa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B,GAAG,yBAAyB,GAAG,sBAAsB;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8CAA8C,sBAAsB,KAAK;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA,eAAe,gBAAgB;AAC/B,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;;;;;;;;;;;;AC9La;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB,mBAAmB,mBAAO,CAAC,oHAAuB;AAClD,qBAAqB,mBAAO,CAAC,2GAAe;AAC5C,+BAA+B,mBAAO,CAAC,oIAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,wBAAwB;AACtD;AACA;AACA;AACA,4BAA4B,yBAAyB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uBAAuB;;AAEvB;;;;;;;;;;;;AC3Ja;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;;;;;;;;;;;;ACda;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;;AAErC;;;;;;;;;;;;ACda;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,qBAAqB,mBAAO,CAAC,wHAAyB;AACtD,+BAA+B,mBAAO,CAAC,oIAAwB;AAC/D,+BAA+B,mBAAO,CAAC,oIAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,wDAAwD;AAC1H;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,mEAAmE;AAC/H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,uCAAuC,kEAAkE;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;;;;;;;;;;;;AChQa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sCAAsC;AACtC,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C,4BAA4B,mBAAO,CAAC,wHAAqB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,gCAAgC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,gBAAgB,gCAAgC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,gBAAgB,gCAAgC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;;AAEtC;;;;;;;;;;;;ACxGa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sCAAsC;AACtC,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,iBAAiB,gCAAgC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iCAAiC;AAChD,iBAAiB,gCAAgC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;;AAEtC;;;;;;;;;;;;AChDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA,oBAAoB;;AAEpB;;;;;;;;;;;;ACnHa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB,GAAG,wBAAwB;AAClD;AACA;AACA;AACA;AACA;AACA,CAAC,kDAAkD,wBAAwB,KAAK;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,uBAAuB;;AAEvB;;;;;;;;;;;;ACxDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,8CAA8C,mBAAO,CAAC,qLAAsD;AAC5G,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,+BAA+B,mBAAO,CAAC,0IAA8B;AACrE,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,yBAAyB,mBAAO,CAAC,kHAAkB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,yBAAyB;;AAEzB;;;;;;;;;;;;AC3La;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB,GAAG,kBAAkB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;;AAEzB;;;;;;;;;;;;ACpDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC;AACpC,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,2BAA2B;AAC1C,eAAe,QAAQ;AACvB,eAAe,cAAc;AAC7B,eAAe,QAAQ;AACvB,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;;;;;;;;;;;;ACxCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,iCAAiC,mBAAO,CAAC,kIAA0B;AACnE,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA,cAAc,KAAK;AACnB,eAAe,QAAQ;AACvB;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,2EAA2E,KAAK;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB,eAAe,QAAQ;AACvB;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;;AAE1B;;;;;;;;;;;;ACtIa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B;AAC3B,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,qCAAqC,mBAAO,CAAC,0IAA8B;AAC3E,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,2CAA2C;AAC1D,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA,2FAA2F;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;;AAE3B;;;;;;;;;;;;ACvCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;;;;;;;;;;;;ACpDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4DAA4D,6BAA6B,KAAK;;AAE/F;;;;;;;;;;;;AClDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC;AACjC,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;;;;;;;;;;;;ACvDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sDAAsD,0BAA0B,KAAK;;AAEtF;;;;;;;;;;;;ACvBa;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,+BAA+B,mBAAO,CAAC,8HAAwB;AAC/D,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kBAAkB;;AAElB;;;;;;;;;;;;AC/Ja;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B;AAC3B,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;;AAE3B;;;;;;;;;;;;AChBa;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B,GAAG,yBAAyB;AACzD;AACA,yBAAyB,mBAAO,CAAC,2IAAiC;AAClE,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,gCAAgC,mBAAO,CAAC,gIAAyB;AACjE,wBAAwB,mBAAO,CAAC,gHAAiB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;;;;;;;;;;;;ACpFa;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;;AAElC;;;;;;;;;;;;AC1Ba;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;;;;;;;;;;;;ACtEa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kDAAkD;AAClD,uCAAuC,mBAAO,CAAC,8IAAgC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;;AAElD;;;;;;;;;;;;ACda;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B;AAC5B,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,iCAAiC,mBAAO,CAAC,kIAA0B;AACnE,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;;;;;;;;;;;;AC1Fa;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB,qBAAqB,mBAAO,CAAC,qIAA8B;AAC3D,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;AAEA;;;;;;;;;;;;AC/Ca;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B,GAAG,2BAA2B;AAC7D;AACA,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC,eAAe,QAAQ;AACvB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,UAAU;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;;;;;;;;;;;;AChJa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B;AAC9B,oCAAoC,mBAAO,CAAC,iKAA4C;AACxF,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,oCAAoC,mBAAO,CAAC,iOAA4E;AACxH,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C,wBAAwB,mBAAO,CAAC,gHAAiB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;;;;;;;;;;;;AC9Da;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8CAA8C,sBAAsB,KAAK;;AAE1E;;;;;;;;;;;;ACvBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB;AAChB,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,4CAA2C,EAAE,qCAAqC,kCAAkC,EAAC;;AAErH;;;;;;;;;;;;ACRa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6CAA6C;AAC7C,uCAAuC,mBAAO,CAAC,8IAAgC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;;AAE7C;;;;;;;;;;;;ACda;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB,qBAAqB,mBAAO,CAAC,0IAAoC;AACjE,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA,uFAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA,sBAAsB;;AAEtB;;;;;;;;;;;;AC1Da;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4CAA4C,qBAAqB,KAAK;;AAEvE;;;;;;;;;;;;AC9Ba;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0CAA0C,oBAAoB,KAAK;;AAEpE;;;;;;;;;;;;ACrBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;;AAEzB;;;;;;;;;;;;ACzDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gDAAgD,uBAAuB,KAAK;;AAE7E;;;;;;;;;;;;AChBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC;AACrC,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,+BAA+B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,oHAAoH;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;;AAErC;;;;;;;;;;;;AClLa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4CAA4C;AAC5C;AACA,iEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0FAA0F,4CAA4C,KAAK;;AAE5I;;;;;;;;;;;;ACxBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0CAA0C;AAC1C;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sFAAsF,0CAA0C,KAAK;;AAEtI;;;;;;;;;;;;AC7Ba;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC;AACrC;AACA,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC,gBAAgB,+BAA+B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,qCAAqC;;AAErC;;;;;;;;;;;;AClGa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,2BAA2B;AAC1C;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,0BAA0B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,0BAA0B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA,wBAAwB,0BAA0B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA,0BAA0B;;AAE1B;;;;;;;;;;;;ACjHa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sCAAsC,kBAAkB,KAAK;;AAE9D;;;;;;;;;;;;ACxca;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B;AAC5B,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;;;;;;;;;;;;ACjCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,cAAc;AAC7B,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA,yBAAyB;;AAEzB;;;;;;;;;;;;AC3Ia;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,oBAAoB;AACnC,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,kBAAkB;;AAElB;;;;;;;;;;;;AClKa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0CAA0C,oBAAoB,KAAK;;AAEpE;;;;;;;;;;;;ACnGa;AACb;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB;;;;;;;;;;;;AChCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8DAA8D,8BAA8B,KAAK;;AAElG;;;;;;;;;;;;ACjBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB;;;;;;;;;;;;AC/Ba;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B;AAC5B,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB,gBAAgB,sBAAsB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;;;;;;;;;;;;ACtCa;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB,GAAG,oBAAoB;AAC/C,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB,eAAe,QAAQ;AACvB,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4HAA4H;AAC5H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB;;;;;;;;;;;;ACjPa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0CAA0C;AAC1C,uCAAuC,mBAAO,CAAC,8IAAgC;AAC/E;AACA;AACA,0CAA0C;;AAE1C;;;;;;;;;;;;ACVa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC,GAAG,0CAA0C,GAAG,kCAAkC;AACvH;AACA,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iCAAiC;AAChD,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iCAAiC;AAClD;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;;AAErC;;;;;;;;;;;;ACvEa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,cAAc;AAC7B,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;;;;;;;;;;;;AC5Ca;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,oCAAoC,mBAAO,CAAC,iOAA4E;AACxH,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,gCAAgC;AAC/C,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB;;;;;;;;;;;;AC5Na;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,wCAAwC;;AAExC;;;;;;;;;;;;AC5Ca;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wEAAwE,mCAAmC,KAAK;;AAEjH;;;;;;;;;;;;AC7Ba;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,uBAAuB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA,gCAAgC;;AAEhC;;;;;;;;;;;;AChCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wEAAwE,mCAAmC,KAAK;;AAEjH;;;;;;;;;;;;AC5Oa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,cAAc;AAC7B,eAAe,aAAa;AAC5B,eAAe,QAAQ;AACvB,eAAe,oBAAoB;AACnC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;;;;;;;;;;;;AClDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,sCAAsC;;AAEtC;;;;;;;;;;;;ACxDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,6BAA6B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;AC5Fa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,6BAA6B,mBAAO,CAAC,sIAA4B;AACjE,+BAA+B,mBAAO,CAAC,0IAA8B;AACrE,+BAA+B,mBAAO,CAAC,0IAA8B;AACrE,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C,yBAAyB,mBAAO,CAAC,kHAAkB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,gCAAgC;AAC/C,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D,gBAAgB,gCAAgC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F,gBAAgB,IAAI,oBAAoB;AAClI;AACA;AACA;AACA,yBAAyB;;AAEzB;;;;;;;;;;;;ACpMa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mCAAmC,GAAG,+BAA+B;AACrE,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB,eAAe,QAAQ;AACvB,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kIAAkI;AAClI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;;AAEnC;;;;;;;;;;;;ACrWa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,cAAc;AAC7B,eAAe,QAAQ;AACvB,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA,uBAAuB;;AAEvB;;;;;;;;;;;;ACpEa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;;;;;;;;;;;;AC3Ca;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB,GAAG,mBAAmB;AAC9C,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,MAAM,IAAI,KAAK;AAClD;AACA,wLAAwL,SAAS,IAAI,KAAK;AAC1M;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,wCAAwC;AACxC,gCAAgC;AAChC,gCAAgC;AAChC,kCAAkC;AAClC,kCAAkC;AAClC;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB;;;;;;;;;;;;AClTa;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB,GAAG,oBAAoB;AAC/C;AACA,qBAAqB,mBAAO,CAAC,sIAAgC;AAC7D,qBAAqB,mBAAO,CAAC,wHAAyB;AACtD,uBAAuB,mBAAO,CAAC,+GAAiB;AAChD,qBAAqB,mBAAO,CAAC,2GAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iJAAiJ,IAAI;AACrJ,wJAAwJ,IAAI;AAC5J;AACA,qKAAqK,IAAI;AACzK;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mHAAmH,IAAI;AACvH,6GAA6G,IAAI;AACjH,yGAAyG,IAAI;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,QAAQ;AAC1G;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,QAAQ;AAC1G;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2GAA2G,IAAI;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iGAAiG,QAAQ;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qGAAqG,QAAQ;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sHAAsH,IAAI;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,QAAQ;AAC1G;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,QAAQ;AAC1G;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2GAA2G,IAAI;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iGAAiG,QAAQ;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4GAA4G,IAAI;AAChH;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,IAAI;AACrF;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oHAAoH,IAAI;AACxH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6GAA6G,IAAI;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,wBAAwB;;AAExB;;;;;;;;;;;;ACr+Ba;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;;AAE1B;;;;;;;;;;;;ACpCa;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uCAAuC;AACvC,qBAAqB,mBAAO,CAAC,2GAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;;AAEvC;;;;;;;;;;;;ACnBa;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gDAAgD;AAChD,qBAAqB,mBAAO,CAAC,2GAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;;AAEhD;;;;;;;;;;;;ACtBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,qBAAqB,mBAAO,CAAC,sIAAgC;AAC7D,oCAAoC,mBAAO,CAAC,oOAA+E;AAC3H,qBAAqB,mBAAO,CAAC,wHAAyB;AACtD,uBAAuB,mBAAO,CAAC,+GAAiB;AAChD,qBAAqB,mBAAO,CAAC,2GAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,gCAAgC;AAC/C,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;;;;;;;;;;;;AC5Ka;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uCAAuC;AACvC,qBAAqB,mBAAO,CAAC,2GAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,cAAc;AAC7B,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,uCAAuC;;AAEvC;;;;;;;;;;;;AC5Ca;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gDAAgD;AAChD,uCAAuC,mBAAO,CAAC,+IAAiC;AAChF;AACA;AACA,gDAAgD;;AAEhD;;;;;;;;;;;;ACXa;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wCAAwC;AACxC,qBAAqB,mBAAO,CAAC,2GAAe;AAC5C;AACA;AACA;AACA;AACA,eAAe,+BAA+B;AAC9C,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,+BAA+B;AAChD;AACA;AACA;AACA;AACA;AACA,wCAAwC;;AAExC;;;;;;;;;;;;AC7Ba;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC;AACrC,0CAA0C,mBAAO,CAAC,qJAAoC;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;;AAErC;;;;;;;;;;;;AC5Ba;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B,GAAG,mBAAmB;AACpD;AACA,qBAAqB,mBAAO,CAAC,sIAAgC;AAC7D,qDAAqD,mBAAO,CAAC,kOAA8E;AAC3I,qBAAqB,mBAAO,CAAC,wHAAyB;AACtD,uBAAuB,mBAAO,CAAC,+GAAiB;AAChD,qBAAqB,mBAAO,CAAC,2GAAe;AAC5C,0BAA0B,mBAAO,CAAC,kIAAmB;AACrD,qBAAqB,mBAAO,CAAC,wHAAc;AAC3C;AACA;AACA;AACA;AACA;AACA,CAAC,wCAAwC,mBAAmB,KAAK;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4HAA4H;AAC5H;AACA;AACA;AACA;AACA;AACA;AACA,oHAAoH,IAAI;AACxH,iHAAiH,IAAI;AACrH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oIAAoI;AACpI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA,oHAAoH,IAAI;AACxH,iHAAiH,IAAI;AACrH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,IAAI;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4GAA4G,IAAI;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,8BAA8B;;AAE9B;;;;;;;;;;;;ACjYa;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uCAAuC,GAAG,0BAA0B,GAAG,6CAA6C,GAAG,mBAAmB,GAAG,eAAe,GAAG,gCAAgC,GAAG,YAAY,GAAG,mBAAmB,GAAG,+BAA+B,GAAG,8BAA8B,GAAG,qCAAqC,GAAG,wCAAwC,GAAG,gDAAgD,GAAG,gDAAgD,GAAG,uCAAuC,GAAG,0BAA0B,GAAG,wBAAwB,GAAG,oBAAoB;AACzlB,wBAAwB,mBAAO,CAAC,kIAAmB;AACnD,gDAA+C,EAAE,qCAAqC,0CAA0C,EAAC;AACjI,oDAAmD,EAAE,qCAAqC,8CAA8C,EAAC;AACzI,8BAA8B,mBAAO,CAAC,8IAAyB;AAC/D,sDAAqD,EAAE,qCAAqC,sDAAsD,EAAC;AACnJ,2CAA2C,mBAAO,CAAC,wKAAsC;AACzF,mEAAkE,EAAE,qCAAqC,gFAAgF,EAAC;AAC1L,oDAAoD,mBAAO,CAAC,0LAA+C;AAC3G,4EAA2E,EAAE,qCAAqC,kGAAkG,EAAC;AACrN,oDAAoD,mBAAO,CAAC,0LAA+C;AAC3G,4EAA2E,EAAE,qCAAqC,kGAAkG,EAAC;AACrN,4CAA4C,mBAAO,CAAC,0KAAuC;AAC3F,oEAAmE,EAAE,qCAAqC,kFAAkF,EAAC;AAC7L,yCAAyC,mBAAO,CAAC,oKAAoC;AACrF,iEAAgE,EAAE,qCAAqC,4EAA4E,EAAC;AACpL,kCAAkC,mBAAO,CAAC,sJAA6B;AACvE,0DAAyD,EAAE,qCAAqC,8DAA8D,EAAC;AAC/J,mCAAmC,mBAAO,CAAC,wJAA8B;AACzE,2DAA0D,EAAE,qCAAqC,gEAAgE,EAAC;AAClK,wBAAwB,mBAAO,CAAC,kIAAmB;AACnD,+CAA8C,EAAE,qCAAqC,yCAAyC,EAAC;AAC/H,wCAAuC,EAAE,qCAAqC,kCAAkC,EAAC;AACjH,oCAAoC,mBAAO,CAAC,0JAA+B;AAC3E,4DAA2D,EAAE,qCAAqC,kEAAkE,EAAC;AACrK,mBAAmB,mBAAO,CAAC,wHAAc;AACzC,2CAA0C,EAAE,qCAAqC,gCAAgC,EAAC;AAClH,+CAA8C,EAAE,qCAAqC,oCAAoC,EAAC;AAC1H,iDAAiD,mBAAO,CAAC,oLAA4C;AACrG,yEAAwE,EAAE,qCAAqC,4FAA4F,EAAC;AAC5M,8BAA8B,mBAAO,CAAC,8IAAyB;AAC/D,sDAAqD,EAAE,qCAAqC,sDAAsD,EAAC;AACnJ,2CAA2C,mBAAO,CAAC,wKAAsC;AACzF,mEAAkE,EAAE,qCAAqC,gFAAgF,EAAC;;AAE1L;;;;;;;;;;;;ACxCa;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,GAAG,YAAY;AAClC;AACA,qBAAqB,mBAAO,CAAC,2GAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;;;;;;;;;;;;AC9Da;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,GAAG,eAAe;AACrC;AACA,qBAAqB,mBAAO,CAAC,sIAAgC;AAC7D,qBAAqB,mBAAO,CAAC,wHAAyB;AACtD,uBAAuB,mBAAO,CAAC,+GAAiB;AAChD,qBAAqB,mBAAO,CAAC,2GAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iJAAiJ,IAAI;AACrJ,wJAAwJ,IAAI;AAC5J;AACA;AACA;AACA;AACA;AACA,qKAAqK,IAAI;AACzK;AACA;AACA;AACA,oEAAoE;AACpE;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8GAA8G,IAAI;AAClH,6GAA6G,IAAI;AACjH,yGAAyG,IAAI;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,QAAQ;AAC1G;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,QAAQ;AAC1G;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2GAA2G,IAAI;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iGAAiG,QAAQ;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qGAAqG,QAAQ;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sHAAsH,IAAI;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,QAAQ;AAC1G;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,QAAQ;AAC1G;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2GAA2G,IAAI;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iGAAiG,QAAQ;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4GAA4G,IAAI;AAChH;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,IAAI;AACrF;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oHAAoH,IAAI;AACxH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6GAA6G,IAAI;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,mBAAmB;;AAEnB;;;;;;;;;;;;ACz7Ba;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B,qBAAqB,mBAAO,CAAC,sIAAgC;AAC7D,qBAAqB,mBAAO,CAAC,wHAAyB;AACtD,uBAAuB,mBAAO,CAAC,+GAAiB;AAChD,qBAAqB,mBAAO,CAAC,2GAAe;AAC5C,qBAAqB,mBAAO,CAAC,wHAAc;AAC3C;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,SAAS;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;;AAE1B;;;;;;;;;;;;AChKa;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6CAA6C;AAC7C,uCAAuC,mBAAO,CAAC,+IAAiC;AAChF;AACA;AACA,6CAA6C;;AAE7C;;;;;;;;;;;;ACXa;AACb;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kEAAkE,gCAAgC,KAAK;;AAExG;;;;;;;;;;;;AClBa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,oBAAoB;AACnC,eAAe,QAAQ;AACvB,eAAe,8BAA8B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,+CAA+C;;AAE/C;;;;;;;;;;;;AC5Ea;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uCAAuC;AACvC,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,8BAA8B;AAC7C,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA;AACA;AACA,uCAAuC;;AAEvC;;;;;;;;;;;;ACnCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC;AACpC,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,QAAQ;AACvB,eAAe,cAAc;AAC7B,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;;;;;;;;;;;;ACjDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B,qBAAqB,mBAAO,CAAC,mIAA6B;AAC1D,oCAAoC,mBAAO,CAAC,iOAA4E;AACxH,qBAAqB,mBAAO,CAAC,qHAAsB;AACnD,wBAAwB,mBAAO,CAAC,gHAAiB;AACjD,uBAAuB,mBAAO,CAAC,8GAAgB;AAC/C,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,aAAa;AAC5B,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,gCAAgC;AAC/C,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E,eAAe;AAC7F;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,6BAA6B;;AAE7B;;;;;;;;;;;;ACrPa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC;AACrC,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA;AACA;AACA;AACA,qCAAqC;;AAErC;;;;;;;;;;;;AClCa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA,kCAAkC;;AAElC;;;;;;;;;;;;AC5Ca;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB,qBAAqB,mBAAO,CAAC,0GAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,oBAAoB;;AAEpB;;;;;;;;;;;;ACrDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mCAAmC;AACnC,+BAA+B,mBAAO,CAAC,uLAAuD;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,KAAK;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,KAAK;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA,+CAA+C;AAC/C;AACA;AACA,mCAAmC;;AAEnC;;;;;;;;;;;;ACpDa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB,GAAG,0BAA0B,GAAG,4BAA4B;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0DAA0D,4BAA4B,KAAK;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sDAAsD,0BAA0B,KAAK;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;;;;;;;;;;;;;ACpJA;;;;;;;;;;;;ACAa;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,uCAAsC;AACtC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,yCAAwC;AACxC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,6CAA4C;AAC5C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,4CAA2C;AAC3C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,2CAA0C;AAC1C;AACA;AACA;AACA;AACA,CAAC,EAAC;;AAEF,gCAAgC,mBAAO,CAAC,gEAAS;;AAEjD,iCAAiC,mBAAO,CAAC,gEAAS;;AAElD,iCAAiC,mBAAO,CAAC,gEAAS;;AAElD,iCAAiC,mBAAO,CAAC,gEAAS;;AAElD,kCAAkC,mBAAO,CAAC,kEAAU;;AAEpD,sCAAsC,mBAAO,CAAC,0EAAc;;AAE5D,uCAAuC,mBAAO,CAAC,4EAAe;;AAE9D,wCAAwC,mBAAO,CAAC,8EAAgB;;AAEhE,oCAAoC,mBAAO,CAAC,sEAAY;;AAExD,uCAAuC,uCAAuC,iB;;;;;;;;;;;AC9EjE;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;;AAErD;;AAEA,oBAAoB,gBAAgB;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAkB,aAAa;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAe,Y;;;;;;;;;;;AC9NF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;AACf;AACA;AACA;AACA;AACA,kBAAe,Y;;;;;;;;;;;ACVF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;AACf;AACA,kBAAe,Y;;;;;;;;;;;ACPF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf,uCAAuC,mBAAO,CAAC,4EAAe;;AAE9D,uCAAuC,uCAAuC;;AAE9E;AACA;AACA;AACA;;AAEA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA,qBAAqB;;AAErB;AACA,qBAAqB;;AAErB;AACA,qBAAqB;;AAErB;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAe,Y;;;;;;;;;;;AC5CF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;AACf,6BAA6B,EAAE,UAAU,EAAE,eAAe,EAAE,gBAAgB,EAAE,UAAU,GAAG;AAC3F,kBAAe,Y;;;;;;;;;;;ACPF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;ACxBa;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qDAAqD;;AAErD;;AAEA,oBAAoB,gBAAgB;AACpC;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kBAAkB,OAAO;AACzB;;AAEA,oBAAoB,QAAQ;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAkB,OAAO;AACzB;;AAEA,oBAAoB,QAAQ;AAC5B;AACA;;AAEA,qBAAqB,QAAQ;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAe,Y;;;;;;;;;;;ACvGF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;AACf,uBAAuB;;AAEvB,uCAAuC,mBAAO,CAAC,4EAAe;;AAE9D,uCAAuC,uCAAuC;;AAE9E;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,SAAS;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAe,Y;;;;;;;;;;;AC3CF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf,kCAAkC,mBAAO,CAAC,kEAAU;;AAEpD,iBAAiB,mBAAO,CAAC,8EAAgB;;AAEzC,uCAAuC,uCAAuC;;AAE9E;AACA;AACA;AACA;AACA;;AAEA,eAAe;;;AAGf;AACA,oBAAoB;;AAEpB;AACA;AACA;AACA;AACA;AACA,gFAAgF;AAChF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;AAGA,wEAAwE;AACxE;;AAEA,4EAA4E;;AAE5E,gEAAgE;;AAEhE;AACA;AACA,IAAI;AACJ;;;AAGA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;;AAExB,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA,sBAAsB;;AAEtB;AACA;AACA,uBAAuB;;AAEvB,oCAAoC;;AAEpC,8BAA8B;;AAE9B,kCAAkC;;AAElC,4BAA4B;;AAE5B,kBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;;AAEA;AACA,kBAAe,Y;;;;;;;;;;;AC1GF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf,gCAAgC,mBAAO,CAAC,kEAAU;;AAElD,iCAAiC,mBAAO,CAAC,kEAAU;;AAEnD,uCAAuC,uCAAuC;;AAE9E;AACA;AACA,kBAAe,Y;;;;;;;;;;;ACfF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,WAAW,GAAG,WAAW;AACzB,kBAAe;;AAEf,iBAAiB,mBAAO,CAAC,8EAAgB;;AAEzC,oCAAoC,mBAAO,CAAC,sEAAY;;AAExD,uCAAuC,uCAAuC;;AAE9E;AACA,2CAA2C;;AAE3C;;AAEA,kBAAkB,gBAAgB;AAClC;AACA;;AAEA;AACA;;AAEA;AACA,WAAW;AACX;AACA,WAAW;;AAEX;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,sBAAsB,QAAQ;AAC9B;AACA;;AAEA;AACA;;AAEA;AACA,IAAI;;;AAGJ;AACA,8BAA8B;AAC9B,IAAI,eAAe;;;AAGnB;AACA;AACA;AACA,C;;;;;;;;;;;AC/Ea;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf,qCAAqC,mBAAO,CAAC,wEAAa;;AAE1D,kCAAkC,mBAAO,CAAC,kEAAU;;AAEpD,iBAAiB,mBAAO,CAAC,8EAAgB;;AAEzC,uCAAuC,uCAAuC;;AAE9E;AACA;AACA;AACA;;AAEA;;AAEA,kEAAkE;;;AAGlE;AACA,mCAAmC;;AAEnC;AACA;;AAEA,oBAAoB,QAAQ;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAe,Y;;;;;;;;;;;AC1CF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf,gCAAgC,mBAAO,CAAC,kEAAU;;AAElD,kCAAkC,mBAAO,CAAC,oEAAW;;AAErD,uCAAuC,uCAAuC;;AAE9E;AACA;AACA,kBAAe,Y;;;;;;;;;;;ACfF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf,oCAAoC,mBAAO,CAAC,sEAAY;;AAExD,uCAAuC,uCAAuC;;AAE9E;AACA;AACA;;AAEA;AACA,kBAAe,Y;;;;;;;;;;;AChBF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf,uCAAuC,mBAAO,CAAC,4EAAe;;AAE9D,uCAAuC,uCAAuC;;AAE9E;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAe,Y;;;;;;;;;;ACpBf,e;;;;;;;;;;ACAA,e;;;;;;;;;;ACAA,e;;;;;;;;;;ACAA,e;;;;;;;;;;ACAA,e;;;;;;;;;;ACAA,e;;;;;;;;;;ACAA,e;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAE+C;;AAE/C;AACA,IAAIgR,cAAc,GAAG,IAAI;;AAEzB;AACA,IAAMC,YAAY,GAAG;EACnB;AACF;AACA;EACE9C,IAAI,WAAJA,IAAIA,CAAA,EAAc;IAAA,IAAb3Z,MAAM,GAAAxW,SAAA,CAAAsD,MAAA,QAAAtD,SAAA,QAAA+E,SAAA,GAAA/E,SAAA,MAAG,CAAC,CAAC;IACd,IAAIgzB,cAAc,EAAE;MAClBvzB,OAAO,CAACyzB,IAAI,CAAC,kEAAkE,CAAC;MAChF,OAAOF,cAAc;IACvB;IAEAA,cAAc,GAAG,IAAIxD,wDAAW,CAAChZ,MAAM,CAAC;IACxC,OAAOwc,cAAc;EACvB,CAAC;EAED;AACF;AACA;EACE1b,KAAK,WAALA,KAAKA,CAAA,EAAG;IACN,IAAI,CAAC0b,cAAc,EAAE;MACnBvzB,OAAO,CAACC,KAAK,CAAC,2DAA2D,CAAC;MAC1E;IACF;IAEA,IAAI,CAACszB,cAAc,CAAC9U,KAAK,CAACxH,WAAW,EAAE;MACrCsc,cAAc,CAAC7F,eAAe,CAAC,CAAC;IAClC;EACF,CAAC;EAED;AACF;AACA;EACEjU,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACL,IAAI,CAAC8Z,cAAc,EAAE;MACnBvzB,OAAO,CAACC,KAAK,CAAC,2DAA2D,CAAC;MAC1E;IACF;IAEA,IAAIszB,cAAc,CAAC9U,KAAK,CAACxH,WAAW,EAAE;MACpCsc,cAAc,CAAC7F,eAAe,CAAC,CAAC;IAClC;EACF,CAAC;EAED;AACF;AACA;EACEyB,MAAM,WAANA,MAAMA,CAAA,EAAG;IACP,IAAI,CAACoE,cAAc,EAAE;MACnBvzB,OAAO,CAACC,KAAK,CAAC,2DAA2D,CAAC;MAC1E;IACF;IAEAszB,cAAc,CAAC7F,eAAe,CAAC,CAAC;EAClC,CAAC;EAED;AACF;AACA;EACE4B,WAAW,WAAXA,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACiE,cAAc,EAAE;MACnBvzB,OAAO,CAACC,KAAK,CAAC,2DAA2D,CAAC;MAC1E;IACF;IAEAszB,cAAc,CAACjE,WAAW,CAAC,CAAC;EAC9B,CAAC;EAED;AACF;AACA;EACEoE,YAAY,WAAZA,YAAYA,CAACC,SAAS,EAAE;IACtB,IAAI,CAACJ,cAAc,EAAE;MACnBvzB,OAAO,CAACC,KAAK,CAAC,2DAA2D,CAAC;MAC1E;IACF;IAEAszB,cAAc,CAACxc,MAAM,GAAAO,aAAA,CAAAA,aAAA,KAAQic,cAAc,CAACxc,MAAM,GAAK4c,SAAS,CAAE;;IAElE;IACA,IAAIA,SAAS,CAACjxB,QAAQ,IAAIixB,SAAS,CAACjxB,QAAQ,KAAK6wB,cAAc,CAAC9U,KAAK,CAAC/b,QAAQ,EAAE;MAC9E6wB,cAAc,CAACrR,QAAQ,CAAC;QAAExf,QAAQ,EAAEixB,SAAS,CAACjxB;MAAS,CAAC,CAAC;MACzD6wB,cAAc,CAACnE,uBAAuB,CAAC,CAAC;IAC1C;EACF,CAAC;EAED;AACF;AACA;EACEkD,OAAO,WAAPA,OAAOA,CAAA,EAAG;IACR,IAAI,CAACiB,cAAc,EAAE;MACnBvzB,OAAO,CAACyzB,IAAI,CAAC,wCAAwC,CAAC;MACtD;IACF;IAEAF,cAAc,CAACjB,OAAO,CAAC,CAAC;IACxBiB,cAAc,GAAG,IAAI;EACvB,CAAC;EAED;AACF;AACA;EACEK,QAAQ,WAARA,QAAQA,CAAA,EAAG;IACT,IAAI,CAACL,cAAc,EAAE;MACnBvzB,OAAO,CAACC,KAAK,CAAC,2DAA2D,CAAC;MAC1E,OAAO,IAAI;IACb;IAEA,OAAAqX,aAAA,KAAYic,cAAc,CAAC9U,KAAK;EAClC,CAAC;EAED;AACF;AACA;EACEoV,WAAW,WAAXA,WAAWA,CAAA,EAAG;IACZ,OAAON,cAAc;EACvB;AACF,CAAC;;AAED;AACA,iEAAeC,YAAY,EAAC;;AAE5B;AACA,IAAI,OAAO1wB,MAAM,KAAK,WAAW,EAAE;EACjCA,MAAM,CAAC0wB,YAAY,GAAGA,YAAY;AACpC,C","sources":["webpack://LiaPlusVoice/webpack/universalModuleDefinition","webpack://LiaPlusVoice/../../CommandMapper.ts","webpack://LiaPlusVoice/../../DOMAnalyzer.ts","webpack://LiaPlusVoice/../../FormHandler.ts","webpack://LiaPlusVoice/../../NavigationMap.ts","webpack://LiaPlusVoice/../../VoiceNavigator.ts","webpack://LiaPlusVoice/../../index.ts","webpack://LiaPlusVoice/./src/ApiManager.js","webpack://LiaPlusVoice/./src/AudioManager.js","webpack://LiaPlusVoice/./src/CommandProcessor.js","webpack://LiaPlusVoice/./src/Icons.js","webpack://LiaPlusVoice/./src/UIComponents.js","webpack://LiaPlusVoice/./src/VoiceWidget.js","webpack://LiaPlusVoice/./node_modules/bent/src/browser.js","webpack://LiaPlusVoice/./node_modules/bent/src/core.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/microsoft.cognitiveservices.speech.sdk.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser/ConsoleLoggingListener.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser/Exports.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser/FileAudioSource.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser/IRecorder.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser/MicAudioSource.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser/PCMRecorder.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser/ProxyInfo.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser/ReplayableAudioNode.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser/RestConfigBase.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser/RestMessageAdapter.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser/WebsocketConnection.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser/WebsocketMessageAdapter.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/AgentConfig.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/AvatarSynthesisAdapter.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/CognitiveSubscriptionKeyAuthentication.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/CognitiveTokenAuthentication.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ConnectionFactoryBase.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ConversationServiceRecognizer.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ConversationTranscriberConnectionFactory.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ConversationTranscriptionServiceRecognizer.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/DialogConnectorFactory.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/DialogServiceAdapter.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/DialogServiceTurnState.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/DialogServiceTurnStateManager.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/DynamicGrammarBuilder.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/EnumTranslation.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Exports.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/HeaderNames.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/IAuthentication.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/IConnectionFactory.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ISynthesisConnectionFactory.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/QueryParameterNames.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/RecognitionEvents.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/RecognizerConfig.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/RequestSession.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/ActivityResponsePayload.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/DetailedSpeechPhrase.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/Dgi/Group.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/Enums.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/InvocationSource.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/KeywordDetection/KeywordDetection.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/LanguageId/LanguageIdContext.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/LanguageId/OnSuccess.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/LanguageId/OnUnknown.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/PhraseDetection/OnSuccess.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/PhraseDetection/PhraseDetectionContext.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/PhraseDetection/Segmentation.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/PhraseDetection/SpeakerDiarization.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/PhraseOutput/InterimResults.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/PhraseOutput/PhraseOutput.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/PhraseOutput/PhraseResults.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/SimpleSpeechPhrase.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/SpeechDetected.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/SpeechHypothesis.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/SpeechKeyword.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/SynthesisAudioMetadata.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/Translation/InterimResults.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/Translation/OnSuccess.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/TranslationHypothesis.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/TranslationPhrase.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/TranslationSynthesisEnd.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceMessages/TurnStatusPayload.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceRecognizerBase.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/ServiceTelemetryListener.Internal.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/SpeechConnectionFactory.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/SpeechConnectionMessage.Internal.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/SpeechContext.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/SpeechServiceConfig.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/SpeechServiceInterfaces.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/SpeechServiceRecognizer.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/SpeechSynthesisAdapter.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/SpeechSynthesisConnectionFactory.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/SynthesisAdapterBase.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/SynthesisContext.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/SynthesisEvents.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/SynthesisRestAdapter.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/SynthesisTurn.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/SynthesizerConfig.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/TranscriberConnectionFactory.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/ConversationConnectionConfig.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/ConversationConnectionFactory.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/ConversationConnectionMessage.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/ConversationManager.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/ConversationRequestSession.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/ConversationServiceAdapter.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/ConversationTranslatorConnectionFactory.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/ConversationTranslatorEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/ConversationTranslatorInterfaces.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/ConversationTranslatorRecognizer.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/ConversationWebsocketMessageFormatter.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/Exports.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/ServiceMessages/CommandResponsePayload.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/ServiceMessages/Exports.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/ServiceMessages/ParticipantResponsePayload.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/ServiceMessages/TranslationResponsePayload.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/Transcription/TranscriberRecognizer.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/TranscriptionServiceRecognizer.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/TranslationConnectionFactory.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/TranslationServiceRecognizer.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/TranslationStatus.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.speech/WebsocketMessageFormatter.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/AudioSourceEvents.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/BackgroundError.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/ChunkedArrayBufferStream.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/ConnectionEvents.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/ConnectionMessage.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/ConnectionOpenResponse.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/DeferralMap.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/DialogEvents.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/Error.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/EventSource.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/Events.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/Exports.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/Guid.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/IAudioDestination.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/IAudioSource.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/IConnection.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/IDetachable.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/IDictionary.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/IDisposable.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/IErrorMessages.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/IEventListener.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/IEventSource.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/ITimer.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/IWebsocketMessageFormatter.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/List.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/OCSPEvents.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/PlatformEvent.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/Promise.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/Queue.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/RawWebsocketMessage.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/RiffPcmEncoder.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/Stream.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/StringUtils.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common/Timeout.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/ActivityReceivedEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Audio/AudioConfig.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Audio/AudioFileWriter.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Audio/AudioInputStream.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Audio/AudioOutputFormat.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Audio/AudioOutputStream.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Audio/AudioStreamFormat.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Audio/BaseAudioPlayer.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Audio/PullAudioInputStreamCallback.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Audio/PushAudioOutputStreamCallback.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Audio/SpeakerAudioDestination.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/AutoDetectSourceLanguageConfig.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/AutoDetectSourceLanguageResult.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/AvatarConfig.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/AvatarEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/AvatarSynthesizer.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/AvatarVideoFormat.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/AvatarWebRTCConnectionResult.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/BotFrameworkConfig.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/CancellationDetails.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/CancellationDetailsBase.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/CancellationErrorCodes.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/CancellationEventArgsBase.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/CancellationReason.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Connection.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/ConnectionEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/ConnectionMessage.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/ConnectionMessageEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Contracts.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/ConversationTranscriptionCanceledEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/CustomCommandsConfig.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Diagnostics.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/DialogServiceConfig.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/DialogServiceConnector.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Exports.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/KeywordRecognitionModel.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/LanguageIdMode.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/LogLevel.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/MeetingTranscriptionCanceledEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/NoMatchDetails.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/NoMatchReason.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/OutputFormat.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/PhraseListGrammar.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/ProfanityOption.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/PronunciationAssessmentConfig.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/PronunciationAssessmentGradingSystem.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/PronunciationAssessmentGranularity.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/PronunciationAssessmentResult.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/PropertyCollection.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/PropertyId.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/RecognitionEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/RecognitionResult.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Recognizer.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/ResultReason.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/ServiceEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/ServicePropertyChannel.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SessionEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SourceLanguageConfig.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SpeechConfig.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SpeechRecognitionCanceledEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SpeechRecognitionEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SpeechRecognitionResult.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SpeechRecognizer.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SpeechSynthesisBookmarkEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SpeechSynthesisBoundaryType.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SpeechSynthesisEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SpeechSynthesisOutputFormat.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SpeechSynthesisResult.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SpeechSynthesisVisemeEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SpeechSynthesisWordBoundaryEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SpeechSynthesizer.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SpeechTranslationConfig.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SynthesisResult.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/SynthesisVoicesResult.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Synthesizer.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/Conversation.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/ConversationCommon.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/ConversationExpirationEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/ConversationParticipantsChangedEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/ConversationTranscriber.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/ConversationTranscriptionResult.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/ConversationTranslationCanceledEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/ConversationTranslationEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/ConversationTranslationResult.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/ConversationTranslator.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/Exports.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/IParticipant.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/Meeting.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/MeetingTranscriber.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/MeetingTranscriptionCanceledEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Transcription/ParticipantChangedReason.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/TranslationRecognitionCanceledEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/TranslationRecognitionEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/TranslationRecognitionResult.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/TranslationRecognizer.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/TranslationSynthesisEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/TranslationSynthesisResult.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Translations.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/TurnStatusReceivedEventArgs.js","webpack://LiaPlusVoice/./node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/VoiceInfo.js","webpack://LiaPlusVoice/./src/styles.css?1553","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/index.js","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/md5.js","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/native.js","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/nil.js","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/parse.js","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/regex.js","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/rng.js","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/sha1.js","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/stringify.js","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/v1.js","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/v3.js","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/v35.js","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/v4.js","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/v5.js","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/validate.js","webpack://LiaPlusVoice/./node_modules/uuid/dist/commonjs-browser/version.js","webpack://LiaPlusVoice/ignored|/Users/amit-work/Downloads/Company/Website-LiaPlus/cdn/node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser|agent-base","webpack://LiaPlusVoice/ignored|/Users/amit-work/Downloads/Company/Website-LiaPlus/cdn/node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser|fs","webpack://LiaPlusVoice/ignored|/Users/amit-work/Downloads/Company/Website-LiaPlus/cdn/node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser|https-proxy-agent","webpack://LiaPlusVoice/ignored|/Users/amit-work/Downloads/Company/Website-LiaPlus/cdn/node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser|net","webpack://LiaPlusVoice/ignored|/Users/amit-work/Downloads/Company/Website-LiaPlus/cdn/node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser|tls","webpack://LiaPlusVoice/ignored|/Users/amit-work/Downloads/Company/Website-LiaPlus/cdn/node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/common.browser|ws","webpack://LiaPlusVoice/ignored|/Users/amit-work/Downloads/Company/Website-LiaPlus/cdn/node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/Audio|fs","webpack://LiaPlusVoice/webpack/bootstrap","webpack://LiaPlusVoice/webpack/runtime/compat get default export","webpack://LiaPlusVoice/webpack/runtime/define property getters","webpack://LiaPlusVoice/webpack/runtime/hasOwnProperty shorthand","webpack://LiaPlusVoice/webpack/runtime/make namespace object","webpack://LiaPlusVoice/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LiaPlusVoice\"] = factory();\n\telse\n\t\troot[\"LiaPlusVoice\"] = factory();\n})(this, () => {\nreturn ",null,null,null,null,null,null,"/**\n * API Manager - Handle API calls for both hosted and custom modes\n */\n\nexport class ApiManager {\n  constructor(widget) {\n    this.widget = widget;\n    this.config = widget.config;\n  }\n\n  /**\n   * Get Azure Speech credentials\n   */\n  async getAzureSpeechCredentials() {\n    if (this.config.mode === 'custom') {\n      // Custom mode: use provided credentials\n      return {\n        token: this.config.azureSpeech.key,\n        region: this.config.azureSpeech.region,\n        success: true\n      };\n    }\n    \n    // Hosted mode: fetch from API\n    try {\n      const response = await fetch(`${this.config.apiBase}/azure-speech`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      return await response.json();\n    } catch (error) {\n      this.widget.log(' [API] Failed to get Azure Speech credentials:', error);\n      return { success: false, error: error.message };\n    }\n  }\n\n  /**\n   * Process voice command with AI\n   */\n  async processVoiceCommand(command, domAnalysis, currentUrl) {\n    if (this.config.mode === 'custom') {\n      // Custom mode: call Azure OpenAI directly\n      return await this.processCommandWithCustomAI(command, domAnalysis, currentUrl);\n    }\n    \n    // Hosted mode: use backend API\n    return await this.processCommandWithHostedAI(command, domAnalysis, currentUrl);\n  }\n\n  /**\n   * Process command with hosted AI (default)\n   */\n  async processCommandWithHostedAI(command, domAnalysis, currentUrl) {\n    try {\n      const requestBody = {\n        command,\n        language: this.widget.state.language,\n        currentUrl: currentUrl || window.location.href\n      };\n\n      if (this.widget.state.useDynamicMode && domAnalysis) {\n        requestBody.domAnalysis = domAnalysis;\n        this.widget.log(' [Dynamic Mode] Sending DOM analysis:', {\n          forms: domAnalysis.forms.length,\n          navigation: domAnalysis.navigation.length,\n          interactions: domAnalysis.interactions.length\n        });\n      }\n\n      this.widget.log(' [API Call] Sending to /api/voice-ai...');\n      \n      const response = await fetch(`${this.config.apiBase}/voice-ai`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(requestBody)\n      });\n\n      this.widget.log(' [API Response]', response.status, response.statusText);\n\n      if (response.ok) {\n        const data = await response.json();\n        this.widget.log(' [AI Response]', data);\n        return data;\n      } else {\n        const errorData = await response.json().catch(() => ({}));\n        this.widget.log(' [API Error]', errorData);\n        throw new Error('AI request failed');\n      }\n    } catch (error) {\n      this.widget.log(' [Error]', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Process command with custom Azure OpenAI credentials\n   */\n  async processCommandWithCustomAI(command, domAnalysis, currentUrl) {\n    try {\n      const { azureOpenAI } = this.config;\n      \n      // Build system prompt based on DOM analysis\n      const systemPrompt = this.buildSystemPrompt(this.widget.state.language, domAnalysis);\n      \n      // Build context\n      const contextInfo = this.buildContext(currentUrl, domAnalysis);\n      \n      // Build messages\n      const messages = [\n        { role: 'system', content: systemPrompt },\n        {\n          role: 'user',\n          content: `${contextInfo}\\n\\nUser said: \"${command}\"\\n\\nWhat should I do?`\n        }\n      ];\n      \n      // Call Azure OpenAI\n      const apiUrl = `${azureOpenAI.endpoint}/openai/deployments/${azureOpenAI.deployment}/chat/completions?api-version=2024-08-01-preview`;\n      \n      this.widget.log(' [Custom AI] Calling Azure OpenAI directly...');\n      \n      const response = await fetch(apiUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'api-key': azureOpenAI.apiKey\n        },\n        body: JSON.stringify({\n          messages,\n          temperature: 0.7,\n          max_tokens: 250,\n          response_format: { type: 'json_object' }\n        })\n      });\n\n      if (!response.ok) {\n        const error = await response.text();\n        this.widget.log(' [Custom AI Error]', error);\n        throw new Error('Custom AI request failed');\n      }\n\n      const data = await response.json();\n      const aiResponse = JSON.parse(data.choices[0].message.content);\n\n      // Ensure response has all required fields\n      return {\n        action: aiResponse.action || 'chat',\n        parameters: aiResponse.parameters || {},\n        response: aiResponse.response || '',\n        context: aiResponse.context || null,\n        confirmAction: aiResponse.confirmAction || false,\n        confidence: aiResponse.confidence || 0.7\n      };\n    } catch (error) {\n      this.widget.log(' [Custom AI Error]', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Build system prompt (simplified version from route.ts)\n   */\n  buildSystemPrompt(language, domAnalysis) {\n    const isHindi = language === 'hi-IN';\n    \n    const formsInfo = domAnalysis?.forms?.length > 0 \n      ? domAnalysis.forms.map((f, i) => {\n          const fieldDetails = f.fields?.map(field => \n            `${field.label || field.name || field.placeholder || field.type}`\n          ).join(', ');\n          return `Form ${i + 1}: ${f.fields?.length || 0} fields (${fieldDetails})`;\n        }).join('\\n')\n      : 'No forms on this page';\n      \n    const navInfo = domAnalysis?.navigation?.length > 0\n      ? `Navigation options: ${domAnalysis.navigation.slice(0, 10).map(n => n.text).filter(t => t).join(', ')}`\n      : 'No navigation menu detected';\n    \n    if (isHindi) {\n      return `  intelligent voice assistant  Available actions: scroll, navigate, back, forward, refresh, zoom, click, fill_form, read, chat. Response format (JSON): {\"action\": \"exact_action_name\", \"parameters\": {}, \"response\": \"user  friendly message\", \"confidence\": 0.0-1.0}. Page analysis: ${formsInfo}. Navigation: ${navInfo}.`;\n    }\n    \n    return `You are an intelligent voice assistant. Available actions: scroll, navigate, back, forward, refresh, zoom, click, fill_form, read, chat. Response format (JSON): {\"action\": \"exact_action_name\", \"parameters\": {}, \"response\": \"friendly message\", \"confidence\": 0.0-1.0}. Page analysis: ${formsInfo}. Navigation: ${navInfo}.`;\n  }\n\n  /**\n   * Build context\n   */\n  buildContext(url, domAnalysis) {\n    let context = `Current page: ${url}\\nPage title: ${domAnalysis?.pageInfo?.title || 'Unknown'}\\n\\n`;\n    \n    if (domAnalysis) {\n      context += `DOM Analysis:\\n`;\n      context += `- Forms: ${domAnalysis.forms?.length || 0}\\n`;\n      context += `- Navigation elements: ${domAnalysis.navigation?.length || 0}\\n`;\n      context += `- Interactive elements: ${domAnalysis.interactions?.length || 0}\\n`;\n    }\n    \n    return context;\n  }\n}\n","/**\n * Audio Manager - Azure Speech SDK integration\n * Port of Azure Speech functions from voice-navigation-advanced.tsx lines 774-891\n */\n\nimport * as SpeechSDK from 'microsoft-cognitiveservices-speech-sdk';\n\nexport class AudioManager {\n  constructor(widget) {\n    this.widget = widget;\n    this.recognizer = null;\n    this.synthesizer = null;\n  }\n\n  /**\n   * Initialize Azure Speech (lines 774-825)\n   */\n  async initializeAzureSpeech() {\n    try {\n      const credentials = await this.widget.apiManager.getAzureSpeechCredentials();\n      \n      if (!credentials.success) {\n        this.widget.log(' [Speech] Failed to get credentials');\n        return false;\n      }\n\n      const { token, region } = credentials;\n      \n      // Setup STT (Speech-to-Text)\n      const speechConfig = SpeechSDK.SpeechConfig.fromSubscription(token, region);\n      speechConfig.speechRecognitionLanguage = this.widget.state.language;\n      \n      const audioConfig = SpeechSDK.AudioConfig.fromDefaultMicrophoneInput();\n      this.recognizer = new SpeechSDK.SpeechRecognizer(speechConfig, audioConfig);\n      \n      // Event handlers\n      this.recognizer.recognizing = (s, e) => {\n        if (e.result.text) {\n          this.widget.setState({ transcript: e.result.text.toLowerCase().trim() });\n        }\n      };\n      \n      this.recognizer.recognized = (s, e) => {\n        if (e.result.reason === SpeechSDK.ResultReason.RecognizedSpeech && e.result.text) {\n          const command = e.result.text.toLowerCase().trim();\n          this.widget.setState({ transcript: command });\n          this.widget.handleVoiceCommand(command);\n        }\n      };\n\n      this.recognizer.canceled = (s, e) => {\n        if (e.reason !== SpeechSDK.CancellationReason.EndOfStream) {\n          this.widget.log(' [Speech] Recognition canceled:', e.reason);\n        }\n      };\n      \n      // Start continuous recognition\n      this.recognizer.startContinuousRecognitionAsync(\n        () => {\n          this.widget.log(' [Speech] Recognition started');\n        },\n        (err) => {\n          this.widget.log(' [Speech] Failed to start recognition:', err);\n        }\n      );\n      \n      // Setup TTS (Text-to-Speech) with best voices\n      const ttsConfig = SpeechSDK.SpeechConfig.fromSubscription(token, region);\n      ttsConfig.speechSynthesisLanguage = this.widget.state.language;\n      // Use Swara for Hindi (best female voice), Jenny for English\n      ttsConfig.speechSynthesisVoiceName = this.widget.state.language === 'hi-IN' \n        ? 'hi-IN-SwaraNeural' \n        : 'en-US-JennyNeural';\n      \n      const audioConfigTTS = SpeechSDK.AudioConfig.fromDefaultSpeakerOutput();\n      this.synthesizer = new SpeechSDK.SpeechSynthesizer(ttsConfig, audioConfigTTS);\n      \n      this.widget.log(' [Speech] Azure Speech initialized');\n      return true;\n    } catch (error) {\n      this.widget.log(' [Speech] Initialization failed:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Start recognition\n   */\n  async start() {\n    const initialized = await this.initializeAzureSpeech();\n    \n    if (initialized) {\n      const message = this.widget.state.language === 'hi-IN' \n        ? '   ' \n        : 'Voice navigation is on';\n      this.speak(message);\n    } else {\n      this.speak('Unable to start voice navigation');\n      this.widget.setState({ isListening: false });\n    }\n  }\n\n  /**\n   * Stop recognition\n   */\n  stop() {\n    if (this.recognizer) {\n      this.recognizer.stopContinuousRecognitionAsync(\n        () => {\n          this.recognizer.close();\n          this.recognizer = null;\n          this.widget.log(' [Speech] Recognition stopped');\n        },\n        (err) => {\n          this.widget.log(' [Speech] Failed to stop recognition:', err);\n        }\n      );\n    }\n    \n    if (this.synthesizer) {\n      this.synthesizer.close();\n      this.synthesizer = null;\n    }\n    \n    this.widget.setState({ transcript: '' });\n  }\n\n  /**\n   * Speak text (lines 874-884)\n   */\n  speak(text) {\n    if (!this.widget.state.voiceEnabled) {\n      this.widget.log(' [Speech] Voice feedback disabled');\n      return;\n    }\n    \n    if (this.synthesizer) {\n      this.widget.log(' [Speaking]', text);\n      this.synthesizer.speakTextAsync(\n        text,\n        () => {\n          this.widget.log(' [Speech] Synthesis complete');\n        },\n        (error) => {\n          this.widget.log(' [Speech] Synthesis error:', error);\n        }\n      );\n    } else {\n      this.widget.log(' [Speech] Synthesizer not initialized');\n    }\n  }\n\n  /**\n   * Stop speaking (lines 886-891)\n   */\n  stopSpeaking() {\n    // Azure will auto-stop on next speak\n    const message = this.widget.state.language === 'hi-IN' ? ' ' : 'Stopped';\n    this.speak(message);\n  }\n\n  /**\n   * Reinitialize when language changes\n   */\n  async reinitialize() {\n    this.widget.log(' [Speech] Reinitializing for language change...');\n    this.stop();\n    \n    await new Promise(resolve => setTimeout(resolve, 500));\n    \n    if (this.widget.state.isListening) {\n      await this.start();\n    }\n  }\n}\n","/**\n * Command Processor - Voice command execution logic\n * Port of executeAction, fillFormDynamically, clickElementDynamically, navigateDynamically\n * from voice-navigation-advanced.tsx lines 133-772\n */\n\nexport class CommandProcessor {\n  constructor(widget) {\n    this.widget = widget;\n  }\n\n  /**\n   * Execute action (lines 133-230)\n   */\n  executeAction(action, parameters = {}) {\n    this.widget.log(' [Execute Action]', action, parameters);\n    \n    // Action aliases - map various AI responses to correct actions\n    const actionAliases = {\n      'scroll_bottom': 'bottom',\n      'scroll_to_bottom': 'bottom',\n      'go_to_bottom': 'bottom',\n      'scroll_top': 'top',\n      'scroll_to_top': 'top',\n      'go_to_top': 'top',\n      'scroll_middle': 'middle',\n      'scroll_to_middle': 'middle',\n      'go_to_middle': 'middle',\n      'go_back': 'back',\n      'voice_ai_agent': 'voice_agent',\n      'voice_ai': 'voice_agent',\n    };\n    \n    // Apply alias mapping\n    const mappedAction = actionAliases[action] || action;\n    \n    const actions = {\n      // Scrolling\n      'scroll_up': () => window.scrollBy({ top: -400, behavior: 'smooth' }),\n      'scroll_down': () => window.scrollBy({ top: 400, behavior: 'smooth' }),\n      'scroll_to_top': () => window.scrollTo({ top: 0, behavior: 'smooth' }),\n      'scroll_to_bottom': () => window.scrollTo({ top: document.documentElement.scrollHeight, behavior: 'smooth' }),\n      'top': () => window.scrollTo({ top: 0, behavior: 'smooth' }),\n      'bottom': () => window.scrollTo({ top: document.documentElement.scrollHeight, behavior: 'smooth' }),\n      'middle': () => window.scrollTo({ top: document.documentElement.scrollHeight / 2, behavior: 'smooth' }),\n      \n      // Zoom Commands\n      'zoom_in': () => {\n        const currentZoom = parseFloat(document.body.style.zoom || '1');\n        document.body.style.zoom = `${currentZoom + 0.1}`;\n      },\n      'zoom_out': () => {\n        const currentZoom = parseFloat(document.body.style.zoom || '1');\n        document.body.style.zoom = `${Math.max(0.5, currentZoom - 0.1)}`;\n      },\n      'reset_zoom': () => {\n        document.body.style.zoom = '1';\n      },\n      \n      // Navigation (fallback for known routes)\n      'home': () => this.navigateToPath('/'),\n      'products': () => this.navigateToPath('/products'),\n      'pricing': () => this.navigateToPath('/pricing'),\n      'about': () => this.navigateToPath('/about-us'),\n      'contact': () => this.navigateToPath('/contact-us'),\n      'solutions': () => this.navigateToPath('/solutions'),\n      'careers': () => this.navigateToPath('/careers'),\n      'partners': () => this.navigateToPath('/partner-program'),\n      \n      // Products\n      'chatbot': () => this.navigateToPath('/products/chatbot'),\n      'voice_agent': () => this.navigateToPath('/products/voice-ai-agent'),\n      'email_assistant': () => this.navigateToPath('/products/executive-email-assistant'),\n      \n      // Resources\n      'roi_calculator': () => this.navigateToPath('/resources/roi-calculator'),\n      'case_studies': () => this.navigateToPath('/resources/case-studies'),\n      \n      // Solutions\n      'banking': () => this.navigateToPath('/solutions/industries/banking-finance'),\n      'healthcare': () => this.navigateToPath('/solutions/industries/healthcare'),\n      'ecommerce': () => this.navigateToPath('/solutions/industries/e-commerce'),\n      \n      // Dynamic Navigation\n      'navigate': () => this.navigateDynamically(parameters),\n      \n      // Dynamic Form Filling\n      'fill_form': () => this.fillFormDynamically(parameters),\n      \n      // Dynamic Click\n      'click': () => this.clickElementDynamically(parameters),\n      \n      // System & Browser Navigation\n      'back': () => window.history.back(),\n      'forward': () => window.history.forward(),\n      'refresh': () => window.location.reload(),\n      'print': () => window.print(),\n      'hide_commands': () => this.widget.setState({ showCommands: false }),\n      'show_commands': () => this.widget.setState({ showCommands: true }),\n      \n      // Content\n      'read': () => this.readPageContent(),\n      'stop_reading': () => this.widget.stopSpeaking(),\n    };\n\n    const actionFn = actions[mappedAction];\n    if (actionFn) {\n      actionFn();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Navigate to path\n   */\n  navigateToPath(path) {\n    window.location.href = path;\n  }\n\n  /**\n   * Read page content\n   */\n  readPageContent() {\n    const mainContent = document.querySelector('main') || document.querySelector('#main-content') || document.body;\n    if (mainContent) {\n      const text = mainContent.textContent?.slice(0, 500) || 'No content to read';\n      this.widget.speak(text);\n    }\n  }\n\n  /**\n   * Fill form dynamically (lines 232-402)\n   */\n  fillFormDynamically(parameters) {\n    this.widget.log(' [Fill Form] Parameters:', parameters);\n    \n    const { domAnalysis } = this.widget.state;\n    \n    if (!domAnalysis || domAnalysis.forms.length === 0) {\n      this.widget.log(' [Fill Form] No forms found');\n      return;\n    }\n\n    // Try to find the best matching form\n    let targetForm = domAnalysis.forms[0]; // Default to first form\n    \n    // If there are multiple forms, try to find one with matching fields\n    if (domAnalysis.forms.length > 1 && parameters) {\n      const fieldKeys = Object.keys(parameters.fields || parameters);\n      for (const form of domAnalysis.forms) {\n        const hasMatchingField = form.fields.some(f => \n          fieldKeys.some(key => \n            f.name?.toLowerCase().includes(key.toLowerCase()) ||\n            f.label?.toLowerCase().includes(key.toLowerCase()) ||\n            f.type === key.toLowerCase() ||\n            (key === 'email' && f.type === 'email')\n          )\n        );\n        if (hasMatchingField) {\n          targetForm = form;\n          break;\n        }\n      }\n    }\n\n    this.widget.log(' [Fill Form] Using form:', targetForm.id, 'with', targetForm.fields.length, 'fields');\n\n    // Extract field values\n    const fieldValues = parameters.fields || parameters;\n    this.widget.log(' [Fill Form] Field values to fill:', fieldValues);\n\n    let filledCount = 0;\n    const filledFields = [];\n\n    // Fill each parameter into matching fields\n    Object.entries(fieldValues).forEach(([key, value]) => {\n      this.widget.log(` [Fill Form] Looking for field: ${key} = ${value}`);\n      \n      // Find matching field\n      const field = targetForm.fields.find((f) => {\n        const keyLower = key.toLowerCase();\n        \n        // Direct type match for email fields\n        if (keyLower === 'email' && f.type === 'email') return true;\n        \n        // Check various field properties\n        return f.name?.toLowerCase().includes(keyLower) ||\n               f.label?.toLowerCase().includes(keyLower) ||\n               f.id?.toLowerCase().includes(keyLower) ||\n               f.placeholder?.toLowerCase().includes(keyLower) ||\n               f.type === keyLower;\n      });\n\n      if (field) {\n        this.widget.log(` [Fill Form] Found field:`, field);\n        \n        let input = null;\n        \n        // Strategy 1: By type for email fields\n        if (field.type === 'email') {\n          const emailInputs = document.querySelectorAll('input[type=\"email\"]');\n          if (emailInputs.length === 1) {\n            input = emailInputs[0];\n            this.widget.log(' [Fill Form] Found single email input on page');\n          } else if (emailInputs.length > 1) {\n            const formElement = document.querySelector(`#${targetForm.id}`) || \n                              document.querySelectorAll('form')[domAnalysis.forms.indexOf(targetForm)];\n            if (formElement) {\n              input = formElement.querySelector('input[type=\"email\"]');\n              if (input) this.widget.log(' [Fill Form] Found email input in target form');\n            }\n          }\n        }\n        \n        // Strategy 2: By name attribute\n        if (!input && field.name && !field.name.startsWith('field-')) {\n          input = document.querySelector(`input[name=\"${field.name}\"], select[name=\"${field.name}\"], textarea[name=\"${field.name}\"]`);\n          if (input) this.widget.log(' [Fill Form] Found by name:', field.name);\n        }\n        \n        // Strategy 3: By id attribute\n        if (!input && field.id && !field.id.startsWith('field-')) {\n          input = document.querySelector(`#${field.id}`);\n          if (input) this.widget.log(' [Fill Form] Found by ID:', field.id);\n        }\n        \n        // Strategy 4: By label text\n        if (!input && field.label) {\n          const labels = Array.from(document.querySelectorAll('label'));\n          const matchingLabel = labels.find(l => {\n            const labelText = l.textContent?.trim().toLowerCase();\n            return labelText === field.label?.toLowerCase() ||\n                   labelText?.includes(field.label?.toLowerCase());\n          });\n          if (matchingLabel) {\n            const forAttr = matchingLabel.getAttribute('for');\n            if (forAttr) {\n              input = document.querySelector(`#${forAttr}`);\n              if (input) this.widget.log(' [Fill Form] Found by label \"for\" attribute');\n            } else {\n              input = matchingLabel.querySelector('input, select, textarea');\n              if (input) this.widget.log(' [Fill Form] Found as child of label');\n            }\n          }\n        }\n        \n        // Strategy 5: By placeholder\n        if (!input && field.placeholder) {\n          input = document.querySelector(`input[placeholder*=\"${field.placeholder}\"], textarea[placeholder*=\"${field.placeholder}\"]`);\n          if (input) this.widget.log(' [Fill Form] Found by placeholder:', field.placeholder);\n        }\n        \n        // Strategy 6: By index in form\n        if (!input && typeof field.index === 'number') {\n          const formElement = document.querySelector(`#${targetForm.id}`) || \n                            document.querySelectorAll('form')[domAnalysis.forms.indexOf(targetForm)];\n          if (formElement) {\n            const allInputs = formElement.querySelectorAll('input:not([type=\"hidden\"]):not([type=\"submit\"]):not([type=\"button\"]), select, textarea');\n            input = allInputs[field.index];\n            if (input) this.widget.log(' [Fill Form] Found by index:', field.index);\n          }\n        }\n\n        if (input) {\n          // Focus the input\n          input.focus();\n          \n          // Set the value\n          input.value = value;\n          \n          // Trigger events for React/Vue/Angular\n          input.dispatchEvent(new Event('input', { bubbles: true }));\n          input.dispatchEvent(new Event('change', { bubbles: true }));\n          \n          // For React 16+\n          const nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, \"value\")?.set;\n          if (nativeInputValueSetter) {\n            nativeInputValueSetter.call(input, value);\n            input.dispatchEvent(new Event('input', { bubbles: true }));\n          }\n          \n          this.widget.log(` [Fill Form] Successfully filled \"${field.label || field.name || field.type}\" with \"${value}\"`);\n          filledCount++;\n          filledFields.push(field.label || field.name || field.type);\n        } else {\n          this.widget.log(` [Fill Form] Input element not found for field:`, field);\n        }\n      } else {\n        this.widget.log(` [Fill Form] No matching field found for \"${key}\"`);\n      }\n    });\n    \n    if (filledCount > 0) {\n      const fieldNames = filledFields.join(', ');\n      this.widget.log(` [Fill Form] Successfully filled ${filledCount} field(s): ${fieldNames}`);\n    } else {\n      this.widget.log(' [Fill Form] Could not fill any fields');\n    }\n  }\n\n  /**\n   * Click element dynamically (lines 404-546)\n   */\n  clickElementDynamically(parameters) {\n    this.widget.log(' [Click] Parameters:', parameters);\n    \n    const { domAnalysis } = this.widget.state;\n    const target = parameters?.target || parameters?.element || parameters?.button || 'submit';\n    const targetLower = target.toLowerCase();\n    this.widget.log(' [Click] Looking for:', target);\n\n    let element = null;\n\n    // 1. Try to find in form buttons\n    if (domAnalysis?.forms.length) {\n      for (const form of domAnalysis.forms) {\n        this.widget.log(` [Click] Checking form ${form.id} buttons:`, form.buttons);\n        \n        const button = form.buttons?.find(b => \n          b.text?.toLowerCase().includes(targetLower) ||\n          b.type?.toLowerCase().includes(targetLower) ||\n          b.id?.toLowerCase().includes(targetLower) ||\n          b.name?.toLowerCase().includes(targetLower) ||\n          (targetLower.includes('submit') && b.type === 'submit') ||\n          (targetLower.includes('subscribe') && (\n            b.text?.toLowerCase().includes('subscribe') ||\n            b.id?.toLowerCase().includes('subscribe') ||\n            b.name?.toLowerCase().includes('subscribe')\n          ))\n        );\n\n        if (button) {\n          this.widget.log(' [Click] Found button in form:', button);\n          \n          // Try multiple selectors\n          if (button.id && !button.id.startsWith('button-')) {\n            element = document.querySelector(`#${button.id}`);\n            if (element) this.widget.log(' [Click] Found by ID:', button.id);\n          }\n          \n          if (!element && button.name) {\n            element = document.querySelector(`button[name=\"${button.name}\"], input[name=\"${button.name}\"]`);\n            if (element) this.widget.log(' [Click] Found by name:', button.name);\n          }\n          \n          if (!element && button.text) {\n            const buttons = Array.from(document.querySelectorAll('button, input[type=\"submit\"], input[type=\"button\"]'));\n            element = buttons.find(btn => \n              btn.textContent?.trim().toLowerCase() === button.text.toLowerCase() ||\n              btn.value?.toLowerCase() === button.text.toLowerCase()\n            );\n            if (element) this.widget.log(' [Click] Found by text:', button.text);\n          }\n          \n          if (!element) {\n            const formIndex = domAnalysis.forms.indexOf(form);\n            const formElement = document.querySelectorAll('form')[formIndex];\n            if (formElement) {\n              element = formElement.querySelector('button[type=\"submit\"], input[type=\"submit\"], button:not([type=\"button\"])');\n              if (element) this.widget.log(' [Click] Found submit button in form');\n            }\n          }\n          \n          if (element) break;\n        }\n      }\n    }\n\n    // 2. Try to find in interactions\n    if (!element && domAnalysis?.interactions.length) {\n      this.widget.log(' [Click] Checking interactions:', domAnalysis.interactions.length);\n      const interaction = domAnalysis.interactions.find(i =>\n        i.text?.toLowerCase().includes(targetLower) ||\n        i.ariaLabel?.toLowerCase().includes(targetLower) ||\n        (targetLower.includes('subscribe') && (\n          i.text?.toLowerCase().includes('subscribe') ||\n          i.ariaLabel?.toLowerCase().includes('subscribe')\n        ))\n      );\n\n      if (interaction) {\n        this.widget.log(' [Click] Found interaction:', interaction);\n        if (interaction.id) {\n          element = document.querySelector(`#${interaction.id}`);\n        }\n        if (!element && interaction.text) {\n          const elements = Array.from(document.querySelectorAll('button, input[type=\"submit\"], input[type=\"button\"], a'));\n          element = elements.find(el => \n            el.textContent?.trim().toLowerCase() === interaction.text.toLowerCase()\n          );\n        }\n      }\n    }\n\n    // 3. Fallback: search by text content in DOM\n    if (!element) {\n      this.widget.log(' [Click] Fallback: searching by text content in DOM');\n      const clickables = Array.from(document.querySelectorAll('button, input[type=\"submit\"], input[type=\"button\"], a[role=\"button\"], [role=\"button\"]'));\n      \n      // First try exact match\n      element = clickables.find(btn => {\n        const text = btn.textContent?.trim().toLowerCase() || btn.value?.toLowerCase() || '';\n        return text === targetLower;\n      });\n      \n      // Then try contains match\n      if (!element) {\n        element = clickables.find(btn => {\n          const text = btn.textContent?.trim().toLowerCase() || btn.value?.toLowerCase() || '';\n          const ariaLabel = btn.getAttribute('aria-label')?.toLowerCase() || '';\n          return text.includes(targetLower) || ariaLabel.includes(targetLower) ||\n                 (targetLower.includes('subscribe') && (text.includes('subscribe') || ariaLabel.includes('subscribe'))) ||\n                 (targetLower.includes('submit') && btn.getAttribute('type') === 'submit');\n        });\n      }\n      \n      if (element) {\n        this.widget.log(' [Click] Found by DOM search:', element);\n      }\n    }\n\n    // Click the element\n    if (element) {\n      this.widget.log(' [Click] Clicking element:', element);\n      \n      // Scroll into view\n      element.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      \n      // Small delay then click\n      setTimeout(() => {\n        element.click();\n        this.widget.log(' [Click] Element clicked successfully');\n      }, 100);\n    } else {\n      this.widget.log(' [Click] Element not found for:', target);\n    }\n  }\n\n  /**\n   * Navigate dynamically (lines 548-772)\n   */\n  navigateDynamically(parameters) {\n    this.widget.log(' [Navigate] Parameters:', parameters);\n    \n    const { domAnalysis, navigationMap } = this.widget.state;\n    const destination = parameters?.destination || parameters?.target || parameters?.page || '';\n    const destLower = destination.toLowerCase();\n    this.widget.log(' [Navigate] Looking for:', destination);\n\n    if (!destination) {\n      this.widget.log(' [Navigate] No destination specified');\n      return;\n    }\n\n    let link = null;\n    let targetPath = null;\n\n    // STEP 0: Try NavigationMap first (Sitemap-based routing)\n    if (navigationMap) {\n      this.widget.log(' [Navigate] Checking navigation map...');\n      const route = navigationMap.findRoute(destLower);\n      \n      if (route) {\n        targetPath = route.path;\n        this.widget.log(' [Navigate] Found in navigation map:', {\n          path: route.path,\n          matchedKeywords: route.keywords.filter(k => \n            k.includes(destLower) || destLower.includes(k)\n          )\n        });\n      } else {\n        this.widget.log(' [Navigate] No match in navigation map');\n      }\n    }\n\n    // STEP 1: Try DOM analysis navigation items\n    if (!targetPath && domAnalysis?.navigation?.length) {\n      this.widget.log(' [Navigate] Checking navigation items:', domAnalysis.navigation.length);\n      \n      const navItem = domAnalysis.navigation.find(n => {\n        const textLower = n.text?.toLowerCase() || '';\n        const ariaLabelLower = n.ariaLabel?.toLowerCase() || '';\n        const hrefLower = n.href?.toLowerCase() || '';\n        \n        if (!textLower && !ariaLabelLower && !hrefLower) {\n          return false;\n        }\n        \n        // Check text content\n        if (textLower && (\n          textLower.includes(destLower) || \n          destLower.includes(textLower) ||\n          (destLower.includes('about') && textLower.includes('about')) ||\n          (destLower.includes('contact') && textLower.includes('contact')) ||\n          (destLower.includes('product') && textLower.includes('product')) ||\n          (destLower.includes('pricing') && textLower.includes('pricing')) ||\n          (destLower.includes('home') && (textLower === 'home' || textLower === 'liaplus'))\n        )) {\n          return true;\n        }\n        \n        // Check aria-label\n        if (ariaLabelLower && (\n          ariaLabelLower.includes(destLower) ||\n          destLower.includes(ariaLabelLower) ||\n          (destLower.includes('about') && ariaLabelLower.includes('about')) ||\n          (destLower.includes('contact') && ariaLabelLower.includes('contact')) ||\n          (destLower.includes('product') && ariaLabelLower.includes('product')) ||\n          (destLower.includes('pricing') && ariaLabelLower.includes('pricing'))\n        )) {\n          return true;\n        }\n        \n        // Check href\n        if (hrefLower && (\n          hrefLower.includes(destLower.replace(/\\s+/g, '-')) ||\n          hrefLower.includes(destLower.replace(/\\s+/g, ''))\n        )) {\n          return true;\n        }\n        \n        return false;\n      });\n\n      if (navItem) {\n        this.widget.log(' [Navigate] Found navigation item:', navItem);\n        \n        // Try to find the actual link element\n        if (navItem.href) {\n          link = document.querySelector(`a[href=\"${navItem.href}\"]`);\n          if (!link) {\n            const links = Array.from(document.querySelectorAll('a'));\n            link = links.find(a => a.href.includes(navItem.href));\n          }\n        }\n        \n        if (!link && navItem.text) {\n          const links = Array.from(document.querySelectorAll('a'));\n          link = links.find(a => \n            a.textContent?.trim().toLowerCase() === navItem.text.toLowerCase()\n          );\n        }\n        \n        if (!link && navItem.ariaLabel) {\n          const links = Array.from(document.querySelectorAll('a'));\n          link = links.find(a => \n            a.getAttribute('aria-label')?.toLowerCase() === navItem.ariaLabel.toLowerCase()\n          );\n        }\n      }\n    }\n\n    // 2. Fallback: Search all links\n    if (!targetPath && !link) {\n      this.widget.log(' [Navigate] Fallback: searching all links');\n      const allLinks = Array.from(document.querySelectorAll('a[href]'));\n      \n      // First try exact text match\n      link = allLinks.find(a => {\n        const text = a.textContent?.trim().toLowerCase() || '';\n        const ariaLabel = a.getAttribute('aria-label')?.toLowerCase() || '';\n        return text === destLower || ariaLabel === destLower;\n      }) || null;\n      \n      // Then try scoring\n      if (!link) {\n        const scoredLinks = allLinks.map(a => {\n          const text = a.textContent?.trim().toLowerCase() || '';\n          const ariaLabel = a.getAttribute('aria-label')?.toLowerCase() || '';\n          const href = a.href.toLowerCase();\n          let score = 0;\n          \n          if (text === destLower || ariaLabel === destLower) score += 100;\n          if (text.includes(destLower)) score += 50;\n          if (destLower.includes(text) && text.length > 2) score += 30;\n          if (ariaLabel.includes(destLower)) score += 40;\n          if (destLower.includes(ariaLabel) && ariaLabel.length > 2) score += 25;\n          \n          const urlPath = new URL(a.href, window.location.origin).pathname.toLowerCase();\n          const destSlug = destLower.replace(/\\s+/g, '-');\n          if (urlPath.includes(destSlug)) score += 35;\n          if (urlPath.includes(destLower.replace(/\\s+/g, ''))) score += 30;\n          \n          // Specific page matches\n          if (destLower.includes('about') && (text.includes('about') || ariaLabel.includes('about') || href.includes('about'))) score += 60;\n          if (destLower.includes('contact') && (text.includes('contact') || ariaLabel.includes('contact') || href.includes('contact'))) score += 60;\n          if (destLower.includes('product') && (text.includes('product') || ariaLabel.includes('product') || href.includes('product'))) score += 60;\n          if (destLower.includes('pricing') && (text.includes('pricing') || ariaLabel.includes('pricing') || href.includes('pricing'))) score += 60;\n          if (destLower.includes('home') && (href === '/' || href.endsWith('/') || text === 'home' || ariaLabel === 'home')) score += 60;\n          \n          if (!text && !ariaLabel) score -= 50;\n          \n          return { link: a, score };\n        });\n        \n        scoredLinks.sort((a, b) => b.score - a.score);\n        \n        if (scoredLinks[0]?.score > 20) {\n          link = scoredLinks[0].link;\n          this.widget.log(' [Navigate] Best match found:', {\n            text: link.textContent?.trim(),\n            ariaLabel: link.getAttribute('aria-label'),\n            href: link.href,\n            score: scoredLinks[0].score\n          });\n        }\n      }\n    }\n\n    // Navigate\n    if (targetPath) {\n      this.widget.log(' [Navigate] Navigating to path:', targetPath);\n      window.location.href = targetPath;\n      this.widget.log(' [Navigate] Navigation initiated');\n    } else if (link) {\n      this.widget.log(' [Navigate] Navigating to:', link.href);\n      \n      const isExternal = link.hostname !== window.location.hostname;\n      \n      if (isExternal) {\n        window.open(link.href, '_blank');\n      } else {\n        window.location.href = link.href;\n      }\n      \n      this.widget.log(' [Navigate] Navigation initiated');\n    } else {\n      this.widget.log(' [Navigate] Link not found for:', destination);\n    }\n  }\n}\n","/**\n * Icons - SVG icons matching Lucide React icons\n * All icons from the React component\n */\n\nexport const Icons = {\n  accessibility: (className = '') => `\n    <svg class=\"${className}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n      <circle cx=\"16\" cy=\"4\" r=\"1\"/>\n      <path d=\"m18 19 1-7-6 1\"/>\n      <path d=\"m5 8 3-3 5.5 3-2.36 3.5\"/>\n      <path d=\"M4.24 14.5a5 5 0 0 0 6.88 6\"/>\n      <path d=\"M13.76 17.5a5 5 0 0 0-6.88-6\"/>\n    </svg>\n  `,\n  \n  sparkles: (className = '') => `\n    <svg class=\"${className}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n      <path d=\"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z\"/>\n      <path d=\"M5 3v4\"/>\n      <path d=\"M19 17v4\"/>\n      <path d=\"M3 5h4\"/>\n      <path d=\"M17 19h4\"/>\n    </svg>\n  `,\n  \n  list: (className = '') => `\n    <svg class=\"${className}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n      <line x1=\"8\" x2=\"21\" y1=\"6\" y2=\"6\"/>\n      <line x1=\"8\" x2=\"21\" y1=\"12\" y2=\"12\"/>\n      <line x1=\"8\" x2=\"21\" y1=\"18\" y2=\"18\"/>\n      <line x1=\"3\" x2=\"3.01\" y1=\"6\" y2=\"6\"/>\n      <line x1=\"3\" x2=\"3.01\" y1=\"12\" y2=\"12\"/>\n      <line x1=\"3\" x2=\"3.01\" y1=\"18\" y2=\"18\"/>\n    </svg>\n  `,\n  \n  settings: (className = '') => `\n    <svg class=\"${className}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n      <path d=\"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\"/>\n      <circle cx=\"12\" cy=\"12\" r=\"3\"/>\n    </svg>\n  `,\n  \n  volume2: (className = '') => `\n    <svg class=\"${className}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n      <polygon points=\"11 5 6 9 2 9 2 15 6 15 11 19 11 5\"/>\n      <path d=\"M15.54 8.46a5 5 0 0 1 0 7.07\"/>\n      <path d=\"M19.07 4.93a10 10 0 0 1 0 14.14\"/>\n    </svg>\n  `,\n  \n  volumeX: (className = '') => `\n    <svg class=\"${className}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n      <polygon points=\"11 5 6 9 2 9 2 15 6 15 11 19 11 5\"/>\n      <line x1=\"22\" x2=\"16\" y1=\"9\" y2=\"15\"/>\n      <line x1=\"16\" x2=\"22\" y1=\"9\" y2=\"15\"/>\n    </svg>\n  `,\n  \n  languages: (className = '') => `\n    <svg class=\"${className}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n      <path d=\"m5 8 6 6\"/>\n      <path d=\"m4 14 6-6 2-3\"/>\n      <path d=\"M2 5h12\"/>\n      <path d=\"M7 2h1\"/>\n      <path d=\"m22 22-5-10-5 10\"/>\n      <path d=\"M14 18h6\"/>\n    </svg>\n  `,\n  \n  check: (className = '') => `\n    <svg class=\"${className}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n      <polyline points=\"20 6 9 17 4 12\"/>\n    </svg>\n  `,\n  \n  activity: (className = '') => `\n    <svg class=\"${className}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n      <path d=\"M22 12h-4l-3 9L9 3l-3 9H2\"/>\n    </svg>\n  `,\n  \n  x: (className = '') => `\n    <svg class=\"${className}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n      <path d=\"M18 6 6 18\"/>\n      <path d=\"m6 6 12 12\"/>\n    </svg>\n  `\n};\n","/**\n * UI Components - DOM creation matching voice-navigation-advanced.tsx exactly\n * Lines 1027-1308 from React component\n */\n\nimport { Icons } from './Icons.js';\n\nexport class UIComponents {\n  constructor(widget) {\n    this.widget = widget;\n  }\n\n  /**\n   * Create main widget container\n   */\n  createContainer() {\n    const container = document.createElement('div');\n    container.id = 'liaplus-voice-widget';\n    container.className = 'liaplus-voice-widget-root';\n    return container;\n  }\n\n  /**\n   * Create floating button (lines 1030-1060)\n   */\n  createFloatingButton() {\n    const { isListening, isProcessing } = this.widget.state;\n    \n    const buttonWrapper = document.createElement('div');\n    buttonWrapper.className = 'fixed bottom-4 left-4 sm:bottom-auto sm:left-auto sm:top-6 sm:right-6 z-50';\n    \n    const relativeContainer = document.createElement('div');\n    relativeContainer.className = 'relative';\n    \n    // Main button\n    const button = document.createElement('button');\n    button.className = `relative h-12 w-12 sm:h-10 sm:w-10 rounded-full transition-all duration-200 shadow-lg sm:shadow-none bg-background border ${\n      isListening \n        ? 'bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400 hover:bg-purple-200 dark:hover:bg-purple-800 border-purple-300 dark:border-purple-700' \n        : 'hover:bg-muted border-border'\n    }`;\n    button.setAttribute('aria-label', isListening ? 'Stop voice navigation' : 'Start voice navigation');\n    button.setAttribute('title', isListening ? 'Voice navigation active - Ask me anything!' : 'Click to enable voice navigation');\n    button.onclick = () => this.widget.toggleListening();\n    \n    // Icon\n    const iconContainer = document.createElement('span');\n    iconContainer.className = 'flex items-center justify-center';\n    \n    if (isListening) {\n      iconContainer.innerHTML = Icons.accessibility('h-5 w-5 sm:h-4 sm:w-4 animate-pulse');\n      \n      // Processing indicator\n      if (isProcessing) {\n        const sparkle = document.createElement('span');\n        sparkle.className = 'absolute -top-0.5 -right-0.5';\n        sparkle.innerHTML = Icons.sparkles('h-4 w-4 sm:h-3 sm:w-3 animate-spin');\n        button.appendChild(sparkle);\n      }\n      \n      // Ping animation\n      const pingOuter = document.createElement('span');\n      pingOuter.className = 'absolute -top-0.5 -right-0.5 flex h-3 w-3 sm:h-2 sm:w-2';\n      pingOuter.innerHTML = `\n        <span class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-purple-400 opacity-75\"></span>\n        <span class=\"relative inline-flex rounded-full h-3 w-3 sm:h-2 sm:w-2 bg-purple-500\"></span>\n      `;\n      button.appendChild(pingOuter);\n    } else {\n      iconContainer.innerHTML = Icons.accessibility('h-5 w-5 sm:h-4 sm:w-4');\n    }\n    \n    button.appendChild(iconContainer);\n    relativeContainer.appendChild(button);\n    \n    // Secondary buttons (lines 1063-1082)\n    if (isListening) {\n      const commandsButton = this.createSecondaryButton(\n        'list',\n        'Hide examples',\n        'absolute bottom-0 -right-14 sm:right-auto sm:bottom-auto sm:top-0 sm:-left-12',\n        () => this.widget.setState({ showCommands: !this.widget.state.showCommands })\n      );\n      relativeContainer.appendChild(commandsButton);\n      \n      const settingsButton = this.createSecondaryButton(\n        'settings',\n        'Voice settings',\n        'absolute bottom-0 -right-28 sm:right-auto sm:bottom-auto sm:top-0 sm:-left-24',\n        () => this.widget.setState({ showSettings: !this.widget.state.showSettings })\n      );\n      relativeContainer.appendChild(settingsButton);\n    }\n    \n    buttonWrapper.appendChild(relativeContainer);\n    return buttonWrapper;\n  }\n\n  /**\n   * Create secondary button\n   */\n  createSecondaryButton(icon, title, className, onclick) {\n    const button = document.createElement('button');\n    button.className = `${className} h-10 w-10 sm:h-8 sm:w-8 rounded-full hover:bg-muted shadow-lg sm:shadow-none bg-background border border-border`;\n    button.setAttribute('title', title);\n    button.onclick = onclick;\n    \n    const iconHtml = icon === 'list' ? Icons.list('h-5 w-5 sm:h-4 sm:w-4') : Icons.settings('h-5 w-5 sm:h-4 sm:w-4');\n    button.innerHTML = iconHtml;\n    \n    return button;\n  }\n\n  /**\n   * Create transcript overlay (lines 1086-1107)\n   */\n  createTranscriptOverlay() {\n    const { isListening, transcript, isProcessing } = this.widget.state;\n    \n    if (!isListening || !transcript) return null;\n    \n    const overlay = document.createElement('div');\n    overlay.className = 'absolute bottom-full mb-2 sm:top-full sm:bottom-auto sm:mt-2 sm:mb-0 right-0 left-0 sm:left-auto bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 backdrop-blur-md border border-purple-200 dark:border-purple-700 rounded-lg px-3 py-2 sm:px-4 sm:py-3 shadow-xl min-w-[200px] sm:min-w-[280px] max-w-[calc(100vw-2rem)] sm:max-w-[400px] z-50 animate-in slide-in-from-bottom sm:slide-in-from-top-2';\n    \n    overlay.innerHTML = `\n      <div class=\"flex items-start justify-between gap-2\">\n        <div class=\"flex-1 min-w-0\">\n          <div class=\"flex items-center gap-2 mb-1\">\n            <div class=\"flex items-center gap-1\">\n              <div class=\"h-1.5 w-1.5 sm:h-2 sm:w-2 rounded-full bg-purple-500 animate-pulse\"></div>\n              <div class=\"h-1.5 w-1.5 sm:h-2 sm:w-2 rounded-full bg-purple-400 animate-pulse delay-75\"></div>\n              <div class=\"h-1.5 w-1.5 sm:h-2 sm:w-2 rounded-full bg-purple-300 animate-pulse delay-150\"></div>\n            </div>\n            <p class=\"text-[10px] sm:text-xs font-medium text-purple-900 dark:text-purple-200\">\n              ${this.widget.state.language === 'hi-IN' ? '  ...' : 'Listening...'}\n            </p>\n          </div>\n          <p class=\"text-xs sm:text-sm font-semibold text-gray-900 dark:text-gray-100 truncate sm:whitespace-normal\">${transcript}</p>\n        </div>\n        ${isProcessing ? `<span class=\"flex-shrink-0\">${Icons.sparkles('h-3 w-3 sm:h-4 sm:w-4 text-purple-600 dark:text-purple-400 animate-spin')}</span>` : ''}\n      </div>\n    `;\n    \n    return overlay;\n  }\n\n  /**\n   * Create settings panel (lines 1110-1251)\n   */\n  createSettingsPanel() {\n    const { showSettings, language, voiceEnabled, domAnalysis, useDynamicMode, commandHistory } = this.widget.state;\n    \n    if (!showSettings) return null;\n    \n    const panel = document.createElement('div');\n    panel.className = 'absolute bottom-full mb-2 sm:top-full sm:bottom-auto sm:mt-2 sm:mb-0 right-0 left-0 sm:left-auto bg-background border rounded-lg shadow-xl min-w-[250px] sm:min-w-[280px] max-w-[calc(100vw-2rem)] sm:max-w-[320px] z-50 animate-in slide-in-from-bottom sm:slide-in-from-top-2';\n    \n    const isHindi = language === 'hi-IN';\n    \n    panel.innerHTML = `\n      <div class=\"p-3 sm:p-4\">\n        <div class=\"flex items-center justify-between mb-3 sm:mb-4\">\n          <h3 class=\"font-semibold text-xs sm:text-sm\">\n            ${isHindi ? ' ' : 'Voice Settings'}\n          </h3>\n          <button class=\"liaplus-close-settings h-7 w-7 sm:h-6 sm:w-6 hover:bg-muted rounded\">\n            ${Icons.x('h-4 w-4')}\n          </button>\n        </div>\n        \n        <div class=\"space-y-3\">\n          <!-- Language Selector -->\n          <div class=\"flex items-center justify-between\">\n            <label class=\"text-xs sm:text-sm text-muted-foreground\">\n              ${isHindi ? '' : 'Language'}\n            </label>\n            <div class=\"relative\">\n              <button class=\"liaplus-lang-toggle h-7 sm:h-8 text-xs border rounded px-2 flex items-center gap-1 hover:bg-muted\">\n                ${Icons.languages('h-3 w-3')}\n                ${isHindi ? '' : 'English'}\n              </button>\n              <div class=\"liaplus-lang-dropdown hidden absolute right-0 top-full mt-2 bg-background border rounded-lg shadow-lg z-50 min-w-[120px]\">\n                <button class=\"liaplus-lang-en w-full text-left px-3 py-2 hover:bg-muted transition-colors flex items-center gap-2 text-xs\">\n                   English\n                  ${language === 'en-US' ? Icons.check('w-3 h-3 ml-auto') : ''}\n                </button>\n                <button class=\"liaplus-lang-hi w-full text-left px-3 py-2 hover:bg-muted transition-colors flex items-center gap-2 text-xs\">\n                   \n                  ${language === 'hi-IN' ? Icons.check('w-3 h-3 ml-auto') : ''}\n                </button>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Voice Feedback Toggle -->\n          <div class=\"flex items-center justify-between\">\n            <label class=\"text-xs sm:text-sm text-muted-foreground\">\n              ${isHindi ? ' ' : 'Voice Feedback'}\n            </label>\n            <button class=\"liaplus-voice-toggle h-7 sm:h-8 border rounded px-2 hover:bg-muted\">\n              ${voiceEnabled ? Icons.volume2('h-3 w-3 sm:h-4 sm:w-4') : Icons.volumeX('h-3 w-3 sm:h-4 sm:w-4')}\n            </button>\n          </div>\n          \n          <!-- AI Mode Indicator -->\n          <div class=\"flex items-center justify-between\">\n            <div>\n              <label class=\"text-xs sm:text-sm text-muted-foreground\">\n                ${isHindi ? 'AI ' : 'AI Mode'}\n              </label>\n              <p class=\"text-[10px] sm:text-xs text-muted-foreground/70\">\n                ${isHindi ? '   ' : 'Understands everything'}\n              </p>\n            </div>\n            <div class=\"flex items-center gap-1\">\n              ${Icons.sparkles('h-3 w-3 text-purple-600')}\n              <span class=\"text-xs font-semibold text-purple-600\">\n                ${isHindi ? '' : 'ON'}\n              </span>\n            </div>\n          </div>\n          \n          <!-- Dynamic Mode -->\n          ${useDynamicMode ? `\n          <div class=\"flex items-center justify-between\">\n            <div>\n              <label class=\"text-xs sm:text-sm text-muted-foreground\">\n                ${isHindi ? ' ' : 'Dynamic Mode'}\n              </label>\n              <p class=\"text-[10px] sm:text-xs text-muted-foreground/70\">\n                ${domAnalysis \n                  ? `${domAnalysis.forms.length} forms, ${domAnalysis.navigation.length} nav`\n                  : 'Not analyzed yet'}\n              </p>\n            </div>\n            <button class=\"liaplus-analyze-page h-7 sm:h-8 text-xs border rounded px-2 hover:bg-muted\">\n              ${domAnalysis ? Icons.activity('h-3 w-3 text-green-600 mr-1') : ''}\n              ${isHindi ? '' : 'Scan'}\n            </button>\n          </div>\n          ` : ''}\n        </div>\n        \n        <!-- Command History -->\n        ${commandHistory.length > 0 ? `\n        <div class=\"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t\">\n          <h4 class=\"text-[10px] sm:text-xs font-semibold text-muted-foreground mb-2\">\n            ${isHindi ? '  ' : 'Recent'}\n          </h4>\n          <div class=\"space-y-2 max-h-[120px] sm:max-h-[150px] overflow-y-auto\">\n            ${commandHistory.slice(0, 3).map(cmd => `\n              <div class=\"text-xs p-2 bg-muted/50 rounded\">\n                <p class=\"font-medium truncate text-[10px] sm:text-xs\">${cmd.command}</p>\n                <p class=\"text-muted-foreground text-[9px] sm:text-[10px]\">${cmd.action}</p>\n              </div>\n            `).join('')}\n          </div>\n        </div>\n        ` : ''}\n      </div>\n    `;\n    \n    // Attach event listeners\n    this.attachSettingsPanelListeners(panel);\n    \n    return panel;\n  }\n\n  /**\n   * Attach event listeners to settings panel\n   */\n  attachSettingsPanelListeners(panel) {\n    // Close button\n    panel.querySelector('.liaplus-close-settings').onclick = () => {\n      this.widget.setState({ showSettings: false });\n    };\n    \n    // Language toggle\n    const langToggle = panel.querySelector('.liaplus-lang-toggle');\n    const langDropdown = panel.querySelector('.liaplus-lang-dropdown');\n    \n    langToggle.onclick = (e) => {\n      e.stopPropagation();\n      langDropdown.classList.toggle('hidden');\n    };\n    \n    // Language options\n    panel.querySelector('.liaplus-lang-en').onclick = () => {\n      this.widget.setState({ language: 'en-US' });\n      this.widget.reinitializeRecognition();\n    };\n    \n    panel.querySelector('.liaplus-lang-hi').onclick = () => {\n      this.widget.setState({ language: 'hi-IN' });\n      this.widget.reinitializeRecognition();\n    };\n    \n    // Voice toggle\n    panel.querySelector('.liaplus-voice-toggle').onclick = () => {\n      this.widget.setState({ voiceEnabled: !this.widget.state.voiceEnabled });\n    };\n    \n    // Analyze page\n    const analyzeBtn = panel.querySelector('.liaplus-analyze-page');\n    if (analyzeBtn) {\n      analyzeBtn.onclick = () => this.widget.analyzePage();\n    }\n  }\n\n  /**\n   * Create commands overlay (lines 1256-1304)\n   */\n  createCommandsOverlay() {\n    const { isListening, showCommands, language } = this.widget.state;\n    \n    if (!isListening || !showCommands) return null;\n    \n    const isHindi = language === 'hi-IN';\n    \n    const exampleCommands = isHindi \n      ? [\n          '\"   \"',\n          '\"  \"',\n          '\" \"',\n          '\"LiaPlus    \"',\n          '\"  ?\"',\n          '\"    \"'\n        ]\n      : [\n          '\"Go to home page\"',\n          '\"Scroll down\"',\n          '\"Show products\"',\n          '\"Tell me about LiaPlus\"',\n          '\"What is the pricing?\"',\n          '\"Tell me about the chatbot\"'\n        ];\n    \n    const overlay = document.createElement('div');\n    overlay.className = 'fixed left-4 right-4 bottom-20 sm:inset-auto sm:top-20 sm:right-6 lg:right-20 w-auto sm:w-[380px] lg:w-[420px] max-h-[50vh] sm:max-h-[calc(100vh-120px)] bg-background border shadow-2xl rounded-xl z-40 animate-in slide-in-from-bottom sm:slide-in-from-left duration-300 flex flex-col overflow-hidden';\n    \n    overlay.innerHTML = `\n      <div class=\"flex items-center justify-between p-2.5 sm:p-3 border-b bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 flex-shrink-0\">\n        <div class=\"flex items-center gap-2\">\n          ${Icons.sparkles('h-3.5 w-3.5 sm:h-4 sm:w-4 text-purple-600 dark:text-purple-400 animate-pulse')}\n          <div>\n            <h2 class=\"font-bold text-xs sm:text-sm\">\n              ${isHindi ? '   ' : 'Ask Me Anything'}\n            </h2>\n            <p class=\"text-[9px] sm:text-[10px] text-muted-foreground\">\n              ${isHindi ? 'AI-powered ' : 'AI-powered assistant'}\n            </p>\n          </div>\n        </div>\n        <button class=\"liaplus-close-commands h-6 w-6 sm:h-7 sm:w-7 hover:bg-muted rounded\" title=\"Hide\">\n          ${Icons.x('h-3 w-3')}\n        </button>\n      </div>\n      \n      <div class=\"flex-1 overflow-y-auto overscroll-contain p-2.5 sm:p-3 space-y-2\">\n        <p class=\"text-[10px] sm:text-xs text-muted-foreground mb-3\">\n          ${isHindi \n            ? '   ,   ! :' \n            : ' Just speak naturally, I understand! Examples:'}\n        </p>\n        ${exampleCommands.map(cmd => `\n          <div class=\"text-[11px] sm:text-xs py-2 sm:py-1.5 px-2.5 sm:px-2 rounded bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border border-purple-200 dark:border-purple-800 text-purple-700 dark:text-purple-300 font-medium\">\n            ${cmd}\n          </div>\n        `).join('')}\n      </div>\n      \n      <div class=\"p-2 sm:p-3 border-t bg-muted/30 text-center flex-shrink-0\">\n        <p class=\"text-[9px] sm:text-[10px] text-muted-foreground\">\n          ${isHindi \n            ? '    !' \n            : ' Speak and I will help!'}\n        </p>\n      </div>\n    `;\n    \n    // Close button\n    overlay.querySelector('.liaplus-close-commands').onclick = () => {\n      this.widget.setState({ showCommands: false });\n    };\n    \n    return overlay;\n  }\n}\n","/**\n * LiaPlus Voice Navigation Widget\n * Vanilla JavaScript port of VoiceNavigationAdvanced React component\n * \n * This is a direct port maintaining exact UI/UX from components/voice-navigation-advanced.tsx\n */\n\nimport * as SpeechSDK from 'microsoft-cognitiveservices-speech-sdk';\nimport { DOMAnalyzer, NavigationMap } from '@voice-sdk';\nimport { UIComponents } from './UIComponents.js';\nimport { CommandProcessor } from './CommandProcessor.js';\nimport { ApiManager } from './ApiManager.js';\nimport { AudioManager } from './AudioManager.js';\nimport './styles.css';\n\nexport class VoiceWidget {\n  constructor(config = {}) {\n    // Configuration\n    this.config = {\n      apiBase: config.apiBase || 'https://liaplus.com/api',\n      mode: config.mode || 'hosted', // 'hosted' or 'custom'\n      language: config.language || 'en-US',\n      autoStart: config.autoStart !== undefined ? config.autoStart : false,\n      debug: config.debug !== undefined ? config.debug : true,\n      ...config\n    };\n\n    // State management (from React useState lines 31-44)\n    this.state = {\n      isListening: false,\n      isSupported: true,\n      transcript: '',\n      voiceEnabled: true,\n      showSettings: false,\n      showCommands: true,\n      commandHistory: [],\n      isProcessing: false,\n      language: this.config.language,\n      showLanguageSelector: false,\n      aiEnabled: true,\n      useDynamicMode: true,\n      domAnalysis: null,\n      navigationMap: null\n    };\n\n    // References (from React useRef)\n    this.refs = {\n      recognizer: null,\n      synthesizer: null,\n      commandsList: null,\n      mainButton: null,\n      container: null\n    };\n\n    // DOM elements\n    this.elements = {};\n\n    // Managers\n    this.uiComponents = new UIComponents(this);\n    this.commandProcessor = new CommandProcessor(this);\n    this.apiManager = new ApiManager(this);\n    this.audioManager = new AudioManager(this);\n\n    // Bound methods\n    this.toggleListening = this.toggleListening.bind(this);\n    this.handleVoiceCommand = this.handleVoiceCommand.bind(this);\n    this.executeAction = this.executeAction.bind(this);\n    this.speak = this.speak.bind(this);\n    this.stopSpeaking = this.stopSpeaking.bind(this);\n    \n    // Initialize\n    this.init();\n  }\n\n  /**\n   * Initialize the widget\n   */\n  async init() {\n    this.log('Initializing LiaPlus Voice Widget', this.config);\n    \n    // Load persistent state\n    this.loadStateFromLocalStorage();\n    \n    // Create DOM elements\n    this.createWidgetUI();\n    \n    // Initialize NavigationMap\n    await this.initNavigationMap();\n    \n    // Analyze page\n    if (this.state.useDynamicMode) {\n      setTimeout(() => this.analyzePage(), 500);\n    }\n    \n    // Listen for page changes\n    this.observePageChanges();\n    \n    // Auto-start if configured\n    if (this.config.autoStart && this.state.isListening) {\n      this.startRecognition();\n    }\n    \n    this.log('Widget initialized successfully');\n  }\n\n  /**\n   * Load state from localStorage (from React useEffect lines 68-85)\n   */\n  loadStateFromLocalStorage() {\n    if (typeof window === 'undefined') return;\n    \n    const savedListening = localStorage.getItem('voiceNavListening') === 'true';\n    const savedVoiceEnabled = localStorage.getItem('voiceNavFeedback') !== 'false';\n    const savedLanguage = localStorage.getItem('voiceNavLanguage') || 'en-US';\n    const savedAI = localStorage.getItem('voiceNavAI') !== 'false';\n    const savedDynamic = localStorage.getItem('voiceNavDynamic') !== 'false';\n    \n    this.setState({\n      voiceEnabled: savedVoiceEnabled,\n      language: savedLanguage,\n      aiEnabled: savedAI,\n      useDynamicMode: savedDynamic,\n      isListening: savedListening\n    }, false); // Don't render yet\n  }\n\n  /**\n   * Save state to localStorage (from React useEffect lines 122-130)\n   */\n  saveStateToLocalStorage() {\n    if (typeof window === 'undefined') return;\n    \n    localStorage.setItem('voiceNavListening', this.state.isListening.toString());\n    localStorage.setItem('voiceNavFeedback', this.state.voiceEnabled.toString());\n    localStorage.setItem('voiceNavLanguage', this.state.language);\n    localStorage.setItem('voiceNavAI', this.state.aiEnabled.toString());\n    localStorage.setItem('voiceNavDynamic', this.state.useDynamicMode.toString());\n  }\n\n  /**\n   * Initialize NavigationMap (from React useEffect lines 53-65)\n   */\n  async initNavigationMap() {\n    try {\n      const navMap = new NavigationMap();\n      this.setState({ navigationMap: navMap });\n      this.log(' Navigation Map initialized with', navMap.getAllRoutes().length, 'routes');\n    } catch (error) {\n      this.log(' Navigation Map failed to initialize:', error);\n    }\n  }\n\n  /**\n   * Analyze page DOM (from React useEffect lines 88-98 and analyzePage lines 101-119)\n   */\n  analyzePage() {\n    if (!this.state.useDynamicMode) return;\n    \n    try {\n      this.log(' Analyzing page DOM...');\n      const analyzer = new DOMAnalyzer();\n      const analysis = analyzer.analyze();\n      \n      this.setState({ domAnalysis: analysis });\n      \n      this.log(' DOM Analysis complete:', {\n        forms: analysis.forms.length,\n        navigation: analysis.navigation.length,\n        interactions: analysis.interactions.length,\n        landmarks: analysis.landmarks.length,\n        pageTitle: analysis.pageInfo.title\n      });\n    } catch (error) {\n      this.log(' DOM Analysis failed:', error);\n    }\n  }\n\n  /**\n   * Observe page changes for re-analysis\n   */\n  observePageChanges() {\n    // Listen for route changes (for SPAs)\n    let lastUrl = location.href;\n    \n    new MutationObserver(() => {\n      const url = location.href;\n      if (url !== lastUrl) {\n        lastUrl = url;\n        this.log(' Page changed, re-analyzing...');\n        setTimeout(() => this.analyzePage(), 500);\n      }\n    }).observe(document.querySelector('body'), {\n      subtree: true,\n      childList: true\n    });\n  }\n\n  /**\n   * Set state and trigger re-render\n   */\n  setState(updates, shouldRender = true) {\n    const oldState = { ...this.state };\n    this.state = { ...this.state, ...updates };\n    \n    // Save to localStorage\n    this.saveStateToLocalStorage();\n    \n    // Re-render if needed\n    if (shouldRender) {\n      this.render(oldState);\n    }\n  }\n\n  /**\n   * Logging utility\n   */\n  log(...args) {\n    if (this.config.debug) {\n      console.log('[LiaPlusVoice]', ...args);\n    }\n  }\n\n  /**\n   * Toggle listening state\n   */\n  toggleListening() {\n    this.setState({ isListening: !this.state.isListening });\n    \n    if (this.state.isListening) {\n      this.startRecognition();\n    } else {\n      this.stopRecognition();\n    }\n  }\n\n  /**\n   * Destroy widget and cleanup\n   */\n  destroy() {\n    this.stopRecognition();\n    \n    if (this.refs.container && this.refs.container.parentNode) {\n      this.refs.container.parentNode.removeChild(this.refs.container);\n    }\n    \n    this.log('Widget destroyed');\n  }\n\n  /**\n   * Create widget UI\n   */\n  createWidgetUI() {\n    // Create container\n    this.refs.container = this.uiComponents.createContainer();\n    document.body.appendChild(this.refs.container);\n    \n    // Initial render\n    this.render();\n  }\n\n  /**\n   * Render widget UI\n   */\n  render(oldState = {}) {\n    if (!this.refs.container) return;\n    \n    // Clear container\n    this.refs.container.innerHTML = '';\n    \n    // Create floating button wrapper\n    const buttonWrapper = this.uiComponents.createFloatingButton();\n    this.refs.container.appendChild(buttonWrapper);\n    \n    // Get the relative container (for positioning overlays)\n    const relativeContainer = buttonWrapper.querySelector('.relative');\n    \n    // Add transcript overlay if needed\n    const transcriptOverlay = this.uiComponents.createTranscriptOverlay();\n    if (transcriptOverlay) {\n      relativeContainer.appendChild(transcriptOverlay);\n    }\n    \n    // Add settings panel if needed\n    const settingsPanel = this.uiComponents.createSettingsPanel();\n    if (settingsPanel) {\n      relativeContainer.appendChild(settingsPanel);\n    }\n    \n    // Add commands overlay if needed\n    const commandsOverlay = this.uiComponents.createCommandsOverlay();\n    if (commandsOverlay) {\n      this.refs.container.appendChild(commandsOverlay);\n    }\n  }\n\n  /**\n   * Execute action (delegate to CommandProcessor)\n   */\n  executeAction(action, parameters) {\n    return this.commandProcessor.executeAction(action, parameters);\n  }\n\n  /**\n   * Start recognition\n   */\n  async startRecognition() {\n    await this.audioManager.start();\n  }\n\n  /**\n   * Stop recognition\n   */\n  stopRecognition() {\n    this.audioManager.stop();\n  }\n\n  /**\n   * Speak text\n   */\n  speak(text) {\n    this.audioManager.speak(text);\n  }\n\n  /**\n   * Stop speaking\n   */\n  stopSpeaking() {\n    this.audioManager.stopSpeaking();\n  }\n\n  /**\n   * Reinitialize recognition (when language changes)\n   */\n  async reinitializeRecognition() {\n    await this.audioManager.reinitialize();\n  }\n\n  /**\n   * Handle voice command (lines 906-999)\n   */\n  async handleVoiceCommand(command) {\n    if (!command || command.length < 2) return;\n    \n    this.log(' [Voice Command]', command);\n    this.setState({ isProcessing: true });\n\n    // Add to command history\n    const newHistory = [\n      { command, timestamp: Date.now(), action: 'Processing...' },\n      ...this.state.commandHistory.slice(0, 9)\n    ];\n    this.setState({ commandHistory: newHistory });\n\n    try {\n      // Call AI API\n      const data = await this.apiManager.processVoiceCommand(\n        command,\n        this.state.domAnalysis,\n        window.location.href\n      );\n      \n      this.log(' [AI Response]', data);\n      \n      // Speak the AI's response\n      if (data.response) {\n        this.log(' [Speaking]', data.response);\n        this.speak(data.response);\n      }\n      \n      // Execute the action if not just chat\n      if (data.action && data.action !== 'chat') {\n        // Normalize action name\n        const normalizedAction = data.action.replace(/\\s+/g, '_').toLowerCase();\n        this.log(' [Action]', normalizedAction, data.parameters || {});\n        \n        const executed = this.executeAction(normalizedAction, data.parameters);\n        this.log(executed ? ' [Executed]' : ' [Failed]', normalizedAction);\n        \n        // Update command history\n        const updatedHistory = [...this.state.commandHistory];\n        if (updatedHistory[0]) {\n          updatedHistory[0].action = executed ? normalizedAction : 'Unknown action';\n        }\n        this.setState({ commandHistory: updatedHistory });\n      } else {\n        // Just conversation\n        this.log(' [Chat Mode]', data.response);\n        const updatedHistory = [...this.state.commandHistory];\n        if (updatedHistory[0]) {\n          updatedHistory[0].action = 'Chat';\n        }\n        this.setState({ commandHistory: updatedHistory });\n      }\n    } catch (error) {\n      this.log(' [Error]', error);\n      const errorMessage = this.state.language === 'hi-IN' \n        ? ' ,        ' \n        : 'Sorry, something went wrong. Please try again.';\n      this.speak(errorMessage);\n    } finally {\n      this.setState({ isProcessing: false });\n      this.log(' [Processing Complete]');\n    }\n  }\n}\n","'use strict'\n/* global fetch, btoa, Headers */\nconst core = require('./core')\n\nclass StatusError extends Error {\n  constructor (res, ...params) {\n    super(...params)\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, StatusError)\n    }\n\n    this.name = 'StatusError'\n    this.message = res.statusMessage\n    this.statusCode = res.status\n    this.res = res\n    this.json = res.json.bind(res)\n    this.text = res.text.bind(res)\n    this.arrayBuffer = res.arrayBuffer.bind(res)\n    let buffer\n    const get = () => {\n      if (!buffer) buffer = this.arrayBuffer()\n      return buffer\n    }\n    Object.defineProperty(this, 'responseBody', { get })\n    // match Node.js headers object\n    this.headers = {}\n    for (const [key, value] of res.headers.entries()) {\n      this.headers[key.toLowerCase()] = value\n    }\n  }\n}\n\nconst mkrequest = (statusCodes, method, encoding, headers, baseurl) => async (_url, body, _headers = {}) => {\n  _url = baseurl + (_url || '')\n  let parsed = new URL(_url)\n\n  if (!headers) headers = {}\n  if (parsed.username) {\n    headers.Authorization = 'Basic ' + btoa(parsed.username + ':' + parsed.password)\n    parsed = new URL(parsed.protocol + '//' + parsed.host + parsed.pathname + parsed.search)\n  }\n  if (parsed.protocol !== 'https:' && parsed.protocol !== 'http:') {\n    throw new Error(`Unknown protocol, ${parsed.protocol}`)\n  }\n\n  if (body) {\n    if (body instanceof ArrayBuffer ||\n      ArrayBuffer.isView(body) ||\n      typeof body === 'string'\n    ) {\n      // noop\n    } else if (typeof body === 'object') {\n      body = JSON.stringify(body)\n      headers['Content-Type'] = 'application/json'\n    } else {\n      throw new Error('Unknown body type.')\n    }\n  }\n\n  _headers = new Headers({ ...(headers || {}), ..._headers })\n\n  const resp = await fetch(parsed, { method, headers: _headers, body })\n  resp.statusCode = resp.status\n\n  if (!statusCodes.has(resp.status)) {\n    throw new StatusError(resp)\n  }\n\n  if (encoding === 'json') return resp.json()\n  else if (encoding === 'buffer') return resp.arrayBuffer()\n  else if (encoding === 'string') return resp.text()\n  else return resp\n}\n\nmodule.exports = core(mkrequest)\n","'use strict'\nconst encodings = new Set(['json', 'buffer', 'string'])\n\nmodule.exports = mkrequest => (...args) => {\n  const statusCodes = new Set()\n  let method\n  let encoding\n  let headers\n  let baseurl = ''\n\n  args.forEach(arg => {\n    if (typeof arg === 'string') {\n      if (arg.toUpperCase() === arg) {\n        if (method) {\n          const msg = `Can't set method to ${arg}, already set to ${method}.`\n          throw new Error(msg)\n        } else {\n          method = arg\n        }\n      } else if (arg.startsWith('http:') || arg.startsWith('https:')) {\n        baseurl = arg\n      } else {\n        if (encodings.has(arg)) {\n          encoding = arg\n        } else {\n          throw new Error(`Unknown encoding, ${arg}`)\n        }\n      }\n    } else if (typeof arg === 'number') {\n      statusCodes.add(arg)\n    } else if (typeof arg === 'object') {\n      if (Array.isArray(arg) || arg instanceof Set) {\n        arg.forEach(code => statusCodes.add(code))\n      } else {\n        if (headers) {\n          throw new Error('Cannot set headers twice.')\n        }\n        headers = arg\n      }\n    } else {\n      throw new Error(`Unknown type: ${typeof arg}`)\n    }\n  })\n\n  if (!method) method = 'GET'\n  if (statusCodes.size === 0) {\n    statusCodes.add(200)\n  }\n\n  return mkrequest(statusCodes, method, encoding, headers, baseurl)\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable @typescript-eslint/no-unused-vars */\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nconst Exports_js_1 = require(\"./src/common.speech/Exports.js\");\n// Note: this instantiation ensures the above import isn't\n// removed on compile. The import being absent causes an error on running\nvoid new Exports_js_1.AgentConfig();\n// Speech SDK API\n__exportStar(require(\"./src/sdk/Exports.js\"), exports);\n\n//# sourceMappingURL=microsoft.cognitiveservices.speech.sdk.js.map\n","\"use strict\";\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConsoleLoggingListener = void 0;\nconst fs = __importStar(require(\"fs\"));\nconst LogLevel_js_1 = require(\"../sdk/LogLevel.js\");\nconst Contracts_js_1 = require(\"../sdk/Contracts.js\");\nclass ConsoleLoggingListener {\n    constructor(logLevelFilter = LogLevel_js_1.LogLevel.None) {\n        this.privLogPath = undefined;\n        this.privEnableConsoleOutput = true;\n        this.privLogLevelFilter = logLevelFilter;\n    }\n    set logPath(path) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(fs.openSync, \"\\nFile System access not available\");\n        this.privLogPath = path;\n    }\n    set enableConsoleOutput(enableOutput) {\n        this.privEnableConsoleOutput = enableOutput;\n    }\n    onEvent(event) {\n        if (event.eventType >= this.privLogLevelFilter) {\n            const log = this.toString(event);\n            if (!!this.logCallback) {\n                this.logCallback(log);\n            }\n            if (!!this.privLogPath) {\n                fs.writeFileSync(this.privLogPath, log + \"\\n\", { flag: \"a+\" });\n            }\n            if (this.privEnableConsoleOutput) {\n                switch (event.eventType) {\n                    case LogLevel_js_1.LogLevel.Debug:\n                        // eslint-disable-next-line no-console\n                        console.debug(log);\n                        break;\n                    case LogLevel_js_1.LogLevel.Info:\n                        // eslint-disable-next-line no-console\n                        console.info(log);\n                        break;\n                    case LogLevel_js_1.LogLevel.Warning:\n                        // eslint-disable-next-line no-console\n                        console.warn(log);\n                        break;\n                    case LogLevel_js_1.LogLevel.Error:\n                        // eslint-disable-next-line no-console\n                        console.error(log);\n                        break;\n                    default:\n                        // eslint-disable-next-line no-console\n                        console.log(log);\n                        break;\n                }\n            }\n        }\n    }\n    toString(event) {\n        const logFragments = [\n            `${event.eventTime}`,\n            `${event.name}`,\n        ];\n        const e = event;\n        for (const prop in e) {\n            if (prop && event.hasOwnProperty(prop) &&\n                prop !== \"eventTime\" && prop !== \"eventType\" &&\n                prop !== \"eventId\" && prop !== \"name\" &&\n                prop !== \"constructor\") {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                const value = e[prop];\n                let valueToLog = \"<NULL>\";\n                if (value !== undefined && value !== null) {\n                    if (typeof (value) === \"number\" || typeof (value) === \"string\") {\n                        valueToLog = value.toString();\n                    }\n                    else {\n                        valueToLog = JSON.stringify(value);\n                    }\n                }\n                logFragments.push(`${prop}: ${valueToLog}`);\n            }\n        }\n        return logFragments.join(\" | \");\n    }\n}\nexports.ConsoleLoggingListener = ConsoleLoggingListener;\n\n//# sourceMappingURL=ConsoleLoggingListener.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./ConsoleLoggingListener.js\"), exports);\n__exportStar(require(\"./IRecorder.js\"), exports);\n__exportStar(require(\"./MicAudioSource.js\"), exports);\n__exportStar(require(\"./FileAudioSource.js\"), exports);\n__exportStar(require(\"./PCMRecorder.js\"), exports);\n__exportStar(require(\"./WebsocketConnection.js\"), exports);\n__exportStar(require(\"./WebsocketMessageAdapter.js\"), exports);\n__exportStar(require(\"./ReplayableAudioNode.js\"), exports);\n__exportStar(require(\"./ProxyInfo.js\"), exports);\n__exportStar(require(\"./RestMessageAdapter.js\"), exports);\n__exportStar(require(\"./RestConfigBase.js\"), exports);\n\n//# sourceMappingURL=Exports.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileAudioSource = void 0;\nconst Exports_js_1 = require(\"../common.speech/Exports.js\");\nconst Exports_js_2 = require(\"../common/Exports.js\");\nconst AudioStreamFormat_js_1 = require(\"../sdk/Audio/AudioStreamFormat.js\");\nclass FileAudioSource {\n    constructor(file, filename, audioSourceId) {\n        this.privStreams = {};\n        this.privHeaderEnd = 44;\n        this.privId = audioSourceId ? audioSourceId : (0, Exports_js_2.createNoDashGuid)();\n        this.privEvents = new Exports_js_2.EventSource();\n        this.privSource = file;\n        if (typeof window !== \"undefined\" && typeof Blob !== \"undefined\" && this.privSource instanceof Blob) {\n            this.privFilename = file.name;\n        }\n        else {\n            this.privFilename = filename || \"unknown.wav\";\n        }\n        // Read the header.\n        this.privAudioFormatPromise = this.readHeader();\n    }\n    get format() {\n        return this.privAudioFormatPromise;\n    }\n    turnOn() {\n        if (this.privFilename.lastIndexOf(\".wav\") !== this.privFilename.length - 4) {\n            const errorMsg = this.privFilename + \" is not supported. Only WAVE files are allowed at the moment.\";\n            this.onEvent(new Exports_js_2.AudioSourceErrorEvent(errorMsg, \"\"));\n            return Promise.reject(errorMsg);\n        }\n        this.onEvent(new Exports_js_2.AudioSourceInitializingEvent(this.privId)); // no stream id\n        this.onEvent(new Exports_js_2.AudioSourceReadyEvent(this.privId));\n        return;\n    }\n    id() {\n        return this.privId;\n    }\n    async attach(audioNodeId) {\n        this.onEvent(new Exports_js_2.AudioStreamNodeAttachingEvent(this.privId, audioNodeId));\n        const stream = await this.upload(audioNodeId);\n        this.onEvent(new Exports_js_2.AudioStreamNodeAttachedEvent(this.privId, audioNodeId));\n        return Promise.resolve({\n            detach: async () => {\n                stream.readEnded();\n                delete this.privStreams[audioNodeId];\n                this.onEvent(new Exports_js_2.AudioStreamNodeDetachedEvent(this.privId, audioNodeId));\n                await this.turnOff();\n            },\n            id: () => audioNodeId,\n            read: () => stream.read(),\n        });\n    }\n    detach(audioNodeId) {\n        if (audioNodeId && this.privStreams[audioNodeId]) {\n            this.privStreams[audioNodeId].close();\n            delete this.privStreams[audioNodeId];\n            this.onEvent(new Exports_js_2.AudioStreamNodeDetachedEvent(this.privId, audioNodeId));\n        }\n    }\n    turnOff() {\n        for (const streamId in this.privStreams) {\n            if (streamId) {\n                const stream = this.privStreams[streamId];\n                if (stream && !stream.isClosed) {\n                    stream.close();\n                }\n            }\n        }\n        this.onEvent(new Exports_js_2.AudioSourceOffEvent(this.privId)); // no stream now\n        return Promise.resolve();\n    }\n    get events() {\n        return this.privEvents;\n    }\n    get deviceInfo() {\n        return this.privAudioFormatPromise.then((result) => (Promise.resolve({\n            bitspersample: result.bitsPerSample,\n            channelcount: result.channels,\n            connectivity: Exports_js_1.connectivity.Unknown,\n            manufacturer: \"Speech SDK\",\n            model: \"File\",\n            samplerate: result.samplesPerSec,\n            type: Exports_js_1.type.File,\n        })));\n    }\n    readHeader() {\n        // Read the wave header.\n        const maxHeaderSize = 4296;\n        const header = this.privSource.slice(0, maxHeaderSize);\n        const headerResult = new Exports_js_2.Deferred();\n        const processHeader = (header) => {\n            const view = new DataView(header);\n            const getWord = (index) => String.fromCharCode(view.getUint8(index), view.getUint8(index + 1), view.getUint8(index + 2), view.getUint8(index + 3));\n            // RIFF 4 bytes.\n            if (\"RIFF\" !== getWord(0)) {\n                headerResult.reject(\"Invalid WAV header in file, RIFF was not found\");\n                return;\n            }\n            // length, 4 bytes\n            // RIFF Type & fmt 8 bytes\n            if (\"WAVE\" !== getWord(8) || \"fmt \" !== getWord(12)) {\n                headerResult.reject(\"Invalid WAV header in file, WAVEfmt was not found\");\n                return;\n            }\n            const formatSize = view.getInt32(16, true);\n            const channelCount = view.getUint16(22, true);\n            const sampleRate = view.getUint32(24, true);\n            const bitsPerSample = view.getUint16(34, true);\n            // Confirm if header is 44 bytes long.\n            let pos = 36 + Math.max(formatSize - 16, 0);\n            for (; getWord(pos) !== \"data\"; pos += 2) {\n                if (pos > maxHeaderSize - 8) {\n                    headerResult.reject(\"Invalid WAV header in file, data block was not found\");\n                    return;\n                }\n            }\n            this.privHeaderEnd = pos + 8;\n            headerResult.resolve(AudioStreamFormat_js_1.AudioStreamFormat.getWaveFormatPCM(sampleRate, bitsPerSample, channelCount));\n        };\n        if (typeof window !== \"undefined\" && typeof Blob !== \"undefined\" && header instanceof Blob) {\n            const reader = new FileReader();\n            reader.onload = (event) => {\n                const header = event.target.result;\n                processHeader(header);\n            };\n            reader.readAsArrayBuffer(header);\n        }\n        else {\n            const h = header;\n            processHeader(h.buffer.slice(h.byteOffset, h.byteOffset + h.byteLength));\n        }\n        return headerResult.promise;\n    }\n    async upload(audioNodeId) {\n        const onerror = (error) => {\n            const errorMsg = `Error occurred while processing '${this.privFilename}'. ${error}`;\n            this.onEvent(new Exports_js_2.AudioStreamNodeErrorEvent(this.privId, audioNodeId, errorMsg));\n            throw new Error(errorMsg);\n        };\n        try {\n            await this.turnOn();\n            const format = await this.privAudioFormatPromise;\n            const stream = new Exports_js_2.ChunkedArrayBufferStream(format.avgBytesPerSec / 10, audioNodeId);\n            this.privStreams[audioNodeId] = stream;\n            const chunk = this.privSource.slice(this.privHeaderEnd);\n            const processFile = (buff) => {\n                if (stream.isClosed) {\n                    return; // output stream was closed (somebody called TurnOff). We're done here.\n                }\n                stream.writeStreamChunk({\n                    buffer: buff,\n                    isEnd: false,\n                    timeReceived: Date.now(),\n                });\n                stream.close();\n            };\n            if (typeof window !== \"undefined\" && typeof Blob !== \"undefined\" && chunk instanceof Blob) {\n                const reader = new FileReader();\n                reader.onerror = (ev) => onerror(ev.toString());\n                reader.onload = (event) => {\n                    const fileBuffer = event.target.result;\n                    processFile(fileBuffer);\n                };\n                reader.readAsArrayBuffer(chunk);\n            }\n            else {\n                const c = chunk;\n                processFile(c.buffer.slice(c.byteOffset, c.byteOffset + c.byteLength));\n            }\n            return stream;\n        }\n        catch (e) {\n            onerror(e);\n        }\n    }\n    onEvent(event) {\n        this.privEvents.onEvent(event);\n        Exports_js_2.Events.instance.onEvent(event);\n    }\n}\nexports.FileAudioSource = FileAudioSource;\n\n//# sourceMappingURL=FileAudioSource.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n//# sourceMappingURL=IRecorder.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MicAudioSource = exports.AudioWorkletSourceURLPropertyName = void 0;\nconst Exports_js_1 = require(\"../common.speech/Exports.js\");\nconst Exports_js_2 = require(\"../common/Exports.js\");\nconst AudioStreamFormat_js_1 = require(\"../sdk/Audio/AudioStreamFormat.js\");\nexports.AudioWorkletSourceURLPropertyName = \"MICROPHONE-WorkletSourceUrl\";\nclass MicAudioSource {\n    constructor(privRecorder, deviceId, audioSourceId, mediaStream) {\n        this.privRecorder = privRecorder;\n        this.deviceId = deviceId;\n        this.privStreams = {};\n        this.privOutputChunkSize = MicAudioSource.AUDIOFORMAT.avgBytesPerSec / 10;\n        this.privId = audioSourceId ? audioSourceId : (0, Exports_js_2.createNoDashGuid)();\n        this.privEvents = new Exports_js_2.EventSource();\n        this.privMediaStream = mediaStream || null;\n        this.privIsClosing = false;\n    }\n    get format() {\n        return Promise.resolve(MicAudioSource.AUDIOFORMAT);\n    }\n    turnOn() {\n        if (this.privInitializeDeferral) {\n            return this.privInitializeDeferral.promise;\n        }\n        this.privInitializeDeferral = new Exports_js_2.Deferred();\n        try {\n            this.createAudioContext();\n        }\n        catch (error) {\n            if (error instanceof Error) {\n                const typedError = error;\n                this.privInitializeDeferral.reject(typedError.name + \": \" + typedError.message);\n            }\n            else {\n                this.privInitializeDeferral.reject(error);\n            }\n            return this.privInitializeDeferral.promise;\n        }\n        const nav = window.navigator;\n        let getUserMedia = (\n        // eslint-disable-next-line\n        nav.getUserMedia ||\n            nav.webkitGetUserMedia ||\n            nav.mozGetUserMedia ||\n            nav.msGetUserMedia);\n        if (!!nav.mediaDevices) {\n            getUserMedia = (constraints, successCallback, errorCallback) => {\n                nav.mediaDevices\n                    .getUserMedia(constraints)\n                    .then(successCallback)\n                    .catch(errorCallback);\n            };\n        }\n        if (!getUserMedia) {\n            const errorMsg = \"Browser does not support getUserMedia.\";\n            this.privInitializeDeferral.reject(errorMsg);\n            this.onEvent(new Exports_js_2.AudioSourceErrorEvent(errorMsg, \"\")); // mic initialized error - no streamid at this point\n        }\n        else {\n            const next = () => {\n                this.onEvent(new Exports_js_2.AudioSourceInitializingEvent(this.privId)); // no stream id\n                if (this.privMediaStream && this.privMediaStream.active) {\n                    this.onEvent(new Exports_js_2.AudioSourceReadyEvent(this.privId));\n                    this.privInitializeDeferral.resolve();\n                }\n                else {\n                    getUserMedia({ audio: this.deviceId ? { deviceId: this.deviceId } : true, video: false }, (mediaStream) => {\n                        this.privMediaStream = mediaStream;\n                        this.onEvent(new Exports_js_2.AudioSourceReadyEvent(this.privId));\n                        this.privInitializeDeferral.resolve();\n                    }, (error) => {\n                        const errorMsg = `Error occurred during microphone initialization: ${error}`;\n                        this.privInitializeDeferral.reject(errorMsg);\n                        this.onEvent(new Exports_js_2.AudioSourceErrorEvent(this.privId, errorMsg));\n                    });\n                }\n            };\n            if (this.privContext.state === \"suspended\") {\n                // NOTE: On iOS, the Web Audio API requires sounds to be triggered from an explicit user action.\n                // https://github.com/WebAudio/web-audio-api/issues/790\n                this.privContext.resume()\n                    .then(next)\n                    .catch((reason) => {\n                    this.privInitializeDeferral.reject(`Failed to initialize audio context: ${reason}`);\n                });\n            }\n            else {\n                next();\n            }\n        }\n        return this.privInitializeDeferral.promise;\n    }\n    id() {\n        return this.privId;\n    }\n    attach(audioNodeId) {\n        this.onEvent(new Exports_js_2.AudioStreamNodeAttachingEvent(this.privId, audioNodeId));\n        return this.listen(audioNodeId).then((stream) => {\n            this.onEvent(new Exports_js_2.AudioStreamNodeAttachedEvent(this.privId, audioNodeId));\n            return {\n                detach: async () => {\n                    stream.readEnded();\n                    delete this.privStreams[audioNodeId];\n                    this.onEvent(new Exports_js_2.AudioStreamNodeDetachedEvent(this.privId, audioNodeId));\n                    return this.turnOff();\n                },\n                id: () => audioNodeId,\n                read: () => stream.read(),\n            };\n        });\n    }\n    detach(audioNodeId) {\n        if (audioNodeId && this.privStreams[audioNodeId]) {\n            this.privStreams[audioNodeId].close();\n            delete this.privStreams[audioNodeId];\n            this.onEvent(new Exports_js_2.AudioStreamNodeDetachedEvent(this.privId, audioNodeId));\n        }\n    }\n    async turnOff() {\n        for (const streamId in this.privStreams) {\n            if (streamId) {\n                const stream = this.privStreams[streamId];\n                if (stream) {\n                    stream.close();\n                }\n            }\n        }\n        this.onEvent(new Exports_js_2.AudioSourceOffEvent(this.privId)); // no stream now\n        if (this.privInitializeDeferral) {\n            // Correctly handle when browser forces mic off before turnOn() completes\n            // eslint-disable-next-line @typescript-eslint/await-thenable\n            await this.privInitializeDeferral;\n            this.privInitializeDeferral = null;\n        }\n        await this.destroyAudioContext();\n        return;\n    }\n    get events() {\n        return this.privEvents;\n    }\n    get deviceInfo() {\n        return this.getMicrophoneLabel().then((label) => ({\n            bitspersample: MicAudioSource.AUDIOFORMAT.bitsPerSample,\n            channelcount: MicAudioSource.AUDIOFORMAT.channels,\n            connectivity: Exports_js_1.connectivity.Unknown,\n            manufacturer: \"Speech SDK\",\n            model: label,\n            samplerate: MicAudioSource.AUDIOFORMAT.samplesPerSec,\n            type: Exports_js_1.type.Microphones,\n        }));\n    }\n    setProperty(name, value) {\n        if (name === exports.AudioWorkletSourceURLPropertyName) {\n            this.privRecorder.setWorkletUrl(value);\n        }\n        else {\n            throw new Error(\"Property '\" + name + \"' is not supported on Microphone.\");\n        }\n    }\n    getMicrophoneLabel() {\n        const defaultMicrophoneName = \"microphone\";\n        // If we did this already, return the value.\n        if (this.privMicrophoneLabel !== undefined) {\n            return Promise.resolve(this.privMicrophoneLabel);\n        }\n        // If the stream isn't currently running, we can't query devices because security.\n        if (this.privMediaStream === undefined || !this.privMediaStream.active) {\n            return Promise.resolve(defaultMicrophoneName);\n        }\n        // Setup a default\n        this.privMicrophoneLabel = defaultMicrophoneName;\n        // Get the id of the device running the audio track.\n        const microphoneDeviceId = this.privMediaStream.getTracks()[0].getSettings().deviceId;\n        // If the browser doesn't support getting the device ID, set a default and return.\n        if (undefined === microphoneDeviceId) {\n            return Promise.resolve(this.privMicrophoneLabel);\n        }\n        const deferred = new Exports_js_2.Deferred();\n        // Enumerate the media devices.\n        navigator.mediaDevices.enumerateDevices().then((devices) => {\n            for (const device of devices) {\n                if (device.deviceId === microphoneDeviceId) {\n                    // Found the device\n                    this.privMicrophoneLabel = device.label;\n                    break;\n                }\n            }\n            deferred.resolve(this.privMicrophoneLabel);\n        }, () => deferred.resolve(this.privMicrophoneLabel));\n        return deferred.promise;\n    }\n    async listen(audioNodeId) {\n        await this.turnOn();\n        const stream = new Exports_js_2.ChunkedArrayBufferStream(this.privOutputChunkSize, audioNodeId);\n        this.privStreams[audioNodeId] = stream;\n        try {\n            this.privRecorder.record(this.privContext, this.privMediaStream, stream);\n        }\n        catch (error) {\n            this.onEvent(new Exports_js_2.AudioStreamNodeErrorEvent(this.privId, audioNodeId, error));\n            throw error;\n        }\n        const result = stream;\n        return result;\n    }\n    onEvent(event) {\n        this.privEvents.onEvent(event);\n        Exports_js_2.Events.instance.onEvent(event);\n    }\n    createAudioContext() {\n        if (!!this.privContext) {\n            return;\n        }\n        this.privContext = AudioStreamFormat_js_1.AudioStreamFormatImpl.getAudioContext(MicAudioSource.AUDIOFORMAT.samplesPerSec);\n    }\n    async destroyAudioContext() {\n        if (!this.privContext) {\n            return;\n        }\n        this.privRecorder.releaseMediaResources(this.privContext);\n        // This pattern brought to you by a bug in the TypeScript compiler where it\n        // confuses the (\"close\" in this.privContext) with this.privContext always being null as the alternate.\n        // https://github.com/Microsoft/TypeScript/issues/11498\n        let hasClose = false;\n        if (\"close\" in this.privContext) {\n            hasClose = true;\n        }\n        if (hasClose) {\n            if (!this.privIsClosing) {\n                // The audio context close may take enough time that the close is called twice\n                this.privIsClosing = true;\n                await this.privContext.close();\n                this.privContext = null;\n                this.privIsClosing = false;\n            }\n        }\n        else if (null !== this.privContext && this.privContext.state === \"running\") {\n            // Suspend actually takes a callback, but analogous to the\n            // resume method, it'll be only fired if suspend is called\n            // in a direct response to a user action. The later is not always\n            // the case, as TurnOff is also called, when we receive an\n            // end-of-speech message from the service. So, doing a best effort\n            // fire-and-forget here.\n            await this.privContext.suspend();\n        }\n    }\n}\nexports.MicAudioSource = MicAudioSource;\nMicAudioSource.AUDIOFORMAT = AudioStreamFormat_js_1.AudioStreamFormat.getDefaultInputFormat();\n\n//# sourceMappingURL=MicAudioSource.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PcmRecorder = void 0;\nconst Exports_1 = require(\"../common/Exports\");\nclass PcmRecorder {\n    constructor(stopInputOnRelease) {\n        this.privStopInputOnRelease = stopInputOnRelease;\n    }\n    record(context, mediaStream, outputStream) {\n        const desiredSampleRate = 16000;\n        const waveStreamEncoder = new Exports_1.RiffPcmEncoder(context.sampleRate, desiredSampleRate);\n        const micInput = context.createMediaStreamSource(mediaStream);\n        const attachScriptProcessor = () => {\n            // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n            const scriptNode = (() => {\n                let bufferSize = 0;\n                try {\n                    return context.createScriptProcessor(bufferSize, 1, 1);\n                }\n                catch (error) {\n                    // Webkit (<= version 31) requires a valid bufferSize.\n                    bufferSize = 2048;\n                    let audioSampleRate = context.sampleRate;\n                    while (bufferSize < 16384 && audioSampleRate >= (2 * desiredSampleRate)) {\n                        bufferSize <<= 1;\n                        audioSampleRate >>= 1;\n                    }\n                    return context.createScriptProcessor(bufferSize, 1, 1);\n                }\n            })();\n            scriptNode.onaudioprocess = (event) => {\n                const inputFrame = event.inputBuffer.getChannelData(0);\n                if (outputStream && !outputStream.isClosed) {\n                    const waveFrame = waveStreamEncoder.encode(inputFrame);\n                    if (!!waveFrame) {\n                        outputStream.writeStreamChunk({\n                            buffer: waveFrame,\n                            isEnd: false,\n                            timeReceived: Date.now(),\n                        });\n                    }\n                }\n            };\n            micInput.connect(scriptNode);\n            scriptNode.connect(context.destination);\n            this.privMediaResources = {\n                scriptProcessorNode: scriptNode,\n                source: micInput,\n                stream: mediaStream,\n            };\n        };\n        // https://webaudio.github.io/web-audio-api/#audioworklet\n        // Using AudioWorklet to improve audio quality and avoid audio glitches due to blocking the UI thread\n        const skipAudioWorklet = !!this.privSpeechProcessorScript && this.privSpeechProcessorScript.toLowerCase() === \"ignore\";\n        if (!!context.audioWorklet && !skipAudioWorklet) {\n            if (!this.privSpeechProcessorScript) {\n                const workletScript = `class SP extends AudioWorkletProcessor {\r\n                    constructor(options) {\r\n                      super(options);\r\n                    }\r\n                    process(inputs, outputs) {\r\n                      const input = inputs[0];\r\n                      const output = [];\r\n                      for (let channel = 0; channel < input.length; channel += 1) {\r\n                        output[channel] = input[channel];\r\n                      }\r\n                      this.port.postMessage(output[0]);\r\n                      return true;\r\n                    }\r\n                  }\r\n                  registerProcessor('speech-processor', SP);`;\n                const blob = new Blob([workletScript], { type: \"application/javascript; charset=utf-8\" });\n                this.privSpeechProcessorScript = URL.createObjectURL(blob);\n            }\n            context.audioWorklet\n                .addModule(this.privSpeechProcessorScript)\n                .then(() => {\n                const workletNode = new AudioWorkletNode(context, \"speech-processor\");\n                workletNode.port.onmessage = (ev) => {\n                    const inputFrame = ev.data;\n                    if (outputStream && !outputStream.isClosed) {\n                        const waveFrame = waveStreamEncoder.encode(inputFrame);\n                        if (!!waveFrame) {\n                            outputStream.writeStreamChunk({\n                                buffer: waveFrame,\n                                isEnd: false,\n                                timeReceived: Date.now(),\n                            });\n                        }\n                    }\n                };\n                micInput.connect(workletNode);\n                workletNode.connect(context.destination);\n                this.privMediaResources = {\n                    scriptProcessorNode: workletNode,\n                    source: micInput,\n                    stream: mediaStream,\n                };\n            })\n                .catch(() => {\n                attachScriptProcessor();\n            });\n        }\n        else {\n            try {\n                attachScriptProcessor();\n            }\n            catch (err) {\n                throw new Error(`Unable to start audio worklet node for PCMRecorder: ${err}`);\n            }\n        }\n    }\n    releaseMediaResources(context) {\n        if (this.privMediaResources) {\n            if (this.privMediaResources.scriptProcessorNode) {\n                this.privMediaResources.scriptProcessorNode.disconnect(context.destination);\n                this.privMediaResources.scriptProcessorNode = null;\n            }\n            if (this.privMediaResources.source) {\n                this.privMediaResources.source.disconnect();\n                if (this.privStopInputOnRelease) {\n                    this.privMediaResources.stream.getTracks().forEach((track) => track.stop());\n                }\n                this.privMediaResources.source = null;\n            }\n        }\n    }\n    setWorkletUrl(url) {\n        this.privSpeechProcessorScript = url;\n    }\n}\nexports.PcmRecorder = PcmRecorder;\n\n//# sourceMappingURL=PCMRecorder.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProxyInfo = void 0;\nconst Exports_js_1 = require(\"../sdk/Exports.js\");\nclass ProxyInfo {\n    constructor(proxyHostName, proxyPort, proxyUserName, proxyPassword) {\n        this.privProxyHostName = proxyHostName;\n        this.privProxyPort = proxyPort;\n        this.privProxyUserName = proxyUserName;\n        this.privProxyPassword = proxyPassword;\n    }\n    static fromParameters(parameters) {\n        return new ProxyInfo(parameters.getProperty(Exports_js_1.PropertyId.SpeechServiceConnection_ProxyHostName), parseInt(parameters.getProperty(Exports_js_1.PropertyId.SpeechServiceConnection_ProxyPort), 10), parameters.getProperty(Exports_js_1.PropertyId.SpeechServiceConnection_ProxyUserName), parameters.getProperty(Exports_js_1.PropertyId.SpeechServiceConnection_ProxyPassword));\n    }\n    static fromRecognizerConfig(config) {\n        return this.fromParameters(config.parameters);\n    }\n    get HostName() {\n        return this.privProxyHostName;\n    }\n    get Port() {\n        return this.privProxyPort;\n    }\n    get UserName() {\n        return this.privProxyUserName;\n    }\n    get Password() {\n        return this.privProxyPassword;\n    }\n}\nexports.ProxyInfo = ProxyInfo;\n\n//# sourceMappingURL=ProxyInfo.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReplayableAudioNode = void 0;\nclass ReplayableAudioNode {\n    constructor(audioSource, bytesPerSecond) {\n        this.privBuffers = [];\n        this.privReplayOffset = 0;\n        this.privLastShrinkOffset = 0;\n        this.privBufferStartOffset = 0;\n        this.privBufferSerial = 0;\n        this.privBufferedBytes = 0;\n        this.privReplay = false;\n        this.privLastChunkAcquiredTime = 0;\n        this.privAudioNode = audioSource;\n        this.privBytesPerSecond = bytesPerSecond;\n    }\n    id() {\n        return this.privAudioNode.id();\n    }\n    // Reads and returns the next chunk of audio buffer.\n    // If replay of existing buffers are needed, read() will first seek and replay\n    // existing content, and upoin completion it will read new content from the underlying\n    // audio node, saving that content into the replayable buffers.\n    read() {\n        // if there is a replay request to honor.\n        if (!!this.privReplay && this.privBuffers.length !== 0) {\n            // Find the start point in the buffers.\n            // Offsets are in 100ns increments.\n            // So how many bytes do we need to seek to get the right offset?\n            const offsetToSeek = this.privReplayOffset - this.privBufferStartOffset;\n            let bytesToSeek = Math.round(offsetToSeek * this.privBytesPerSecond * 1e-7);\n            if (0 !== (bytesToSeek % 2)) {\n                bytesToSeek++;\n            }\n            let i = 0;\n            while (i < this.privBuffers.length && bytesToSeek >= this.privBuffers[i].chunk.buffer.byteLength) {\n                bytesToSeek -= this.privBuffers[i++].chunk.buffer.byteLength;\n            }\n            if (i < this.privBuffers.length) {\n                const retVal = this.privBuffers[i].chunk.buffer.slice(bytesToSeek);\n                this.privReplayOffset += (retVal.byteLength / this.privBytesPerSecond) * 1e+7;\n                // If we've reached the end of the buffers, stop replaying.\n                if (i === this.privBuffers.length - 1) {\n                    this.privReplay = false;\n                }\n                return Promise.resolve({\n                    buffer: retVal,\n                    isEnd: false,\n                    timeReceived: this.privBuffers[i].chunk.timeReceived,\n                });\n            }\n        }\n        return this.privAudioNode.read()\n            .then((result) => {\n            if (result && result.buffer && this.privBuffers) {\n                this.privBuffers.push(new BufferEntry(result, this.privBufferSerial++, this.privBufferedBytes));\n                this.privBufferedBytes += result.buffer.byteLength;\n            }\n            return result;\n        });\n    }\n    detach() {\n        this.privBuffers = undefined;\n        return this.privAudioNode.detach();\n    }\n    replay() {\n        if (this.privBuffers && 0 !== this.privBuffers.length) {\n            this.privReplay = true;\n            this.privReplayOffset = this.privLastShrinkOffset;\n        }\n    }\n    // Shrinks the existing audio buffers to start at the new offset, or at the\n    // beginning of the buffer closest to the requested offset.\n    // A replay request will start from the last shrink point.\n    shrinkBuffers(offset) {\n        if (this.privBuffers === undefined || this.privBuffers.length === 0) {\n            return;\n        }\n        this.privLastShrinkOffset = offset;\n        // Find the start point in the buffers.\n        // Offsets are in 100ns increments.\n        // So how many bytes do we need to seek to get the right offset?\n        const offsetToSeek = offset - this.privBufferStartOffset;\n        let bytesToSeek = Math.round(offsetToSeek * this.privBytesPerSecond * 1e-7);\n        let i = 0;\n        while (i < this.privBuffers.length && bytesToSeek >= this.privBuffers[i].chunk.buffer.byteLength) {\n            bytesToSeek -= this.privBuffers[i++].chunk.buffer.byteLength;\n        }\n        this.privBufferStartOffset = Math.round(offset - ((bytesToSeek / this.privBytesPerSecond) * 1e+7));\n        this.privBuffers = this.privBuffers.slice(i);\n    }\n    // Finds the time a buffer of audio was first seen by offset.\n    findTimeAtOffset(offset) {\n        if (offset < this.privBufferStartOffset || this.privBuffers === undefined) {\n            return 0;\n        }\n        for (const value of this.privBuffers) {\n            const startOffset = (value.byteOffset / this.privBytesPerSecond) * 1e7;\n            const endOffset = startOffset + ((value.chunk.buffer.byteLength / this.privBytesPerSecond) * 1e7);\n            if (offset >= startOffset && offset <= endOffset) {\n                return value.chunk.timeReceived;\n            }\n        }\n        return 0;\n    }\n}\nexports.ReplayableAudioNode = ReplayableAudioNode;\n// Primary use of this class is to help debugging problems with the replay\n// code. If the memory cost of alloc / dealloc gets too much, drop it and just use\n// the ArrayBuffer directly.\nclass BufferEntry {\n    constructor(chunk, serial, byteOffset) {\n        this.chunk = chunk;\n        this.serial = serial;\n        this.byteOffset = byteOffset;\n    }\n}\n\n//# sourceMappingURL=ReplayableAudioNode.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RestConfigBase = void 0;\nclass RestConfigBase {\n    static get requestOptions() {\n        return RestConfigBase.privDefaultRequestOptions;\n    }\n    static get configParams() {\n        return RestConfigBase.privDefaultParams;\n    }\n    static get restErrors() {\n        return RestConfigBase.privRestErrors;\n    }\n}\nexports.RestConfigBase = RestConfigBase;\nRestConfigBase.privDefaultRequestOptions = {\n    headers: {\n        Accept: \"application/json\",\n    },\n    ignoreCache: false,\n    timeout: 10000,\n};\nRestConfigBase.privRestErrors = {\n    authInvalidSubscriptionKey: \"You must specify either an authentication token to use, or a Cognitive Speech subscription key.\",\n    authInvalidSubscriptionRegion: \"You must specify the Cognitive Speech region to use.\",\n    invalidArgs: \"Required input not found: {arg}.\",\n    invalidCreateJoinConversationResponse: \"Creating/Joining conversation failed with HTTP {status}.\",\n    invalidParticipantRequest: \"The requested participant was not found.\",\n    permissionDeniedConnect: \"Required credentials not found.\",\n    permissionDeniedConversation: \"Invalid operation: only the host can {command} the conversation.\",\n    permissionDeniedParticipant: \"Invalid operation: only the host can {command} a participant.\",\n    permissionDeniedSend: \"Invalid operation: the conversation is not in a connected state.\",\n    permissionDeniedStart: \"Invalid operation: there is already an active conversation.\",\n};\nRestConfigBase.privDefaultParams = {\n    apiVersion: \"api-version\",\n    authorization: \"Authorization\",\n    clientAppId: \"X-ClientAppId\",\n    contentTypeKey: \"Content-Type\",\n    correlationId: \"X-CorrelationId\",\n    languageCode: \"language\",\n    nickname: \"nickname\",\n    profanity: \"profanity\",\n    requestId: \"X-RequestId\",\n    roomId: \"roomid\",\n    sessionToken: \"token\",\n    subscriptionKey: \"Ocp-Apim-Subscription-Key\",\n    subscriptionRegion: \"Ocp-Apim-Subscription-Region\",\n    token: \"X-CapitoToken\",\n};\n\n//# sourceMappingURL=RestConfigBase.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RestMessageAdapter = exports.RestRequestType = void 0;\nconst bent_1 = __importDefault(require(\"bent\"));\nconst Exports_js_1 = require(\"../common/Exports.js\");\nvar RestRequestType;\n(function (RestRequestType) {\n    RestRequestType[\"Get\"] = \"GET\";\n    RestRequestType[\"Post\"] = \"POST\";\n    RestRequestType[\"Delete\"] = \"DELETE\";\n    RestRequestType[\"File\"] = \"file\";\n})(RestRequestType = exports.RestRequestType || (exports.RestRequestType = {}));\n// accept rest operations via request method and return abstracted objects from server response\nclass RestMessageAdapter {\n    constructor(configParams) {\n        if (!configParams) {\n            throw new Exports_js_1.ArgumentNullError(\"configParams\");\n        }\n        this.privHeaders = configParams.headers;\n        this.privIgnoreCache = configParams.ignoreCache;\n    }\n    static extractHeaderValue(headerKey, headers) {\n        let headerValue = \"\";\n        try {\n            const arr = headers.trim().split(/[\\r\\n]+/);\n            const headerMap = {};\n            arr.forEach((line) => {\n                const parts = line.split(\": \");\n                const header = parts.shift().toLowerCase();\n                const value = parts.join(\": \");\n                headerMap[header] = value;\n            });\n            headerValue = headerMap[headerKey.toLowerCase()];\n        }\n        catch (e) {\n            // ignore the error\n        }\n        return headerValue;\n    }\n    set options(configParams) {\n        this.privHeaders = configParams.headers;\n        this.privIgnoreCache = configParams.ignoreCache;\n    }\n    setHeaders(key, value) {\n        this.privHeaders[key] = value;\n    }\n    request(method, uri, queryParams = {}, body = null) {\n        const responseReceivedDeferral = new Exports_js_1.Deferred();\n        const requestCommand = method === RestRequestType.File ? \"POST\" : method;\n        const handleRestResponse = (data, j = {}) => {\n            const d = data;\n            return {\n                data: JSON.stringify(j),\n                headers: JSON.stringify(data.headers),\n                json: j,\n                ok: data.statusCode >= 200 && data.statusCode < 300,\n                status: data.statusCode,\n                statusText: j.error ? j.error.message : d.statusText ? d.statusText : d.statusMessage\n            };\n        };\n        const send = (postData) => {\n            const sendRequest = (0, bent_1.default)(uri, requestCommand, this.privHeaders, 200, 201, 202, 204, 400, 401, 402, 403, 404);\n            const params = this.queryParams(queryParams) === \"\" ? \"\" : `?${this.queryParams(queryParams)}`;\n            sendRequest(params, postData).then(async (data) => {\n                if (method === RestRequestType.Delete || data.statusCode === 204) {\n                    // No JSON from Delete and reset (204) operations\n                    responseReceivedDeferral.resolve(handleRestResponse(data));\n                }\n                else {\n                    try {\n                        const j = await data.json();\n                        responseReceivedDeferral.resolve(handleRestResponse(data, j));\n                    }\n                    catch {\n                        responseReceivedDeferral.resolve(handleRestResponse(data));\n                    }\n                }\n            }).catch((error) => {\n                responseReceivedDeferral.reject(error);\n            });\n        };\n        if (this.privIgnoreCache) {\n            this.privHeaders[\"Cache-Control\"] = \"no-cache\";\n        }\n        if (method === RestRequestType.Post && body) {\n            this.privHeaders[\"content-type\"] = \"application/json\";\n            this.privHeaders[\"Content-Type\"] = \"application/json\";\n        }\n        send(body);\n        return responseReceivedDeferral.promise;\n    }\n    queryParams(params = {}) {\n        return Object.keys(params)\n            .map((k) => encodeURIComponent(k) + \"=\" + encodeURIComponent(params[k]))\n            .join(\"&\");\n    }\n}\nexports.RestMessageAdapter = RestMessageAdapter;\n\n//# sourceMappingURL=RestMessageAdapter.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WebsocketConnection = void 0;\nconst Exports_js_1 = require(\"../common/Exports.js\");\nconst WebsocketMessageAdapter_js_1 = require(\"./WebsocketMessageAdapter.js\");\nclass WebsocketConnection {\n    constructor(uri, queryParameters, headers, messageFormatter, proxyInfo, enableCompression = false, connectionId) {\n        this.privIsDisposed = false;\n        if (!uri) {\n            throw new Exports_js_1.ArgumentNullError(\"uri\");\n        }\n        if (!messageFormatter) {\n            throw new Exports_js_1.ArgumentNullError(\"messageFormatter\");\n        }\n        this.privMessageFormatter = messageFormatter;\n        let queryParams = \"\";\n        let i = 0;\n        if (queryParameters) {\n            for (const paramName in queryParameters) {\n                if (paramName) {\n                    queryParams += ((i === 0) && (uri.indexOf(\"?\") === -1)) ? \"?\" : \"&\";\n                    const key = encodeURIComponent(paramName);\n                    queryParams += key;\n                    let val = queryParameters[paramName];\n                    if (val) {\n                        val = encodeURIComponent(val);\n                        queryParams += `=${val}`;\n                    }\n                    i++;\n                }\n            }\n        }\n        if (headers) {\n            for (const headerName in headers) {\n                if (headerName) {\n                    queryParams += ((i === 0) && (uri.indexOf(\"?\") === -1)) ? \"?\" : \"&\";\n                    const val = encodeURIComponent(headers[headerName]);\n                    queryParams += `${headerName}=${val}`;\n                    i++;\n                }\n            }\n        }\n        this.privUri = uri + queryParams;\n        this.privId = connectionId ? connectionId : (0, Exports_js_1.createNoDashGuid)();\n        this.privConnectionMessageAdapter = new WebsocketMessageAdapter_js_1.WebsocketMessageAdapter(this.privUri, this.id, this.privMessageFormatter, proxyInfo, headers, enableCompression);\n    }\n    async dispose() {\n        this.privIsDisposed = true;\n        if (this.privConnectionMessageAdapter) {\n            await this.privConnectionMessageAdapter.close();\n        }\n    }\n    isDisposed() {\n        return this.privIsDisposed;\n    }\n    get id() {\n        return this.privId;\n    }\n    get uri() {\n        return this.privUri;\n    }\n    state() {\n        return this.privConnectionMessageAdapter.state;\n    }\n    open() {\n        return this.privConnectionMessageAdapter.open();\n    }\n    send(message) {\n        return this.privConnectionMessageAdapter.send(message);\n    }\n    read() {\n        return this.privConnectionMessageAdapter.read();\n    }\n    get events() {\n        return this.privConnectionMessageAdapter.events;\n    }\n}\nexports.WebsocketConnection = WebsocketConnection;\n\n//# sourceMappingURL=WebsocketConnection.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WebsocketMessageAdapter = void 0;\nconst net = __importStar(require(\"net\"));\nconst tls = __importStar(require(\"tls\"));\nconst agent_base_1 = __importDefault(require(\"agent-base\"));\nconst https_proxy_agent_1 = __importDefault(require(\"https-proxy-agent\"));\nconst ws_1 = __importDefault(require(\"ws\"));\nconst HeaderNames_js_1 = require(\"../common.speech/HeaderNames.js\");\nconst Exports_js_1 = require(\"../common/Exports.js\");\nclass WebsocketMessageAdapter {\n    constructor(uri, connectionId, messageFormatter, proxyInfo, headers, enableCompression) {\n        if (!uri) {\n            throw new Exports_js_1.ArgumentNullError(\"uri\");\n        }\n        if (!messageFormatter) {\n            throw new Exports_js_1.ArgumentNullError(\"messageFormatter\");\n        }\n        this.proxyInfo = proxyInfo;\n        this.privConnectionEvents = new Exports_js_1.EventSource();\n        this.privConnectionId = connectionId;\n        this.privMessageFormatter = messageFormatter;\n        this.privConnectionState = Exports_js_1.ConnectionState.None;\n        this.privUri = uri;\n        this.privHeaders = headers;\n        this.privEnableCompression = enableCompression;\n        // Add the connection ID to the headers\n        this.privHeaders[HeaderNames_js_1.HeaderNames.ConnectionId] = this.privConnectionId;\n        this.privHeaders.connectionId = this.privConnectionId;\n        this.privLastErrorReceived = \"\";\n    }\n    get state() {\n        return this.privConnectionState;\n    }\n    open() {\n        if (this.privConnectionState === Exports_js_1.ConnectionState.Disconnected) {\n            return Promise.reject(`Cannot open a connection that is in ${this.privConnectionState} state`);\n        }\n        if (this.privConnectionEstablishDeferral) {\n            return this.privConnectionEstablishDeferral.promise;\n        }\n        this.privConnectionEstablishDeferral = new Exports_js_1.Deferred();\n        this.privCertificateValidatedDeferral = new Exports_js_1.Deferred();\n        this.privConnectionState = Exports_js_1.ConnectionState.Connecting;\n        try {\n            if (typeof WebSocket !== \"undefined\" && !WebsocketMessageAdapter.forceNpmWebSocket) {\n                // Browser handles cert checks.\n                this.privCertificateValidatedDeferral.resolve();\n                this.privWebsocketClient = new WebSocket(this.privUri);\n            }\n            else {\n                // Workaround for https://github.com/microsoft/cognitive-services-speech-sdk-js/issues/465\n                // Which is root caused by https://github.com/TooTallNate/node-agent-base/issues/61\n                const uri = new URL(this.privUri);\n                let protocol = uri.protocol;\n                if (protocol?.toLocaleLowerCase() === \"wss:\") {\n                    protocol = \"https:\";\n                }\n                else if (protocol?.toLocaleLowerCase() === \"ws:\") {\n                    protocol = \"http:\";\n                }\n                const options = { headers: this.privHeaders, perMessageDeflate: this.privEnableCompression, followRedirects: protocol.toLocaleLowerCase() === \"https:\" };\n                // The ocsp library will handle validation for us and fail the connection if needed.\n                this.privCertificateValidatedDeferral.resolve();\n                options.agent = this.getAgent();\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                options.agent.protocol = protocol;\n                this.privWebsocketClient = new ws_1.default(this.privUri, options);\n                this.privWebsocketClient.on(\"redirect\", (redirectUrl) => {\n                    const event = new Exports_js_1.ConnectionRedirectEvent(this.privConnectionId, redirectUrl, this.privUri, `Getting redirect URL from endpoint ${this.privUri} with redirect URL '${redirectUrl}'`);\n                    Exports_js_1.Events.instance.onEvent(event);\n                });\n            }\n            this.privWebsocketClient.binaryType = \"arraybuffer\";\n            this.privReceivingMessageQueue = new Exports_js_1.Queue();\n            this.privDisconnectDeferral = new Exports_js_1.Deferred();\n            this.privSendMessageQueue = new Exports_js_1.Queue();\n            this.processSendQueue().catch((reason) => {\n                Exports_js_1.Events.instance.onEvent(new Exports_js_1.BackgroundEvent(reason));\n            });\n        }\n        catch (error) {\n            this.privConnectionEstablishDeferral.resolve(new Exports_js_1.ConnectionOpenResponse(500, error));\n            return this.privConnectionEstablishDeferral.promise;\n        }\n        this.onEvent(new Exports_js_1.ConnectionStartEvent(this.privConnectionId, this.privUri));\n        this.privWebsocketClient.onopen = () => {\n            this.privCertificateValidatedDeferral.promise.then(() => {\n                this.privConnectionState = Exports_js_1.ConnectionState.Connected;\n                this.onEvent(new Exports_js_1.ConnectionEstablishedEvent(this.privConnectionId));\n                this.privConnectionEstablishDeferral.resolve(new Exports_js_1.ConnectionOpenResponse(200, \"\"));\n            }, (error) => {\n                this.privConnectionEstablishDeferral.reject(error);\n            });\n        };\n        this.privWebsocketClient.onerror = (e) => {\n            this.onEvent(new Exports_js_1.ConnectionErrorEvent(this.privConnectionId, e.message, e.type));\n            this.privLastErrorReceived = e.message;\n        };\n        this.privWebsocketClient.onclose = (e) => {\n            if (this.privConnectionState === Exports_js_1.ConnectionState.Connecting) {\n                this.privConnectionState = Exports_js_1.ConnectionState.Disconnected;\n                // this.onEvent(new ConnectionEstablishErrorEvent(this.connectionId, e.code, e.reason));\n                this.privConnectionEstablishDeferral.resolve(new Exports_js_1.ConnectionOpenResponse(e.code, e.reason + \" \" + this.privLastErrorReceived));\n            }\n            else {\n                this.privConnectionState = Exports_js_1.ConnectionState.Disconnected;\n                this.privWebsocketClient = null;\n                this.onEvent(new Exports_js_1.ConnectionClosedEvent(this.privConnectionId, e.code, e.reason));\n            }\n            this.onClose(e.code, e.reason).catch((reason) => {\n                Exports_js_1.Events.instance.onEvent(new Exports_js_1.BackgroundEvent(reason));\n            });\n        };\n        this.privWebsocketClient.onmessage = (e) => {\n            const networkReceivedTime = new Date().toISOString();\n            if (this.privConnectionState === Exports_js_1.ConnectionState.Connected) {\n                const deferred = new Exports_js_1.Deferred();\n                // let id = ++this.idCounter;\n                this.privReceivingMessageQueue.enqueueFromPromise(deferred.promise);\n                if (e.data instanceof ArrayBuffer) {\n                    const rawMessage = new Exports_js_1.RawWebsocketMessage(Exports_js_1.MessageType.Binary, e.data);\n                    this.privMessageFormatter\n                        .toConnectionMessage(rawMessage)\n                        .then((connectionMessage) => {\n                        this.onEvent(new Exports_js_1.ConnectionMessageReceivedEvent(this.privConnectionId, networkReceivedTime, connectionMessage));\n                        deferred.resolve(connectionMessage);\n                    }, (error) => {\n                        // TODO: Events for these ?\n                        deferred.reject(`Invalid binary message format. Error: ${error}`);\n                    });\n                }\n                else {\n                    const rawMessage = new Exports_js_1.RawWebsocketMessage(Exports_js_1.MessageType.Text, e.data);\n                    this.privMessageFormatter\n                        .toConnectionMessage(rawMessage)\n                        .then((connectionMessage) => {\n                        this.onEvent(new Exports_js_1.ConnectionMessageReceivedEvent(this.privConnectionId, networkReceivedTime, connectionMessage));\n                        deferred.resolve(connectionMessage);\n                    }, (error) => {\n                        // TODO: Events for these ?\n                        deferred.reject(`Invalid text message format. Error: ${error}`);\n                    });\n                }\n            }\n        };\n        return this.privConnectionEstablishDeferral.promise;\n    }\n    send(message) {\n        if (this.privConnectionState !== Exports_js_1.ConnectionState.Connected) {\n            return Promise.reject(`Cannot send on connection that is in ${Exports_js_1.ConnectionState[this.privConnectionState]} state`);\n        }\n        const messageSendStatusDeferral = new Exports_js_1.Deferred();\n        const messageSendDeferral = new Exports_js_1.Deferred();\n        this.privSendMessageQueue.enqueueFromPromise(messageSendDeferral.promise);\n        this.privMessageFormatter\n            .fromConnectionMessage(message)\n            .then((rawMessage) => {\n            messageSendDeferral.resolve({\n                Message: message,\n                RawWebsocketMessage: rawMessage,\n                sendStatusDeferral: messageSendStatusDeferral,\n            });\n        }, (error) => {\n            messageSendDeferral.reject(`Error formatting the message. ${error}`);\n        });\n        return messageSendStatusDeferral.promise;\n    }\n    read() {\n        if (this.privConnectionState !== Exports_js_1.ConnectionState.Connected) {\n            return Promise.reject(`Cannot read on connection that is in ${this.privConnectionState} state`);\n        }\n        return this.privReceivingMessageQueue.dequeue();\n    }\n    close(reason) {\n        if (this.privWebsocketClient) {\n            if (this.privConnectionState !== Exports_js_1.ConnectionState.Disconnected) {\n                this.privWebsocketClient.close(1000, reason ? reason : \"Normal closure by client\");\n            }\n        }\n        else {\n            return Promise.resolve();\n        }\n        return this.privDisconnectDeferral.promise;\n    }\n    get events() {\n        return this.privConnectionEvents;\n    }\n    sendRawMessage(sendItem) {\n        try {\n            // indicates we are draining the queue and it came with no message;\n            if (!sendItem) {\n                return Promise.resolve();\n            }\n            this.onEvent(new Exports_js_1.ConnectionMessageSentEvent(this.privConnectionId, new Date().toISOString(), sendItem.Message));\n            // add a check for the ws readystate in order to stop the red console error 'WebSocket is already in CLOSING or CLOSED state' appearing\n            if (this.isWebsocketOpen) {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                this.privWebsocketClient.send(sendItem.RawWebsocketMessage.payload);\n            }\n            else {\n                return Promise.reject(\"websocket send error: Websocket not ready \" + this.privConnectionId + \" \" + sendItem.Message.id + \" \" + new Error().stack);\n            }\n            return Promise.resolve();\n        }\n        catch (e) {\n            return Promise.reject(`websocket send error: ${e}`);\n        }\n    }\n    async onClose(code, reason) {\n        const closeReason = `Connection closed. ${code}: ${reason}`;\n        this.privConnectionState = Exports_js_1.ConnectionState.Disconnected;\n        this.privDisconnectDeferral.resolve();\n        await this.privReceivingMessageQueue.drainAndDispose(() => {\n            // TODO: Events for these ?\n            // Logger.instance.onEvent(new LoggingEvent(LogType.Warning, null, `Failed to process received message. Reason: ${closeReason}, Message: ${JSON.stringify(pendingReceiveItem)}`));\n        }, closeReason);\n        await this.privSendMessageQueue.drainAndDispose((pendingSendItem) => {\n            pendingSendItem.sendStatusDeferral.reject(closeReason);\n        }, closeReason);\n    }\n    async processSendQueue() {\n        while (true) {\n            const itemToSend = this.privSendMessageQueue.dequeue();\n            const sendItem = await itemToSend;\n            // indicates we are draining the queue and it came with no message;\n            if (!sendItem) {\n                return;\n            }\n            try {\n                await this.sendRawMessage(sendItem);\n                sendItem.sendStatusDeferral.resolve();\n            }\n            catch (sendError) {\n                sendItem.sendStatusDeferral.reject(sendError);\n            }\n        }\n    }\n    onEvent(event) {\n        this.privConnectionEvents.onEvent(event);\n        Exports_js_1.Events.instance.onEvent(event);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    getAgent() {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        const agent = new agent_base_1.default.Agent(this.createConnection);\n        if (this.proxyInfo !== undefined &&\n            this.proxyInfo.HostName !== undefined &&\n            this.proxyInfo.Port > 0) {\n            agent.proxyInfo = this.proxyInfo;\n        }\n        return agent;\n    }\n    static GetProxyAgent(proxyInfo) {\n        const httpProxyOptions = {\n            host: proxyInfo.HostName,\n            port: proxyInfo.Port,\n        };\n        if (!!proxyInfo.UserName) {\n            httpProxyOptions.headers = {\n                \"Proxy-Authentication\": \"Basic \" + Buffer.from(`${proxyInfo.UserName}:${(proxyInfo.Password === undefined) ? \"\" : proxyInfo.Password}`).toString(\"base64\"),\n            };\n        }\n        else {\n            httpProxyOptions.headers = {};\n        }\n        httpProxyOptions.headers.requestOCSP = \"true\";\n        const httpProxyAgent = new https_proxy_agent_1.default(httpProxyOptions);\n        return httpProxyAgent;\n    }\n    createConnection(request, options) {\n        let socketPromise;\n        options = {\n            ...options,\n            ...{\n                requestOCSP: true,\n                servername: options.host\n            }\n        };\n        if (!!this.proxyInfo) {\n            const httpProxyAgent = WebsocketMessageAdapter.GetProxyAgent(this.proxyInfo);\n            const baseAgent = httpProxyAgent;\n            socketPromise = new Promise((resolve, reject) => {\n                baseAgent.callback(request, options, (error, socket) => {\n                    if (!!error) {\n                        reject(error);\n                    }\n                    else {\n                        resolve(socket);\n                    }\n                });\n            });\n        }\n        else {\n            if (!!options.secureEndpoint) {\n                socketPromise = Promise.resolve(tls.connect(options));\n            }\n            else {\n                socketPromise = Promise.resolve(net.connect(options));\n            }\n        }\n        return socketPromise;\n    }\n    get isWebsocketOpen() {\n        return this.privWebsocketClient && this.privWebsocketClient.readyState === this.privWebsocketClient.OPEN;\n    }\n}\nexports.WebsocketMessageAdapter = WebsocketMessageAdapter;\nWebsocketMessageAdapter.forceNpmWebSocket = false;\n\n//# sourceMappingURL=WebsocketMessageAdapter.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AgentConfig = void 0;\n/**\n * Represents the JSON used in the agent.config message sent to the speech service.\n */\nclass AgentConfig {\n    toJsonString() {\n        return JSON.stringify(this.iPrivConfig);\n    }\n    get() {\n        return this.iPrivConfig;\n    }\n    /**\n     * Setter for the agent.config object.\n     * @param value a JSON serializable object.\n     */\n    set(value) {\n        this.iPrivConfig = value;\n    }\n}\nexports.AgentConfig = AgentConfig;\n\n//# sourceMappingURL=AgentConfig.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AvatarSynthesisAdapter = void 0;\nconst Exports_js_1 = require(\"../sdk/Exports.js\");\nconst Exports_js_2 = require(\"./Exports.js\");\nclass AvatarSynthesisAdapter extends Exports_js_2.SynthesisAdapterBase {\n    constructor(authentication, connectionFactory, synthesizerConfig, avatarSynthesizer, avatarConfig) {\n        super(authentication, connectionFactory, synthesizerConfig, undefined);\n        this.privAvatarSynthesizer = avatarSynthesizer;\n        this.privSynthesizer = avatarSynthesizer;\n        this.privAvatarConfig = avatarConfig;\n    }\n    setSynthesisContextSynthesisSection() {\n        this.privSynthesisContext.setSynthesisSection(undefined);\n    }\n    setSpeechConfigSynthesisSection() {\n        this.privSynthesizerConfig.synthesisVideoSection = {\n            format: {\n                bitrate: this.privAvatarConfig.videoFormat?.bitrate,\n                codec: this.privAvatarConfig.videoFormat?.codec,\n                crop: {\n                    bottomRight: {\n                        x: this.privAvatarConfig.videoFormat?.cropRange?.bottomRight?.x,\n                        y: this.privAvatarConfig.videoFormat?.cropRange?.bottomRight?.y,\n                    },\n                    topLeft: {\n                        x: this.privAvatarConfig.videoFormat?.cropRange?.topLeft?.x,\n                        y: this.privAvatarConfig.videoFormat?.cropRange?.topLeft?.y,\n                    },\n                },\n                resolution: {\n                    height: this.privAvatarConfig.videoFormat?.height,\n                    width: this.privAvatarConfig.videoFormat?.width,\n                },\n            },\n            protocol: {\n                name: \"WebRTC\",\n                webrtcConfig: {\n                    clientDescription: btoa(this.privSynthesizerConfig.parameters.getProperty(Exports_js_1.PropertyId.TalkingAvatarService_WebRTC_SDP)),\n                    iceServers: this.privAvatarConfig.remoteIceServers ?? this.privAvatarSynthesizer.iceServers,\n                },\n            },\n            talkingAvatar: {\n                background: {\n                    color: this.privAvatarConfig.backgroundColor,\n                    image: {\n                        url: this.privAvatarConfig.backgroundImage?.toString(),\n                    }\n                },\n                character: this.privAvatarConfig.character,\n                customized: this.privAvatarConfig.customized,\n                photoAvatarBaseModel: this.privAvatarConfig.photoAvatarBaseModel,\n                style: this.privAvatarConfig.style,\n                useBuiltInVoice: this.privAvatarConfig.useBuiltInVoice,\n            }\n        };\n    }\n    onAvatarEvent(metadata) {\n        if (!!this.privAvatarSynthesizer.avatarEventReceived) {\n            const avatarEventArgs = new Exports_js_1.AvatarEventArgs(metadata.Data.Offset, metadata.Data.Name);\n            try {\n                this.privAvatarSynthesizer.avatarEventReceived(this.privAvatarSynthesizer, avatarEventArgs);\n            }\n            catch (error) {\n                // Not going to let errors in the event handler\n                // trip things up.\n            }\n        }\n    }\n}\nexports.AvatarSynthesisAdapter = AvatarSynthesisAdapter;\n\n//# sourceMappingURL=AvatarSynthesisAdapter.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CognitiveSubscriptionKeyAuthentication = void 0;\nconst Exports_js_1 = require(\"../common/Exports.js\");\nconst HeaderNames_js_1 = require(\"./HeaderNames.js\");\nconst IAuthentication_js_1 = require(\"./IAuthentication.js\");\n/**\n * @class\n */\nclass CognitiveSubscriptionKeyAuthentication {\n    /**\n     * Creates and initializes an instance of the CognitiveSubscriptionKeyAuthentication class.\n     * @constructor\n     * @param {string} subscriptionKey - The subscription key\n     */\n    constructor(subscriptionKey) {\n        if (!subscriptionKey) {\n            throw new Exports_js_1.ArgumentNullError(\"subscriptionKey\");\n        }\n        this.privAuthInfo = new IAuthentication_js_1.AuthInfo(HeaderNames_js_1.HeaderNames.AuthKey, subscriptionKey);\n    }\n    /**\n     * Fetches the subscription key.\n     * @member\n     * @function\n     * @public\n     * @param {string} authFetchEventId - The id to fetch.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    fetch(authFetchEventId) {\n        return Promise.resolve(this.privAuthInfo);\n    }\n    /**\n     * Fetches the subscription key.\n     * @member\n     * @function\n     * @public\n     * @param {string} authFetchEventId - The id to fetch.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    fetchOnExpiry(authFetchEventId) {\n        return Promise.resolve(this.privAuthInfo);\n    }\n}\nexports.CognitiveSubscriptionKeyAuthentication = CognitiveSubscriptionKeyAuthentication;\n\n//# sourceMappingURL=CognitiveSubscriptionKeyAuthentication.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CognitiveTokenAuthentication = void 0;\nconst Exports_js_1 = require(\"../common/Exports.js\");\nconst IAuthentication_js_1 = require(\"./IAuthentication.js\");\nconst HeaderNames_js_1 = require(\"./HeaderNames.js\");\nclass CognitiveTokenAuthentication {\n    constructor(fetchCallback, fetchOnExpiryCallback) {\n        if (!fetchCallback) {\n            throw new Exports_js_1.ArgumentNullError(\"fetchCallback\");\n        }\n        if (!fetchOnExpiryCallback) {\n            throw new Exports_js_1.ArgumentNullError(\"fetchOnExpiryCallback\");\n        }\n        this.privFetchCallback = fetchCallback;\n        this.privFetchOnExpiryCallback = fetchOnExpiryCallback;\n    }\n    fetch(authFetchEventId) {\n        return this.privFetchCallback(authFetchEventId).then((token) => new IAuthentication_js_1.AuthInfo(HeaderNames_js_1.HeaderNames.Authorization, token === undefined ? undefined : CognitiveTokenAuthentication.privTokenPrefix + token));\n    }\n    fetchOnExpiry(authFetchEventId) {\n        return this.privFetchOnExpiryCallback(authFetchEventId).then((token) => new IAuthentication_js_1.AuthInfo(HeaderNames_js_1.HeaderNames.Authorization, token === undefined ? undefined : CognitiveTokenAuthentication.privTokenPrefix + token));\n    }\n}\nexports.CognitiveTokenAuthentication = CognitiveTokenAuthentication;\nCognitiveTokenAuthentication.privTokenPrefix = \"Bearer \";\n\n//# sourceMappingURL=CognitiveTokenAuthentication.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionFactoryBase = void 0;\nconst Exports_js_1 = require(\"../common.speech/Exports.js\");\nconst Exports_js_2 = require(\"../common/Exports.js\");\nconst Exports_js_3 = require(\"../sdk/Exports.js\");\nconst QueryParameterNames_js_1 = require(\"./QueryParameterNames.js\");\nclass ConnectionFactoryBase {\n    static getHostSuffix(region) {\n        if (!!region) {\n            if (region.toLowerCase().startsWith(\"china\")) {\n                return \".azure.cn\";\n            }\n            if (region.toLowerCase().startsWith(\"usgov\")) {\n                return \".azure.us\";\n            }\n        }\n        return \".microsoft.com\";\n    }\n    setCommonUrlParams(config, queryParams, endpoint) {\n        const propertyIdToParameterMap = new Map([\n            [Exports_js_3.PropertyId.Speech_SegmentationSilenceTimeoutMs, QueryParameterNames_js_1.QueryParameterNames.SegmentationSilenceTimeoutMs],\n            [Exports_js_3.PropertyId.SpeechServiceConnection_EnableAudioLogging, QueryParameterNames_js_1.QueryParameterNames.EnableAudioLogging],\n            [Exports_js_3.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs, QueryParameterNames_js_1.QueryParameterNames.EndSilenceTimeoutMs],\n            [Exports_js_3.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs, QueryParameterNames_js_1.QueryParameterNames.InitialSilenceTimeoutMs],\n            [Exports_js_3.PropertyId.SpeechServiceResponse_PostProcessingOption, QueryParameterNames_js_1.QueryParameterNames.Postprocessing],\n            [Exports_js_3.PropertyId.SpeechServiceResponse_ProfanityOption, QueryParameterNames_js_1.QueryParameterNames.Profanity],\n            [Exports_js_3.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps, QueryParameterNames_js_1.QueryParameterNames.EnableWordLevelTimestamps],\n            [Exports_js_3.PropertyId.SpeechServiceResponse_StablePartialResultThreshold, QueryParameterNames_js_1.QueryParameterNames.StableIntermediateThreshold],\n        ]);\n        propertyIdToParameterMap.forEach((parameterName, propertyId) => {\n            this.setUrlParameter(propertyId, parameterName, config, queryParams, endpoint);\n        });\n        const serviceProperties = JSON.parse(config.parameters.getProperty(Exports_js_1.ServicePropertiesPropertyName, \"{}\"));\n        Object.keys(serviceProperties).forEach((value) => {\n            queryParams[value] = serviceProperties[value];\n        });\n    }\n    setUrlParameter(propId, parameterName, config, queryParams, endpoint) {\n        const value = config.parameters.getProperty(propId, undefined);\n        // FIXME: The .search() check will incorrectly match parameter name anywhere in the string\n        //        including e.g. the path portion, or even as a substring of other query parameters\n        if (value && (!endpoint || endpoint.search(parameterName) === -1)) {\n            queryParams[parameterName] = value.toLocaleLowerCase();\n        }\n    }\n    static async getRedirectUrlFromEndpoint(endpoint) {\n        // make a rest call to the endpoint to get the redirect url\n        const redirectUrl = new URL(endpoint);\n        redirectUrl.protocol = \"https:\";\n        redirectUrl.port = \"443\";\n        const params = redirectUrl.searchParams;\n        params.append(\"GenerateRedirectResponse\", \"true\");\n        const redirectedUrlString = redirectUrl.toString();\n        Exports_js_2.Events.instance.onEvent(new Exports_js_2.ConnectionRedirectEvent(\"\", redirectedUrlString, undefined, \"ConnectionFactoryBase: redirectUrl request\"));\n        const redirectResponse = await fetch(redirectedUrlString);\n        if (redirectResponse.status !== 200) {\n            return endpoint;\n        }\n        // Fix: properly read the response text\n        const redirectUrlString = await redirectResponse.text();\n        Exports_js_2.Events.instance.onEvent(new Exports_js_2.ConnectionRedirectEvent(\"\", redirectUrlString, endpoint, \"ConnectionFactoryBase: redirectUrlString\"));\n        try {\n            // Validate the URL before returning\n            return new URL(redirectUrlString.trim()).toString();\n        }\n        catch (error) {\n            return endpoint; // Return original endpoint if the redirect URL is invalid\n        }\n    }\n}\nexports.ConnectionFactoryBase = ConnectionFactoryBase;\n\n//# sourceMappingURL=ConnectionFactoryBase.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationServiceRecognizer = void 0;\nconst Exports_js_1 = require(\"../sdk/Exports.js\");\nconst Exports_js_2 = require(\"./Exports.js\");\nclass ConversationServiceRecognizer extends Exports_js_2.ServiceRecognizerBase {\n    constructor(authentication, connectionFactory, audioSource, recognizerConfig, recognizer) {\n        super(authentication, connectionFactory, audioSource, recognizerConfig, recognizer);\n        this.handleSpeechPhraseMessage = async (textBody) => this.handleSpeechPhrase(textBody);\n        this.handleSpeechHypothesisMessage = (textBody) => this.handleSpeechHypothesis(textBody);\n    }\n    processTypeSpecificMessages(connectionMessage) {\n        void connectionMessage;\n        return;\n    }\n    handleRecognizedCallback(result, offset, sessionId) {\n        void result;\n        void offset;\n        void sessionId;\n        return;\n    }\n    handleRecognizingCallback(result, duration, sessionId) {\n        void result;\n        void duration;\n        void sessionId;\n        return;\n    }\n    async processSpeechMessages(connectionMessage) {\n        let processed = false;\n        switch (connectionMessage.path.toLowerCase()) {\n            case \"speech.hypothesis\":\n            case \"speech.fragment\":\n                if (!!this.handleSpeechHypothesisMessage) {\n                    this.handleSpeechHypothesisMessage(connectionMessage.textBody);\n                }\n                processed = true;\n                break;\n            case \"speech.phrase\":\n                if (!!this.handleSpeechPhraseMessage) {\n                    await this.handleSpeechPhraseMessage(connectionMessage.textBody);\n                }\n                processed = true;\n                break;\n            default:\n                break;\n        }\n        return processed;\n    }\n    cancelRecognition(sessionId, requestId, cancellationReason, errorCode, error) {\n        // Implementing to allow inheritance\n        void sessionId;\n        void requestId;\n        void cancellationReason;\n        void errorCode;\n        void error;\n    }\n    async handleSpeechPhrase(textBody) {\n        const simple = Exports_js_2.SimpleSpeechPhrase.fromJSON(textBody, this.privRequestSession.currentTurnAudioOffset);\n        const resultReason = Exports_js_2.EnumTranslation.implTranslateRecognitionResult(simple.RecognitionStatus);\n        let result;\n        const resultProps = new Exports_js_1.PropertyCollection();\n        resultProps.setProperty(Exports_js_1.PropertyId.SpeechServiceResponse_JsonResult, textBody);\n        this.privRequestSession.onPhraseRecognized(simple.Offset + simple.Duration);\n        if (Exports_js_1.ResultReason.Canceled === resultReason) {\n            const cancelReason = Exports_js_2.EnumTranslation.implTranslateCancelResult(simple.RecognitionStatus);\n            const cancellationErrorCode = Exports_js_2.EnumTranslation.implTranslateCancelErrorCode(simple.RecognitionStatus);\n            await this.cancelRecognitionLocal(cancelReason, cancellationErrorCode, Exports_js_2.EnumTranslation.implTranslateErrorDetails(cancellationErrorCode));\n        }\n        else {\n            if (simple.RecognitionStatus !== Exports_js_2.RecognitionStatus.EndOfDictation) {\n                if (this.privRecognizerConfig.parameters.getProperty(Exports_js_2.OutputFormatPropertyName) === Exports_js_1.OutputFormat[Exports_js_1.OutputFormat.Simple]) {\n                    result = new Exports_js_1.SpeechRecognitionResult(this.privRequestSession.requestId, resultReason, simple.DisplayText, simple.Duration, simple.Offset, simple.Language, simple.LanguageDetectionConfidence, simple.SpeakerId, undefined, simple.asJson(), resultProps);\n                }\n                else {\n                    const detailed = Exports_js_2.DetailedSpeechPhrase.fromJSON(textBody, this.privRequestSession.currentTurnAudioOffset);\n                    result = new Exports_js_1.SpeechRecognitionResult(this.privRequestSession.requestId, resultReason, detailed.Text, detailed.Duration, detailed.Offset, detailed.Language, detailed.LanguageDetectionConfidence, detailed.SpeakerId, undefined, detailed.asJson(), resultProps);\n                }\n                this.handleRecognizedCallback(result, result.offset, this.privRequestSession.sessionId);\n            }\n        }\n    }\n    handleSpeechHypothesis(textBody) {\n        const hypothesis = Exports_js_2.SpeechHypothesis.fromJSON(textBody, this.privRequestSession.currentTurnAudioOffset);\n        const resultProps = new Exports_js_1.PropertyCollection();\n        resultProps.setProperty(Exports_js_1.PropertyId.SpeechServiceResponse_JsonResult, textBody);\n        const result = new Exports_js_1.SpeechRecognitionResult(this.privRequestSession.requestId, Exports_js_1.ResultReason.RecognizingSpeech, hypothesis.Text, hypothesis.Duration, hypothesis.Offset, hypothesis.Language, hypothesis.LanguageDetectionConfidence, hypothesis.SpeakerId, undefined, hypothesis.asJson(), resultProps);\n        this.privRequestSession.onHypothesis(hypothesis.Offset);\n        this.handleRecognizingCallback(result, hypothesis.Duration, this.privRequestSession.sessionId);\n    }\n}\nexports.ConversationServiceRecognizer = ConversationServiceRecognizer;\n\n//# sourceMappingURL=ConversationServiceRecognizer.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationTranscriberConnectionFactory = void 0;\nconst Exports_js_1 = require(\"../common.browser/Exports.js\");\nconst Exports_js_2 = require(\"../sdk/Exports.js\");\nconst Exports_js_3 = require(\"../common.speech/Exports.js\");\nconst ConnectionFactoryBase_js_1 = require(\"./ConnectionFactoryBase.js\");\nconst Exports_js_4 = require(\"./Exports.js\");\nconst HeaderNames_js_1 = require(\"./HeaderNames.js\");\nconst QueryParameterNames_js_1 = require(\"./QueryParameterNames.js\");\nclass ConversationTranscriberConnectionFactory extends ConnectionFactoryBase_js_1.ConnectionFactoryBase {\n    constructor() {\n        super(...arguments);\n        this.universalUri = \"/stt/speech/universal/v2\";\n        this.conversationRelativeUriV1 = \"/speech/recognition/conversation/cognitiveservices/v1\";\n    }\n    async create(config, authInfo, connectionId) {\n        let endpoint = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Endpoint, undefined);\n        const region = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Region, undefined);\n        const hostSuffix = ConnectionFactoryBase_js_1.ConnectionFactoryBase.getHostSuffix(region);\n        const host = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Host, \"wss://\" + region + \".stt.speech\" + hostSuffix);\n        const queryParams = {};\n        const endpointId = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_EndpointId, undefined);\n        const language = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_RecoLanguage, undefined);\n        if (endpointId) {\n            if (!endpoint || endpoint.search(QueryParameterNames_js_1.QueryParameterNames.CustomSpeechDeploymentId) === -1) {\n                queryParams[QueryParameterNames_js_1.QueryParameterNames.CustomSpeechDeploymentId] = endpointId;\n            }\n        }\n        else if (language) {\n            if (!endpoint || endpoint.search(QueryParameterNames_js_1.QueryParameterNames.Language) === -1) {\n                queryParams[QueryParameterNames_js_1.QueryParameterNames.Language] = language;\n            }\n        }\n        if (config.autoDetectSourceLanguages !== undefined) {\n            queryParams[QueryParameterNames_js_1.QueryParameterNames.EnableLanguageId] = \"true\";\n        }\n        const apiVersion = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion, undefined);\n        if (apiVersion === \"1\") {\n            endpoint = `${host}${this.universalUri}`;\n        }\n        else {\n            this.setV2UrlParams(config, queryParams, endpoint);\n            if (!!endpoint) {\n                const endpointUrl = new URL(endpoint);\n                const pathName = endpointUrl.pathname;\n                if (pathName === \"\" || pathName === \"/\") {\n                    // We need to generate the path, and we need to check for a redirect.\n                    endpointUrl.pathname = this.universalUri;\n                    endpoint = await ConnectionFactoryBase_js_1.ConnectionFactoryBase.getRedirectUrlFromEndpoint(endpointUrl.toString());\n                }\n            }\n            if (!endpoint) {\n                endpoint = `${host}${this.conversationRelativeUriV1}`;\n            }\n        }\n        const headers = {};\n        if (authInfo.token !== undefined && authInfo.token !== \"\") {\n            headers[authInfo.headerName] = authInfo.token;\n        }\n        headers[HeaderNames_js_1.HeaderNames.ConnectionId] = connectionId;\n        const enableCompression = config.parameters.getProperty(\"SPEECH-EnableWebsocketCompression\", \"false\") === \"true\";\n        const webSocketConnection = new Exports_js_1.WebsocketConnection(endpoint, queryParams, headers, new Exports_js_4.WebsocketMessageFormatter(), Exports_js_1.ProxyInfo.fromRecognizerConfig(config), enableCompression, connectionId);\n        // Set the value of SpeechServiceConnection_Url to webSocketConnection.uri (and not to `endpoint`), since this value is the final\n        // URI that was used to make the connection (including query parameters).\n        const uri = webSocketConnection.uri;\n        config.parameters.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Url, uri);\n        return webSocketConnection;\n    }\n    setV2UrlParams(config, queryParams, endpoint) {\n        const propertyIdToParameterMap = new Map([\n            [Exports_js_2.PropertyId.Speech_SegmentationSilenceTimeoutMs, QueryParameterNames_js_1.QueryParameterNames.SegmentationSilenceTimeoutMs],\n            [Exports_js_2.PropertyId.SpeechServiceConnection_EnableAudioLogging, QueryParameterNames_js_1.QueryParameterNames.EnableAudioLogging],\n            [Exports_js_2.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs, QueryParameterNames_js_1.QueryParameterNames.EndSilenceTimeoutMs],\n            [Exports_js_2.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs, QueryParameterNames_js_1.QueryParameterNames.InitialSilenceTimeoutMs],\n            [Exports_js_2.PropertyId.SpeechServiceResponse_PostProcessingOption, QueryParameterNames_js_1.QueryParameterNames.Postprocessing],\n            [Exports_js_2.PropertyId.SpeechServiceResponse_ProfanityOption, QueryParameterNames_js_1.QueryParameterNames.Profanity],\n            [Exports_js_2.PropertyId.SpeechServiceResponse_StablePartialResultThreshold, QueryParameterNames_js_1.QueryParameterNames.StableIntermediateThreshold],\n        ]);\n        propertyIdToParameterMap.forEach((parameterName, propertyId) => {\n            this.setUrlParameter(propertyId, parameterName, config, queryParams, endpoint);\n        });\n        const serviceProperties = JSON.parse(config.parameters.getProperty(Exports_js_3.ServicePropertiesPropertyName, \"{}\"));\n        Object.keys(serviceProperties).forEach((value) => {\n            queryParams[value] = serviceProperties[value];\n        });\n    }\n}\nexports.ConversationTranscriberConnectionFactory = ConversationTranscriberConnectionFactory;\n\n//# sourceMappingURL=ConversationTranscriberConnectionFactory.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationTranscriptionServiceRecognizer = void 0;\nconst Exports_js_1 = require(\"../sdk/Exports.js\");\nconst Exports_js_2 = require(\"./Exports.js\");\nconst SpeakerDiarization_js_1 = require(\"./ServiceMessages/PhraseDetection/SpeakerDiarization.js\");\nconst PhraseDetectionContext_js_1 = require(\"./ServiceMessages/PhraseDetection/PhraseDetectionContext.js\");\n// eslint-disable-next-line max-classes-per-file\nclass ConversationTranscriptionServiceRecognizer extends Exports_js_2.ServiceRecognizerBase {\n    constructor(authentication, connectionFactory, audioSource, recognizerConfig, conversationTranscriber) {\n        super(authentication, connectionFactory, audioSource, recognizerConfig, conversationTranscriber);\n        this.privConversationTranscriber = conversationTranscriber;\n        this.setSpeakerDiarizationJson();\n    }\n    setSpeakerDiarizationJson() {\n        if (this.privEnableSpeakerId) {\n            const phraseDetection = this.privSpeechContext.getContext().phraseDetection || {};\n            phraseDetection.mode = PhraseDetectionContext_js_1.RecognitionMode.Conversation;\n            const speakerDiarization = {};\n            speakerDiarization.mode = SpeakerDiarization_js_1.SpeakerDiarizationMode.Anonymous;\n            speakerDiarization.audioSessionId = this.privDiarizationSessionId;\n            speakerDiarization.audioOffsetMs = 0;\n            speakerDiarization.diarizeIntermediates = this.privRecognizerConfig.parameters.getProperty(Exports_js_1.PropertyId.SpeechServiceResponse_DiarizeIntermediateResults, \"false\") === \"true\";\n            phraseDetection.speakerDiarization = speakerDiarization;\n            this.privSpeechContext.getContext().phraseDetection = phraseDetection;\n        }\n    }\n    async processTypeSpecificMessages(connectionMessage) {\n        let result;\n        const resultProps = new Exports_js_1.PropertyCollection();\n        resultProps.setProperty(Exports_js_1.PropertyId.SpeechServiceResponse_JsonResult, connectionMessage.textBody);\n        let processed = false;\n        switch (connectionMessage.path.toLowerCase()) {\n            case \"speech.hypothesis\":\n            case \"speech.fragment\":\n                const hypothesis = Exports_js_2.SpeechHypothesis.fromJSON(connectionMessage.textBody, this.privRequestSession.currentTurnAudioOffset);\n                result = new Exports_js_1.ConversationTranscriptionResult(this.privRequestSession.requestId, Exports_js_1.ResultReason.RecognizingSpeech, hypothesis.Text, hypothesis.Duration, hypothesis.Offset, hypothesis.Language, hypothesis.LanguageDetectionConfidence, hypothesis.SpeakerId, undefined, hypothesis.asJson(), resultProps);\n                this.privRequestSession.onHypothesis(hypothesis.Offset);\n                const ev = new Exports_js_1.ConversationTranscriptionEventArgs(result, hypothesis.Duration, this.privRequestSession.sessionId);\n                if (!!this.privConversationTranscriber.transcribing) {\n                    try {\n                        this.privConversationTranscriber.transcribing(this.privConversationTranscriber, ev);\n                        /* eslint-disable no-empty */\n                    }\n                    catch (error) {\n                        // Not going to let errors in the event handler\n                        // trip things up.\n                    }\n                }\n                processed = true;\n                break;\n            case \"speech.phrase\":\n                const simple = Exports_js_2.SimpleSpeechPhrase.fromJSON(connectionMessage.textBody, this.privRequestSession.currentTurnAudioOffset);\n                const resultReason = Exports_js_2.EnumTranslation.implTranslateRecognitionResult(simple.RecognitionStatus);\n                this.privRequestSession.onPhraseRecognized(simple.Offset + simple.Duration);\n                if (Exports_js_1.ResultReason.Canceled === resultReason) {\n                    const cancelReason = Exports_js_2.EnumTranslation.implTranslateCancelResult(simple.RecognitionStatus);\n                    const cancellationErrorCode = Exports_js_2.EnumTranslation.implTranslateCancelErrorCode(simple.RecognitionStatus);\n                    await this.cancelRecognitionLocal(cancelReason, cancellationErrorCode, Exports_js_2.EnumTranslation.implTranslateErrorDetails(cancellationErrorCode));\n                }\n                else {\n                    if (!(this.privRequestSession.isSpeechEnded && resultReason === Exports_js_1.ResultReason.NoMatch && simple.RecognitionStatus !== Exports_js_2.RecognitionStatus.InitialSilenceTimeout)) {\n                        if (this.privRecognizerConfig.parameters.getProperty(Exports_js_2.OutputFormatPropertyName) === Exports_js_1.OutputFormat[Exports_js_1.OutputFormat.Simple]) {\n                            result = new Exports_js_1.ConversationTranscriptionResult(this.privRequestSession.requestId, resultReason, simple.DisplayText, simple.Duration, simple.Offset, simple.Language, simple.LanguageDetectionConfidence, simple.SpeakerId, undefined, simple.asJson(), resultProps);\n                        }\n                        else {\n                            const detailed = Exports_js_2.DetailedSpeechPhrase.fromJSON(connectionMessage.textBody, this.privRequestSession.currentTurnAudioOffset);\n                            result = new Exports_js_1.ConversationTranscriptionResult(this.privRequestSession.requestId, resultReason, detailed.RecognitionStatus === Exports_js_2.RecognitionStatus.Success ? detailed.NBest[0].Display : undefined, detailed.Duration, detailed.Offset, detailed.Language, detailed.LanguageDetectionConfidence, simple.SpeakerId, undefined, detailed.asJson(), resultProps);\n                        }\n                        const event = new Exports_js_1.ConversationTranscriptionEventArgs(result, result.offset, this.privRequestSession.sessionId);\n                        if (!!this.privConversationTranscriber.transcribed) {\n                            try {\n                                this.privConversationTranscriber.transcribed(this.privConversationTranscriber, event);\n                                /* eslint-disable no-empty */\n                            }\n                            catch (error) {\n                                // Not going to let errors in the event handler\n                                // trip things up.\n                            }\n                        }\n                    }\n                }\n                processed = true;\n                break;\n            default:\n                break;\n        }\n        return processed;\n    }\n    // Cancels recognition.\n    cancelRecognition(sessionId, requestId, cancellationReason, errorCode, error) {\n        const properties = new Exports_js_1.PropertyCollection();\n        properties.setProperty(Exports_js_2.CancellationErrorCodePropertyName, Exports_js_1.CancellationErrorCode[errorCode]);\n        if (!!this.privConversationTranscriber.canceled) {\n            const cancelEvent = new Exports_js_1.ConversationTranscriptionCanceledEventArgs(cancellationReason, error, errorCode, undefined, sessionId);\n            try {\n                this.privConversationTranscriber.canceled(this.privConversationTranscriber, cancelEvent);\n                /* eslint-disable no-empty */\n            }\n            catch { }\n        }\n    }\n}\nexports.ConversationTranscriptionServiceRecognizer = ConversationTranscriptionServiceRecognizer;\n\n//# sourceMappingURL=ConversationTranscriptionServiceRecognizer.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DialogConnectionFactory = void 0;\n/* eslint-disable max-classes-per-file */\nconst Exports_js_1 = require(\"../common.browser/Exports.js\");\nconst Exports_js_2 = require(\"../common.speech/Exports.js\");\nconst Exports_js_3 = require(\"../sdk/Exports.js\");\nconst ConnectionFactoryBase_js_1 = require(\"./ConnectionFactoryBase.js\");\nconst Exports_js_4 = require(\"./Exports.js\");\nconst HeaderNames_js_1 = require(\"./HeaderNames.js\");\nconst QueryParameterNames_js_1 = require(\"./QueryParameterNames.js\");\nclass DialogConnectionFactory extends ConnectionFactoryBase_js_1.ConnectionFactoryBase {\n    create(config, authInfo, connectionId) {\n        const applicationId = config.parameters.getProperty(Exports_js_3.PropertyId.Conversation_ApplicationId, \"\");\n        const dialogType = config.parameters.getProperty(Exports_js_3.PropertyId.Conversation_DialogType);\n        const region = config.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_Region);\n        const language = config.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage, \"en-US\");\n        const requestTurnStatus = config.parameters.getProperty(Exports_js_3.PropertyId.Conversation_Request_Bot_Status_Messages, \"true\");\n        const queryParams = {};\n        queryParams[HeaderNames_js_1.HeaderNames.ConnectionId] = connectionId;\n        queryParams[QueryParameterNames_js_1.QueryParameterNames.Format] = config.parameters.getProperty(Exports_js_2.OutputFormatPropertyName, Exports_js_3.OutputFormat[Exports_js_3.OutputFormat.Simple]).toLowerCase();\n        queryParams[QueryParameterNames_js_1.QueryParameterNames.Language] = language;\n        queryParams[QueryParameterNames_js_1.QueryParameterNames.RequestBotStatusMessages] = requestTurnStatus;\n        if (applicationId) {\n            queryParams[QueryParameterNames_js_1.QueryParameterNames.BotId] = applicationId;\n            if (dialogType === Exports_js_3.DialogServiceConfig.DialogTypes.CustomCommands) {\n                queryParams[HeaderNames_js_1.HeaderNames.CustomCommandsAppId] = applicationId;\n            }\n        }\n        const resourceInfix = dialogType === Exports_js_3.DialogServiceConfig.DialogTypes.CustomCommands ? \"commands/\"\n            : \"\";\n        const version = dialogType === Exports_js_3.DialogServiceConfig.DialogTypes.CustomCommands ? \"v1\"\n            : dialogType === Exports_js_3.DialogServiceConfig.DialogTypes.BotFramework ? \"v3\"\n                : \"v0\";\n        const headers = {};\n        if (authInfo.token != null && authInfo.token !== \"\") {\n            headers[authInfo.headerName] = authInfo.token;\n        }\n        // The URL used for connection is chosen in a priority order of specification:\n        //  1. If a custom endpoint is provided, that URL is used verbatim.\n        //  2. If a custom host is provided (e.g. \"wss://my.custom.endpoint.com:1123\"), a URL is constructed from it.\n        //  3. If no custom connection details are provided, a URL is constructed from default values.\n        let endpoint = config.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_Endpoint, \"\");\n        if (!endpoint) {\n            const hostSuffix = ConnectionFactoryBase_js_1.ConnectionFactoryBase.getHostSuffix(region);\n            const host = config.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_Host, `wss://${region}.${DialogConnectionFactory.BaseUrl}${hostSuffix}`);\n            const standardizedHost = host.endsWith(\"/\") ? host : host + \"/\";\n            endpoint = `${standardizedHost}${resourceInfix}${DialogConnectionFactory.ApiKey}/${version}`;\n        }\n        this.setCommonUrlParams(config, queryParams, endpoint);\n        const enableCompression = config.parameters.getProperty(\"SPEECH-EnableWebsocketCompression\", \"false\") === \"true\";\n        return Promise.resolve(new Exports_js_1.WebsocketConnection(endpoint, queryParams, headers, new Exports_js_4.WebsocketMessageFormatter(), Exports_js_1.ProxyInfo.fromRecognizerConfig(config), enableCompression, connectionId));\n    }\n}\nexports.DialogConnectionFactory = DialogConnectionFactory;\nDialogConnectionFactory.ApiKey = \"api\";\nDialogConnectionFactory.BaseUrl = \"convai.speech\";\n\n//# sourceMappingURL=DialogConnectorFactory.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DialogServiceAdapter = void 0;\nconst Exports_js_1 = require(\"../common.browser/Exports.js\");\nconst DialogEvents_js_1 = require(\"../common/DialogEvents.js\");\nconst Exports_js_2 = require(\"../common/Exports.js\");\nconst AudioOutputFormat_js_1 = require(\"../sdk/Audio/AudioOutputFormat.js\");\nconst Exports_js_3 = require(\"../sdk/Exports.js\");\nconst DialogServiceTurnStateManager_js_1 = require(\"./DialogServiceTurnStateManager.js\");\nconst Exports_js_4 = require(\"./Exports.js\");\nconst ActivityResponsePayload_js_1 = require(\"./ServiceMessages/ActivityResponsePayload.js\");\nconst InvocationSource_js_1 = require(\"./ServiceMessages/InvocationSource.js\");\nconst KeywordDetection_js_1 = require(\"./ServiceMessages/KeywordDetection/KeywordDetection.js\");\nconst SpeechConnectionMessage_Internal_js_1 = require(\"./SpeechConnectionMessage.Internal.js\");\nclass DialogServiceAdapter extends Exports_js_4.ServiceRecognizerBase {\n    constructor(authentication, connectionFactory, audioSource, recognizerConfig, dialogServiceConnector) {\n        super(authentication, connectionFactory, audioSource, recognizerConfig, dialogServiceConnector);\n        this.privEvents = new Exports_js_2.EventSource();\n        this.privDialogServiceConnector = dialogServiceConnector;\n        this.receiveMessageOverride = () => this.receiveDialogMessageOverride();\n        this.privTurnStateManager = new DialogServiceTurnStateManager_js_1.DialogServiceTurnStateManager();\n        this.recognizeOverride =\n            (recoMode, successCallback, errorCallback) => this.listenOnce(recoMode, successCallback, errorCallback);\n        this.postConnectImplOverride = (connection) => this.dialogConnectImpl(connection);\n        this.configConnectionOverride = (connection) => this.configConnection(connection);\n        this.disconnectOverride = () => this.privDisconnect();\n        this.privDialogAudioSource = audioSource;\n        this.agentConfigSent = false;\n        this.privLastResult = null;\n        this.connectionEvents.attach((connectionEvent) => {\n            if (connectionEvent.name === \"ConnectionClosedEvent\") {\n                this.terminateMessageLoop = true;\n            }\n        });\n    }\n    async sendMessage(message) {\n        const interactionGuid = (0, Exports_js_2.createGuid)();\n        const requestId = (0, Exports_js_2.createNoDashGuid)();\n        const agentMessage = {\n            context: {\n                interactionId: interactionGuid\n            },\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            messagePayload: JSON.parse(message),\n            version: 0.5\n        };\n        const agentMessageJson = JSON.stringify(agentMessage);\n        const connection = await this.fetchConnection();\n        await connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(Exports_js_2.MessageType.Text, \"agent\", requestId, \"application/json\", agentMessageJson));\n    }\n    async privDisconnect() {\n        await this.cancelRecognition(this.privRequestSession.sessionId, this.privRequestSession.requestId, Exports_js_3.CancellationReason.Error, Exports_js_3.CancellationErrorCode.NoError, \"Disconnecting\");\n        this.terminateMessageLoop = true;\n        this.agentConfigSent = false;\n        return;\n    }\n    processTypeSpecificMessages(connectionMessage) {\n        const resultProps = new Exports_js_3.PropertyCollection();\n        if (connectionMessage.messageType === Exports_js_2.MessageType.Text) {\n            resultProps.setProperty(Exports_js_3.PropertyId.SpeechServiceResponse_JsonResult, connectionMessage.textBody);\n        }\n        let result;\n        let processed;\n        switch (connectionMessage.path.toLowerCase()) {\n            case \"speech.phrase\":\n                const speechPhrase = Exports_js_4.SimpleSpeechPhrase.fromJSON(connectionMessage.textBody, this.privRequestSession.currentTurnAudioOffset);\n                this.privRequestSession.onPhraseRecognized(speechPhrase.Offset + speechPhrase.Duration);\n                if (speechPhrase.RecognitionStatus !== Exports_js_4.RecognitionStatus.TooManyRequests && speechPhrase.RecognitionStatus !== Exports_js_4.RecognitionStatus.Error) {\n                    const args = this.fireEventForResult(speechPhrase, resultProps);\n                    this.privLastResult = args.result;\n                    if (!!this.privDialogServiceConnector.recognized) {\n                        try {\n                            this.privDialogServiceConnector.recognized(this.privDialogServiceConnector, args);\n                            /* eslint-disable no-empty */\n                        }\n                        catch (error) {\n                            // Not going to let errors in the event handler\n                            // trip things up.\n                        }\n                    }\n                }\n                processed = true;\n                break;\n            case \"speech.hypothesis\":\n                const hypothesis = Exports_js_4.SpeechHypothesis.fromJSON(connectionMessage.textBody, this.privRequestSession.currentTurnAudioOffset);\n                result = new Exports_js_3.SpeechRecognitionResult(this.privRequestSession.requestId, Exports_js_3.ResultReason.RecognizingSpeech, hypothesis.Text, hypothesis.Duration, hypothesis.Offset, hypothesis.Language, hypothesis.LanguageDetectionConfidence, undefined, undefined, hypothesis.asJson(), resultProps);\n                this.privRequestSession.onHypothesis(hypothesis.Offset);\n                const ev = new Exports_js_3.SpeechRecognitionEventArgs(result, hypothesis.Offset, this.privRequestSession.sessionId);\n                if (!!this.privDialogServiceConnector.recognizing) {\n                    try {\n                        this.privDialogServiceConnector.recognizing(this.privDialogServiceConnector, ev);\n                        /* eslint-disable no-empty */\n                    }\n                    catch (error) {\n                        // Not going to let errors in the event handler\n                        // trip things up.\n                    }\n                }\n                processed = true;\n                break;\n            case \"speech.keyword\":\n                const keyword = Exports_js_4.SpeechKeyword.fromJSON(connectionMessage.textBody, this.privRequestSession.currentTurnAudioOffset);\n                result = new Exports_js_3.SpeechRecognitionResult(this.privRequestSession.requestId, keyword.Status === \"Accepted\" ? Exports_js_3.ResultReason.RecognizedKeyword : Exports_js_3.ResultReason.NoMatch, keyword.Text, keyword.Duration, keyword.Offset, undefined, undefined, undefined, undefined, keyword.asJson(), resultProps);\n                if (keyword.Status !== \"Accepted\") {\n                    this.privLastResult = result;\n                }\n                const event = new Exports_js_3.SpeechRecognitionEventArgs(result, result.duration, result.resultId);\n                if (!!this.privDialogServiceConnector.recognized) {\n                    try {\n                        this.privDialogServiceConnector.recognized(this.privDialogServiceConnector, event);\n                        /* eslint-disable no-empty */\n                    }\n                    catch (error) {\n                        // Not going to let errors in the event handler\n                        // trip things up.\n                    }\n                }\n                processed = true;\n                break;\n            case \"audio\":\n                {\n                    const audioRequestId = connectionMessage.requestId.toUpperCase();\n                    const turn = this.privTurnStateManager.GetTurn(audioRequestId);\n                    try {\n                        // Empty binary message signals end of stream.\n                        if (!connectionMessage.binaryBody) {\n                            turn.endAudioStream();\n                        }\n                        else {\n                            turn.audioStream.write(connectionMessage.binaryBody);\n                        }\n                    }\n                    catch (error) {\n                        // Not going to let errors in the event handler\n                        // trip things up.\n                    }\n                }\n                processed = true;\n                break;\n            case \"response\":\n                {\n                    this.handleResponseMessage(connectionMessage);\n                }\n                processed = true;\n                break;\n            default:\n                break;\n        }\n        const defferal = new Exports_js_2.Deferred();\n        defferal.resolve(processed);\n        return defferal.promise;\n    }\n    // Cancels recognition.\n    async cancelRecognition(sessionId, requestId, cancellationReason, errorCode, error) {\n        this.terminateMessageLoop = true;\n        if (!!this.privRequestSession.isRecognizing) {\n            await this.privRequestSession.onStopRecognizing();\n        }\n        if (!!this.privDialogServiceConnector.canceled) {\n            const properties = new Exports_js_3.PropertyCollection();\n            properties.setProperty(Exports_js_4.CancellationErrorCodePropertyName, Exports_js_3.CancellationErrorCode[errorCode]);\n            const cancelEvent = new Exports_js_3.SpeechRecognitionCanceledEventArgs(cancellationReason, error, errorCode, undefined, sessionId);\n            try {\n                this.privDialogServiceConnector.canceled(this.privDialogServiceConnector, cancelEvent);\n                /* eslint-disable no-empty */\n            }\n            catch { }\n            if (!!this.privSuccessCallback) {\n                const result = new Exports_js_3.SpeechRecognitionResult(undefined, // ResultId\n                Exports_js_3.ResultReason.Canceled, undefined, // Text\n                undefined, // Duration\n                undefined, // Offset\n                undefined, // Language\n                undefined, // Language Detection Confidence\n                undefined, // Speaker Id\n                error, undefined, // Json\n                properties);\n                try {\n                    this.privSuccessCallback(result);\n                    this.privSuccessCallback = undefined;\n                    /* eslint-disable no-empty */\n                }\n                catch { }\n            }\n        }\n    }\n    async listenOnce(recoMode, successCallback, errorCallback) {\n        this.privRecognizerConfig.recognitionMode = recoMode;\n        this.privSuccessCallback = successCallback;\n        this.privErrorCallback = errorCallback;\n        this.privRequestSession.startNewRecognition();\n        this.privRequestSession.listenForServiceTelemetry(this.privDialogAudioSource.events);\n        this.privRecognizerConfig.parameters.setProperty(Exports_js_3.PropertyId.Speech_SessionId, this.privRequestSession.sessionId);\n        // Start the connection to the service. The promise this will create is stored and will be used by configureConnection().\n        const conPromise = this.connectImpl();\n        const preAudioPromise = this.sendPreAudioMessages();\n        const node = await this.privDialogAudioSource.attach(this.privRequestSession.audioNodeId);\n        const format = await this.privDialogAudioSource.format;\n        const deviceInfo = await this.privDialogAudioSource.deviceInfo;\n        const audioNode = new Exports_js_1.ReplayableAudioNode(node, format.avgBytesPerSec);\n        await this.privRequestSession.onAudioSourceAttachCompleted(audioNode, false);\n        this.privRecognizerConfig.SpeechServiceConfig.Context.audio = { source: deviceInfo };\n        try {\n            await conPromise;\n            await preAudioPromise;\n        }\n        catch (error) {\n            await this.cancelRecognition(this.privRequestSession.sessionId, this.privRequestSession.requestId, Exports_js_3.CancellationReason.Error, Exports_js_3.CancellationErrorCode.ConnectionFailure, error);\n            return Promise.resolve();\n        }\n        const sessionStartEventArgs = new Exports_js_3.SessionEventArgs(this.privRequestSession.sessionId);\n        if (!!this.privRecognizer.sessionStarted) {\n            this.privRecognizer.sessionStarted(this.privRecognizer, sessionStartEventArgs);\n        }\n        const audioSendPromise = this.sendAudio(audioNode);\n        // /* eslint-disable no-empty */\n        audioSendPromise.then(() => { }, async (error) => {\n            await this.cancelRecognition(this.privRequestSession.sessionId, this.privRequestSession.requestId, Exports_js_3.CancellationReason.Error, Exports_js_3.CancellationErrorCode.RuntimeError, error);\n        });\n    }\n    // Establishes a websocket connection to the end point.\n    dialogConnectImpl(connection) {\n        this.privConnectionLoop = this.startMessageLoop();\n        return connection;\n    }\n    receiveDialogMessageOverride() {\n        // we won't rely on the cascading promises of the connection since we want to continually be available to receive messages\n        const communicationCustodian = new Exports_js_2.Deferred();\n        const loop = async () => {\n            try {\n                const isDisposed = this.isDisposed();\n                const terminateMessageLoop = (!this.isDisposed() && this.terminateMessageLoop);\n                if (isDisposed || terminateMessageLoop) {\n                    // We're done.\n                    communicationCustodian.resolve(undefined);\n                    return;\n                }\n                const connection = await this.fetchConnection();\n                const message = await connection.read();\n                if (!message) {\n                    return loop();\n                }\n                const connectionMessage = SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage.fromConnectionMessage(message);\n                switch (connectionMessage.path.toLowerCase()) {\n                    case \"turn.start\":\n                        {\n                            const turnRequestId = connectionMessage.requestId.toUpperCase();\n                            const audioSessionReqId = this.privRequestSession.requestId.toUpperCase();\n                            // turn started by the service\n                            if (turnRequestId !== audioSessionReqId) {\n                                this.privTurnStateManager.StartTurn(turnRequestId);\n                            }\n                            else {\n                                this.privRequestSession.onServiceTurnStartResponse();\n                            }\n                        }\n                        break;\n                    case \"speech.startdetected\":\n                        const speechStartDetected = Exports_js_4.SpeechDetected.fromJSON(connectionMessage.textBody, this.privRequestSession.currentTurnAudioOffset);\n                        const speechStartEventArgs = new Exports_js_3.RecognitionEventArgs(speechStartDetected.Offset, this.privRequestSession.sessionId);\n                        if (!!this.privRecognizer.speechStartDetected) {\n                            this.privRecognizer.speechStartDetected(this.privRecognizer, speechStartEventArgs);\n                        }\n                        break;\n                    case \"speech.enddetected\":\n                        let json;\n                        if (connectionMessage.textBody.length > 0) {\n                            json = connectionMessage.textBody;\n                        }\n                        else {\n                            // If the request was empty, the JSON returned is empty.\n                            json = \"{ Offset: 0 }\";\n                        }\n                        const speechStopDetected = Exports_js_4.SpeechDetected.fromJSON(json, this.privRequestSession.currentTurnAudioOffset);\n                        this.privRequestSession.onServiceRecognized(speechStopDetected.Offset);\n                        const speechStopEventArgs = new Exports_js_3.RecognitionEventArgs(speechStopDetected.Offset, this.privRequestSession.sessionId);\n                        if (!!this.privRecognizer.speechEndDetected) {\n                            this.privRecognizer.speechEndDetected(this.privRecognizer, speechStopEventArgs);\n                        }\n                        break;\n                    case \"turn.end\":\n                        {\n                            const turnEndRequestId = connectionMessage.requestId.toUpperCase();\n                            const audioSessionReqId = this.privRequestSession.requestId.toUpperCase();\n                            // turn started by the service\n                            if (turnEndRequestId !== audioSessionReqId) {\n                                this.privTurnStateManager.CompleteTurn(turnEndRequestId);\n                            }\n                            else {\n                                // Audio session turn\n                                const sessionStopEventArgs = new Exports_js_3.SessionEventArgs(this.privRequestSession.sessionId);\n                                await this.privRequestSession.onServiceTurnEndResponse(false);\n                                if (!this.privRecognizerConfig.isContinuousRecognition || this.privRequestSession.isSpeechEnded || !this.privRequestSession.isRecognizing) {\n                                    if (!!this.privRecognizer.sessionStopped) {\n                                        this.privRecognizer.sessionStopped(this.privRecognizer, sessionStopEventArgs);\n                                    }\n                                }\n                                // report result to promise.\n                                if (!!this.privSuccessCallback && this.privLastResult) {\n                                    try {\n                                        this.privSuccessCallback(this.privLastResult);\n                                        this.privLastResult = null;\n                                    }\n                                    catch (e) {\n                                        if (!!this.privErrorCallback) {\n                                            this.privErrorCallback(e);\n                                        }\n                                    }\n                                    // Only invoke the call back once.\n                                    // and if it's successful don't invoke the\n                                    // error after that.\n                                    this.privSuccessCallback = undefined;\n                                    this.privErrorCallback = undefined;\n                                }\n                            }\n                        }\n                        break;\n                    default:\n                        try {\n                            const processed = await this.processTypeSpecificMessages(connectionMessage);\n                            if (!processed) {\n                                if (!!this.serviceEvents) {\n                                    this.serviceEvents.onEvent(new Exports_js_2.ServiceEvent(connectionMessage.path.toLowerCase(), connectionMessage.textBody));\n                                }\n                            }\n                        }\n                        catch (e) {\n                            //\n                        }\n                }\n                const ret = loop();\n                return ret;\n            }\n            catch (error) {\n                this.terminateMessageLoop = true;\n                communicationCustodian.resolve();\n            }\n        };\n        loop().catch((reason) => {\n            Exports_js_2.Events.instance.onEvent(new Exports_js_2.BackgroundEvent(reason));\n        });\n        return communicationCustodian.promise;\n    }\n    async startMessageLoop() {\n        this.terminateMessageLoop = false;\n        try {\n            await this.receiveDialogMessageOverride();\n        }\n        catch (error) {\n            await this.cancelRecognition(this.privRequestSession.sessionId, this.privRequestSession.requestId, Exports_js_3.CancellationReason.Error, Exports_js_3.CancellationErrorCode.RuntimeError, error);\n        }\n        return Promise.resolve();\n    }\n    // Takes an established websocket connection to the endpoint and sends speech configuration information.\n    async configConnection(connection) {\n        if (this.terminateMessageLoop) {\n            this.terminateMessageLoop = false;\n            return Promise.reject(\"Connection to service terminated.\");\n        }\n        await this.sendSpeechServiceConfig(connection, this.privRequestSession, this.privRecognizerConfig.SpeechServiceConfig.serialize());\n        await this.sendAgentConfig(connection);\n        return connection;\n    }\n    async sendPreAudioMessages() {\n        const connection = await this.fetchConnection();\n        this.addKeywordContextData();\n        await this.sendSpeechContext(connection, true);\n        await this.sendAgentContext(connection);\n        await this.sendWaveHeader(connection);\n    }\n    sendAgentConfig(connection) {\n        if (this.agentConfig && !this.agentConfigSent) {\n            if (this.privRecognizerConfig\n                .parameters\n                .getProperty(Exports_js_3.PropertyId.Conversation_DialogType) === Exports_js_3.DialogServiceConfig.DialogTypes.CustomCommands) {\n                const config = this.agentConfig.get();\n                config.botInfo.commandsCulture = this.privRecognizerConfig.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage, \"en-us\");\n                this.agentConfig.set(config);\n            }\n            this.onEvent(new DialogEvents_js_1.SendingAgentContextMessageEvent(this.agentConfig));\n            const agentConfigJson = this.agentConfig.toJsonString();\n            // guard against sending this multiple times on one connection\n            this.agentConfigSent = true;\n            return connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(Exports_js_2.MessageType.Text, \"agent.config\", this.privRequestSession.requestId, \"application/json\", agentConfigJson));\n        }\n        return;\n    }\n    sendAgentContext(connection) {\n        const guid = (0, Exports_js_2.createGuid)();\n        const speechActivityTemplate = this.privDialogServiceConnector.properties.getProperty(Exports_js_3.PropertyId.Conversation_Speech_Activity_Template);\n        const agentContext = {\n            channelData: \"\",\n            context: {\n                interactionId: guid\n            },\n            messagePayload: typeof speechActivityTemplate === undefined ? undefined : speechActivityTemplate,\n            version: 0.5\n        };\n        const agentContextJson = JSON.stringify(agentContext);\n        return connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(Exports_js_2.MessageType.Text, \"speech.agent.context\", this.privRequestSession.requestId, \"application/json\", agentContextJson));\n    }\n    fireEventForResult(serviceResult, properties) {\n        const resultReason = Exports_js_4.EnumTranslation.implTranslateRecognitionResult(serviceResult.RecognitionStatus);\n        const result = new Exports_js_3.SpeechRecognitionResult(this.privRequestSession.requestId, resultReason, serviceResult.DisplayText, serviceResult.Duration, serviceResult.Offset, serviceResult.Language, serviceResult.LanguageDetectionConfidence, undefined, undefined, serviceResult.asJson(), properties);\n        const ev = new Exports_js_3.SpeechRecognitionEventArgs(result, serviceResult.Offset, this.privRequestSession.sessionId);\n        return ev;\n    }\n    handleResponseMessage(responseMessage) {\n        // \"response\" messages can contain either \"message\" (activity) or \"MessageStatus\" data. Fire the appropriate\n        // event according to the message type that's specified.\n        const responsePayload = JSON.parse(responseMessage.textBody);\n        switch (responsePayload.messageType.toLowerCase()) {\n            case \"message\":\n                const responseRequestId = responseMessage.requestId.toUpperCase();\n                const activityPayload = ActivityResponsePayload_js_1.ActivityPayloadResponse.fromJSON(responseMessage.textBody);\n                const turn = this.privTurnStateManager.GetTurn(responseRequestId);\n                // update the conversation Id\n                if (activityPayload.conversationId) {\n                    const updateAgentConfig = this.agentConfig.get();\n                    updateAgentConfig.botInfo.conversationId = activityPayload.conversationId;\n                    this.agentConfig.set(updateAgentConfig);\n                }\n                const pullAudioOutputStream = turn.processActivityPayload(activityPayload, AudioOutputFormat_js_1.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormatString(this.privDialogServiceConnector.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_SynthOutputFormat, undefined)));\n                const activity = new Exports_js_3.ActivityReceivedEventArgs(activityPayload.messagePayload, pullAudioOutputStream);\n                if (!!this.privDialogServiceConnector.activityReceived) {\n                    try {\n                        this.privDialogServiceConnector.activityReceived(this.privDialogServiceConnector, activity);\n                        /* eslint-disable-next-line no-empty */\n                    }\n                    catch (error) {\n                        // Not going to let errors in the event handler\n                        // trip things up.\n                    }\n                }\n                break;\n            case \"messagestatus\":\n                if (!!this.privDialogServiceConnector.turnStatusReceived) {\n                    try {\n                        this.privDialogServiceConnector.turnStatusReceived(this.privDialogServiceConnector, new Exports_js_3.TurnStatusReceivedEventArgs(responseMessage.textBody));\n                        /* eslint-disable-next-line no-empty */\n                    }\n                    catch (error) {\n                        // Not going to let errors in the event handler\n                        // trip things up.\n                    }\n                }\n                break;\n            default:\n                Exports_js_2.Events.instance.onEvent(new Exports_js_2.BackgroundEvent(`Unexpected response of type ${responsePayload.messageType}. Ignoring.`));\n                break;\n        }\n    }\n    onEvent(event) {\n        this.privEvents.onEvent(event);\n        Exports_js_2.Events.instance.onEvent(event);\n    }\n    addKeywordContextData() {\n        const keywordPropertyValue = this.privRecognizerConfig.parameters.getProperty(\"SPEECH-KeywordsToDetect\");\n        if (keywordPropertyValue === undefined) {\n            return;\n        }\n        const keywordOffsetPropertyValue = this.privRecognizerConfig.parameters\n            .getProperty(\"SPEECH-KeywordsToDetect-Offsets\");\n        const keywordDurationPropertyValue = this.privRecognizerConfig.parameters\n            .getProperty(\"SPEECH-KeywordsToDetect-Durations\");\n        const keywords = keywordPropertyValue.split(\";\");\n        const keywordOffsets = keywordOffsetPropertyValue === undefined ? [] : keywordOffsetPropertyValue.split(\";\");\n        const keywordDurations = keywordDurationPropertyValue === undefined ? [] : keywordDurationPropertyValue.split(\";\");\n        const keywordDefinitionArray = [];\n        for (let i = 0; i < keywords.length; i++) {\n            const definition = {\n                text: keywords[i]\n            };\n            if (i < keywordOffsets.length) {\n                definition.startOffset = Number(keywordOffsets[i]);\n            }\n            if (i < keywordDurations.length) {\n                definition.duration = Number(keywordDurations[i]);\n            }\n            keywordDefinitionArray.push(definition);\n        }\n        this.speechContext.getContext().invocationSource = InvocationSource_js_1.InvocationSource.VoiceActivationWithKeyword;\n        this.speechContext.getContext().keywordDetection = [{\n                clientDetectedKeywords: keywordDefinitionArray,\n                onReject: { action: KeywordDetection_js_1.OnRejectAction.EndOfTurn },\n                type: KeywordDetection_js_1.KeywordDetectionType.StartTrigger\n            }];\n    }\n}\nexports.DialogServiceAdapter = DialogServiceAdapter;\n\n//# sourceMappingURL=DialogServiceAdapter.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DialogServiceTurnState = void 0;\nconst AudioOutputFormat_js_1 = require(\"../sdk/Audio/AudioOutputFormat.js\");\nconst AudioOutputStream_js_1 = require(\"../sdk/Audio/AudioOutputStream.js\");\nconst ActivityResponsePayload_js_1 = require(\"./ServiceMessages/ActivityResponsePayload.js\");\nclass DialogServiceTurnState {\n    constructor(manager, requestId) {\n        this.privRequestId = requestId;\n        this.privIsCompleted = false;\n        this.privAudioStream = null;\n        this.privTurnManager = manager;\n        this.resetTurnEndTimeout();\n    }\n    get audioStream() {\n        // Called when is needed to stream.\n        this.resetTurnEndTimeout();\n        return this.privAudioStream;\n    }\n    processActivityPayload(payload, audioFormat) {\n        if (payload.messageDataStreamType === ActivityResponsePayload_js_1.MessageDataStreamType.TextToSpeechAudio) {\n            this.privAudioStream = AudioOutputStream_js_1.AudioOutputStream.createPullStream();\n            this.privAudioStream.format = (audioFormat !== undefined) ? audioFormat : AudioOutputFormat_js_1.AudioOutputFormatImpl.getDefaultOutputFormat();\n        }\n        return this.privAudioStream;\n    }\n    endAudioStream() {\n        if (this.privAudioStream !== null && !this.privAudioStream.isClosed) {\n            this.privAudioStream.close();\n        }\n    }\n    complete() {\n        if (this.privTimeoutToken !== undefined) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            clearTimeout(this.privTimeoutToken);\n        }\n        this.endAudioStream();\n    }\n    resetTurnEndTimeout() {\n        if (this.privTimeoutToken !== undefined) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            clearTimeout(this.privTimeoutToken);\n        }\n        this.privTimeoutToken = setTimeout(() => {\n            this.privTurnManager.CompleteTurn(this.privRequestId);\n            return;\n        }, 2000);\n    }\n}\nexports.DialogServiceTurnState = DialogServiceTurnState;\n\n//# sourceMappingURL=DialogServiceTurnState.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DialogServiceTurnStateManager = void 0;\nconst Error_js_1 = require(\"../common/Error.js\");\nconst DialogServiceTurnState_js_1 = require(\"./DialogServiceTurnState.js\");\nclass DialogServiceTurnStateManager {\n    constructor() {\n        this.privTurnMap = new Map();\n        return;\n    }\n    StartTurn(id) {\n        if (this.privTurnMap.has(id)) {\n            throw new Error_js_1.InvalidOperationError(\"Service error: There is already a turn with id:\" + id);\n        }\n        const turnState = new DialogServiceTurnState_js_1.DialogServiceTurnState(this, id);\n        this.privTurnMap.set(id, turnState);\n        return this.privTurnMap.get(id);\n    }\n    GetTurn(id) {\n        return this.privTurnMap.get(id);\n    }\n    CompleteTurn(id) {\n        if (!this.privTurnMap.has(id)) {\n            throw new Error_js_1.InvalidOperationError(\"Service error: Received turn end for an unknown turn id:\" + id);\n        }\n        const turnState = this.privTurnMap.get(id);\n        turnState.complete();\n        this.privTurnMap.delete(id);\n        return turnState;\n    }\n}\nexports.DialogServiceTurnStateManager = DialogServiceTurnStateManager;\n\n//# sourceMappingURL=DialogServiceTurnStateManager.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DynamicGrammarBuilder = void 0;\nconst Group_js_1 = require(\"./ServiceMessages/Dgi/Group.js\");\n/**\n * Responsible for building the object to be sent to the speech service to support dynamic grammars.\n * @class DynamicGrammarBuilder\n */\nclass DynamicGrammarBuilder {\n    constructor() {\n        this.privWeight = 1.0;\n    }\n    // Adds one more reference phrases to the dynamic grammar to send.\n    // All added phrases are generic phrases.\n    addPhrase(phrase) {\n        if (!this.privPhrases) {\n            this.privPhrases = [];\n        }\n        if (phrase instanceof Array) {\n            this.privPhrases = this.privPhrases.concat(phrase);\n        }\n        else {\n            this.privPhrases.push(phrase);\n        }\n    }\n    // Clears all phrases stored in the current object.\n    clearPhrases() {\n        this.privPhrases = undefined;\n    }\n    // Adds one or more reference grammars to the current grammar.\n    addReferenceGrammar(grammar) {\n        if (!this.privGrammars) {\n            this.privGrammars = [];\n        }\n        if (grammar instanceof Array) {\n            this.privGrammars = this.privGrammars.concat(grammar);\n        }\n        else {\n            this.privGrammars.push(grammar);\n        }\n    }\n    // clears all grammars stored on the recognizer.\n    clearGrammars() {\n        this.privGrammars = undefined;\n    }\n    // Sets the weight for the dynamic grammar.\n    setWeight(weight) {\n        this.privWeight = weight;\n    }\n    // Generates an object that represents the dynamic grammar used by the Speech Service.\n    // This is done by building an object with the correct layout based on the phrases and reference grammars added to this instance\n    // of a DynamicGrammarBuilder\n    generateGrammarObject() {\n        if (this.privGrammars === undefined && this.privPhrases === undefined) {\n            return undefined;\n        }\n        const retObj = {};\n        retObj.referenceGrammars = this.privGrammars;\n        if (undefined !== this.privPhrases && 0 !== this.privPhrases.length) {\n            const retPhrases = [];\n            this.privPhrases.forEach((value) => {\n                retPhrases.push({\n                    text: value,\n                });\n            });\n            retObj.groups = [{ type: Group_js_1.GroupType.Generic, items: retPhrases }];\n            retObj.bias = this.privWeight;\n        }\n        return retObj;\n    }\n}\nexports.DynamicGrammarBuilder = DynamicGrammarBuilder;\n\n//# sourceMappingURL=DynamicGrammarBuilder.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EnumTranslation = void 0;\nconst Exports_js_1 = require(\"../sdk/Exports.js\");\nconst Exports_js_2 = require(\"./Exports.js\");\nclass EnumTranslation {\n    static implTranslateRecognitionResult(recognitionStatus, expectEndOfDictation = false) {\n        let reason = Exports_js_1.ResultReason.Canceled;\n        switch (recognitionStatus) {\n            case Exports_js_2.RecognitionStatus.Success:\n                reason = Exports_js_1.ResultReason.RecognizedSpeech;\n                break;\n            case Exports_js_2.RecognitionStatus.EndOfDictation:\n                // If we need the result in EndOfDictation (typically some session level result),\n                // translate into RecognizedSpeech, otherwise NoMatch\n                reason = expectEndOfDictation ? Exports_js_1.ResultReason.RecognizedSpeech : Exports_js_1.ResultReason.NoMatch;\n                break;\n            case Exports_js_2.RecognitionStatus.NoMatch:\n            case Exports_js_2.RecognitionStatus.InitialSilenceTimeout:\n            case Exports_js_2.RecognitionStatus.BabbleTimeout:\n                reason = Exports_js_1.ResultReason.NoMatch;\n                break;\n            case Exports_js_2.RecognitionStatus.Error:\n            case Exports_js_2.RecognitionStatus.BadRequest:\n            case Exports_js_2.RecognitionStatus.Forbidden:\n            default:\n                reason = Exports_js_1.ResultReason.Canceled;\n                break;\n        }\n        return reason;\n    }\n    static implTranslateCancelResult(recognitionStatus) {\n        let reason = Exports_js_1.CancellationReason.EndOfStream;\n        switch (recognitionStatus) {\n            case Exports_js_2.RecognitionStatus.Success:\n            case Exports_js_2.RecognitionStatus.EndOfDictation:\n            case Exports_js_2.RecognitionStatus.NoMatch:\n                reason = Exports_js_1.CancellationReason.EndOfStream;\n                break;\n            case Exports_js_2.RecognitionStatus.InitialSilenceTimeout:\n            case Exports_js_2.RecognitionStatus.BabbleTimeout:\n            case Exports_js_2.RecognitionStatus.Error:\n            case Exports_js_2.RecognitionStatus.BadRequest:\n            case Exports_js_2.RecognitionStatus.Forbidden:\n            default:\n                reason = Exports_js_1.CancellationReason.Error;\n                break;\n        }\n        return reason;\n    }\n    static implTranslateCancelErrorCode(recognitionStatus) {\n        let reason = Exports_js_1.CancellationErrorCode.NoError;\n        switch (recognitionStatus) {\n            case Exports_js_2.RecognitionStatus.Error:\n                reason = Exports_js_1.CancellationErrorCode.ServiceError;\n                break;\n            case Exports_js_2.RecognitionStatus.TooManyRequests:\n                reason = Exports_js_1.CancellationErrorCode.TooManyRequests;\n                break;\n            case Exports_js_2.RecognitionStatus.BadRequest:\n                reason = Exports_js_1.CancellationErrorCode.BadRequestParameters;\n                break;\n            case Exports_js_2.RecognitionStatus.Forbidden:\n                reason = Exports_js_1.CancellationErrorCode.Forbidden;\n                break;\n            default:\n                reason = Exports_js_1.CancellationErrorCode.NoError;\n                break;\n        }\n        return reason;\n    }\n    static implTranslateErrorDetails(cancellationErrorCode) {\n        let errorDetails = \"The speech service encountered an internal error and could not continue.\";\n        switch (cancellationErrorCode) {\n            case Exports_js_1.CancellationErrorCode.Forbidden:\n                errorDetails = \"The recognizer is using a free subscription that ran out of quota.\";\n                break;\n            case Exports_js_1.CancellationErrorCode.BadRequestParameters:\n                errorDetails = \"Invalid parameter or unsupported audio format in the request.\";\n                break;\n            case Exports_js_1.CancellationErrorCode.TooManyRequests:\n                errorDetails = \"The number of parallel requests exceeded the number of allowed concurrent transcriptions.\";\n                break;\n            default:\n                break;\n        }\n        return errorDetails;\n    }\n}\nexports.EnumTranslation = EnumTranslation;\n\n//# sourceMappingURL=EnumTranslation.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AutoDetectSourceLanguagesOpenRangeOptionName = exports.ForceDictationPropertyName = exports.ServicePropertiesPropertyName = exports.CancellationErrorCodePropertyName = exports.OutputFormatPropertyName = exports.SpeechSynthesisAdapter = exports.AvatarSynthesisAdapter = void 0;\n// Make sure not to export internal modules.\n//\n__exportStar(require(\"./CognitiveSubscriptionKeyAuthentication.js\"), exports);\n__exportStar(require(\"./CognitiveTokenAuthentication.js\"), exports);\n__exportStar(require(\"./IAuthentication.js\"), exports);\n__exportStar(require(\"./IConnectionFactory.js\"), exports);\n__exportStar(require(\"./ISynthesisConnectionFactory.js\"), exports);\n__exportStar(require(\"./RecognitionEvents.js\"), exports);\n__exportStar(require(\"./ServiceRecognizerBase.js\"), exports);\n__exportStar(require(\"./ConversationServiceRecognizer.js\"), exports);\n__exportStar(require(\"./RecognizerConfig.js\"), exports);\n__exportStar(require(\"./SpeechServiceInterfaces.js\"), exports);\n__exportStar(require(\"./WebsocketMessageFormatter.js\"), exports);\n__exportStar(require(\"./SpeechConnectionFactory.js\"), exports);\n__exportStar(require(\"./ConversationTranscriberConnectionFactory.js\"), exports);\n__exportStar(require(\"./TranscriberConnectionFactory.js\"), exports);\n__exportStar(require(\"./TranslationConnectionFactory.js\"), exports);\n__exportStar(require(\"./SpeechSynthesisConnectionFactory.js\"), exports);\n__exportStar(require(\"./EnumTranslation.js\"), exports);\n__exportStar(require(\"./ServiceMessages/Enums.js\"), exports);\n__exportStar(require(\"./ServiceMessages/TranslationSynthesisEnd.js\"), exports);\n__exportStar(require(\"./ServiceMessages/TranslationHypothesis.js\"), exports);\n__exportStar(require(\"./ServiceMessages/TranslationPhrase.js\"), exports);\n__exportStar(require(\"./TranslationServiceRecognizer.js\"), exports);\n__exportStar(require(\"./ServiceMessages/SpeechDetected.js\"), exports);\n__exportStar(require(\"./ServiceMessages/SpeechHypothesis.js\"), exports);\n__exportStar(require(\"./ServiceMessages/SpeechKeyword.js\"), exports);\n__exportStar(require(\"./SpeechServiceRecognizer.js\"), exports);\n__exportStar(require(\"./ConversationTranscriptionServiceRecognizer.js\"), exports);\n__exportStar(require(\"./TranscriptionServiceRecognizer.js\"), exports);\n__exportStar(require(\"./ServiceMessages/DetailedSpeechPhrase.js\"), exports);\n__exportStar(require(\"./ServiceMessages/SimpleSpeechPhrase.js\"), exports);\n__exportStar(require(\"./RequestSession.js\"), exports);\n__exportStar(require(\"./SpeechContext.js\"), exports);\n__exportStar(require(\"./DynamicGrammarBuilder.js\"), exports);\n__exportStar(require(\"./DialogServiceAdapter.js\"), exports);\n__exportStar(require(\"./AgentConfig.js\"), exports);\n__exportStar(require(\"./Transcription/Exports.js\"), exports);\n__exportStar(require(\"./ServiceMessages/SynthesisAudioMetadata.js\"), exports);\n__exportStar(require(\"./SynthesisTurn.js\"), exports);\n__exportStar(require(\"./SynthesisAdapterBase.js\"), exports);\nvar AvatarSynthesisAdapter_js_1 = require(\"./AvatarSynthesisAdapter.js\");\nObject.defineProperty(exports, \"AvatarSynthesisAdapter\", { enumerable: true, get: function () { return AvatarSynthesisAdapter_js_1.AvatarSynthesisAdapter; } });\nvar SpeechSynthesisAdapter_js_1 = require(\"./SpeechSynthesisAdapter.js\");\nObject.defineProperty(exports, \"SpeechSynthesisAdapter\", { enumerable: true, get: function () { return SpeechSynthesisAdapter_js_1.SpeechSynthesisAdapter; } });\n__exportStar(require(\"./SynthesisRestAdapter.js\"), exports);\n__exportStar(require(\"./SynthesizerConfig.js\"), exports);\n__exportStar(require(\"./SynthesisContext.js\"), exports);\n__exportStar(require(\"./SpeechServiceConfig.js\"), exports);\nexports.OutputFormatPropertyName = \"OutputFormat\";\nexports.CancellationErrorCodePropertyName = \"CancellationErrorCode\";\nexports.ServicePropertiesPropertyName = \"ServiceProperties\";\nexports.ForceDictationPropertyName = \"ForceDictation\";\nexports.AutoDetectSourceLanguagesOpenRangeOptionName = \"UND\";\n\n//# sourceMappingURL=Exports.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HeaderNames = void 0;\nclass HeaderNames {\n}\nexports.HeaderNames = HeaderNames;\nHeaderNames.AuthKey = \"Ocp-Apim-Subscription-Key\";\nHeaderNames.Authorization = \"Authorization\";\nHeaderNames.SpIDAuthKey = \"Apim-Subscription-Id\";\nHeaderNames.ConnectionId = \"X-ConnectionId\";\nHeaderNames.ContentType = \"Content-Type\";\nHeaderNames.CustomCommandsAppId = \"X-CommandsAppId\";\nHeaderNames.Path = \"Path\";\nHeaderNames.RequestId = \"X-RequestId\";\nHeaderNames.RequestStreamId = \"X-StreamId\";\nHeaderNames.RequestTimestamp = \"X-Timestamp\";\n\n//# sourceMappingURL=HeaderNames.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuthInfo = void 0;\nclass AuthInfo {\n    constructor(headerName, token) {\n        this.privHeaderName = headerName;\n        this.privToken = token;\n    }\n    get headerName() {\n        return this.privHeaderName;\n    }\n    get token() {\n        return this.privToken;\n    }\n}\nexports.AuthInfo = AuthInfo;\n\n//# sourceMappingURL=IAuthentication.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n//# sourceMappingURL=IConnectionFactory.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n//# sourceMappingURL=ISynthesisConnectionFactory.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QueryParameterNames = void 0;\nclass QueryParameterNames {\n}\nexports.QueryParameterNames = QueryParameterNames;\nQueryParameterNames.BotId = \"botid\";\nQueryParameterNames.CustomSpeechDeploymentId = \"cid\";\nQueryParameterNames.CustomVoiceDeploymentId = \"deploymentId\";\nQueryParameterNames.EnableAudioLogging = \"storeAudio\";\nQueryParameterNames.EnableLanguageId = \"lidEnabled\";\nQueryParameterNames.EnableWordLevelTimestamps = \"wordLevelTimestamps\";\nQueryParameterNames.EndSilenceTimeoutMs = \"endSilenceTimeoutMs\";\nQueryParameterNames.SegmentationSilenceTimeoutMs = \"segmentationSilenceTimeoutMs\";\nQueryParameterNames.SegmentationMaximumTimeMs = \"segmentationMaximumTimeMs\";\nQueryParameterNames.SegmentationStrategy = \"segmentationStrategy\";\nQueryParameterNames.Format = \"format\";\nQueryParameterNames.InitialSilenceTimeoutMs = \"initialSilenceTimeoutMs\";\nQueryParameterNames.Language = \"language\";\nQueryParameterNames.Profanity = \"profanity\";\nQueryParameterNames.RequestBotStatusMessages = \"enableBotMessageStatus\";\nQueryParameterNames.StableIntermediateThreshold = \"stableIntermediateThreshold\";\nQueryParameterNames.StableTranslation = \"stableTranslation\";\nQueryParameterNames.TestHooks = \"testhooks\";\nQueryParameterNames.Postprocessing = \"postprocessing\";\nQueryParameterNames.CtsMeetingId = \"meetingId\";\nQueryParameterNames.CtsDeviceId = \"deviceId\";\nQueryParameterNames.CtsIsParticipant = \"isParticipant\";\nQueryParameterNames.EnableAvatar = \"enableTalkingAvatar\";\n\n//# sourceMappingURL=QueryParameterNames.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n/* eslint-disable max-classes-per-file */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RecognitionEndedEvent = exports.RecognitionCompletionStatus = exports.RecognitionStartedEvent = exports.ConnectingToServiceEvent = exports.ListeningStartedEvent = exports.RecognitionTriggeredEvent = exports.SpeechRecognitionEvent = void 0;\nconst Exports_js_1 = require(\"../common/Exports.js\");\nclass SpeechRecognitionEvent extends Exports_js_1.PlatformEvent {\n    constructor(eventName, requestId, sessionId, eventType = Exports_js_1.EventType.Info) {\n        super(eventName, eventType);\n        this.privRequestId = requestId;\n        this.privSessionId = sessionId;\n    }\n    get requestId() {\n        return this.privRequestId;\n    }\n    get sessionId() {\n        return this.privSessionId;\n    }\n}\nexports.SpeechRecognitionEvent = SpeechRecognitionEvent;\nclass RecognitionTriggeredEvent extends SpeechRecognitionEvent {\n    constructor(requestId, sessionId, audioSourceId, audioNodeId) {\n        super(\"RecognitionTriggeredEvent\", requestId, sessionId);\n        this.privAudioSourceId = audioSourceId;\n        this.privAudioNodeId = audioNodeId;\n    }\n    get audioSourceId() {\n        return this.privAudioSourceId;\n    }\n    get audioNodeId() {\n        return this.privAudioNodeId;\n    }\n}\nexports.RecognitionTriggeredEvent = RecognitionTriggeredEvent;\nclass ListeningStartedEvent extends SpeechRecognitionEvent {\n    constructor(requestId, sessionId, audioSourceId, audioNodeId) {\n        super(\"ListeningStartedEvent\", requestId, sessionId);\n        this.privAudioSourceId = audioSourceId;\n        this.privAudioNodeId = audioNodeId;\n    }\n    get audioSourceId() {\n        return this.privAudioSourceId;\n    }\n    get audioNodeId() {\n        return this.privAudioNodeId;\n    }\n}\nexports.ListeningStartedEvent = ListeningStartedEvent;\nclass ConnectingToServiceEvent extends SpeechRecognitionEvent {\n    constructor(requestId, authFetchEventid, sessionId) {\n        super(\"ConnectingToServiceEvent\", requestId, sessionId);\n        this.privAuthFetchEventid = authFetchEventid;\n    }\n    get authFetchEventid() {\n        return this.privAuthFetchEventid;\n    }\n}\nexports.ConnectingToServiceEvent = ConnectingToServiceEvent;\nclass RecognitionStartedEvent extends SpeechRecognitionEvent {\n    constructor(requestId, audioSourceId, audioNodeId, authFetchEventId, sessionId) {\n        super(\"RecognitionStartedEvent\", requestId, sessionId);\n        this.privAudioSourceId = audioSourceId;\n        this.privAudioNodeId = audioNodeId;\n        this.privAuthFetchEventId = authFetchEventId;\n    }\n    get audioSourceId() {\n        return this.privAudioSourceId;\n    }\n    get audioNodeId() {\n        return this.privAudioNodeId;\n    }\n    get authFetchEventId() {\n        return this.privAuthFetchEventId;\n    }\n}\nexports.RecognitionStartedEvent = RecognitionStartedEvent;\nvar RecognitionCompletionStatus;\n(function (RecognitionCompletionStatus) {\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"Success\"] = 0] = \"Success\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"AudioSourceError\"] = 1] = \"AudioSourceError\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"AudioSourceTimeout\"] = 2] = \"AudioSourceTimeout\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"AuthTokenFetchError\"] = 3] = \"AuthTokenFetchError\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"AuthTokenFetchTimeout\"] = 4] = \"AuthTokenFetchTimeout\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"UnAuthorized\"] = 5] = \"UnAuthorized\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"ConnectTimeout\"] = 6] = \"ConnectTimeout\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"ConnectError\"] = 7] = \"ConnectError\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"ClientRecognitionActivityTimeout\"] = 8] = \"ClientRecognitionActivityTimeout\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"UnknownError\"] = 9] = \"UnknownError\";\n})(RecognitionCompletionStatus = exports.RecognitionCompletionStatus || (exports.RecognitionCompletionStatus = {}));\nclass RecognitionEndedEvent extends SpeechRecognitionEvent {\n    constructor(requestId, audioSourceId, audioNodeId, authFetchEventId, sessionId, serviceTag, status, error) {\n        super(\"RecognitionEndedEvent\", requestId, sessionId, status === RecognitionCompletionStatus.Success ? Exports_js_1.EventType.Info : Exports_js_1.EventType.Error);\n        this.privAudioSourceId = audioSourceId;\n        this.privAudioNodeId = audioNodeId;\n        this.privAuthFetchEventId = authFetchEventId;\n        this.privStatus = status;\n        this.privError = error;\n        this.privServiceTag = serviceTag;\n    }\n    get audioSourceId() {\n        return this.privAudioSourceId;\n    }\n    get audioNodeId() {\n        return this.privAudioNodeId;\n    }\n    get authFetchEventId() {\n        return this.privAuthFetchEventId;\n    }\n    get serviceTag() {\n        return this.privServiceTag;\n    }\n    get status() {\n        return this.privStatus;\n    }\n    get error() {\n        return this.privError;\n    }\n}\nexports.RecognitionEndedEvent = RecognitionEndedEvent;\n\n//# sourceMappingURL=RecognitionEvents.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RecognizerConfig = exports.SpeechResultFormat = void 0;\n/* eslint-disable max-classes-per-file */\nconst Exports_js_1 = require(\"../sdk/Exports.js\");\nconst Exports_js_2 = require(\"./Exports.js\");\nconst PhraseDetectionContext_js_1 = require(\"./ServiceMessages/PhraseDetection/PhraseDetectionContext.js\");\nvar SpeechResultFormat;\n(function (SpeechResultFormat) {\n    SpeechResultFormat[SpeechResultFormat[\"Simple\"] = 0] = \"Simple\";\n    SpeechResultFormat[SpeechResultFormat[\"Detailed\"] = 1] = \"Detailed\";\n})(SpeechResultFormat = exports.SpeechResultFormat || (exports.SpeechResultFormat = {}));\nclass RecognizerConfig {\n    constructor(speechServiceConfig, parameters) {\n        this.privSpeechServiceConfig = speechServiceConfig ? speechServiceConfig : new Exports_js_2.SpeechServiceConfig(new Exports_js_2.Context(null));\n        this.privParameters = parameters;\n        this.privMaxRetryCount = parseInt(parameters.getProperty(\"SPEECH-Error-MaxRetryCount\", \"4\"), 10);\n        this.privLanguageIdMode = parameters.getProperty(Exports_js_1.PropertyId.SpeechServiceConnection_LanguageIdMode, undefined);\n        this.privEnableSpeakerId = false;\n    }\n    get parameters() {\n        return this.privParameters;\n    }\n    get recognitionMode() {\n        return this.privRecognitionMode;\n    }\n    set recognitionMode(value) {\n        this.privRecognitionMode = value;\n        this.privRecognitionActivityTimeout = value === PhraseDetectionContext_js_1.RecognitionMode.Interactive ? 8000 : 25000;\n        this.privSpeechServiceConfig.Recognition = PhraseDetectionContext_js_1.RecognitionMode[value];\n    }\n    get SpeechServiceConfig() {\n        return this.privSpeechServiceConfig;\n    }\n    get recognitionActivityTimeout() {\n        return this.privRecognitionActivityTimeout;\n    }\n    get isContinuousRecognition() {\n        return this.privRecognitionMode !== PhraseDetectionContext_js_1.RecognitionMode.Interactive;\n    }\n    get languageIdMode() {\n        return this.privLanguageIdMode;\n    }\n    get autoDetectSourceLanguages() {\n        return this.parameters.getProperty(Exports_js_1.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages, undefined);\n    }\n    get recognitionEndpointVersion() {\n        return this.parameters.getProperty(Exports_js_1.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion, \"2\");\n    }\n    set recognitionEndpointVersion(version) {\n        this.parameters.setProperty(Exports_js_1.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion, version);\n    }\n    get sourceLanguageModels() {\n        const models = [];\n        let modelsExist = false;\n        if (this.autoDetectSourceLanguages !== undefined) {\n            for (const language of this.autoDetectSourceLanguages.split(\",\")) {\n                const customProperty = language + Exports_js_1.PropertyId.SpeechServiceConnection_EndpointId.toString();\n                const modelId = this.parameters.getProperty(customProperty, undefined);\n                if (modelId !== undefined) {\n                    models.push({ language, endpoint: modelId });\n                    modelsExist = true;\n                }\n                else {\n                    models.push({ language, endpoint: \"\" });\n                }\n            }\n        }\n        return modelsExist ? models : undefined;\n    }\n    get maxRetryCount() {\n        return this.privMaxRetryCount;\n    }\n    get isSpeakerDiarizationEnabled() {\n        return this.privEnableSpeakerId;\n    }\n    set isSpeakerDiarizationEnabled(value) {\n        this.privEnableSpeakerId = value;\n    }\n}\nexports.RecognizerConfig = RecognizerConfig;\n\n//# sourceMappingURL=RecognizerConfig.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RequestSession = void 0;\nconst Exports_js_1 = require(\"../common/Exports.js\");\nconst RecognitionEvents_js_1 = require(\"./RecognitionEvents.js\");\nconst ServiceTelemetryListener_Internal_js_1 = require(\"./ServiceTelemetryListener.Internal.js\");\nclass RequestSession {\n    constructor(audioSourceId) {\n        this.privIsDisposed = false;\n        this.privDetachables = new Array();\n        this.privIsAudioNodeDetached = false;\n        this.privIsRecognizing = false;\n        this.privIsSpeechEnded = false;\n        this.privTurnStartAudioOffset = 0;\n        this.privLastRecoOffset = 0;\n        this.privHypothesisReceived = false;\n        this.privBytesSent = 0;\n        this.privRecognitionBytesSent = 0;\n        this.privRecogNumber = 0;\n        this.privInTurn = false;\n        this.privConnectionAttempts = 0;\n        this.privAudioSourceId = audioSourceId;\n        this.privRequestId = (0, Exports_js_1.createNoDashGuid)();\n        this.privAudioNodeId = (0, Exports_js_1.createNoDashGuid)();\n        this.privTurnDeferral = new Exports_js_1.Deferred();\n        // We're not in a turn, so resolve.\n        this.privTurnDeferral.resolve();\n    }\n    get sessionId() {\n        return this.privSessionId;\n    }\n    get requestId() {\n        return this.privRequestId;\n    }\n    get audioNodeId() {\n        return this.privAudioNodeId;\n    }\n    get turnCompletionPromise() {\n        return this.privTurnDeferral.promise;\n    }\n    get isSpeechEnded() {\n        return this.privIsSpeechEnded;\n    }\n    get isRecognizing() {\n        return this.privIsRecognizing;\n    }\n    get currentTurnAudioOffset() {\n        return this.privTurnStartAudioOffset;\n    }\n    get recogNumber() {\n        return this.privRecogNumber;\n    }\n    get numConnectionAttempts() {\n        return this.privConnectionAttempts;\n    }\n    // The number of bytes sent for the current connection.\n    // Counter is reset to 0 each time a connection is established.\n    get bytesSent() {\n        return this.privBytesSent;\n    }\n    // The number of bytes sent for the current recognition.\n    // Counter is reset to 0 each time recognition is started.\n    get recognitionBytesSent() {\n        return this.privRecognitionBytesSent;\n    }\n    listenForServiceTelemetry(eventSource) {\n        if (!!this.privServiceTelemetryListener) {\n            this.privDetachables.push(eventSource.attachListener(this.privServiceTelemetryListener));\n        }\n    }\n    startNewRecognition() {\n        this.privRecognitionBytesSent = 0;\n        this.privIsSpeechEnded = false;\n        this.privIsRecognizing = true;\n        this.privTurnStartAudioOffset = 0;\n        this.privLastRecoOffset = 0;\n        this.privRecogNumber++;\n        this.privServiceTelemetryListener = new ServiceTelemetryListener_Internal_js_1.ServiceTelemetryListener(this.privRequestId, this.privAudioSourceId, this.privAudioNodeId);\n        this.onEvent(new RecognitionEvents_js_1.RecognitionTriggeredEvent(this.requestId, this.privSessionId, this.privAudioSourceId, this.privAudioNodeId));\n    }\n    async onAudioSourceAttachCompleted(audioNode, isError) {\n        this.privAudioNode = audioNode;\n        this.privIsAudioNodeDetached = false;\n        if (isError) {\n            await this.onComplete();\n        }\n        else {\n            this.onEvent(new RecognitionEvents_js_1.ListeningStartedEvent(this.privRequestId, this.privSessionId, this.privAudioSourceId, this.privAudioNodeId));\n        }\n    }\n    onPreConnectionStart(authFetchEventId, connectionId) {\n        this.privAuthFetchEventId = authFetchEventId;\n        this.privSessionId = connectionId;\n        this.onEvent(new RecognitionEvents_js_1.ConnectingToServiceEvent(this.privRequestId, this.privAuthFetchEventId, this.privSessionId));\n    }\n    async onAuthCompleted(isError) {\n        if (isError) {\n            await this.onComplete();\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async onConnectionEstablishCompleted(statusCode, reason) {\n        if (statusCode === 200) {\n            this.onEvent(new RecognitionEvents_js_1.RecognitionStartedEvent(this.requestId, this.privAudioSourceId, this.privAudioNodeId, this.privAuthFetchEventId, this.privSessionId));\n            if (!!this.privAudioNode) {\n                this.privAudioNode.replay();\n            }\n            this.privTurnStartAudioOffset = this.privLastRecoOffset;\n            this.privBytesSent = 0;\n            return;\n        }\n        else if (statusCode === 403) {\n            await this.onComplete();\n        }\n    }\n    async onServiceTurnEndResponse(continuousRecognition) {\n        this.privTurnDeferral.resolve();\n        if (!continuousRecognition || this.isSpeechEnded) {\n            await this.onComplete();\n            this.privInTurn = false;\n        }\n        else {\n            // Start a new request set.\n            this.privTurnStartAudioOffset = this.privLastRecoOffset;\n            this.privAudioNode.replay();\n        }\n    }\n    onSpeechContext() {\n        this.privRequestId = (0, Exports_js_1.createNoDashGuid)();\n    }\n    onServiceTurnStartResponse() {\n        if (!!this.privTurnDeferral && !!this.privInTurn) {\n            // What? How are we starting a turn with another not done?\n            this.privTurnDeferral.reject(\"Another turn started before current completed.\");\n            // Avoid UnhandledPromiseRejection if privTurnDeferral is not being awaited\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            this.privTurnDeferral.promise.then().catch(() => { });\n        }\n        this.privInTurn = true;\n        this.privTurnDeferral = new Exports_js_1.Deferred();\n    }\n    onHypothesis(offset) {\n        if (!this.privHypothesisReceived) {\n            this.privHypothesisReceived = true;\n            this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(offset));\n        }\n    }\n    onPhraseRecognized(offset) {\n        this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(offset));\n        this.onServiceRecognized(offset);\n    }\n    onServiceRecognized(offset) {\n        this.privLastRecoOffset = offset;\n        this.privHypothesisReceived = false;\n        this.privAudioNode.shrinkBuffers(offset);\n        this.privConnectionAttempts = 0;\n    }\n    onAudioSent(bytesSent) {\n        this.privBytesSent += bytesSent;\n        this.privRecognitionBytesSent += bytesSent;\n    }\n    onRetryConnection() {\n        this.privConnectionAttempts++;\n    }\n    async dispose() {\n        if (!this.privIsDisposed) {\n            // we should have completed by now. If we did not its an unknown error.\n            this.privIsDisposed = true;\n            for (const detachable of this.privDetachables) {\n                await detachable.detach();\n            }\n            if (!!this.privServiceTelemetryListener) {\n                this.privServiceTelemetryListener.dispose();\n            }\n            this.privIsRecognizing = false;\n        }\n    }\n    getTelemetry() {\n        if (this.privServiceTelemetryListener.hasTelemetry) {\n            return this.privServiceTelemetryListener.getTelemetry();\n        }\n        else {\n            return null;\n        }\n    }\n    async onStopRecognizing() {\n        await this.onComplete();\n    }\n    // Should be called with the audioNode for this session has indicated that it is out of speech.\n    onSpeechEnded() {\n        this.privIsSpeechEnded = true;\n    }\n    onEvent(event) {\n        if (!!this.privServiceTelemetryListener) {\n            this.privServiceTelemetryListener.onEvent(event);\n        }\n        Exports_js_1.Events.instance.onEvent(event);\n    }\n    async onComplete() {\n        if (!!this.privIsRecognizing) {\n            this.privIsRecognizing = false;\n            await this.detachAudioNode();\n        }\n    }\n    async detachAudioNode() {\n        if (!this.privIsAudioNodeDetached) {\n            this.privIsAudioNodeDetached = true;\n            if (this.privAudioNode) {\n                await this.privAudioNode.detach();\n            }\n        }\n    }\n}\nexports.RequestSession = RequestSession;\n\n//# sourceMappingURL=RequestSession.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n// response\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MessageDataStreamType = exports.ActivityPayloadResponse = void 0;\nclass ActivityPayloadResponse {\n    constructor(json) {\n        this.privActivityResponse = JSON.parse(json);\n    }\n    static fromJSON(json) {\n        return new ActivityPayloadResponse(json);\n    }\n    get conversationId() {\n        return this.privActivityResponse.conversationId;\n    }\n    get messageDataStreamType() {\n        return this.privActivityResponse.messageDataStreamType;\n    }\n    get messagePayload() {\n        return this.privActivityResponse.messagePayload;\n    }\n    get version() {\n        return this.privActivityResponse.version;\n    }\n}\nexports.ActivityPayloadResponse = ActivityPayloadResponse;\nvar MessageDataStreamType;\n(function (MessageDataStreamType) {\n    MessageDataStreamType[MessageDataStreamType[\"None\"] = 0] = \"None\";\n    MessageDataStreamType[MessageDataStreamType[\"TextToSpeechAudio\"] = 1] = \"TextToSpeechAudio\";\n})(MessageDataStreamType = exports.MessageDataStreamType || (exports.MessageDataStreamType = {}));\n\n//# sourceMappingURL=ActivityResponsePayload.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DetailedSpeechPhrase = void 0;\nconst Exports_js_1 = require(\"../Exports.js\");\nclass DetailedSpeechPhrase {\n    constructor(json, baseOffset) {\n        this.privDetailedSpeechPhrase = JSON.parse(json);\n        this.privDetailedSpeechPhrase.RecognitionStatus = this.mapRecognitionStatus(this.privDetailedSpeechPhrase.RecognitionStatus);\n        this.updateOffsets(baseOffset);\n    }\n    static fromJSON(json, baseOffset) {\n        return new DetailedSpeechPhrase(json, baseOffset);\n    }\n    updateOffsets(baseOffset) {\n        this.privDetailedSpeechPhrase.Offset += baseOffset;\n        if (!!this.privDetailedSpeechPhrase.NBest) {\n            for (const phrase of this.privDetailedSpeechPhrase.NBest) {\n                if (!!phrase.Words) {\n                    for (const word of phrase.Words) {\n                        word.Offset += baseOffset;\n                    }\n                }\n                if (!!phrase.DisplayWords) {\n                    for (const word of phrase.DisplayWords) {\n                        word.Offset += baseOffset;\n                    }\n                }\n            }\n        }\n    }\n    asJson() {\n        const jsonObj = { ...this.privDetailedSpeechPhrase };\n        // Convert the enum value to its string representation for serialization purposes.\n        return JSON.stringify({\n            ...jsonObj,\n            RecognitionStatus: Exports_js_1.RecognitionStatus[jsonObj.RecognitionStatus]\n        });\n    }\n    get RecognitionStatus() {\n        return this.privDetailedSpeechPhrase.RecognitionStatus;\n    }\n    get NBest() {\n        return this.privDetailedSpeechPhrase.NBest;\n    }\n    get Duration() {\n        return this.privDetailedSpeechPhrase.Duration;\n    }\n    get Offset() {\n        return this.privDetailedSpeechPhrase.Offset;\n    }\n    get Language() {\n        return this.privDetailedSpeechPhrase.PrimaryLanguage === undefined ? undefined : this.privDetailedSpeechPhrase.PrimaryLanguage.Language;\n    }\n    get LanguageDetectionConfidence() {\n        return this.privDetailedSpeechPhrase.PrimaryLanguage === undefined ? undefined : this.privDetailedSpeechPhrase.PrimaryLanguage.Confidence;\n    }\n    get Text() {\n        if (!!this.privDetailedSpeechPhrase.NBest && this.privDetailedSpeechPhrase.NBest[0]) {\n            return this.privDetailedSpeechPhrase.NBest[0].Display || this.privDetailedSpeechPhrase.NBest[0].DisplayText;\n        }\n        return this.privDetailedSpeechPhrase.DisplayText;\n    }\n    get SpeakerId() {\n        return this.privDetailedSpeechPhrase.SpeakerId;\n    }\n    mapRecognitionStatus(status) {\n        if (typeof status === \"string\") {\n            return Exports_js_1.RecognitionStatus[status];\n        }\n        else if (typeof status === \"number\") {\n            return status;\n        }\n    }\n}\nexports.DetailedSpeechPhrase = DetailedSpeechPhrase;\n\n//# sourceMappingURL=DetailedSpeechPhrase.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SubstringMatchType = exports.GroupType = void 0;\n/**\n * Represents the type of the Intent.\n */\nvar GroupType;\n(function (GroupType) {\n    GroupType[\"IntentText\"] = \"IntentText\";\n    GroupType[\"IntentEntity\"] = \"IntentEntity\";\n    GroupType[\"Generic\"] = \"Generic\";\n    GroupType[\"People\"] = \"People\";\n    GroupType[\"Place\"] = \"Place\";\n    GroupType[\"DynamicEntity\"] = \"DynamicEntity\";\n})(GroupType = exports.GroupType || (exports.GroupType = {}));\n/**\n * Represents the type of the substring match.\n */\nvar SubstringMatchType;\n(function (SubstringMatchType) {\n    SubstringMatchType[\"None\"] = \"None\";\n    SubstringMatchType[\"LeftRooted\"] = \"LeftRooted\";\n    SubstringMatchType[\"PartialName\"] = \"PartialName\";\n    SubstringMatchType[\"MiddleOfSentence\"] = \"MiddleOfSentence\";\n})(SubstringMatchType = exports.SubstringMatchType || (exports.SubstringMatchType = {}));\n\n//# sourceMappingURL=Group.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RecognitionStatus = exports.SynthesisStatus = void 0;\n/**\n * @class SynthesisStatus\n * @private\n */\nvar SynthesisStatus;\n(function (SynthesisStatus) {\n    /**\n     * The response contains valid audio data.\n     * @member SynthesisStatus.Success\n     */\n    SynthesisStatus[SynthesisStatus[\"Success\"] = 0] = \"Success\";\n    /**\n     * Indicates the end of audio data. No valid audio data is included in the message.\n     * @member SynthesisStatus.SynthesisEnd\n     */\n    SynthesisStatus[SynthesisStatus[\"SynthesisEnd\"] = 1] = \"SynthesisEnd\";\n    /**\n     * Indicates an error occurred during synthesis data processing.\n     * @member SynthesisStatus.Error\n     */\n    SynthesisStatus[SynthesisStatus[\"Error\"] = 2] = \"Error\";\n})(SynthesisStatus = exports.SynthesisStatus || (exports.SynthesisStatus = {}));\nvar RecognitionStatus;\n(function (RecognitionStatus) {\n    RecognitionStatus[RecognitionStatus[\"Success\"] = 0] = \"Success\";\n    RecognitionStatus[RecognitionStatus[\"NoMatch\"] = 1] = \"NoMatch\";\n    RecognitionStatus[RecognitionStatus[\"InitialSilenceTimeout\"] = 2] = \"InitialSilenceTimeout\";\n    RecognitionStatus[RecognitionStatus[\"BabbleTimeout\"] = 3] = \"BabbleTimeout\";\n    RecognitionStatus[RecognitionStatus[\"Error\"] = 4] = \"Error\";\n    RecognitionStatus[RecognitionStatus[\"EndOfDictation\"] = 5] = \"EndOfDictation\";\n    RecognitionStatus[RecognitionStatus[\"TooManyRequests\"] = 6] = \"TooManyRequests\";\n    RecognitionStatus[RecognitionStatus[\"BadRequest\"] = 7] = \"BadRequest\";\n    RecognitionStatus[RecognitionStatus[\"Forbidden\"] = 8] = \"Forbidden\";\n})(RecognitionStatus = exports.RecognitionStatus || (exports.RecognitionStatus = {}));\n\n//# sourceMappingURL=Enums.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InvocationSource = void 0;\n/**\n * Represents the source of speech recognition invocation.\n */\nvar InvocationSource;\n(function (InvocationSource) {\n    /**\n     * No invocation source specified.\n     */\n    InvocationSource[\"None\"] = \"None\";\n    /**\n     * Voice activation with a keyword.\n     */\n    InvocationSource[\"VoiceActivationWithKeyword\"] = \"VoiceActivationWithKeyword\";\n})(InvocationSource = exports.InvocationSource || (exports.InvocationSource = {}));\n\n//# sourceMappingURL=InvocationSource.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OnRejectAction = exports.KeywordDetectionType = void 0;\n/**\n * Represents the type of keyword detection.\n */\nvar KeywordDetectionType;\n(function (KeywordDetectionType) {\n    /**\n     * Triggered at the start of input.\n     */\n    KeywordDetectionType[\"StartTrigger\"] = \"StartTrigger\";\n})(KeywordDetectionType = exports.KeywordDetectionType || (exports.KeywordDetectionType = {}));\n/**\n * The action to take when a keyword is rejected.\n */\nvar OnRejectAction;\n(function (OnRejectAction) {\n    /**\n     * End the current turn.\n     */\n    OnRejectAction[\"EndOfTurn\"] = \"EndOfTurn\";\n    /**\n     * Continue processing.\n     */\n    OnRejectAction[\"Continue\"] = \"Continue\";\n})(OnRejectAction = exports.OnRejectAction || (exports.OnRejectAction = {}));\n\n//# sourceMappingURL=KeywordDetection.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LanguageIdDetectionPriority = exports.LanguageIdDetectionMode = void 0;\n/**\n * The enum that represents which mode will language detection take place\n * There is only detectAtAudioStart mode for now as language detection models are not trained for different modes\n * This enum can be extended in future to support different modes\n */\nvar LanguageIdDetectionMode;\n(function (LanguageIdDetectionMode) {\n    LanguageIdDetectionMode[\"DetectAtAudioStart\"] = \"DetectAtAudioStart\";\n    LanguageIdDetectionMode[\"DetectContinuous\"] = \"DetectContinuous\";\n    LanguageIdDetectionMode[\"DetectSegments\"] = \"DetectSegments\";\n})(LanguageIdDetectionMode = exports.LanguageIdDetectionMode || (exports.LanguageIdDetectionMode = {}));\n/**\n * The language id detection mode, setting this will load the detection setting of MaxAudioDuration and MaxSpeechDuration\n * If the maxAudioDuration and maxSpeechDuration is set in the speech.context, then this detection mode will be ignored\n */\nvar LanguageIdDetectionPriority;\n(function (LanguageIdDetectionPriority) {\n    /**\n     * default, Service decides the best mode to use.\n     */\n    LanguageIdDetectionPriority[\"Auto\"] = \"Auto\";\n    /**\n     * Offers lower latency via a trade-off of accuracy.\n     */\n    LanguageIdDetectionPriority[\"PrioritizeLatency\"] = \"PrioritizeLatency\";\n    /**\n     * Offers higher accuracy via a trade-off of latency.\n     */\n    LanguageIdDetectionPriority[\"PrioritizeAccuracy\"] = \"PrioritizeAccuracy\";\n})(LanguageIdDetectionPriority = exports.LanguageIdDetectionPriority || (exports.LanguageIdDetectionPriority = {}));\n\n//# sourceMappingURL=LanguageIdContext.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NextAction = void 0;\n/**\n * The action to take on successful language detection\n */\nvar NextAction;\n(function (NextAction) {\n    NextAction[\"Recognize\"] = \"Recognize\";\n    NextAction[\"None\"] = \"None\";\n})(NextAction = exports.NextAction || (exports.NextAction = {}));\n\n//# sourceMappingURL=OnSuccess.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OnUnknownAction = void 0;\n/**\n * An enum that defines actions that can be taken on unknown language detection\n */\nvar OnUnknownAction;\n(function (OnUnknownAction) {\n    OnUnknownAction[\"RecognizeWithDefaultLanguage\"] = \"RecognizeWithDefaultLanguage\";\n    OnUnknownAction[\"None\"] = \"None\";\n})(OnUnknownAction = exports.OnUnknownAction || (exports.OnUnknownAction = {}));\n\n//# sourceMappingURL=OnUnknown.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NextAction = void 0;\n/**\n * The action enum when speech recognition return a final phrase result\n */\nvar NextAction;\n(function (NextAction) {\n    NextAction[\"None\"] = \"None\";\n    NextAction[\"Translate\"] = \"Translate\";\n})(NextAction = exports.NextAction || (exports.NextAction = {}));\n\n//# sourceMappingURL=OnSuccess.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechStartEventSensitivity = exports.RecognitionMode = void 0;\n/**\n * The Recognition modes\n */\nvar RecognitionMode;\n(function (RecognitionMode) {\n    RecognitionMode[\"Interactive\"] = \"Interactive\";\n    RecognitionMode[\"Dictation\"] = \"Dictation\";\n    RecognitionMode[\"Conversation\"] = \"Conversation\";\n    RecognitionMode[\"None\"] = \"None\";\n})(RecognitionMode = exports.RecognitionMode || (exports.RecognitionMode = {}));\n/**\n * The speech start event sensitivity.\n */\nvar SpeechStartEventSensitivity;\n(function (SpeechStartEventSensitivity) {\n    SpeechStartEventSensitivity[\"Low\"] = \"low\";\n    SpeechStartEventSensitivity[\"Medium\"] = \"medium\";\n    SpeechStartEventSensitivity[\"High\"] = \"high\";\n})(SpeechStartEventSensitivity = exports.SpeechStartEventSensitivity || (exports.SpeechStartEventSensitivity = {}));\n\n//# sourceMappingURL=PhraseDetectionContext.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SegmentationMode = void 0;\n/**\n * The segmentation mode.\n */\nvar SegmentationMode;\n(function (SegmentationMode) {\n    SegmentationMode[\"Normal\"] = \"Normal\";\n    SegmentationMode[\"Disabled\"] = \"Disabled\";\n    SegmentationMode[\"Custom\"] = \"Custom\";\n    SegmentationMode[\"Semantic\"] = \"Semantic\";\n})(SegmentationMode = exports.SegmentationMode || (exports.SegmentationMode = {}));\n\n//# sourceMappingURL=Segmentation.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IdentityProvider = exports.SpeakerDiarizationMode = void 0;\n/**\n * The speaker diarization mode\n */\nvar SpeakerDiarizationMode;\n(function (SpeakerDiarizationMode) {\n    SpeakerDiarizationMode[\"None\"] = \"None\";\n    SpeakerDiarizationMode[\"Identity\"] = \"Identity\";\n    SpeakerDiarizationMode[\"Anonymous\"] = \"Anonymous\";\n})(SpeakerDiarizationMode = exports.SpeakerDiarizationMode || (exports.SpeakerDiarizationMode = {}));\n/**\n * The identity provider\n */\nvar IdentityProvider;\n(function (IdentityProvider) {\n    IdentityProvider[\"CallCenter\"] = \"CallCenter\";\n})(IdentityProvider = exports.IdentityProvider || (exports.IdentityProvider = {}));\n\n//# sourceMappingURL=SpeakerDiarization.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResultType = void 0;\n/**\n * The result type enum\n */\nvar ResultType;\n(function (ResultType) {\n    ResultType[\"Auto\"] = \"Auto\";\n    ResultType[\"StableFragment\"] = \"StableFragment\";\n    ResultType[\"Hypothesis\"] = \"Hypothesis\";\n    ResultType[\"None\"] = \"None\";\n})(ResultType = exports.ResultType || (exports.ResultType = {}));\n\n//# sourceMappingURL=InterimResults.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TentativePhraseResultsOption = exports.OutputFormat = exports.PhraseExtension = exports.PhraseOption = void 0;\n/**\n * The detailed output options.\n */\nvar PhraseOption;\n(function (PhraseOption) {\n    PhraseOption[\"WordTimings\"] = \"WordTimings\";\n    PhraseOption[\"SNR\"] = \"SNR\";\n    PhraseOption[\"Pronunciation\"] = \"Pronunciation\";\n    PhraseOption[\"WordPronunciation\"] = \"WordPronunciation\";\n    PhraseOption[\"WordConfidence\"] = \"WordConfidence\";\n    PhraseOption[\"Words\"] = \"Words\";\n    PhraseOption[\"Sentiment\"] = \"Sentiment\";\n    PhraseOption[\"PronunciationAssessment\"] = \"PronunciationAssessment\";\n    PhraseOption[\"ContentAssessment\"] = \"ContentAssessment\";\n    PhraseOption[\"PhraseAMScore\"] = \"PhraseAMScore\";\n    PhraseOption[\"PhraseLMScore\"] = \"PhraseLMScore\";\n    PhraseOption[\"WordAMScore\"] = \"WordAMScore\";\n    PhraseOption[\"WordLMScore\"] = \"WordLMScore\";\n    PhraseOption[\"RuleTree\"] = \"RuleTree\";\n    PhraseOption[\"NBestTimings\"] = \"NBestTimings\";\n    PhraseOption[\"DecoderDiagnostics\"] = \"DecoderDiagnostics\";\n    PhraseOption[\"DisplayWordTimings\"] = \"DisplayWordTimings\";\n    PhraseOption[\"DisplayWords\"] = \"DisplayWords\";\n})(PhraseOption = exports.PhraseOption || (exports.PhraseOption = {}));\n/**\n * The detailed output extensions.\n */\nvar PhraseExtension;\n(function (PhraseExtension) {\n    PhraseExtension[\"Graph\"] = \"Graph\";\n    PhraseExtension[\"Corrections\"] = \"Corrections\";\n    PhraseExtension[\"Sentiment\"] = \"Sentiment\";\n})(PhraseExtension = exports.PhraseExtension || (exports.PhraseExtension = {}));\n/**\n * The Recognition modes\n */\nvar OutputFormat;\n(function (OutputFormat) {\n    OutputFormat[\"Simple\"] = \"Simple\";\n    OutputFormat[\"Detailed\"] = \"Detailed\";\n})(OutputFormat = exports.OutputFormat || (exports.OutputFormat = {}));\n/**\n * The Tentative Phrase Results option\n */\nvar TentativePhraseResultsOption;\n(function (TentativePhraseResultsOption) {\n    TentativePhraseResultsOption[\"None\"] = \"None\";\n    TentativePhraseResultsOption[\"Always\"] = \"Always\";\n})(TentativePhraseResultsOption = exports.TentativePhraseResultsOption || (exports.TentativePhraseResultsOption = {}));\n\n//# sourceMappingURL=PhraseOutput.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PhraseResultOutputType = void 0;\n/**\n * The phrase result output type\n */\nvar PhraseResultOutputType;\n(function (PhraseResultOutputType) {\n    PhraseResultOutputType[\"Always\"] = \"Always\";\n    PhraseResultOutputType[\"None\"] = \"None\";\n})(PhraseResultOutputType = exports.PhraseResultOutputType || (exports.PhraseResultOutputType = {}));\n\n//# sourceMappingURL=PhraseResults.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SimpleSpeechPhrase = void 0;\nconst Exports_js_1 = require(\"../Exports.js\");\nclass SimpleSpeechPhrase {\n    constructor(json, baseOffset = 0) {\n        this.privSimpleSpeechPhrase = JSON.parse(json);\n        this.privSimpleSpeechPhrase.RecognitionStatus = this.mapRecognitionStatus(this.privSimpleSpeechPhrase.RecognitionStatus); // RecognitionStatus[this.privSimpleSpeechPhrase.RecognitionStatus as unknown as keyof typeof RecognitionStatus];\n        this.updateOffset(baseOffset);\n    }\n    static fromJSON(json, baseOffset) {\n        return new SimpleSpeechPhrase(json, baseOffset);\n    }\n    updateOffset(baseOffset) {\n        this.privSimpleSpeechPhrase.Offset += baseOffset;\n    }\n    asJson() {\n        const jsonObj = { ...this.privSimpleSpeechPhrase };\n        // Convert the enum value to its string representation for serialization purposes.\n        return JSON.stringify({\n            ...jsonObj,\n            RecognitionStatus: Exports_js_1.RecognitionStatus[jsonObj.RecognitionStatus]\n        });\n    }\n    get RecognitionStatus() {\n        return this.privSimpleSpeechPhrase.RecognitionStatus;\n    }\n    get DisplayText() {\n        return this.privSimpleSpeechPhrase.DisplayText;\n    }\n    get Offset() {\n        return this.privSimpleSpeechPhrase.Offset;\n    }\n    get Duration() {\n        return this.privSimpleSpeechPhrase.Duration;\n    }\n    get Language() {\n        return this.privSimpleSpeechPhrase.PrimaryLanguage === undefined ? undefined : this.privSimpleSpeechPhrase.PrimaryLanguage.Language;\n    }\n    get LanguageDetectionConfidence() {\n        return this.privSimpleSpeechPhrase.PrimaryLanguage === undefined ? undefined : this.privSimpleSpeechPhrase.PrimaryLanguage.Confidence;\n    }\n    get SpeakerId() {\n        return this.privSimpleSpeechPhrase.SpeakerId;\n    }\n    mapRecognitionStatus(status) {\n        if (typeof status === \"string\") {\n            return Exports_js_1.RecognitionStatus[status];\n        }\n        else if (typeof status === \"number\") {\n            return status;\n        }\n    }\n}\nexports.SimpleSpeechPhrase = SimpleSpeechPhrase;\n\n//# sourceMappingURL=SimpleSpeechPhrase.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechDetected = void 0;\nclass SpeechDetected {\n    constructor(json, baseOffset) {\n        this.privSpeechStartDetected = JSON.parse(json);\n        this.privSpeechStartDetected.Offset += baseOffset;\n    }\n    static fromJSON(json, baseOffset) {\n        return new SpeechDetected(json, baseOffset);\n    }\n    get Offset() {\n        return this.privSpeechStartDetected.Offset;\n    }\n}\nexports.SpeechDetected = SpeechDetected;\n\n//# sourceMappingURL=SpeechDetected.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechHypothesis = void 0;\nclass SpeechHypothesis {\n    constructor(json, baseOffset) {\n        this.privSpeechHypothesis = JSON.parse(json);\n        this.updateOffset(baseOffset);\n    }\n    static fromJSON(json, baseOffset) {\n        return new SpeechHypothesis(json, baseOffset);\n    }\n    updateOffset(baseOffset) {\n        this.privSpeechHypothesis.Offset += baseOffset;\n    }\n    asJson() {\n        return JSON.stringify(this.privSpeechHypothesis);\n    }\n    get Text() {\n        return this.privSpeechHypothesis.Text;\n    }\n    get Offset() {\n        return this.privSpeechHypothesis.Offset;\n    }\n    get Duration() {\n        return this.privSpeechHypothesis.Duration;\n    }\n    get Language() {\n        return this.privSpeechHypothesis.PrimaryLanguage === undefined ? undefined : this.privSpeechHypothesis.PrimaryLanguage.Language;\n    }\n    get LanguageDetectionConfidence() {\n        return this.privSpeechHypothesis.PrimaryLanguage === undefined ? undefined : this.privSpeechHypothesis.PrimaryLanguage.Confidence;\n    }\n    get SpeakerId() {\n        return this.privSpeechHypothesis.SpeakerId;\n    }\n}\nexports.SpeechHypothesis = SpeechHypothesis;\n\n//# sourceMappingURL=SpeechHypothesis.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechKeyword = void 0;\nclass SpeechKeyword {\n    constructor(json, baseOffset) {\n        this.privSpeechKeyword = JSON.parse(json);\n        this.privSpeechKeyword.Offset += baseOffset;\n    }\n    static fromJSON(json, baseOffset) {\n        return new SpeechKeyword(json, baseOffset);\n    }\n    get Status() {\n        return this.privSpeechKeyword.Status;\n    }\n    get Text() {\n        return this.privSpeechKeyword.Text;\n    }\n    get Offset() {\n        return this.privSpeechKeyword.Offset;\n    }\n    get Duration() {\n        return this.privSpeechKeyword.Duration;\n    }\n    asJson() {\n        return JSON.stringify(this.privSpeechKeyword);\n    }\n}\nexports.SpeechKeyword = SpeechKeyword;\n\n//# sourceMappingURL=SpeechKeyword.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SynthesisAudioMetadata = exports.MetadataType = void 0;\nvar MetadataType;\n(function (MetadataType) {\n    MetadataType[\"WordBoundary\"] = \"WordBoundary\";\n    MetadataType[\"Bookmark\"] = \"Bookmark\";\n    MetadataType[\"Viseme\"] = \"Viseme\";\n    MetadataType[\"SentenceBoundary\"] = \"SentenceBoundary\";\n    MetadataType[\"SessionEnd\"] = \"SessionEnd\";\n    MetadataType[\"AvatarSignal\"] = \"TalkingAvatarSignal\";\n})(MetadataType = exports.MetadataType || (exports.MetadataType = {}));\nclass SynthesisAudioMetadata {\n    constructor(json) {\n        this.privSynthesisAudioMetadata = JSON.parse(json);\n    }\n    static fromJSON(json) {\n        return new SynthesisAudioMetadata(json);\n    }\n    get Metadata() {\n        return this.privSynthesisAudioMetadata.Metadata;\n    }\n}\nexports.SynthesisAudioMetadata = SynthesisAudioMetadata;\n\n//# sourceMappingURL=SynthesisAudioMetadata.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Mode = void 0;\n/**\n * Result type\n */\nvar Mode;\n(function (Mode) {\n    Mode[\"None\"] = \"None\";\n    Mode[\"Always\"] = \"Always\";\n})(Mode = exports.Mode || (exports.Mode = {}));\n\n//# sourceMappingURL=InterimResults.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NextAction = void 0;\n/**\n * The action to take on success\n */\nvar NextAction;\n(function (NextAction) {\n    NextAction[\"None\"] = \"None\";\n    NextAction[\"Synthesize\"] = \"Synthesize\";\n})(NextAction = exports.NextAction || (exports.NextAction = {}));\n\n//# sourceMappingURL=OnSuccess.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranslationHypothesis = void 0;\nconst Contracts_js_1 = require(\"../../sdk/Contracts.js\");\nconst TranslationStatus_js_1 = require(\"../TranslationStatus.js\");\nclass TranslationHypothesis {\n    constructor(hypothesis, baseOffset) {\n        this.privTranslationHypothesis = hypothesis;\n        this.privTranslationHypothesis.Offset += baseOffset;\n        this.privTranslationHypothesis.Translation.TranslationStatus = this.mapTranslationStatus(this.privTranslationHypothesis.Translation.TranslationStatus);\n    }\n    static fromJSON(json, baseOffset) {\n        return new TranslationHypothesis(JSON.parse(json), baseOffset);\n    }\n    static fromTranslationResponse(translationHypothesis, baseOffset) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(translationHypothesis, \"translationHypothesis\");\n        const hypothesis = translationHypothesis.SpeechHypothesis;\n        translationHypothesis.SpeechHypothesis = undefined;\n        hypothesis.Translation = translationHypothesis;\n        return new TranslationHypothesis(hypothesis, baseOffset);\n    }\n    get Duration() {\n        return this.privTranslationHypothesis.Duration;\n    }\n    get Offset() {\n        return this.privTranslationHypothesis.Offset;\n    }\n    get Text() {\n        return this.privTranslationHypothesis.Text;\n    }\n    get Translation() {\n        return this.privTranslationHypothesis.Translation;\n    }\n    get Language() {\n        return this.privTranslationHypothesis.PrimaryLanguage?.Language;\n    }\n    asJson() {\n        const jsonObj = { ...this.privTranslationHypothesis };\n        // Convert the enum value to its string representation for serialization purposes.\n        return jsonObj.Translation !== undefined ? JSON.stringify({\n            ...jsonObj,\n            TranslationStatus: TranslationStatus_js_1.TranslationStatus[jsonObj.Translation.TranslationStatus]\n        }) : JSON.stringify(jsonObj);\n    }\n    mapTranslationStatus(status) {\n        if (typeof status === \"string\") {\n            return TranslationStatus_js_1.TranslationStatus[status];\n        }\n        else if (typeof status === \"number\") {\n            return status;\n        }\n    }\n}\nexports.TranslationHypothesis = TranslationHypothesis;\n\n//# sourceMappingURL=TranslationHypothesis.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranslationPhrase = void 0;\nconst Contracts_js_1 = require(\"../../sdk/Contracts.js\");\nconst Exports_js_1 = require(\"../Exports.js\");\nconst TranslationStatus_js_1 = require(\"../TranslationStatus.js\");\nclass TranslationPhrase {\n    constructor(phrase, baseOffset) {\n        this.privTranslationPhrase = phrase;\n        this.privTranslationPhrase.Offset += baseOffset;\n        this.privTranslationPhrase.RecognitionStatus = this.mapRecognitionStatus(this.privTranslationPhrase.RecognitionStatus);\n        if (this.privTranslationPhrase.Translation !== undefined) {\n            this.privTranslationPhrase.Translation.TranslationStatus = this.mapTranslationStatus(this.privTranslationPhrase.Translation.TranslationStatus);\n        }\n    }\n    static fromJSON(json, baseOffset) {\n        return new TranslationPhrase(JSON.parse(json), baseOffset);\n    }\n    static fromTranslationResponse(translationResponse, baseOffset) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(translationResponse, \"translationResponse\");\n        const phrase = translationResponse.SpeechPhrase;\n        translationResponse.SpeechPhrase = undefined;\n        phrase.Translation = translationResponse;\n        phrase.Text = phrase.DisplayText;\n        return new TranslationPhrase(phrase, baseOffset);\n    }\n    get RecognitionStatus() {\n        return this.privTranslationPhrase.RecognitionStatus;\n    }\n    get Offset() {\n        return this.privTranslationPhrase.Offset;\n    }\n    get Duration() {\n        return this.privTranslationPhrase.Duration;\n    }\n    get Text() {\n        return this.privTranslationPhrase.Text;\n    }\n    get Language() {\n        return this.privTranslationPhrase.PrimaryLanguage?.Language;\n    }\n    get Confidence() {\n        return this.privTranslationPhrase.PrimaryLanguage?.Confidence;\n    }\n    get Translation() {\n        return this.privTranslationPhrase.Translation;\n    }\n    asJson() {\n        const jsonObj = { ...this.privTranslationPhrase };\n        // Convert the enum values to their string representations for serialization\n        const serializedObj = {\n            ...jsonObj,\n            RecognitionStatus: Exports_js_1.RecognitionStatus[jsonObj.RecognitionStatus]\n        };\n        if (jsonObj.Translation) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            serializedObj.Translation = {\n                ...jsonObj.Translation,\n                TranslationStatus: TranslationStatus_js_1.TranslationStatus[jsonObj.Translation.TranslationStatus]\n            };\n        }\n        return JSON.stringify(serializedObj);\n    }\n    mapRecognitionStatus(status) {\n        if (typeof status === \"string\") {\n            return Exports_js_1.RecognitionStatus[status];\n        }\n        else if (typeof status === \"number\") {\n            return status;\n        }\n    }\n    mapTranslationStatus(status) {\n        if (typeof status === \"string\") {\n            return TranslationStatus_js_1.TranslationStatus[status];\n        }\n        else if (typeof status === \"number\") {\n            return status;\n        }\n    }\n}\nexports.TranslationPhrase = TranslationPhrase;\n\n//# sourceMappingURL=TranslationPhrase.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranslationSynthesisEnd = void 0;\nconst Exports_js_1 = require(\"../Exports.js\");\nclass TranslationSynthesisEnd {\n    constructor(json) {\n        this.privSynthesisEnd = JSON.parse(json);\n        if (!!this.privSynthesisEnd.SynthesisStatus) {\n            this.privSynthesisEnd.SynthesisStatus = Exports_js_1.SynthesisStatus[this.privSynthesisEnd.SynthesisStatus];\n        }\n        if (!!this.privSynthesisEnd.Status) {\n            this.privSynthesisEnd.SynthesisStatus = Exports_js_1.SynthesisStatus[this.privSynthesisEnd.Status];\n        }\n    }\n    static fromJSON(json) {\n        return new TranslationSynthesisEnd(json);\n    }\n    get SynthesisStatus() {\n        return this.privSynthesisEnd.SynthesisStatus;\n    }\n    get FailureReason() {\n        return this.privSynthesisEnd.FailureReason;\n    }\n}\nexports.TranslationSynthesisEnd = TranslationSynthesisEnd;\n\n//# sourceMappingURL=TranslationSynthesisEnd.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TurnStatusResponsePayload = void 0;\nclass TurnStatusResponsePayload {\n    constructor(json) {\n        this.privMessageStatusResponse = JSON.parse(json);\n    }\n    static fromJSON(json) {\n        return new TurnStatusResponsePayload(json);\n    }\n    get interactionId() {\n        return this.privMessageStatusResponse.interactionId;\n    }\n    get conversationId() {\n        return this.privMessageStatusResponse.conversationId;\n    }\n    get statusCode() {\n        // Payloads may contain a limited set of textual representations or a numeric status\n        // code. The textual values are here converted into numeric ones.\n        switch (this.privMessageStatusResponse.statusCode) {\n            case \"Success\":\n                return 200;\n            case \"Failed\":\n                return 400;\n            case \"TimedOut\":\n                return 429;\n            default:\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n                return this.privMessageStatusResponse.statusCode;\n        }\n    }\n}\nexports.TurnStatusResponsePayload = TurnStatusResponsePayload;\n\n//# sourceMappingURL=TurnStatusPayload.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ServiceRecognizerBase = void 0;\nconst Exports_js_1 = require(\"../common.browser/Exports.js\");\nconst Exports_js_2 = require(\"../common/Exports.js\");\nconst Exports_js_3 = require(\"../sdk/Exports.js\");\nconst Exports_js_4 = require(\"./Exports.js\");\nconst SpeechConnectionMessage_Internal_js_1 = require(\"./SpeechConnectionMessage.Internal.js\");\nconst Segmentation_js_1 = require(\"./ServiceMessages/PhraseDetection/Segmentation.js\");\nconst PhraseDetectionContext_js_1 = require(\"./ServiceMessages/PhraseDetection/PhraseDetectionContext.js\");\nconst OnSuccess_js_1 = require(\"./ServiceMessages/Translation/OnSuccess.js\");\nconst InterimResults_js_1 = require(\"./ServiceMessages/Translation/InterimResults.js\");\nconst LanguageIdContext_js_1 = require(\"./ServiceMessages/LanguageId/LanguageIdContext.js\");\nconst OnSuccess_js_2 = require(\"./ServiceMessages/LanguageId/OnSuccess.js\");\nconst OnUnknown_js_1 = require(\"./ServiceMessages/LanguageId/OnUnknown.js\");\nconst InterimResults_js_2 = require(\"./ServiceMessages/PhraseOutput/InterimResults.js\");\nconst PhraseResults_js_1 = require(\"./ServiceMessages/PhraseOutput/PhraseResults.js\");\nconst OnSuccess_js_3 = require(\"./ServiceMessages/PhraseDetection/OnSuccess.js\");\nclass ServiceRecognizerBase {\n    constructor(authentication, connectionFactory, audioSource, recognizerConfig, recognizer) {\n        // A promise for a configured connection.\n        // Do not consume directly, call fetchConnection instead.\n        this.privConnectionConfigurationPromise = undefined;\n        // A promise for a connection, but one that has not had the speech context sent yet.\n        // Do not consume directly, call fetchConnection instead.\n        this.privConnectionPromise = undefined;\n        this.privSetTimeout = setTimeout;\n        this.privIsLiveAudio = false;\n        this.privAverageBytesPerMs = 0;\n        this.privEnableSpeakerId = false;\n        this.privExpectContentAssessmentResponse = false;\n        this.recognizeOverride = undefined;\n        this.disconnectOverride = undefined;\n        this.receiveMessageOverride = undefined;\n        this.sendPrePayloadJSONOverride = undefined;\n        this.postConnectImplOverride = undefined;\n        this.configConnectionOverride = undefined;\n        this.handleSpeechPhraseMessage = undefined;\n        this.handleSpeechHypothesisMessage = undefined;\n        if (!authentication) {\n            throw new Exports_js_2.ArgumentNullError(\"authentication\");\n        }\n        if (!connectionFactory) {\n            throw new Exports_js_2.ArgumentNullError(\"connectionFactory\");\n        }\n        if (!audioSource) {\n            throw new Exports_js_2.ArgumentNullError(\"audioSource\");\n        }\n        if (!recognizerConfig) {\n            throw new Exports_js_2.ArgumentNullError(\"recognizerConfig\");\n        }\n        this.privEnableSpeakerId = recognizerConfig.isSpeakerDiarizationEnabled;\n        this.privMustReportEndOfStream = false;\n        this.privAuthentication = authentication;\n        this.privConnectionFactory = connectionFactory;\n        this.privAudioSource = audioSource;\n        this.privRecognizerConfig = recognizerConfig;\n        this.privIsDisposed = false;\n        this.privRecognizer = recognizer;\n        this.privRequestSession = new Exports_js_4.RequestSession(this.privAudioSource.id());\n        this.privConnectionEvents = new Exports_js_2.EventSource();\n        this.privServiceEvents = new Exports_js_2.EventSource();\n        this.privDynamicGrammar = new Exports_js_4.DynamicGrammarBuilder();\n        this.privSpeechContext = new Exports_js_4.SpeechContext(this.privDynamicGrammar);\n        this.privAgentConfig = new Exports_js_4.AgentConfig();\n        const webWorkerLoadType = this.privRecognizerConfig.parameters.getProperty(Exports_js_3.PropertyId.WebWorkerLoadType, \"on\").toLowerCase();\n        if (webWorkerLoadType === \"on\" && typeof (Blob) !== \"undefined\" && typeof (Worker) !== \"undefined\") {\n            this.privSetTimeout = Exports_js_2.Timeout.setTimeout;\n        }\n        else {\n            if (typeof window !== \"undefined\") {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                this.privSetTimeout = window.setTimeout.bind(window);\n            }\n            if (typeof globalThis !== \"undefined\") {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                this.privSetTimeout = globalThis.setTimeout.bind(globalThis);\n            }\n        }\n        this.connectionEvents.attach((connectionEvent) => {\n            if (connectionEvent.name === \"ConnectionClosedEvent\") {\n                const connectionClosedEvent = connectionEvent;\n                if (connectionClosedEvent.statusCode === 1003 ||\n                    connectionClosedEvent.statusCode === 1007 ||\n                    connectionClosedEvent.statusCode === 1002 ||\n                    connectionClosedEvent.statusCode === 4000 ||\n                    this.privRequestSession.numConnectionAttempts > this.privRecognizerConfig.maxRetryCount) {\n                    void this.cancelRecognitionLocal(Exports_js_3.CancellationReason.Error, connectionClosedEvent.statusCode === 1007 ? Exports_js_3.CancellationErrorCode.BadRequestParameters : Exports_js_3.CancellationErrorCode.ConnectionFailure, `${connectionClosedEvent.reason} websocket error code: ${connectionClosedEvent.statusCode}`);\n                }\n            }\n        });\n        if (this.privEnableSpeakerId) {\n            this.privDiarizationSessionId = (0, Exports_js_2.createNoDashGuid)();\n        }\n    }\n    setTranslationJson() {\n        const targetLanguages = this.privRecognizerConfig.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationToLanguages, undefined);\n        if (targetLanguages !== undefined) {\n            const languages = targetLanguages.split(\",\");\n            const translationVoice = this.privRecognizerConfig.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationVoice, undefined);\n            const categoryId = this.privRecognizerConfig.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationCategoryId, undefined);\n            const action = (translationVoice !== undefined) ? OnSuccess_js_1.NextAction.Synthesize : OnSuccess_js_1.NextAction.None;\n            this.privSpeechContext.getContext().translation = {\n                onPassthrough: { action },\n                onSuccess: { action },\n                output: {\n                    includePassThroughResults: true,\n                    interimResults: { mode: InterimResults_js_1.Mode.Always }\n                },\n                targetLanguages: languages,\n            };\n            // Add category if specified\n            if (categoryId !== undefined) {\n                this.privSpeechContext.getContext().translation.category = categoryId;\n            }\n            if (translationVoice !== undefined) {\n                const languageToVoiceMap = {};\n                for (const lang of languages) {\n                    languageToVoiceMap[lang] = translationVoice;\n                }\n                this.privSpeechContext.getContext().synthesis = {\n                    defaultVoices: languageToVoiceMap\n                };\n            }\n            // Configure phrase detection for translation\n            const phraseDetection = this.privSpeechContext.getContext().phraseDetection || {};\n            phraseDetection.onSuccess = { action: OnSuccess_js_3.NextAction.Translate };\n            phraseDetection.onInterim = { action: OnSuccess_js_3.NextAction.Translate };\n            this.privSpeechContext.getContext().phraseDetection = phraseDetection;\n        }\n    }\n    setSpeechSegmentationTimeoutJson() {\n        const speechSegmentationSilenceTimeoutMs = this.privRecognizerConfig.parameters.getProperty(Exports_js_3.PropertyId.Speech_SegmentationSilenceTimeoutMs, undefined);\n        const speechSegmentationMaximumTimeMs = this.privRecognizerConfig.parameters.getProperty(Exports_js_3.PropertyId.Speech_SegmentationMaximumTimeMs, undefined);\n        const speechSegmentationStrategy = this.privRecognizerConfig.parameters.getProperty(Exports_js_3.PropertyId.Speech_SegmentationStrategy, undefined);\n        const segmentation = {\n            mode: Segmentation_js_1.SegmentationMode.Normal,\n        };\n        let configuredSegment = false;\n        if (speechSegmentationStrategy !== undefined) {\n            configuredSegment = true;\n            let segMode = Segmentation_js_1.SegmentationMode.Normal;\n            switch (speechSegmentationStrategy.toLowerCase()) {\n                case \"default\":\n                    break;\n                case \"time\":\n                    segMode = Segmentation_js_1.SegmentationMode.Custom;\n                    break;\n                case \"semantic\":\n                    segMode = Segmentation_js_1.SegmentationMode.Semantic;\n                    break;\n            }\n            segmentation.mode = segMode;\n        }\n        if (speechSegmentationSilenceTimeoutMs !== undefined) {\n            configuredSegment = true;\n            const segmentationSilenceTimeoutMs = parseInt(speechSegmentationSilenceTimeoutMs, 10);\n            segmentation.mode = Segmentation_js_1.SegmentationMode.Custom;\n            segmentation.segmentationSilenceTimeoutMs = segmentationSilenceTimeoutMs;\n        }\n        if (speechSegmentationMaximumTimeMs !== undefined) {\n            configuredSegment = true;\n            const segmentationMaximumTimeMs = parseInt(speechSegmentationMaximumTimeMs, 10);\n            segmentation.mode = Segmentation_js_1.SegmentationMode.Custom;\n            segmentation.segmentationForcedTimeoutMs = segmentationMaximumTimeMs;\n        }\n        if (configuredSegment) {\n            const phraseDetection = this.privSpeechContext.getContext().phraseDetection || {};\n            phraseDetection.mode = this.recognitionMode;\n            switch (this.recognitionMode) {\n                case PhraseDetectionContext_js_1.RecognitionMode.Conversation:\n                    phraseDetection.conversation = phraseDetection.conversation ?? { segmentation: {} };\n                    phraseDetection.conversation.segmentation = segmentation;\n                    break;\n                case PhraseDetectionContext_js_1.RecognitionMode.Interactive:\n                    phraseDetection.interactive = phraseDetection.interactive ?? { segmentation: {} };\n                    phraseDetection.interactive.segmentation = segmentation;\n                    break;\n                case PhraseDetectionContext_js_1.RecognitionMode.Dictation:\n                    phraseDetection.dictation = phraseDetection.dictation ?? {};\n                    phraseDetection.dictation.segmentation = segmentation;\n                    break;\n            }\n            this.privSpeechContext.getContext().phraseDetection = phraseDetection;\n        }\n    }\n    setLanguageIdJson() {\n        const phraseDetection = this.privSpeechContext.getContext().phraseDetection || {};\n        if (this.privRecognizerConfig.autoDetectSourceLanguages !== undefined) {\n            const sourceLanguages = this.privRecognizerConfig.autoDetectSourceLanguages.split(\",\");\n            if (sourceLanguages.length === 1 && sourceLanguages[0] === Exports_js_4.AutoDetectSourceLanguagesOpenRangeOptionName) {\n                sourceLanguages[0] = \"UND\";\n            }\n            let speechContextLidMode;\n            if (this.privRecognizerConfig.languageIdMode === \"Continuous\") {\n                speechContextLidMode = LanguageIdContext_js_1.LanguageIdDetectionMode.DetectContinuous;\n            }\n            else { // recognizerConfig.languageIdMode === \"AtStart\"\n                speechContextLidMode = LanguageIdContext_js_1.LanguageIdDetectionMode.DetectAtAudioStart;\n            }\n            this.privSpeechContext.getContext().languageId = {\n                languages: sourceLanguages,\n                mode: speechContextLidMode,\n                onSuccess: { action: OnSuccess_js_2.NextAction.Recognize },\n                onUnknown: { action: OnUnknown_js_1.OnUnknownAction.None },\n                priority: LanguageIdContext_js_1.LanguageIdDetectionPriority.PrioritizeLatency\n            };\n            this.privSpeechContext.getContext().phraseOutput = {\n                interimResults: {\n                    resultType: InterimResults_js_2.ResultType.Auto\n                },\n                phraseResults: {\n                    resultType: PhraseResults_js_1.PhraseResultOutputType.Always\n                }\n            };\n            const customModels = this.privRecognizerConfig.sourceLanguageModels;\n            if (customModels !== undefined) {\n                phraseDetection.customModels = customModels;\n                phraseDetection.onInterim = { action: OnSuccess_js_3.NextAction.None };\n                phraseDetection.onSuccess = { action: OnSuccess_js_3.NextAction.None };\n            }\n        }\n        // No longer setting translation-specific configuration here\n        // This is now handled in setTranslationJson and setupTranslationWithLanguageId methods\n        this.privSpeechContext.getContext().phraseDetection = phraseDetection;\n    }\n    setOutputDetailLevelJson() {\n        if (this.privEnableSpeakerId) {\n            const requestWordLevelTimestamps = this.privRecognizerConfig.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps, \"false\").toLowerCase();\n            if (requestWordLevelTimestamps === \"true\") {\n                this.privSpeechContext.setWordLevelTimings();\n            }\n            else {\n                const outputFormat = this.privRecognizerConfig.parameters.getProperty(Exports_js_4.OutputFormatPropertyName, Exports_js_3.OutputFormat[Exports_js_3.OutputFormat.Simple]).toLowerCase();\n                if (outputFormat === Exports_js_3.OutputFormat[Exports_js_3.OutputFormat.Detailed].toLocaleLowerCase()) {\n                    this.privSpeechContext.setDetailedOutputFormat();\n                }\n            }\n        }\n    }\n    setSpeechStartEventSensitivityJson() {\n        const sensitivity = this.privRecognizerConfig.parameters.getProperty(Exports_js_3.PropertyId.Speech_StartEventSensitivity, undefined);\n        if (sensitivity !== undefined) {\n            let configuredSensitivity = false;\n            switch (sensitivity.toLowerCase()) {\n                case PhraseDetectionContext_js_1.SpeechStartEventSensitivity.Low:\n                case PhraseDetectionContext_js_1.SpeechStartEventSensitivity.Medium:\n                case PhraseDetectionContext_js_1.SpeechStartEventSensitivity.High:\n                    configuredSensitivity = true;\n                    break;\n            }\n            if (configuredSensitivity) {\n                const phraseDetection = this.privSpeechContext.getContext().phraseDetection || {};\n                phraseDetection.voiceOnsetSensitivity = sensitivity.toLowerCase();\n                this.privSpeechContext.getContext().phraseDetection = phraseDetection;\n            }\n        }\n    }\n    get isSpeakerDiarizationEnabled() {\n        return this.privEnableSpeakerId;\n    }\n    get audioSource() {\n        return this.privAudioSource;\n    }\n    get speechContext() {\n        return this.privSpeechContext;\n    }\n    get dynamicGrammar() {\n        return this.privDynamicGrammar;\n    }\n    get agentConfig() {\n        return this.privAgentConfig;\n    }\n    set conversationTranslatorToken(token) {\n        this.privRecognizerConfig.parameters.setProperty(Exports_js_3.PropertyId.ConversationTranslator_Token, token);\n    }\n    set authentication(auth) {\n        this.privAuthentication = auth;\n    }\n    isDisposed() {\n        return this.privIsDisposed;\n    }\n    async dispose(reason) {\n        this.privIsDisposed = true;\n        if (this.privConnectionPromise !== undefined) {\n            try {\n                const connection = await this.privConnectionPromise;\n                await connection.dispose(reason);\n            }\n            catch (error) {\n                // The connection is in a bad state. But we're trying to kill it, so...\n                return;\n            }\n        }\n    }\n    get connectionEvents() {\n        return this.privConnectionEvents;\n    }\n    get serviceEvents() {\n        return this.privServiceEvents;\n    }\n    get recognitionMode() {\n        return this.privRecognizerConfig.recognitionMode;\n    }\n    async recognize(recoMode, successCallback, errorCallBack) {\n        if (this.recognizeOverride !== undefined) {\n            await this.recognizeOverride(recoMode, successCallback, errorCallBack);\n            return;\n        }\n        // Clear the existing configuration promise to force a re-transmission of config and context.\n        this.privConnectionConfigurationPromise = undefined;\n        this.privRecognizerConfig.recognitionMode = recoMode;\n        if (this.privRecognizerConfig.recognitionEndpointVersion === \"2\") {\n            const phraseDetection = this.privSpeechContext.getContext().phraseDetection || {};\n            phraseDetection.mode = recoMode;\n            this.privSpeechContext.getContext().phraseDetection = phraseDetection;\n        }\n        // Set language ID (if configured)\n        this.setLanguageIdJson();\n        // Then set translation (if configured)\n        this.setTranslationJson();\n        // Configure the integration between language ID and translation (if both are used)\n        if (this.privRecognizerConfig.autoDetectSourceLanguages !== undefined &&\n            this.privRecognizerConfig.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationToLanguages, undefined) !== undefined) {\n            this.setupTranslationWithLanguageId();\n        }\n        this.setSpeechSegmentationTimeoutJson();\n        this.setOutputDetailLevelJson();\n        this.setSpeechStartEventSensitivityJson();\n        this.privSuccessCallback = successCallback;\n        this.privErrorCallback = errorCallBack;\n        this.privRequestSession.startNewRecognition();\n        this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events);\n        // Start the connection to the service. The promise this will create is stored and will be used by configureConnection().\n        const conPromise = this.connectImpl();\n        let audioNode;\n        try {\n            const audioStreamNode = await this.audioSource.attach(this.privRequestSession.audioNodeId);\n            const format = await this.audioSource.format;\n            const deviceInfo = await this.audioSource.deviceInfo;\n            this.privIsLiveAudio = deviceInfo.type && deviceInfo.type === Exports_js_4.type.Microphones;\n            audioNode = new Exports_js_1.ReplayableAudioNode(audioStreamNode, format.avgBytesPerSec);\n            await this.privRequestSession.onAudioSourceAttachCompleted(audioNode, false);\n            this.privRecognizerConfig.SpeechServiceConfig.Context.audio = { source: deviceInfo };\n        }\n        catch (error) {\n            await this.privRequestSession.onStopRecognizing();\n            throw error;\n        }\n        try {\n            await conPromise;\n        }\n        catch (error) {\n            await this.cancelRecognitionLocal(Exports_js_3.CancellationReason.Error, Exports_js_3.CancellationErrorCode.ConnectionFailure, error);\n            return;\n        }\n        const sessionStartEventArgs = new Exports_js_3.SessionEventArgs(this.privRequestSession.sessionId);\n        if (!!this.privRecognizer.sessionStarted) {\n            this.privRecognizer.sessionStarted(this.privRecognizer, sessionStartEventArgs);\n        }\n        void this.receiveMessage();\n        const audioSendPromise = this.sendAudio(audioNode);\n        audioSendPromise.catch(async (error) => {\n            await this.cancelRecognitionLocal(Exports_js_3.CancellationReason.Error, Exports_js_3.CancellationErrorCode.RuntimeError, error);\n        });\n        return;\n    }\n    async stopRecognizing() {\n        if (this.privRequestSession.isRecognizing) {\n            try {\n                await this.audioSource.turnOff();\n                await this.sendFinalAudio();\n                await this.privRequestSession.onStopRecognizing();\n                await this.privRequestSession.turnCompletionPromise;\n            }\n            finally {\n                await this.privRequestSession.dispose();\n            }\n        }\n        return;\n    }\n    async connect() {\n        await this.connectImpl();\n        return Promise.resolve();\n    }\n    connectAsync(cb, err) {\n        this.connectImpl().then(() => {\n            try {\n                if (!!cb) {\n                    cb();\n                }\n            }\n            catch (e) {\n                if (!!err) {\n                    err(e);\n                }\n            }\n        }, (reason) => {\n            try {\n                if (!!err) {\n                    err(reason);\n                }\n                /* eslint-disable no-empty */\n            }\n            catch (error) {\n            }\n        });\n    }\n    async disconnect() {\n        await this.cancelRecognitionLocal(Exports_js_3.CancellationReason.Error, Exports_js_3.CancellationErrorCode.NoError, \"Disconnecting\");\n        if (this.disconnectOverride !== undefined) {\n            await this.disconnectOverride();\n        }\n        if (this.privConnectionPromise !== undefined) {\n            try {\n                await (await this.privConnectionPromise).dispose();\n            }\n            catch (error) {\n            }\n        }\n        this.privConnectionPromise = undefined;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    sendMessage(message) {\n        return;\n    }\n    async sendNetworkMessage(path, payload) {\n        const type = typeof payload === \"string\" ? Exports_js_2.MessageType.Text : Exports_js_2.MessageType.Binary;\n        const contentType = typeof payload === \"string\" ? \"application/json\" : \"\";\n        const connection = await this.fetchConnection();\n        return connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(type, path, this.privRequestSession.requestId, contentType, payload));\n    }\n    set activityTemplate(messagePayload) {\n        this.privActivityTemplate = messagePayload;\n    }\n    get activityTemplate() {\n        return this.privActivityTemplate;\n    }\n    set expectContentAssessmentResponse(value) {\n        this.privExpectContentAssessmentResponse = value;\n    }\n    async sendTelemetryData() {\n        const telemetryData = this.privRequestSession.getTelemetry();\n        if (ServiceRecognizerBase.telemetryDataEnabled !== true ||\n            this.privIsDisposed ||\n            null === telemetryData) {\n            return;\n        }\n        if (!!ServiceRecognizerBase.telemetryData) {\n            try {\n                ServiceRecognizerBase.telemetryData(telemetryData);\n                /* eslint-disable no-empty */\n            }\n            catch { }\n        }\n        const connection = await this.fetchConnection();\n        await connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(Exports_js_2.MessageType.Text, \"telemetry\", this.privRequestSession.requestId, \"application/json\", telemetryData));\n    }\n    // Cancels recognition.\n    async cancelRecognitionLocal(cancellationReason, errorCode, error) {\n        if (!!this.privRequestSession.isRecognizing) {\n            await this.privRequestSession.onStopRecognizing();\n            this.cancelRecognition(this.privRequestSession.sessionId, this.privRequestSession.requestId, cancellationReason, errorCode, error);\n        }\n    }\n    async receiveMessage() {\n        try {\n            if (this.privIsDisposed) {\n                // We're done.\n                return;\n            }\n            let connection = await this.fetchConnection();\n            const message = await connection.read();\n            if (this.receiveMessageOverride !== undefined) {\n                return this.receiveMessageOverride();\n            }\n            // indicates we are draining the queue and it came with no message;\n            if (!message) {\n                return this.receiveMessage();\n            }\n            this.privServiceHasSentMessage = true;\n            const connectionMessage = SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage.fromConnectionMessage(message);\n            if (connectionMessage.requestId.toLowerCase() === this.privRequestSession.requestId.toLowerCase()) {\n                switch (connectionMessage.path.toLowerCase()) {\n                    case \"turn.start\":\n                        this.privMustReportEndOfStream = true;\n                        this.privRequestSession.onServiceTurnStartResponse();\n                        break;\n                    case \"speech.startdetected\":\n                        const speechStartDetected = Exports_js_4.SpeechDetected.fromJSON(connectionMessage.textBody, this.privRequestSession.currentTurnAudioOffset);\n                        const speechStartEventArgs = new Exports_js_3.RecognitionEventArgs(speechStartDetected.Offset, this.privRequestSession.sessionId);\n                        if (!!this.privRecognizer.speechStartDetected) {\n                            this.privRecognizer.speechStartDetected(this.privRecognizer, speechStartEventArgs);\n                        }\n                        break;\n                    case \"speech.enddetected\":\n                        let json;\n                        if (connectionMessage.textBody.length > 0) {\n                            json = connectionMessage.textBody;\n                        }\n                        else {\n                            // If the request was empty, the JSON returned is empty.\n                            json = \"{ Offset: 0 }\";\n                        }\n                        const speechStopDetected = Exports_js_4.SpeechDetected.fromJSON(json, this.privRequestSession.currentTurnAudioOffset);\n                        const speechStopEventArgs = new Exports_js_3.RecognitionEventArgs(speechStopDetected.Offset + this.privRequestSession.currentTurnAudioOffset, this.privRequestSession.sessionId);\n                        if (!!this.privRecognizer.speechEndDetected) {\n                            this.privRecognizer.speechEndDetected(this.privRecognizer, speechStopEventArgs);\n                        }\n                        break;\n                    case \"turn.end\":\n                        await this.sendTelemetryData();\n                        if (this.privRequestSession.isSpeechEnded && this.privMustReportEndOfStream) {\n                            this.privMustReportEndOfStream = false;\n                            await this.cancelRecognitionLocal(Exports_js_3.CancellationReason.EndOfStream, Exports_js_3.CancellationErrorCode.NoError, undefined);\n                        }\n                        const sessionStopEventArgs = new Exports_js_3.SessionEventArgs(this.privRequestSession.sessionId);\n                        await this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition);\n                        if (!this.privRecognizerConfig.isContinuousRecognition || this.privRequestSession.isSpeechEnded || !this.privRequestSession.isRecognizing) {\n                            if (!!this.privRecognizer.sessionStopped) {\n                                this.privRecognizer.sessionStopped(this.privRecognizer, sessionStopEventArgs);\n                            }\n                            return;\n                        }\n                        else {\n                            connection = await this.fetchConnection();\n                            await this.sendPrePayloadJSON(connection);\n                        }\n                        break;\n                    default:\n                        if (!await this.processTypeSpecificMessages(connectionMessage)) {\n                            // here are some messages that the derived class has not processed, dispatch them to connect class\n                            if (!!this.privServiceEvents) {\n                                this.serviceEvents.onEvent(new Exports_js_2.ServiceEvent(connectionMessage.path.toLowerCase(), connectionMessage.textBody));\n                            }\n                        }\n                }\n            }\n            return this.receiveMessage();\n        }\n        catch (error) {\n            return null;\n        }\n    }\n    updateSpeakerDiarizationAudioOffset() {\n        const bytesSent = this.privRequestSession.recognitionBytesSent;\n        const audioOffsetMs = this.privAverageBytesPerMs !== 0 ? bytesSent / this.privAverageBytesPerMs : 0;\n        this.privSpeechContext.setSpeakerDiarizationAudioOffsetMs(audioOffsetMs);\n    }\n    sendSpeechContext(connection, generateNewRequestId) {\n        if (this.privEnableSpeakerId) {\n            this.updateSpeakerDiarizationAudioOffset();\n        }\n        const speechContextJson = this.speechContext.toJSON();\n        if (generateNewRequestId) {\n            this.privRequestSession.onSpeechContext();\n        }\n        if (speechContextJson) {\n            return connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(Exports_js_2.MessageType.Text, \"speech.context\", this.privRequestSession.requestId, \"application/json\", speechContextJson));\n        }\n        return;\n    }\n    setupTranslationWithLanguageId() {\n        const targetLanguages = this.privRecognizerConfig.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationToLanguages, undefined);\n        const hasLanguageId = this.privRecognizerConfig.autoDetectSourceLanguages !== undefined;\n        if (targetLanguages !== undefined && hasLanguageId) {\n            // Configure phraseOutput for translation + language ID scenario\n            this.privSpeechContext.getContext().phraseOutput = {\n                interimResults: {\n                    resultType: InterimResults_js_2.ResultType.None\n                },\n                phraseResults: {\n                    resultType: PhraseResults_js_1.PhraseResultOutputType.None\n                }\n            };\n            // Handle custom language models and voice mapping\n            const translationContext = this.privSpeechContext.getContext().translation;\n            if (translationContext) {\n                const customModels = this.privRecognizerConfig.sourceLanguageModels;\n                if (customModels !== undefined && customModels.length > 0) {\n                    const phraseDetection = this.privSpeechContext.getContext().phraseDetection || {};\n                    phraseDetection.customModels = customModels;\n                    this.privSpeechContext.getContext().phraseDetection = phraseDetection;\n                }\n                const translationVoice = this.privRecognizerConfig.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationVoice, undefined);\n                if (translationVoice !== undefined) {\n                    // Update translation actions for synthesis\n                    translationContext.onSuccess = { action: OnSuccess_js_1.NextAction.Synthesize };\n                    translationContext.onPassthrough = { action: OnSuccess_js_1.NextAction.Synthesize };\n                }\n            }\n        }\n    }\n    noOp() {\n        // operation not supported\n        return;\n    }\n    // Encapsulated for derived service recognizers that need to send additional JSON\n    async sendPrePayloadJSON(connection, generateNewRequestId = true) {\n        if (this.sendPrePayloadJSONOverride !== undefined) {\n            return this.sendPrePayloadJSONOverride(connection);\n        }\n        await this.sendSpeechContext(connection, generateNewRequestId);\n        await this.sendWaveHeader(connection);\n        return;\n    }\n    async sendWaveHeader(connection) {\n        const format = await this.audioSource.format;\n        // this.writeBufferToConsole(format.header);\n        return connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(Exports_js_2.MessageType.Binary, \"audio\", this.privRequestSession.requestId, \"audio/x-wav\", format.header));\n    }\n    // Establishes a websocket connection to the end point.\n    connectImpl() {\n        if (this.privConnectionPromise !== undefined) {\n            return this.privConnectionPromise.then((connection) => {\n                if (connection.state() === Exports_js_2.ConnectionState.Disconnected) {\n                    this.privConnectionId = null;\n                    this.privConnectionPromise = undefined;\n                    this.privServiceHasSentMessage = false;\n                    return this.connectImpl();\n                }\n                return this.privConnectionPromise;\n            }, () => {\n                this.privConnectionId = null;\n                this.privConnectionPromise = undefined;\n                this.privServiceHasSentMessage = false;\n                return this.connectImpl();\n            });\n        }\n        this.privConnectionPromise = this.retryableConnect();\n        // Attach an empty handler to allow the promise to run in the background while\n        // other startup events happen. It'll eventually be awaited on.\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        this.privConnectionPromise.catch(() => { });\n        if (this.postConnectImplOverride !== undefined) {\n            return this.postConnectImplOverride(this.privConnectionPromise);\n        }\n        return this.privConnectionPromise;\n    }\n    sendSpeechServiceConfig(connection, requestSession, SpeechServiceConfigJson) {\n        requestSession.onSpeechContext();\n        // filter out anything that is not required for the service to work.\n        if (ServiceRecognizerBase.telemetryDataEnabled !== true) {\n            const withTelemetry = JSON.parse(SpeechServiceConfigJson);\n            const replacement = {\n                context: {\n                    system: withTelemetry.context.system,\n                },\n            };\n            SpeechServiceConfigJson = JSON.stringify(replacement);\n        }\n        if (this.privRecognizerConfig.parameters.getProperty(\"f0f5debc-f8c9-4892-ac4b-90a7ab359fd2\", \"false\").toLowerCase() === \"true\") {\n            const json = JSON.parse(SpeechServiceConfigJson);\n            json.context.DisableReferenceChannel = \"True\";\n            json.context.MicSpec = \"1_0_0\";\n            SpeechServiceConfigJson = JSON.stringify(json);\n        }\n        if (SpeechServiceConfigJson) {\n            return connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(Exports_js_2.MessageType.Text, \"speech.config\", requestSession.requestId, \"application/json\", SpeechServiceConfigJson));\n        }\n        return;\n    }\n    async fetchConnection() {\n        if (this.privConnectionConfigurationPromise !== undefined) {\n            return this.privConnectionConfigurationPromise.then((connection) => {\n                if (connection.state() === Exports_js_2.ConnectionState.Disconnected) {\n                    this.privConnectionId = null;\n                    this.privConnectionConfigurationPromise = undefined;\n                    this.privServiceHasSentMessage = false;\n                    return this.fetchConnection();\n                }\n                return this.privConnectionConfigurationPromise;\n            }, () => {\n                this.privConnectionId = null;\n                this.privConnectionConfigurationPromise = undefined;\n                this.privServiceHasSentMessage = false;\n                return this.fetchConnection();\n            });\n        }\n        this.privConnectionConfigurationPromise = this.configureConnection();\n        return await this.privConnectionConfigurationPromise;\n    }\n    async sendAudio(audioStreamNode) {\n        const audioFormat = await this.audioSource.format;\n        this.privAverageBytesPerMs = audioFormat.avgBytesPerSec / 1000;\n        // The time we last sent data to the service.\n        let nextSendTime = Date.now();\n        // Max amount to send before we start to throttle\n        const fastLaneSizeMs = this.privRecognizerConfig.parameters.getProperty(\"SPEECH-TransmitLengthBeforThrottleMs\", \"5000\");\n        const maxSendUnthrottledBytes = audioFormat.avgBytesPerSec / 1000 * parseInt(fastLaneSizeMs, 10);\n        const startRecogNumber = this.privRequestSession.recogNumber;\n        const readAndUploadCycle = async () => {\n            // If speech is done, stop sending audio.\n            if (!this.privIsDisposed &&\n                !this.privRequestSession.isSpeechEnded &&\n                this.privRequestSession.isRecognizing &&\n                this.privRequestSession.recogNumber === startRecogNumber) {\n                const connection = await this.fetchConnection();\n                const audioStreamChunk = await audioStreamNode.read();\n                // we have a new audio chunk to upload.\n                if (this.privRequestSession.isSpeechEnded) {\n                    // If service already recognized audio end then don't send any more audio\n                    return;\n                }\n                let payload;\n                let sendDelay;\n                if (!audioStreamChunk || audioStreamChunk.isEnd) {\n                    payload = null;\n                    sendDelay = 0;\n                }\n                else {\n                    payload = audioStreamChunk.buffer;\n                    this.privRequestSession.onAudioSent(payload.byteLength);\n                    if (maxSendUnthrottledBytes >= this.privRequestSession.bytesSent) {\n                        sendDelay = 0;\n                    }\n                    else {\n                        sendDelay = Math.max(0, nextSendTime - Date.now());\n                    }\n                }\n                if (0 !== sendDelay) {\n                    await this.delay(sendDelay);\n                }\n                if (payload !== null) {\n                    nextSendTime = Date.now() + (payload.byteLength * 1000 / (audioFormat.avgBytesPerSec * 2));\n                }\n                // Are we still alive?\n                if (!this.privIsDisposed &&\n                    !this.privRequestSession.isSpeechEnded &&\n                    this.privRequestSession.isRecognizing &&\n                    this.privRequestSession.recogNumber === startRecogNumber) {\n                    connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(Exports_js_2.MessageType.Binary, \"audio\", this.privRequestSession.requestId, null, payload)).catch(() => {\n                        // eslint-disable-next-line @typescript-eslint/no-empty-function\n                        this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition).catch(() => { });\n                    });\n                    if (!audioStreamChunk?.isEnd) {\n                        // this.writeBufferToConsole(payload);\n                        // Regardless of success or failure, schedule the next upload.\n                        // If the underlying connection was broken, the next cycle will\n                        // get a new connection and re-transmit missing audio automatically.\n                        return readAndUploadCycle();\n                    }\n                    else {\n                        // the audio stream has been closed, no need to schedule next\n                        // read-upload cycle.\n                        if (!this.privIsLiveAudio) {\n                            this.privRequestSession.onSpeechEnded();\n                        }\n                    }\n                }\n            }\n        };\n        return readAndUploadCycle();\n    }\n    async retryableConnect() {\n        let isUnAuthorized = false;\n        this.privAuthFetchEventId = (0, Exports_js_2.createNoDashGuid)();\n        const sessionId = this.privRequestSession.sessionId;\n        this.privConnectionId = (sessionId !== undefined) ? sessionId : (0, Exports_js_2.createNoDashGuid)();\n        this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId, this.privConnectionId);\n        let lastStatusCode = 0;\n        let lastReason = \"\";\n        while (this.privRequestSession.numConnectionAttempts <= this.privRecognizerConfig.maxRetryCount) {\n            this.privRequestSession.onRetryConnection();\n            // Get the auth information for the connection. This is a bit of overkill for the current API surface, but leaving the plumbing in place to be able to raise a developer-customer\n            // facing event when a connection fails to let them try and provide new auth information.\n            const authPromise = isUnAuthorized ? this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId) : this.privAuthentication.fetch(this.privAuthFetchEventId);\n            const auth = await authPromise;\n            await this.privRequestSession.onAuthCompleted(false);\n            // Create the connection\n            const connection = await this.privConnectionFactory.create(this.privRecognizerConfig, auth, this.privConnectionId);\n            // Attach the telemetry handlers.\n            this.privRequestSession.listenForServiceTelemetry(connection.events);\n            // Attach to the underlying event. No need to hold onto the detach pointers as in the event the connection goes away,\n            // it'll stop sending events.\n            connection.events.attach((event) => {\n                this.connectionEvents.onEvent(event);\n            });\n            const response = await connection.open();\n            // 200 == everything is fine.\n            if (response.statusCode === 200) {\n                await this.privRequestSession.onConnectionEstablishCompleted(response.statusCode);\n                return Promise.resolve(connection);\n            }\n            else if (response.statusCode === 1006) {\n                isUnAuthorized = true;\n            }\n            lastStatusCode = response.statusCode;\n            lastReason = response.reason;\n        }\n        await this.privRequestSession.onConnectionEstablishCompleted(lastStatusCode, lastReason);\n        return Promise.reject(`Unable to contact server. StatusCode: ${lastStatusCode}, ${this.privRecognizerConfig.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_Endpoint)} Reason: ${lastReason}`);\n    }\n    delay(delayMs) {\n        return new Promise((resolve) => this.privSetTimeout(resolve, delayMs));\n    }\n    writeBufferToConsole(buffer) {\n        let out = \"Buffer Size: \";\n        if (null === buffer) {\n            out += \"null\";\n        }\n        else {\n            const readView = new Uint8Array(buffer);\n            out += `${buffer.byteLength}\\r\\n`;\n            for (let i = 0; i < buffer.byteLength; i++) {\n                out += readView[i].toString(16).padStart(2, \"0\") + \" \";\n                if (((i + 1) % 16) === 0) {\n                    // eslint-disable-next-line no-console\n                    console.info(out);\n                    out = \"\";\n                }\n            }\n        }\n        // eslint-disable-next-line no-console\n        console.info(out);\n    }\n    async sendFinalAudio() {\n        const connection = await this.fetchConnection();\n        await connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(Exports_js_2.MessageType.Binary, \"audio\", this.privRequestSession.requestId, null, null));\n        return;\n    }\n    // Takes an established websocket connection to the endpoint and sends speech configuration information.\n    async configureConnection() {\n        const connection = await this.connectImpl();\n        if (this.configConnectionOverride !== undefined) {\n            return this.configConnectionOverride(connection);\n        }\n        await this.sendSpeechServiceConfig(connection, this.privRequestSession, this.privRecognizerConfig.SpeechServiceConfig.serialize());\n        await this.sendPrePayloadJSON(connection, false);\n        return connection;\n    }\n}\nexports.ServiceRecognizerBase = ServiceRecognizerBase;\nServiceRecognizerBase.telemetryDataEnabled = true;\n\n//# sourceMappingURL=ServiceRecognizerBase.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ServiceTelemetryListener = void 0;\n/* eslint-disable max-classes-per-file */\nconst Exports_js_1 = require(\"../common/Exports.js\");\nconst RecognitionEvents_js_1 = require(\"./RecognitionEvents.js\");\nclass ServiceTelemetryListener {\n    constructor(requestId, audioSourceId, audioNodeId) {\n        this.privIsDisposed = false;\n        this.privListeningTriggerMetric = null;\n        this.privMicMetric = null;\n        this.privConnectionEstablishMetric = null;\n        this.privRequestId = requestId;\n        this.privAudioSourceId = audioSourceId;\n        this.privAudioNodeId = audioNodeId;\n        this.privReceivedMessages = {};\n        this.privPhraseLatencies = [];\n        this.privHypothesisLatencies = [];\n    }\n    phraseReceived(audioReceivedTime) {\n        if (audioReceivedTime > 0) { // 0 indicates the time is unknown. Drop it.\n            this.privPhraseLatencies.push(Date.now() - audioReceivedTime);\n        }\n    }\n    hypothesisReceived(audioReceivedTime) {\n        if (audioReceivedTime > 0) { // 0 indicates the time is unknown. Drop it.\n            this.privHypothesisLatencies.push(Date.now() - audioReceivedTime);\n        }\n    }\n    onEvent(e) {\n        if (this.privIsDisposed) {\n            return;\n        }\n        if (e instanceof RecognitionEvents_js_1.RecognitionTriggeredEvent && e.requestId === this.privRequestId) {\n            this.privListeningTriggerMetric = {\n                End: e.eventTime,\n                Name: \"ListeningTrigger\",\n                Start: e.eventTime,\n            };\n        }\n        if (e instanceof Exports_js_1.AudioStreamNodeAttachingEvent && e.audioSourceId === this.privAudioSourceId && e.audioNodeId === this.privAudioNodeId) {\n            this.privMicStartTime = e.eventTime;\n        }\n        if (e instanceof Exports_js_1.AudioStreamNodeAttachedEvent && e.audioSourceId === this.privAudioSourceId && e.audioNodeId === this.privAudioNodeId) {\n            this.privMicStartTime = e.eventTime;\n        }\n        if (e instanceof Exports_js_1.AudioSourceErrorEvent && e.audioSourceId === this.privAudioSourceId) {\n            if (!this.privMicMetric) {\n                this.privMicMetric = {\n                    End: e.eventTime,\n                    Error: e.error,\n                    Name: \"Microphone\",\n                    Start: this.privMicStartTime,\n                };\n            }\n        }\n        if (e instanceof Exports_js_1.AudioStreamNodeErrorEvent && e.audioSourceId === this.privAudioSourceId && e.audioNodeId === this.privAudioNodeId) {\n            if (!this.privMicMetric) {\n                this.privMicMetric = {\n                    End: e.eventTime,\n                    Error: e.error,\n                    Name: \"Microphone\",\n                    Start: this.privMicStartTime,\n                };\n            }\n        }\n        if (e instanceof Exports_js_1.AudioStreamNodeDetachedEvent && e.audioSourceId === this.privAudioSourceId && e.audioNodeId === this.privAudioNodeId) {\n            if (!this.privMicMetric) {\n                this.privMicMetric = {\n                    End: e.eventTime,\n                    Name: \"Microphone\",\n                    Start: this.privMicStartTime,\n                };\n            }\n        }\n        if (e instanceof RecognitionEvents_js_1.ConnectingToServiceEvent && e.requestId === this.privRequestId) {\n            this.privConnectionId = e.sessionId;\n        }\n        if (e instanceof Exports_js_1.ConnectionStartEvent && e.connectionId === this.privConnectionId) {\n            this.privConnectionStartTime = e.eventTime;\n        }\n        if (e instanceof Exports_js_1.ConnectionEstablishedEvent && e.connectionId === this.privConnectionId) {\n            if (!this.privConnectionEstablishMetric) {\n                this.privConnectionEstablishMetric = {\n                    End: e.eventTime,\n                    Id: this.privConnectionId,\n                    Name: \"Connection\",\n                    Start: this.privConnectionStartTime,\n                };\n            }\n        }\n        if (e instanceof Exports_js_1.ConnectionEstablishErrorEvent && e.connectionId === this.privConnectionId) {\n            if (!this.privConnectionEstablishMetric) {\n                this.privConnectionEstablishMetric = {\n                    End: e.eventTime,\n                    Error: this.getConnectionError(e.statusCode),\n                    Id: this.privConnectionId,\n                    Name: \"Connection\",\n                    Start: this.privConnectionStartTime,\n                };\n            }\n        }\n        if (e instanceof Exports_js_1.ConnectionMessageReceivedEvent && e.connectionId === this.privConnectionId) {\n            if (e.message && e.message.headers && e.message.headers.path) {\n                if (!this.privReceivedMessages[e.message.headers.path]) {\n                    this.privReceivedMessages[e.message.headers.path] = new Array();\n                }\n                const maxMessagesToSend = 50;\n                if (this.privReceivedMessages[e.message.headers.path].length < maxMessagesToSend) {\n                    this.privReceivedMessages[e.message.headers.path].push(e.networkReceivedTime);\n                }\n            }\n        }\n    }\n    getTelemetry() {\n        const metrics = new Array();\n        if (this.privListeningTriggerMetric) {\n            metrics.push(this.privListeningTriggerMetric);\n        }\n        if (this.privMicMetric) {\n            metrics.push(this.privMicMetric);\n        }\n        if (this.privConnectionEstablishMetric) {\n            metrics.push(this.privConnectionEstablishMetric);\n        }\n        if (this.privPhraseLatencies.length > 0) {\n            metrics.push({\n                PhraseLatencyMs: this.privPhraseLatencies,\n            });\n        }\n        if (this.privHypothesisLatencies.length > 0) {\n            metrics.push({\n                FirstHypothesisLatencyMs: this.privHypothesisLatencies,\n            });\n        }\n        const telemetry = {\n            Metrics: metrics,\n            ReceivedMessages: this.privReceivedMessages,\n        };\n        const json = JSON.stringify(telemetry);\n        // We dont want to send the same telemetry again. So clean those out.\n        this.privReceivedMessages = {};\n        this.privListeningTriggerMetric = null;\n        this.privMicMetric = null;\n        this.privConnectionEstablishMetric = null;\n        this.privPhraseLatencies = [];\n        this.privHypothesisLatencies = [];\n        return json;\n    }\n    // Determines if there are any telemetry events to send to the service.\n    get hasTelemetry() {\n        return (Object.keys(this.privReceivedMessages).length !== 0 ||\n            this.privListeningTriggerMetric !== null ||\n            this.privMicMetric !== null ||\n            this.privConnectionEstablishMetric !== null ||\n            this.privPhraseLatencies.length !== 0 ||\n            this.privHypothesisLatencies.length !== 0);\n    }\n    dispose() {\n        this.privIsDisposed = true;\n    }\n    getConnectionError(statusCode) {\n        /*\n        -- Websocket status codes --\n        NormalClosure = 1000,\n        EndpointUnavailable = 1001,\n        ProtocolError = 1002,\n        InvalidMessageType = 1003,\n        Empty = 1005,\n        InvalidPayloadData = 1007,\n        PolicyViolation = 1008,\n        MessageTooBig = 1009,\n        MandatoryExtension = 1010,\n        InternalServerError = 1011\n        */\n        switch (statusCode) {\n            case 400:\n            case 1002:\n            case 1003:\n            case 1005:\n            case 1007:\n            case 1008:\n            case 1009: return \"BadRequest\";\n            case 401: return \"Unauthorized\";\n            case 403: return \"Forbidden\";\n            case 503:\n            case 1001: return \"ServerUnavailable\";\n            case 500:\n            case 1011: return \"ServerError\";\n            case 408:\n            case 504: return \"Timeout\";\n            default: return \"statuscode:\" + statusCode.toString();\n        }\n    }\n}\nexports.ServiceTelemetryListener = ServiceTelemetryListener;\n\n//# sourceMappingURL=ServiceTelemetryListener.Internal.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechConnectionFactory = void 0;\nconst Exports_js_1 = require(\"../common.browser/Exports.js\");\nconst Exports_js_2 = require(\"../common.speech/Exports.js\");\nconst Exports_js_3 = require(\"../sdk/Exports.js\");\nconst ConnectionFactoryBase_js_1 = require(\"./ConnectionFactoryBase.js\");\nconst Exports_js_4 = require(\"./Exports.js\");\nconst HeaderNames_js_1 = require(\"./HeaderNames.js\");\nconst QueryParameterNames_js_1 = require(\"./QueryParameterNames.js\");\nconst PhraseDetectionContext_js_1 = require(\"./ServiceMessages/PhraseDetection/PhraseDetectionContext.js\");\nclass SpeechConnectionFactory extends ConnectionFactoryBase_js_1.ConnectionFactoryBase {\n    constructor() {\n        super(...arguments);\n        this.interactiveRelativeUri = \"/speech/recognition/interactive/cognitiveservices/v1\";\n        this.conversationRelativeUri = \"/speech/recognition/conversation/cognitiveservices/v1\";\n        this.dictationRelativeUri = \"/speech/recognition/dictation/cognitiveservices/v1\";\n        this.universalUri = \"/stt/speech/universal/v\";\n    }\n    async create(config, authInfo, connectionId) {\n        let endpoint = config.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_Endpoint, undefined);\n        const region = config.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_Region, undefined);\n        const hostSuffix = ConnectionFactoryBase_js_1.ConnectionFactoryBase.getHostSuffix(region);\n        const host = config.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_Host, \"wss://\" + region + \".stt.speech\" + hostSuffix);\n        const queryParams = {};\n        const endpointId = config.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_EndpointId, undefined);\n        const language = config.parameters.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage, undefined);\n        if (endpointId) {\n            if (!endpoint || endpoint.search(QueryParameterNames_js_1.QueryParameterNames.CustomSpeechDeploymentId) === -1) {\n                queryParams[QueryParameterNames_js_1.QueryParameterNames.CustomSpeechDeploymentId] = endpointId;\n            }\n        }\n        else if (language) {\n            if (!endpoint || endpoint.search(QueryParameterNames_js_1.QueryParameterNames.Language) === -1) {\n                queryParams[QueryParameterNames_js_1.QueryParameterNames.Language] = language;\n            }\n        }\n        if (!endpoint || endpoint.search(QueryParameterNames_js_1.QueryParameterNames.Format) === -1) {\n            queryParams[QueryParameterNames_js_1.QueryParameterNames.Format] = config.parameters.getProperty(Exports_js_2.OutputFormatPropertyName, Exports_js_3.OutputFormat[Exports_js_3.OutputFormat.Simple]).toLowerCase();\n        }\n        if (config.autoDetectSourceLanguages !== undefined) {\n            queryParams[QueryParameterNames_js_1.QueryParameterNames.EnableLanguageId] = \"true\";\n        }\n        this.setCommonUrlParams(config, queryParams, endpoint);\n        if (!!endpoint) {\n            const endpointUrl = new URL(endpoint);\n            const pathName = endpointUrl.pathname;\n            if (pathName === \"\" || pathName === \"/\") {\n                // We need to generate the path, and we need to check for a redirect.\n                endpointUrl.pathname = this.universalUri + config.recognitionEndpointVersion;\n                endpoint = await ConnectionFactoryBase_js_1.ConnectionFactoryBase.getRedirectUrlFromEndpoint(endpointUrl.toString());\n            }\n        }\n        if (!endpoint) {\n            switch (config.recognitionMode) {\n                case PhraseDetectionContext_js_1.RecognitionMode.Conversation:\n                    if (config.parameters.getProperty(Exports_js_2.ForceDictationPropertyName, \"false\") === \"true\") {\n                        endpoint = host + this.dictationRelativeUri;\n                    }\n                    else {\n                        if (config.recognitionEndpointVersion !== undefined && parseInt(config.recognitionEndpointVersion, 10) > 1) {\n                            endpoint = `${host}${this.universalUri}${config.recognitionEndpointVersion}`;\n                        }\n                        else {\n                            endpoint = host + this.conversationRelativeUri;\n                        }\n                    }\n                    break;\n                case PhraseDetectionContext_js_1.RecognitionMode.Dictation:\n                    endpoint = host + this.dictationRelativeUri;\n                    break;\n                default:\n                    if (config.recognitionEndpointVersion !== undefined && parseInt(config.recognitionEndpointVersion, 10) > 1) {\n                        endpoint = `${host}${this.universalUri}${config.recognitionEndpointVersion}`;\n                    }\n                    else {\n                        endpoint = host + this.interactiveRelativeUri; // default is interactive\n                    }\n                    break;\n            }\n        }\n        const headers = {};\n        if (authInfo.token !== undefined && authInfo.token !== \"\") {\n            headers[authInfo.headerName] = authInfo.token;\n        }\n        headers[HeaderNames_js_1.HeaderNames.ConnectionId] = connectionId;\n        headers.connectionId = connectionId;\n        const enableCompression = config.parameters.getProperty(\"SPEECH-EnableWebsocketCompression\", \"false\") === \"true\";\n        const webSocketConnection = new Exports_js_1.WebsocketConnection(endpoint, queryParams, headers, new Exports_js_4.WebsocketMessageFormatter(), Exports_js_1.ProxyInfo.fromRecognizerConfig(config), enableCompression, connectionId);\n        // Set the value of SpeechServiceConnection_Url to webSocketConnection.uri (and not to `endpoint`), since this value is the final\n        // URI that was used to make the connection (including query parameters).\n        const uri = webSocketConnection.uri;\n        config.parameters.setProperty(Exports_js_3.PropertyId.SpeechServiceConnection_Url, uri);\n        return webSocketConnection;\n    }\n}\nexports.SpeechConnectionFactory = SpeechConnectionFactory;\n\n//# sourceMappingURL=SpeechConnectionFactory.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechConnectionMessage = void 0;\nconst Exports_js_1 = require(\"../common/Exports.js\");\nconst HeaderNames_js_1 = require(\"./HeaderNames.js\");\nclass SpeechConnectionMessage extends Exports_js_1.ConnectionMessage {\n    constructor(messageType, path, requestId, contentType, body, streamId, additionalHeaders, id) {\n        if (!path) {\n            throw new Exports_js_1.ArgumentNullError(\"path\");\n        }\n        if (!requestId) {\n            throw new Exports_js_1.ArgumentNullError(\"requestId\");\n        }\n        const headers = {};\n        headers[HeaderNames_js_1.HeaderNames.Path] = path;\n        headers[HeaderNames_js_1.HeaderNames.RequestId] = requestId;\n        headers[HeaderNames_js_1.HeaderNames.RequestTimestamp] = new Date().toISOString();\n        if (contentType) {\n            headers[HeaderNames_js_1.HeaderNames.ContentType] = contentType;\n        }\n        if (streamId) {\n            headers[HeaderNames_js_1.HeaderNames.RequestStreamId] = streamId;\n        }\n        if (additionalHeaders) {\n            for (const headerName in additionalHeaders) {\n                if (headerName) {\n                    headers[headerName] = additionalHeaders[headerName];\n                }\n            }\n        }\n        if (id) {\n            super(messageType, body, headers, id);\n        }\n        else {\n            super(messageType, body, headers);\n        }\n        this.privPath = path;\n        this.privRequestId = requestId;\n        this.privContentType = contentType;\n        this.privStreamId = streamId;\n        this.privAdditionalHeaders = additionalHeaders;\n    }\n    get path() {\n        return this.privPath;\n    }\n    get requestId() {\n        return this.privRequestId;\n    }\n    get contentType() {\n        return this.privContentType;\n    }\n    get streamId() {\n        return this.privStreamId;\n    }\n    get additionalHeaders() {\n        return this.privAdditionalHeaders;\n    }\n    static fromConnectionMessage(message) {\n        let path = null;\n        let requestId = null;\n        let contentType = null;\n        // let requestTimestamp = null;\n        let streamId = null;\n        const additionalHeaders = {};\n        if (message.headers) {\n            for (const headerName in message.headers) {\n                if (headerName) {\n                    if (headerName.toLowerCase() === HeaderNames_js_1.HeaderNames.Path.toLowerCase()) {\n                        path = message.headers[headerName];\n                    }\n                    else if (headerName.toLowerCase() === HeaderNames_js_1.HeaderNames.RequestId.toLowerCase()) {\n                        requestId = message.headers[headerName];\n                        // } else if (headerName.toLowerCase() === HeaderNames.RequestTimestamp.toLowerCase()) {\n                        //  requestTimestamp = message.headers[headerName];\n                    }\n                    else if (headerName.toLowerCase() === HeaderNames_js_1.HeaderNames.ContentType.toLowerCase()) {\n                        contentType = message.headers[headerName];\n                    }\n                    else if (headerName.toLowerCase() === HeaderNames_js_1.HeaderNames.RequestStreamId.toLowerCase()) {\n                        streamId = message.headers[headerName];\n                    }\n                    else {\n                        additionalHeaders[headerName] = message.headers[headerName];\n                    }\n                }\n            }\n        }\n        return new SpeechConnectionMessage(message.messageType, path, requestId, contentType, message.body, streamId, additionalHeaders, message.id);\n    }\n}\nexports.SpeechConnectionMessage = SpeechConnectionMessage;\n\n//# sourceMappingURL=SpeechConnectionMessage.Internal.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechContext = void 0;\nconst PhraseDetectionContext_js_1 = require(\"./ServiceMessages/PhraseDetection/PhraseDetectionContext.js\");\nconst PhraseOutput_js_1 = require(\"./ServiceMessages/PhraseOutput/PhraseOutput.js\");\n/**\n * Represents the JSON used in the speech.context message sent to the speech service.\n * The dynamic grammar is always refreshed from the encapsulated dynamic grammar object.\n */\nclass SpeechContext {\n    constructor(dynamicGrammar) {\n        this.privContext = {};\n        this.privDynamicGrammar = dynamicGrammar;\n    }\n    getContext() {\n        return this.privContext;\n    }\n    /**\n     * @Internal\n     * This is only used by pronunciation assessment config.\n     * Do not use externally, object returned will change without warning or notice.\n     */\n    setPronunciationAssessmentParams(params, isSpeakerDiarizationEnabled = false) {\n        if (this.privContext.phraseDetection === undefined) {\n            this.privContext.phraseDetection = {\n                enrichment: {\n                    pronunciationAssessment: {}\n                }\n            };\n        }\n        if (this.privContext.phraseDetection.enrichment === undefined) {\n            this.privContext.phraseDetection.enrichment = {\n                pronunciationAssessment: {}\n            };\n        }\n        this.privContext.phraseDetection.enrichment.pronunciationAssessment = JSON.parse(params) || {};\n        if (isSpeakerDiarizationEnabled) {\n            this.privContext.phraseDetection.mode = PhraseDetectionContext_js_1.RecognitionMode.Conversation;\n        }\n        this.setWordLevelTimings();\n        this.privContext.phraseOutput.detailed.options.push(PhraseOutput_js_1.PhraseOption.PronunciationAssessment);\n        if (this.privContext.phraseOutput.detailed.options.indexOf(PhraseOutput_js_1.PhraseOption.SNR) === -1) {\n            this.privContext.phraseOutput.detailed.options.push(PhraseOutput_js_1.PhraseOption.SNR);\n        }\n    }\n    setDetailedOutputFormat() {\n        if (this.privContext.phraseOutput === undefined) {\n            this.privContext.phraseOutput = {\n                detailed: {\n                    options: []\n                }\n            };\n        }\n        if (this.privContext.phraseOutput.detailed === undefined) {\n            this.privContext.phraseOutput.detailed = {\n                options: []\n            };\n        }\n        this.privContext.phraseOutput.format = PhraseOutput_js_1.OutputFormat.Detailed;\n    }\n    setWordLevelTimings() {\n        if (this.privContext.phraseOutput === undefined) {\n            this.privContext.phraseOutput = {\n                detailed: {\n                    options: []\n                }\n            };\n        }\n        if (this.privContext.phraseOutput.detailed === undefined) {\n            this.privContext.phraseOutput.detailed = {\n                options: []\n            };\n        }\n        this.privContext.phraseOutput.format = PhraseOutput_js_1.OutputFormat.Detailed;\n        if (this.privContext.phraseOutput.detailed.options.indexOf(PhraseOutput_js_1.PhraseOption.WordTimings) === -1) {\n            this.privContext.phraseOutput.detailed.options.push(PhraseOutput_js_1.PhraseOption.WordTimings);\n        }\n    }\n    setSpeakerDiarizationAudioOffsetMs(audioOffsetMs) {\n        this.privContext.phraseDetection.speakerDiarization.audioOffsetMs = audioOffsetMs;\n    }\n    toJSON() {\n        const dgi = this.privDynamicGrammar.generateGrammarObject();\n        this.privContext.dgi = dgi;\n        const ret = JSON.stringify(this.privContext);\n        return ret;\n    }\n}\nexports.SpeechContext = SpeechContext;\n\n//# sourceMappingURL=SpeechContext.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.type = exports.connectivity = exports.Device = exports.OS = exports.System = exports.Context = exports.SpeechServiceConfig = void 0;\n/* eslint-disable max-classes-per-file */\n// The config is serialized and sent as the Speech.Config\nclass SpeechServiceConfig {\n    constructor(context) {\n        this.context = context;\n    }\n    serialize() {\n        return JSON.stringify(this, (key, value) => {\n            if (value && typeof value === \"object\" && !Array.isArray(value)) {\n                const replacement = {};\n                for (const k in value) {\n                    if (Object.hasOwnProperty.call(value, k)) {\n                        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                        replacement[k && k.charAt(0).toLowerCase() + k.substring(1)] = value[k];\n                    }\n                }\n                return replacement;\n            }\n            return value;\n        });\n    }\n    get Context() {\n        return this.context;\n    }\n    get Recognition() {\n        return this.recognition;\n    }\n    set Recognition(value) {\n        this.recognition = value.toLowerCase();\n    }\n}\nexports.SpeechServiceConfig = SpeechServiceConfig;\nclass Context {\n    constructor(os) {\n        this.system = new System();\n        this.os = os;\n    }\n}\nexports.Context = Context;\nclass System {\n    constructor() {\n        // Note: below will be patched for official builds.\n        const SPEECHSDK_CLIENTSDK_VERSION = \"1.47.0\";\n        this.name = \"SpeechSDK\";\n        this.version = SPEECHSDK_CLIENTSDK_VERSION;\n        this.build = \"JavaScript\";\n        this.lang = \"JavaScript\";\n    }\n}\nexports.System = System;\nclass OS {\n    constructor(platform, name, version) {\n        this.platform = platform;\n        this.name = name;\n        this.version = version;\n    }\n}\nexports.OS = OS;\nclass Device {\n    constructor(manufacturer, model, version) {\n        this.manufacturer = manufacturer;\n        this.model = model;\n        this.version = version;\n    }\n}\nexports.Device = Device;\nvar connectivity;\n(function (connectivity) {\n    connectivity[\"Bluetooth\"] = \"Bluetooth\";\n    connectivity[\"Wired\"] = \"Wired\";\n    connectivity[\"WiFi\"] = \"WiFi\";\n    connectivity[\"Cellular\"] = \"Cellular\";\n    connectivity[\"InBuilt\"] = \"InBuilt\";\n    connectivity[\"Unknown\"] = \"Unknown\";\n})(connectivity = exports.connectivity || (exports.connectivity = {}));\nvar type;\n(function (type) {\n    type[\"Phone\"] = \"Phone\";\n    type[\"Speaker\"] = \"Speaker\";\n    type[\"Car\"] = \"Car\";\n    type[\"Headset\"] = \"Headset\";\n    type[\"Thermostat\"] = \"Thermostat\";\n    type[\"Microphones\"] = \"Microphones\";\n    type[\"Deskphone\"] = \"Deskphone\";\n    type[\"RemoteControl\"] = \"RemoteControl\";\n    type[\"Unknown\"] = \"Unknown\";\n    type[\"File\"] = \"File\";\n    type[\"Stream\"] = \"Stream\";\n})(type = exports.type || (exports.type = {}));\n\n//# sourceMappingURL=SpeechServiceConfig.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n//# sourceMappingURL=SpeechServiceInterfaces.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechServiceRecognizer = void 0;\nconst Exports_js_1 = require(\"../sdk/Exports.js\");\nconst Exports_js_2 = require(\"./Exports.js\");\n// eslint-disable-next-line max-classes-per-file\nclass SpeechServiceRecognizer extends Exports_js_2.ServiceRecognizerBase {\n    constructor(authentication, connectionFactory, audioSource, recognizerConfig, speechRecognizer) {\n        super(authentication, connectionFactory, audioSource, recognizerConfig, speechRecognizer);\n        this.privSpeechRecognizer = speechRecognizer;\n    }\n    async processTypeSpecificMessages(connectionMessage) {\n        let result;\n        const resultProps = new Exports_js_1.PropertyCollection();\n        let processed = false;\n        switch (connectionMessage.path.toLowerCase()) {\n            case \"speech.hypothesis\":\n            case \"speech.fragment\":\n                const hypothesis = Exports_js_2.SpeechHypothesis.fromJSON(connectionMessage.textBody, this.privRequestSession.currentTurnAudioOffset);\n                resultProps.setProperty(Exports_js_1.PropertyId.SpeechServiceResponse_JsonResult, hypothesis.asJson());\n                result = new Exports_js_1.SpeechRecognitionResult(this.privRequestSession.requestId, Exports_js_1.ResultReason.RecognizingSpeech, hypothesis.Text, hypothesis.Duration, hypothesis.Offset, hypothesis.Language, hypothesis.LanguageDetectionConfidence, undefined, // Speaker Id\n                undefined, hypothesis.asJson(), resultProps);\n                this.privRequestSession.onHypothesis(hypothesis.Offset);\n                const ev = new Exports_js_1.SpeechRecognitionEventArgs(result, hypothesis.Offset, this.privRequestSession.sessionId);\n                if (!!this.privSpeechRecognizer.recognizing) {\n                    try {\n                        this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer, ev);\n                        /* eslint-disable no-empty */\n                    }\n                    catch (error) {\n                        // Not going to let errors in the event handler\n                        // trip things up.\n                    }\n                }\n                processed = true;\n                break;\n            case \"speech.phrase\":\n                const simple = Exports_js_2.SimpleSpeechPhrase.fromJSON(connectionMessage.textBody, this.privRequestSession.currentTurnAudioOffset);\n                resultProps.setProperty(Exports_js_1.PropertyId.SpeechServiceResponse_JsonResult, simple.asJson());\n                const resultReason = Exports_js_2.EnumTranslation.implTranslateRecognitionResult(simple.RecognitionStatus, this.privExpectContentAssessmentResponse);\n                this.privRequestSession.onPhraseRecognized(simple.Offset + simple.Duration);\n                if (Exports_js_1.ResultReason.Canceled === resultReason) {\n                    const cancelReason = Exports_js_2.EnumTranslation.implTranslateCancelResult(simple.RecognitionStatus);\n                    const cancellationErrorCode = Exports_js_2.EnumTranslation.implTranslateCancelErrorCode(simple.RecognitionStatus);\n                    await this.cancelRecognitionLocal(cancelReason, cancellationErrorCode, Exports_js_2.EnumTranslation.implTranslateErrorDetails(cancellationErrorCode));\n                }\n                else {\n                    // Like the native SDK's, don't event / return an EndOfDictation message.\n                    if (simple.RecognitionStatus === Exports_js_2.RecognitionStatus.EndOfDictation) {\n                        break;\n                    }\n                    if (this.privRecognizerConfig.parameters.getProperty(Exports_js_2.OutputFormatPropertyName) === Exports_js_1.OutputFormat[Exports_js_1.OutputFormat.Simple]) {\n                        result = new Exports_js_1.SpeechRecognitionResult(this.privRequestSession.requestId, resultReason, simple.DisplayText, simple.Duration, simple.Offset, simple.Language, simple.LanguageDetectionConfidence, undefined, // Speaker Id\n                        undefined, simple.asJson(), resultProps);\n                    }\n                    else {\n                        const detailed = Exports_js_2.DetailedSpeechPhrase.fromJSON(connectionMessage.textBody, this.privRequestSession.currentTurnAudioOffset);\n                        resultProps.setProperty(Exports_js_1.PropertyId.SpeechServiceResponse_JsonResult, detailed.asJson());\n                        result = new Exports_js_1.SpeechRecognitionResult(this.privRequestSession.requestId, resultReason, detailed.RecognitionStatus === Exports_js_2.RecognitionStatus.Success ? detailed.NBest[0].Display : \"\", detailed.Duration, detailed.Offset, detailed.Language, detailed.LanguageDetectionConfidence, undefined, // Speaker Id\n                        undefined, detailed.asJson(), resultProps);\n                    }\n                    const event = new Exports_js_1.SpeechRecognitionEventArgs(result, result.offset, this.privRequestSession.sessionId);\n                    if (!!this.privSpeechRecognizer.recognized) {\n                        try {\n                            this.privSpeechRecognizer.recognized(this.privSpeechRecognizer, event);\n                            /* eslint-disable no-empty */\n                        }\n                        catch (error) {\n                            // Not going to let errors in the event handler\n                            // trip things up.\n                        }\n                    }\n                    if (!!this.privSuccessCallback) {\n                        try {\n                            this.privSuccessCallback(result);\n                        }\n                        catch (e) {\n                            if (!!this.privErrorCallback) {\n                                this.privErrorCallback(e);\n                            }\n                        }\n                        // Only invoke the call back once.\n                        // and if it's successful don't invoke the\n                        // error after that.\n                        this.privSuccessCallback = undefined;\n                        this.privErrorCallback = undefined;\n                    }\n                }\n                processed = true;\n                break;\n            default:\n                break;\n        }\n        return processed;\n    }\n    // Cancels recognition.\n    cancelRecognition(sessionId, requestId, cancellationReason, errorCode, error) {\n        const properties = new Exports_js_1.PropertyCollection();\n        properties.setProperty(Exports_js_2.CancellationErrorCodePropertyName, Exports_js_1.CancellationErrorCode[errorCode]);\n        if (!!this.privSpeechRecognizer.canceled) {\n            const cancelEvent = new Exports_js_1.SpeechRecognitionCanceledEventArgs(cancellationReason, error, errorCode, undefined, sessionId);\n            try {\n                this.privSpeechRecognizer.canceled(this.privSpeechRecognizer, cancelEvent);\n                /* eslint-disable no-empty */\n            }\n            catch { }\n        }\n        if (!!this.privSuccessCallback) {\n            const result = new Exports_js_1.SpeechRecognitionResult(requestId, Exports_js_1.ResultReason.Canceled, undefined, // Text\n            undefined, // Duration\n            undefined, // Offset\n            undefined, // Language\n            undefined, // Language Detection Confidence\n            undefined, // Speaker Id\n            error, undefined, // Json\n            properties);\n            try {\n                this.privSuccessCallback(result);\n                this.privSuccessCallback = undefined;\n                /* eslint-disable no-empty */\n            }\n            catch { }\n        }\n    }\n}\nexports.SpeechServiceRecognizer = SpeechServiceRecognizer;\n\n//# sourceMappingURL=SpeechServiceRecognizer.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechSynthesisAdapter = void 0;\nconst Exports_js_1 = require(\"../sdk/Exports.js\");\nconst Exports_js_2 = require(\"./Exports.js\");\nclass SpeechSynthesisAdapter extends Exports_js_2.SynthesisAdapterBase {\n    constructor(authentication, connectionFactory, synthesizerConfig, speechSynthesizer, audioDestination) {\n        super(authentication, connectionFactory, synthesizerConfig, audioDestination);\n        this.privSpeechSynthesizer = speechSynthesizer;\n        this.privSynthesizer = speechSynthesizer;\n    }\n    setSynthesisContextSynthesisSection() {\n        this.privSynthesisContext.setSynthesisSection(this.privSpeechSynthesizer);\n    }\n    onSynthesisStarted(requestId) {\n        const synthesisStartEventArgs = new Exports_js_1.SpeechSynthesisEventArgs(new Exports_js_1.SpeechSynthesisResult(requestId, Exports_js_1.ResultReason.SynthesizingAudioStarted));\n        if (!!this.privSpeechSynthesizer.synthesisStarted) {\n            this.privSpeechSynthesizer.synthesisStarted(this.privSpeechSynthesizer, synthesisStartEventArgs);\n        }\n    }\n    onSynthesizing(audio) {\n        if (!!this.privSpeechSynthesizer.synthesizing) {\n            try {\n                const audioWithHeader = this.privSynthesisTurn.audioOutputFormat.addHeader(audio);\n                const ev = new Exports_js_1.SpeechSynthesisEventArgs(new Exports_js_1.SpeechSynthesisResult(this.privSynthesisTurn.requestId, Exports_js_1.ResultReason.SynthesizingAudio, audioWithHeader));\n                this.privSpeechSynthesizer.synthesizing(this.privSpeechSynthesizer, ev);\n            }\n            catch (error) {\n                // Not going to let errors in the event handler\n                // trip things up.\n            }\n        }\n    }\n    onSynthesisCancelled(result) {\n        if (!!this.privSpeechSynthesizer.SynthesisCanceled) {\n            const cancelEvent = new Exports_js_1.SpeechSynthesisEventArgs(result);\n            try {\n                this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer, cancelEvent);\n                /* eslint-disable no-empty */\n            }\n            catch { }\n        }\n    }\n    onSynthesisCompleted(result) {\n        if (this.privSpeechSynthesizer.synthesisCompleted) {\n            try {\n                this.privSpeechSynthesizer.synthesisCompleted(this.privSpeechSynthesizer, new Exports_js_1.SpeechSynthesisEventArgs(result));\n            }\n            catch (e) {\n                // Not going to let errors in the event handler\n                // trip things up.\n            }\n        }\n    }\n    onWordBoundary(wordBoundaryEventArgs) {\n        if (!!this.privSpeechSynthesizer.wordBoundary) {\n            try {\n                this.privSpeechSynthesizer.wordBoundary(this.privSpeechSynthesizer, wordBoundaryEventArgs);\n            }\n            catch (error) {\n                // Not going to let errors in the event handler\n                // trip things up.\n            }\n        }\n    }\n    onVisemeReceived(visemeEventArgs) {\n        if (!!this.privSpeechSynthesizer.visemeReceived) {\n            try {\n                this.privSpeechSynthesizer.visemeReceived(this.privSpeechSynthesizer, visemeEventArgs);\n            }\n            catch (error) {\n                // Not going to let errors in the event handler\n                // trip things up.\n            }\n        }\n    }\n    onBookmarkReached(bookmarkEventArgs) {\n        if (!!this.privSpeechSynthesizer.bookmarkReached) {\n            try {\n                this.privSpeechSynthesizer.bookmarkReached(this.privSpeechSynthesizer, bookmarkEventArgs);\n            }\n            catch (error) {\n                // Not going to let errors in the event handler\n                // trip things up.\n            }\n        }\n    }\n}\nexports.SpeechSynthesisAdapter = SpeechSynthesisAdapter;\n\n//# sourceMappingURL=SpeechSynthesisAdapter.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechSynthesisConnectionFactory = void 0;\nconst Exports_js_1 = require(\"../common.browser/Exports.js\");\nconst Exports_js_2 = require(\"../sdk/Exports.js\");\nconst ConnectionFactoryBase_js_1 = require(\"./ConnectionFactoryBase.js\");\nconst Exports_js_3 = require(\"./Exports.js\");\nconst HeaderNames_js_1 = require(\"./HeaderNames.js\");\nconst QueryParameterNames_js_1 = require(\"./QueryParameterNames.js\");\nclass SpeechSynthesisConnectionFactory {\n    constructor() {\n        this.synthesisUri = \"/tts/cognitiveservices/websocket/v1\";\n    }\n    async create(config, authInfo, connectionId) {\n        let endpoint = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Endpoint, undefined);\n        const region = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Region, undefined);\n        const hostSuffix = ConnectionFactoryBase_js_1.ConnectionFactoryBase.getHostSuffix(region);\n        const endpointId = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_EndpointId, undefined);\n        const hostPrefix = (endpointId === undefined) ? \"tts\" : \"voice\";\n        const host = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Host, \"wss://\" + region + \".\" + hostPrefix + \".speech\" + hostSuffix);\n        const queryParams = {};\n        const headers = {};\n        if (authInfo.token !== undefined && authInfo.token !== \"\") {\n            headers[authInfo.headerName] = authInfo.token;\n        }\n        headers[HeaderNames_js_1.HeaderNames.ConnectionId] = connectionId;\n        if (endpointId !== undefined && endpointId !== \"\") {\n            if (!endpoint || endpoint.search(QueryParameterNames_js_1.QueryParameterNames.CustomVoiceDeploymentId) === -1) {\n                queryParams[QueryParameterNames_js_1.QueryParameterNames.CustomVoiceDeploymentId] = endpointId;\n            }\n        }\n        if (config.avatarEnabled) {\n            if (!endpoint || endpoint.search(QueryParameterNames_js_1.QueryParameterNames.EnableAvatar) === -1) {\n                queryParams[QueryParameterNames_js_1.QueryParameterNames.EnableAvatar] = \"true\";\n            }\n        }\n        if (!!endpoint) {\n            const endpointUrl = new URL(endpoint);\n            const pathName = endpointUrl.pathname;\n            if (pathName === \"\" || pathName === \"/\") {\n                // We need to generate the path, and we need to check for a redirect.\n                endpointUrl.pathname = this.synthesisUri;\n                endpoint = await ConnectionFactoryBase_js_1.ConnectionFactoryBase.getRedirectUrlFromEndpoint(endpointUrl.toString());\n            }\n        }\n        if (!endpoint) {\n            endpoint = host + this.synthesisUri;\n        }\n        config.parameters.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Url, endpoint);\n        const enableCompression = config.parameters.getProperty(\"SPEECH-EnableWebsocketCompression\", \"false\") === \"true\";\n        return new Exports_js_1.WebsocketConnection(endpoint, queryParams, headers, new Exports_js_3.WebsocketMessageFormatter(), Exports_js_1.ProxyInfo.fromParameters(config.parameters), enableCompression, connectionId);\n    }\n}\nexports.SpeechSynthesisConnectionFactory = SpeechSynthesisConnectionFactory;\n\n//# sourceMappingURL=SpeechSynthesisConnectionFactory.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SynthesisAdapterBase = void 0;\nconst Exports_js_1 = require(\"../common/Exports.js\");\nconst Exports_js_2 = require(\"../sdk/Exports.js\");\nconst Exports_js_3 = require(\"./Exports.js\");\nconst SpeechConnectionMessage_Internal_js_1 = require(\"./SpeechConnectionMessage.Internal.js\");\nclass SynthesisAdapterBase {\n    constructor(authentication, connectionFactory, synthesizerConfig, audioDestination) {\n        this.speakOverride = undefined;\n        this.receiveMessageOverride = undefined;\n        this.connectImplOverride = undefined;\n        this.configConnectionOverride = undefined;\n        // A promise for a configured connection.\n        // Do not consume directly, call fetchConnection instead.\n        this.privConnectionConfigurationPromise = undefined;\n        if (!authentication) {\n            throw new Exports_js_1.ArgumentNullError(\"authentication\");\n        }\n        if (!connectionFactory) {\n            throw new Exports_js_1.ArgumentNullError(\"connectionFactory\");\n        }\n        if (!synthesizerConfig) {\n            throw new Exports_js_1.ArgumentNullError(\"synthesizerConfig\");\n        }\n        this.privAuthentication = authentication;\n        this.privConnectionFactory = connectionFactory;\n        this.privSynthesizerConfig = synthesizerConfig;\n        this.privIsDisposed = false;\n        this.privSessionAudioDestination = audioDestination;\n        this.privSynthesisTurn = new Exports_js_3.SynthesisTurn();\n        this.privConnectionEvents = new Exports_js_1.EventSource();\n        this.privServiceEvents = new Exports_js_1.EventSource();\n        this.privSynthesisContext = new Exports_js_3.SynthesisContext();\n        this.privAgentConfig = new Exports_js_3.AgentConfig();\n        this.connectionEvents.attach((connectionEvent) => {\n            if (connectionEvent.name === \"ConnectionClosedEvent\") {\n                const connectionClosedEvent = connectionEvent;\n                if (connectionClosedEvent.statusCode !== 1000) {\n                    this.cancelSynthesisLocal(Exports_js_2.CancellationReason.Error, connectionClosedEvent.statusCode === 1007 ? Exports_js_2.CancellationErrorCode.BadRequestParameters : Exports_js_2.CancellationErrorCode.ConnectionFailure, `${connectionClosedEvent.reason} websocket error code: ${connectionClosedEvent.statusCode}`);\n                }\n            }\n        });\n    }\n    get synthesizerConfig() {\n        return this.privSynthesizerConfig;\n    }\n    get synthesisContext() {\n        return this.privSynthesisContext;\n    }\n    get agentConfig() {\n        return this.privAgentConfig;\n    }\n    get connectionEvents() {\n        return this.privConnectionEvents;\n    }\n    get serviceEvents() {\n        return this.privServiceEvents;\n    }\n    set activityTemplate(messagePayload) {\n        this.privActivityTemplate = messagePayload;\n    }\n    get activityTemplate() {\n        return this.privActivityTemplate;\n    }\n    set audioOutputFormat(format) {\n        this.privAudioOutputFormat = format;\n        this.privSynthesisTurn.audioOutputFormat = format;\n        if (this.privSessionAudioDestination !== undefined) {\n            this.privSessionAudioDestination.format = format;\n        }\n        if (this.synthesisContext !== undefined) {\n            this.synthesisContext.audioOutputFormat = format;\n        }\n    }\n    isDisposed() {\n        return this.privIsDisposed;\n    }\n    async dispose(reason) {\n        this.privIsDisposed = true;\n        if (this.privSessionAudioDestination !== undefined) {\n            this.privSessionAudioDestination.close();\n        }\n        if (this.privConnectionConfigurationPromise !== undefined) {\n            const connection = await this.privConnectionConfigurationPromise;\n            await connection.dispose(reason);\n        }\n    }\n    async connect() {\n        await this.connectImpl();\n    }\n    async sendNetworkMessage(path, payload) {\n        const type = typeof payload === \"string\" ? Exports_js_1.MessageType.Text : Exports_js_1.MessageType.Binary;\n        const contentType = typeof payload === \"string\" ? \"application/json\" : \"\";\n        const connection = await this.fetchConnection();\n        return connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(type, path, this.privSynthesisTurn.requestId, contentType, payload));\n    }\n    async Speak(text, isSSML, requestId, successCallback, errorCallBack, audioDestination) {\n        let ssml;\n        if (isSSML) {\n            ssml = text;\n        }\n        else {\n            ssml = this.privSynthesizer.buildSsml(text);\n        }\n        if (this.speakOverride !== undefined) {\n            return this.speakOverride(ssml, requestId, successCallback, errorCallBack);\n        }\n        this.privSuccessCallback = successCallback;\n        this.privErrorCallback = errorCallBack;\n        this.privSynthesisTurn.startNewSynthesis(requestId, text, isSSML, audioDestination);\n        try {\n            await this.connectImpl();\n            const connection = await this.fetchConnection();\n            await this.sendSynthesisContext(connection);\n            await this.sendSsmlMessage(connection, ssml, requestId);\n            this.onSynthesisStarted(requestId);\n            void this.receiveMessage();\n        }\n        catch (e) {\n            this.cancelSynthesisLocal(Exports_js_2.CancellationReason.Error, Exports_js_2.CancellationErrorCode.ConnectionFailure, e);\n            return Promise.reject(e);\n        }\n    }\n    async stopSpeaking() {\n        await this.connectImpl();\n        const connection = await this.fetchConnection();\n        return connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(Exports_js_1.MessageType.Text, \"synthesis.control\", this.privSynthesisTurn.requestId, \"application/json\", JSON.stringify({\n            action: \"stop\"\n        })));\n    }\n    // Cancels synthesis.\n    cancelSynthesis(requestId, _cancellationReason, errorCode, error) {\n        const properties = new Exports_js_2.PropertyCollection();\n        properties.setProperty(Exports_js_3.CancellationErrorCodePropertyName, Exports_js_2.CancellationErrorCode[errorCode]);\n        const result = new Exports_js_2.SpeechSynthesisResult(requestId, Exports_js_2.ResultReason.Canceled, undefined, error, properties);\n        this.onSynthesisCancelled(result);\n        if (!!this.privSuccessCallback) {\n            try {\n                this.privSuccessCallback(result);\n                /* eslint-disable no-empty */\n            }\n            catch { }\n        }\n    }\n    // Cancels synthesis.\n    cancelSynthesisLocal(cancellationReason, errorCode, error) {\n        if (!!this.privSynthesisTurn.isSynthesizing) {\n            this.privSynthesisTurn.onStopSynthesizing();\n            this.cancelSynthesis(this.privSynthesisTurn.requestId, cancellationReason, errorCode, error);\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    processTypeSpecificMessages(_connectionMessage) {\n        return true;\n    }\n    async receiveMessage() {\n        try {\n            const connection = await this.fetchConnection();\n            const message = await connection.read();\n            if (this.receiveMessageOverride !== undefined) {\n                return this.receiveMessageOverride();\n            }\n            if (this.privIsDisposed) {\n                // We're done.\n                return;\n            }\n            // indicates we are draining the queue and it came with no message;\n            if (!message) {\n                if (!this.privSynthesisTurn.isSynthesizing) {\n                    return;\n                }\n                else {\n                    return this.receiveMessage();\n                }\n            }\n            const connectionMessage = SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage.fromConnectionMessage(message);\n            if (connectionMessage.requestId.toLowerCase() === this.privSynthesisTurn.requestId.toLowerCase()) {\n                switch (connectionMessage.path.toLowerCase()) {\n                    case \"turn.start\":\n                        this.privSynthesisTurn.onServiceTurnStartResponse(connectionMessage.textBody);\n                        break;\n                    case \"response\":\n                        this.privSynthesisTurn.onServiceResponseMessage(connectionMessage.textBody);\n                        break;\n                    case \"audio\":\n                        if (this.privSynthesisTurn.streamId.toLowerCase() === connectionMessage.streamId.toLowerCase()\n                            && !!connectionMessage.binaryBody) {\n                            this.privSynthesisTurn.onAudioChunkReceived(connectionMessage.binaryBody);\n                            this.onSynthesizing(connectionMessage.binaryBody);\n                            if (this.privSessionAudioDestination !== undefined) {\n                                this.privSessionAudioDestination.write(connectionMessage.binaryBody);\n                            }\n                        }\n                        break;\n                    case \"audio.metadata\":\n                        const metadataList = Exports_js_3.SynthesisAudioMetadata.fromJSON(connectionMessage.textBody).Metadata;\n                        for (const metadata of metadataList) {\n                            switch (metadata.Type) {\n                                case Exports_js_3.MetadataType.WordBoundary:\n                                case Exports_js_3.MetadataType.SentenceBoundary:\n                                    this.privSynthesisTurn.onTextBoundaryEvent(metadata);\n                                    const wordBoundaryEventArgs = new Exports_js_2.SpeechSynthesisWordBoundaryEventArgs(metadata.Data.Offset, metadata.Data.Duration, metadata.Data.text.Text, metadata.Data.text.Length, metadata.Type === Exports_js_3.MetadataType.WordBoundary\n                                        ? this.privSynthesisTurn.currentTextOffset : this.privSynthesisTurn.currentSentenceOffset, metadata.Data.text.BoundaryType);\n                                    this.onWordBoundary(wordBoundaryEventArgs);\n                                    break;\n                                case Exports_js_3.MetadataType.Bookmark:\n                                    const bookmarkEventArgs = new Exports_js_2.SpeechSynthesisBookmarkEventArgs(metadata.Data.Offset, metadata.Data.Bookmark);\n                                    this.onBookmarkReached(bookmarkEventArgs);\n                                    break;\n                                case Exports_js_3.MetadataType.Viseme:\n                                    this.privSynthesisTurn.onVisemeMetadataReceived(metadata);\n                                    if (metadata.Data.IsLastAnimation) {\n                                        const visemeEventArgs = new Exports_js_2.SpeechSynthesisVisemeEventArgs(metadata.Data.Offset, metadata.Data.VisemeId, this.privSynthesisTurn.getAndClearVisemeAnimation());\n                                        this.onVisemeReceived(visemeEventArgs);\n                                    }\n                                    break;\n                                case Exports_js_3.MetadataType.AvatarSignal:\n                                    this.onAvatarEvent(metadata);\n                                    break;\n                                case Exports_js_3.MetadataType.SessionEnd:\n                                    this.privSynthesisTurn.onSessionEnd(metadata);\n                                    break;\n                            }\n                        }\n                        break;\n                    case \"turn.end\":\n                        this.privSynthesisTurn.onServiceTurnEndResponse();\n                        let result;\n                        try {\n                            result = await this.privSynthesisTurn.constructSynthesisResult();\n                            if (!!this.privSuccessCallback) {\n                                this.privSuccessCallback(result);\n                            }\n                        }\n                        catch (error) {\n                            if (!!this.privErrorCallback) {\n                                this.privErrorCallback(error);\n                            }\n                        }\n                        this.onSynthesisCompleted(result);\n                        break;\n                    default:\n                        if (!this.processTypeSpecificMessages(connectionMessage)) {\n                            // here are some messages that the derived class has not processed, dispatch them to connect class\n                            if (!!this.privServiceEvents) {\n                                this.serviceEvents.onEvent(new Exports_js_1.ServiceEvent(connectionMessage.path.toLowerCase(), connectionMessage.textBody));\n                            }\n                        }\n                }\n            }\n            return this.receiveMessage();\n        }\n        catch (e) {\n            // TODO: What goes here?\n        }\n    }\n    sendSynthesisContext(connection) {\n        this.setSynthesisContextSynthesisSection();\n        const synthesisContextJson = this.synthesisContext.toJSON();\n        if (synthesisContextJson) {\n            return connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(Exports_js_1.MessageType.Text, \"synthesis.context\", this.privSynthesisTurn.requestId, \"application/json\", synthesisContextJson));\n        }\n        return;\n    }\n    setSpeechConfigSynthesisSection() {\n        return;\n    }\n    connectImpl(isUnAuthorized = false) {\n        if (this.privConnectionPromise != null) {\n            return this.privConnectionPromise.then((connection) => {\n                if (connection.state() === Exports_js_1.ConnectionState.Disconnected) {\n                    this.privConnectionId = null;\n                    this.privConnectionPromise = null;\n                    return this.connectImpl();\n                }\n                return this.privConnectionPromise;\n            }, () => {\n                this.privConnectionId = null;\n                this.privConnectionPromise = null;\n                return this.connectImpl();\n            });\n        }\n        this.privAuthFetchEventId = (0, Exports_js_1.createNoDashGuid)();\n        this.privConnectionId = (0, Exports_js_1.createNoDashGuid)();\n        this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId);\n        const authPromise = isUnAuthorized ? this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId) : this.privAuthentication.fetch(this.privAuthFetchEventId);\n        this.privConnectionPromise = authPromise.then(async (result) => {\n            this.privSynthesisTurn.onAuthCompleted(false);\n            const connection = await this.privConnectionFactory.create(this.privSynthesizerConfig, result, this.privConnectionId);\n            // Attach to the underlying event. No need to hold onto the detach pointers as in the event the connection goes away,\n            // it'll stop sending events.\n            connection.events.attach((event) => {\n                this.connectionEvents.onEvent(event);\n            });\n            const response = await connection.open();\n            if (response.statusCode === 200) {\n                this.privSynthesisTurn.onConnectionEstablishCompleted(response.statusCode);\n                return Promise.resolve(connection);\n            }\n            else if (response.statusCode === 403 && !isUnAuthorized) {\n                return this.connectImpl(true);\n            }\n            else {\n                this.privSynthesisTurn.onConnectionEstablishCompleted(response.statusCode);\n                return Promise.reject(`Unable to contact server. StatusCode: ${response.statusCode},\r\n                    ${this.privSynthesizerConfig.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Url)} Reason: ${response.reason}`);\n            }\n        }, (error) => {\n            this.privSynthesisTurn.onAuthCompleted(true);\n            throw new Error(error);\n        });\n        // Attach an empty handler to allow the promise to run in the background while\n        // other startup events happen. It'll eventually be awaited on.\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        this.privConnectionPromise.catch(() => { });\n        return this.privConnectionPromise;\n    }\n    sendSpeechServiceConfig(connection, SpeechServiceConfigJson) {\n        if (SpeechServiceConfigJson) {\n            return connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(Exports_js_1.MessageType.Text, \"speech.config\", this.privSynthesisTurn.requestId, \"application/json\", SpeechServiceConfigJson));\n        }\n    }\n    sendSsmlMessage(connection, ssml, requestId) {\n        return connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(Exports_js_1.MessageType.Text, \"ssml\", requestId, \"application/ssml+xml\", ssml));\n    }\n    async fetchConnection() {\n        if (this.privConnectionConfigurationPromise !== undefined) {\n            return this.privConnectionConfigurationPromise.then((connection) => {\n                if (connection.state() === Exports_js_1.ConnectionState.Disconnected) {\n                    this.privConnectionId = null;\n                    this.privConnectionConfigurationPromise = undefined;\n                    return this.fetchConnection();\n                }\n                return this.privConnectionConfigurationPromise;\n            }, () => {\n                this.privConnectionId = null;\n                this.privConnectionConfigurationPromise = undefined;\n                return this.fetchConnection();\n            });\n        }\n        this.privConnectionConfigurationPromise = this.configureConnection();\n        return await this.privConnectionConfigurationPromise;\n    }\n    // Takes an established websocket connection to the endpoint and sends speech configuration information.\n    async configureConnection() {\n        const connection = await this.connectImpl();\n        if (this.configConnectionOverride !== undefined) {\n            return this.configConnectionOverride(connection);\n        }\n        this.setSpeechConfigSynthesisSection();\n        await this.sendSpeechServiceConfig(connection, this.privSynthesizerConfig.SpeechServiceConfig.serialize());\n        return connection;\n    }\n    onAvatarEvent(_metadata) {\n        return;\n    }\n    onSynthesisStarted(_requestId) {\n        return;\n    }\n    onSynthesizing(_audio) {\n        return;\n    }\n    onSynthesisCancelled(_result) {\n        return;\n    }\n    onSynthesisCompleted(_result) {\n        return;\n    }\n    onWordBoundary(_wordBoundaryEventArgs) {\n        return;\n    }\n    onVisemeReceived(_visemeEventArgs) {\n        return;\n    }\n    onBookmarkReached(_bookmarkEventArgs) {\n        return;\n    }\n}\nexports.SynthesisAdapterBase = SynthesisAdapterBase;\nSynthesisAdapterBase.telemetryDataEnabled = true;\n\n//# sourceMappingURL=SynthesisAdapterBase.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SynthesisContext = void 0;\nconst Exports_js_1 = require(\"../sdk/Exports.js\");\n/**\n * Represents the JSON used in the synthesis.context message sent to the speech service.\n * The dynamic grammar is always refreshed from the encapsulated dynamic grammar object.\n */\nclass SynthesisContext {\n    constructor() {\n        this.privContext = {};\n    }\n    /**\n     * Adds a section to the synthesis.context object.\n     * @param sectionName Name of the section to add.\n     * @param value JSON serializable object that represents the value.\n     */\n    setSection(sectionName, value) {\n        this.privContext[sectionName] = value;\n    }\n    /**\n     * Sets the audio output format for synthesis context generation.\n     * @param format {AudioOutputFormatImpl} the output format\n     */\n    set audioOutputFormat(format) {\n        this.privAudioOutputFormat = format;\n    }\n    toJSON() {\n        return JSON.stringify(this.privContext);\n    }\n    setSynthesisSection(speechSynthesizer) {\n        const synthesisSection = this.buildSynthesisContext(speechSynthesizer);\n        this.setSection(\"synthesis\", synthesisSection);\n    }\n    buildSynthesisContext(speechSynthesizer) {\n        return {\n            audio: {\n                metadataOptions: {\n                    bookmarkEnabled: (!!speechSynthesizer?.bookmarkReached),\n                    punctuationBoundaryEnabled: speechSynthesizer?.properties.getProperty(Exports_js_1.PropertyId.SpeechServiceResponse_RequestPunctuationBoundary, (!!speechSynthesizer?.wordBoundary)),\n                    sentenceBoundaryEnabled: speechSynthesizer?.properties.getProperty(Exports_js_1.PropertyId.SpeechServiceResponse_RequestSentenceBoundary, false),\n                    sessionEndEnabled: true,\n                    visemeEnabled: (!!speechSynthesizer?.visemeReceived),\n                    wordBoundaryEnabled: speechSynthesizer?.properties.getProperty(Exports_js_1.PropertyId.SpeechServiceResponse_RequestWordBoundary, (!!speechSynthesizer?.wordBoundary)),\n                },\n                outputFormat: this.privAudioOutputFormat.requestAudioFormatString,\n            },\n            language: {\n                autoDetection: speechSynthesizer?.autoDetectSourceLanguage\n            }\n        };\n    }\n}\nexports.SynthesisContext = SynthesisContext;\n\n//# sourceMappingURL=SynthesisContext.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SynthesisStartedEvent = exports.ConnectingToSynthesisServiceEvent = exports.SynthesisTriggeredEvent = exports.SpeechSynthesisEvent = void 0;\n/* eslint-disable max-classes-per-file */\nconst Exports_js_1 = require(\"../common/Exports.js\");\nclass SpeechSynthesisEvent extends Exports_js_1.PlatformEvent {\n    constructor(eventName, requestId, eventType = Exports_js_1.EventType.Info) {\n        super(eventName, eventType);\n        this.privRequestId = requestId;\n    }\n    get requestId() {\n        return this.privRequestId;\n    }\n}\nexports.SpeechSynthesisEvent = SpeechSynthesisEvent;\nclass SynthesisTriggeredEvent extends SpeechSynthesisEvent {\n    constructor(requestId, sessionAudioDestinationId, turnAudioDestinationId) {\n        super(\"SynthesisTriggeredEvent\", requestId);\n        this.privSessionAudioDestinationId = sessionAudioDestinationId;\n        this.privTurnAudioDestinationId = turnAudioDestinationId;\n    }\n    get audioSessionDestinationId() {\n        return this.privSessionAudioDestinationId;\n    }\n    get audioTurnDestinationId() {\n        return this.privTurnAudioDestinationId;\n    }\n}\nexports.SynthesisTriggeredEvent = SynthesisTriggeredEvent;\nclass ConnectingToSynthesisServiceEvent extends SpeechSynthesisEvent {\n    constructor(requestId, authFetchEventId) {\n        super(\"ConnectingToSynthesisServiceEvent\", requestId);\n        this.privAuthFetchEventId = authFetchEventId;\n    }\n    get authFetchEventId() {\n        return this.privAuthFetchEventId;\n    }\n}\nexports.ConnectingToSynthesisServiceEvent = ConnectingToSynthesisServiceEvent;\nclass SynthesisStartedEvent extends SpeechSynthesisEvent {\n    constructor(requestId, authFetchEventId) {\n        super(\"SynthesisStartedEvent\", requestId);\n        this.privAuthFetchEventId = authFetchEventId;\n    }\n    get authFetchEventId() {\n        return this.privAuthFetchEventId;\n    }\n}\nexports.SynthesisStartedEvent = SynthesisStartedEvent;\n\n//# sourceMappingURL=SynthesisEvents.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SynthesisRestAdapter = void 0;\nconst Exports_js_1 = require(\"../common.browser/Exports.js\");\nconst Exports_js_2 = require(\"../sdk/Exports.js\");\nconst ConnectionFactoryBase_js_1 = require(\"./ConnectionFactoryBase.js\");\nconst HeaderNames_js_1 = require(\"./HeaderNames.js\");\n/**\n * Implements methods for speech synthesis classes, sending requests to endpoint\n * and parsing response into expected format\n * @class SynthesisRestAdapter\n */\nclass SynthesisRestAdapter {\n    constructor(config, authentication) {\n        let endpoint = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Endpoint, undefined);\n        if (!endpoint) {\n            const region = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Region, \"westus\");\n            const hostSuffix = ConnectionFactoryBase_js_1.ConnectionFactoryBase.getHostSuffix(region);\n            endpoint = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Host, `https://${region}.tts.speech${hostSuffix}`);\n        }\n        this.privUri = `${endpoint}/cognitiveservices/voices/list`;\n        const options = Exports_js_1.RestConfigBase.requestOptions;\n        this.privRestAdapter = new Exports_js_1.RestMessageAdapter(options);\n        this.privAuthentication = authentication;\n    }\n    /**\n     * Sends list voices request to endpoint.\n     * @function\n     * @public\n     * @param connectionId - guid for connectionId\n     * @returns {Promise<IRestResponse>} rest response to status request\n     */\n    getVoicesList(connectionId) {\n        this.privRestAdapter.setHeaders(HeaderNames_js_1.HeaderNames.ConnectionId, connectionId);\n        return this.privAuthentication.fetch(connectionId).then((authInfo) => {\n            this.privRestAdapter.setHeaders(authInfo.headerName, authInfo.token);\n            return this.privRestAdapter.request(Exports_js_1.RestRequestType.Get, this.privUri);\n        });\n    }\n}\nexports.SynthesisRestAdapter = SynthesisRestAdapter;\n\n//# sourceMappingURL=SynthesisRestAdapter.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SynthesisTurn = void 0;\nconst Exports_js_1 = require(\"../common/Exports.js\");\nconst AudioOutputStream_js_1 = require(\"../sdk/Audio/AudioOutputStream.js\");\nconst Exports_js_2 = require(\"../sdk/Exports.js\");\nconst SynthesisAudioMetadata_js_1 = require(\"./ServiceMessages/SynthesisAudioMetadata.js\");\nconst SynthesisEvents_js_1 = require(\"./SynthesisEvents.js\");\nclass SynthesisTurn {\n    constructor() {\n        this.privIsDisposed = false;\n        this.privIsSynthesizing = false;\n        this.privIsSynthesisEnded = false;\n        this.privBytesReceived = 0;\n        this.privInTurn = false;\n        this.privTextOffset = 0;\n        this.privNextSearchTextIndex = 0;\n        this.privSentenceOffset = 0;\n        this.privNextSearchSentenceIndex = 0;\n        this.privRequestId = (0, Exports_js_1.createNoDashGuid)();\n        this.privTurnDeferral = new Exports_js_1.Deferred();\n        // We're not in a turn, so resolve.\n        this.privTurnDeferral.resolve();\n    }\n    get requestId() {\n        return this.privRequestId;\n    }\n    get streamId() {\n        return this.privStreamId;\n    }\n    set streamId(value) {\n        this.privStreamId = value;\n    }\n    get audioOutputFormat() {\n        return this.privAudioOutputFormat;\n    }\n    set audioOutputFormat(format) {\n        this.privAudioOutputFormat = format;\n    }\n    get turnCompletionPromise() {\n        return this.privTurnDeferral.promise;\n    }\n    get isSynthesisEnded() {\n        return this.privIsSynthesisEnded;\n    }\n    get isSynthesizing() {\n        return this.privIsSynthesizing;\n    }\n    get currentTextOffset() {\n        return this.privTextOffset;\n    }\n    get currentSentenceOffset() {\n        return this.privSentenceOffset;\n    }\n    // The number of bytes received for current turn\n    get bytesReceived() {\n        return this.privBytesReceived;\n    }\n    get audioDuration() {\n        return this.privAudioDuration;\n    }\n    get extraProperties() {\n        if (!!this.privWebRTCSDP) {\n            const properties = new Exports_js_2.PropertyCollection();\n            properties.setProperty(Exports_js_2.PropertyId.TalkingAvatarService_WebRTC_SDP, this.privWebRTCSDP);\n            return properties;\n        }\n        return undefined;\n    }\n    async getAllReceivedAudio() {\n        if (!!this.privReceivedAudio) {\n            return Promise.resolve(this.privReceivedAudio);\n        }\n        if (!this.privIsSynthesisEnded) {\n            return null;\n        }\n        await this.readAllAudioFromStream();\n        return Promise.resolve(this.privReceivedAudio);\n    }\n    async getAllReceivedAudioWithHeader() {\n        if (!!this.privReceivedAudioWithHeader) {\n            return this.privReceivedAudioWithHeader;\n        }\n        if (!this.privIsSynthesisEnded) {\n            return null;\n        }\n        if (this.audioOutputFormat.hasHeader) {\n            const audio = await this.getAllReceivedAudio();\n            this.privReceivedAudioWithHeader = this.audioOutputFormat.addHeader(audio);\n            return this.privReceivedAudioWithHeader;\n        }\n        else {\n            return this.getAllReceivedAudio();\n        }\n    }\n    startNewSynthesis(requestId, rawText, isSSML, audioDestination) {\n        this.privIsSynthesisEnded = false;\n        this.privIsSynthesizing = true;\n        this.privRequestId = requestId;\n        this.privRawText = rawText;\n        this.privIsSSML = isSSML;\n        this.privAudioOutputStream = new AudioOutputStream_js_1.PullAudioOutputStreamImpl();\n        this.privAudioOutputStream.format = this.privAudioOutputFormat;\n        this.privReceivedAudio = null;\n        this.privReceivedAudioWithHeader = null;\n        this.privBytesReceived = 0;\n        this.privTextOffset = 0;\n        this.privNextSearchTextIndex = 0;\n        this.privSentenceOffset = 0;\n        this.privNextSearchSentenceIndex = 0;\n        this.privPartialVisemeAnimation = \"\";\n        this.privWebRTCSDP = \"\";\n        if (audioDestination !== undefined) {\n            this.privTurnAudioDestination = audioDestination;\n            this.privTurnAudioDestination.format = this.privAudioOutputFormat;\n        }\n        this.onEvent(new SynthesisEvents_js_1.SynthesisTriggeredEvent(this.requestId, undefined, audioDestination === undefined ? undefined : audioDestination.id()));\n    }\n    onPreConnectionStart(authFetchEventId) {\n        this.privAuthFetchEventId = authFetchEventId;\n        this.onEvent(new SynthesisEvents_js_1.ConnectingToSynthesisServiceEvent(this.privRequestId, this.privAuthFetchEventId));\n    }\n    onAuthCompleted(isError) {\n        if (isError) {\n            this.onComplete();\n        }\n    }\n    onConnectionEstablishCompleted(statusCode) {\n        if (statusCode === 200) {\n            this.onEvent(new SynthesisEvents_js_1.SynthesisStartedEvent(this.requestId, this.privAuthFetchEventId));\n            this.privBytesReceived = 0;\n            return;\n        }\n        else if (statusCode === 403) {\n            this.onComplete();\n        }\n    }\n    onServiceResponseMessage(responseJson) {\n        const response = JSON.parse(responseJson);\n        this.streamId = response.audio.streamId;\n    }\n    onServiceTurnEndResponse() {\n        this.privInTurn = false;\n        this.privTurnDeferral.resolve();\n        this.onComplete();\n    }\n    onServiceTurnStartResponse(responseJson) {\n        if (!!this.privTurnDeferral && !!this.privInTurn) {\n            // What? How are we starting a turn with another not done?\n            this.privTurnDeferral.reject(\"Another turn started before current completed.\");\n            // Avoid UnhandledPromiseRejection if privTurnDeferral is not being awaited\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            this.privTurnDeferral.promise.then().catch(() => { });\n        }\n        this.privInTurn = true;\n        this.privTurnDeferral = new Exports_js_1.Deferred();\n        const response = JSON.parse(responseJson);\n        if (!!response.webrtc) {\n            this.privWebRTCSDP = response.webrtc.connectionString;\n        }\n    }\n    onAudioChunkReceived(data) {\n        if (this.isSynthesizing) {\n            this.privAudioOutputStream.write(data);\n            this.privBytesReceived += data.byteLength;\n            if (this.privTurnAudioDestination !== undefined) {\n                this.privTurnAudioDestination.write(data);\n            }\n        }\n    }\n    onTextBoundaryEvent(metadata) {\n        this.updateTextOffset(metadata.Data.text.Text, metadata.Type);\n    }\n    onVisemeMetadataReceived(metadata) {\n        if (metadata.Data.AnimationChunk !== undefined) {\n            this.privPartialVisemeAnimation += metadata.Data.AnimationChunk;\n        }\n    }\n    onSessionEnd(metadata) {\n        this.privAudioDuration = metadata.Data.Offset;\n    }\n    async constructSynthesisResult() {\n        const audioBuffer = await this.getAllReceivedAudioWithHeader();\n        return new Exports_js_2.SpeechSynthesisResult(this.requestId, Exports_js_2.ResultReason.SynthesizingAudioCompleted, audioBuffer, undefined, this.extraProperties, this.audioDuration);\n    }\n    dispose() {\n        if (!this.privIsDisposed) {\n            // we should have completed by now. If we did not its an unknown error.\n            this.privIsDisposed = true;\n        }\n    }\n    onStopSynthesizing() {\n        this.onComplete();\n    }\n    /**\n     * Gets the viseme animation string (merged from animation chunk), and clears the internal\n     * partial animation.\n     */\n    getAndClearVisemeAnimation() {\n        const animation = this.privPartialVisemeAnimation;\n        this.privPartialVisemeAnimation = \"\";\n        return animation;\n    }\n    onEvent(event) {\n        Exports_js_1.Events.instance.onEvent(event);\n    }\n    /**\n     * Check if the text is an XML(SSML) tag\n     * @param text\n     * @private\n     */\n    static isXmlTag(text) {\n        return text.length >= 2 && text[0] === \"<\" && text[text.length - 1] === \">\";\n    }\n    updateTextOffset(text, type) {\n        if (type === SynthesisAudioMetadata_js_1.MetadataType.WordBoundary) {\n            this.privTextOffset = this.privRawText.indexOf(text, this.privNextSearchTextIndex);\n            if (this.privTextOffset >= 0) {\n                this.privNextSearchTextIndex = this.privTextOffset + text.length;\n                if (this.privIsSSML) {\n                    if (this.withinXmlTag(this.privTextOffset) && !SynthesisTurn.isXmlTag(text)) {\n                        this.updateTextOffset(text, type);\n                    }\n                }\n            }\n        }\n        else {\n            this.privSentenceOffset = this.privRawText.indexOf(text, this.privNextSearchSentenceIndex);\n            if (this.privSentenceOffset >= 0) {\n                this.privNextSearchSentenceIndex = this.privSentenceOffset + text.length;\n                if (this.privIsSSML) {\n                    if (this.withinXmlTag(this.privSentenceOffset) && !SynthesisTurn.isXmlTag(text)) {\n                        this.updateTextOffset(text, type);\n                    }\n                }\n            }\n        }\n    }\n    onComplete() {\n        if (this.privIsSynthesizing) {\n            this.privIsSynthesizing = false;\n            this.privIsSynthesisEnded = true;\n            this.privAudioOutputStream.close();\n            this.privInTurn = false;\n            if (this.privTurnAudioDestination !== undefined) {\n                this.privTurnAudioDestination.close();\n                this.privTurnAudioDestination = undefined;\n            }\n        }\n    }\n    async readAllAudioFromStream() {\n        if (this.privIsSynthesisEnded) {\n            this.privReceivedAudio = new ArrayBuffer(this.bytesReceived);\n            try {\n                await this.privAudioOutputStream.read(this.privReceivedAudio);\n            }\n            catch (e) {\n                this.privReceivedAudio = new ArrayBuffer(0);\n            }\n        }\n    }\n    /**\n     * Check if current idx is in XML(SSML) tag\n     * @param idx\n     * @private\n     */\n    withinXmlTag(idx) {\n        return this.privRawText.indexOf(\"<\", idx + 1) > this.privRawText.indexOf(\">\", idx + 1);\n    }\n}\nexports.SynthesisTurn = SynthesisTurn;\n\n//# sourceMappingURL=SynthesisTurn.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SynthesizerConfig = exports.SynthesisServiceType = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\nvar SynthesisServiceType;\n(function (SynthesisServiceType) {\n    SynthesisServiceType[SynthesisServiceType[\"Standard\"] = 0] = \"Standard\";\n    SynthesisServiceType[SynthesisServiceType[\"Custom\"] = 1] = \"Custom\";\n})(SynthesisServiceType = exports.SynthesisServiceType || (exports.SynthesisServiceType = {}));\nclass SynthesizerConfig {\n    constructor(speechServiceConfig, parameters) {\n        this.privSynthesisServiceType = SynthesisServiceType.Standard;\n        this.avatarEnabled = false;\n        this.privSpeechServiceConfig = speechServiceConfig ? speechServiceConfig : new Exports_js_1.SpeechServiceConfig(new Exports_js_1.Context(null));\n        this.privParameters = parameters;\n    }\n    get parameters() {\n        return this.privParameters;\n    }\n    get synthesisServiceType() {\n        return this.privSynthesisServiceType;\n    }\n    set synthesisServiceType(value) {\n        this.privSynthesisServiceType = value;\n    }\n    set synthesisVideoSection(value) {\n        this.privSpeechServiceConfig.Context.synthesis = {\n            video: value\n        };\n    }\n    get SpeechServiceConfig() {\n        return this.privSpeechServiceConfig;\n    }\n    setContextFromJson(contextJson) {\n        const context = JSON.parse(contextJson);\n        if (context.system) {\n            this.privSpeechServiceConfig.Context.system = context.system;\n        }\n        if (context.os) {\n            this.privSpeechServiceConfig.Context.os = context.os;\n        }\n        if (context.audio) {\n            this.privSpeechServiceConfig.Context.audio = context.audio;\n        }\n        if (context.synthesis) {\n            this.privSpeechServiceConfig.Context.synthesis = context.synthesis;\n        }\n    }\n}\nexports.SynthesizerConfig = SynthesizerConfig;\n\n//# sourceMappingURL=SynthesizerConfig.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranscriberConnectionFactory = void 0;\nconst Exports_js_1 = require(\"../common.browser/Exports.js\");\nconst Exports_js_2 = require(\"../sdk/Exports.js\");\nconst ConnectionFactoryBase_js_1 = require(\"./ConnectionFactoryBase.js\");\nconst Exports_js_3 = require(\"./Exports.js\");\nconst HeaderNames_js_1 = require(\"./HeaderNames.js\");\nconst QueryParameterNames_js_1 = require(\"./QueryParameterNames.js\");\nclass TranscriberConnectionFactory extends ConnectionFactoryBase_js_1.ConnectionFactoryBase {\n    constructor() {\n        super(...arguments);\n        this.multiaudioRelativeUri = \"/speech/recognition/multiaudio\";\n    }\n    create(config, authInfo, connectionId) {\n        let endpoint = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Endpoint, undefined);\n        const region = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Region, \"centralus\");\n        const hostSuffix = ConnectionFactoryBase_js_1.ConnectionFactoryBase.getHostSuffix(region);\n        const hostDefault = \"wss://transcribe.\" + region + \".cts.speech\" + hostSuffix + this.multiaudioRelativeUri;\n        const host = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Host, hostDefault);\n        const queryParams = {};\n        this.setQueryParams(queryParams, config, endpoint);\n        if (!endpoint) {\n            endpoint = host;\n        }\n        const headers = {};\n        if (authInfo.token !== undefined && authInfo.token !== \"\") {\n            headers[authInfo.headerName] = authInfo.token;\n        }\n        headers[HeaderNames_js_1.HeaderNames.ConnectionId] = connectionId;\n        config.parameters.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Url, endpoint);\n        const enableCompression = config.parameters.getProperty(\"SPEECH-EnableWebsocketCompression\", \"false\") === \"true\";\n        return Promise.resolve(new Exports_js_1.WebsocketConnection(endpoint, queryParams, headers, new Exports_js_3.WebsocketMessageFormatter(), Exports_js_1.ProxyInfo.fromRecognizerConfig(config), enableCompression, connectionId));\n    }\n    setQueryParams(queryParams, config, endpointUrl) {\n        const endpointId = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_EndpointId, undefined);\n        const language = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_RecoLanguage, undefined);\n        if (endpointId && !(QueryParameterNames_js_1.QueryParameterNames.CustomSpeechDeploymentId in queryParams)) {\n            queryParams[QueryParameterNames_js_1.QueryParameterNames.CustomSpeechDeploymentId] = endpointId;\n        }\n        if (language && !(QueryParameterNames_js_1.QueryParameterNames.Language in queryParams)) {\n            queryParams[QueryParameterNames_js_1.QueryParameterNames.Language] = language;\n        }\n        const wordLevelTimings = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps, \"false\").toLowerCase() === \"true\";\n        const detailed = config.parameters.getProperty(Exports_js_3.OutputFormatPropertyName, Exports_js_2.OutputFormat[Exports_js_2.OutputFormat.Simple]) !== Exports_js_2.OutputFormat[Exports_js_2.OutputFormat.Simple];\n        if (wordLevelTimings || detailed) {\n            queryParams[QueryParameterNames_js_1.QueryParameterNames.Format] = Exports_js_2.OutputFormat[Exports_js_2.OutputFormat.Detailed].toLowerCase();\n        }\n        this.setCommonUrlParams(config, queryParams, endpointUrl);\n    }\n}\nexports.TranscriberConnectionFactory = TranscriberConnectionFactory;\n\n//# sourceMappingURL=TranscriberConnectionFactory.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationConnectionConfig = void 0;\nconst RestConfigBase_js_1 = require(\"../../common.browser/RestConfigBase.js\");\nclass ConversationConnectionConfig extends RestConfigBase_js_1.RestConfigBase {\n    static get host() {\n        return ConversationConnectionConfig.privHost;\n    }\n    static get apiVersion() {\n        return ConversationConnectionConfig.privApiVersion;\n    }\n    static get clientAppId() {\n        return ConversationConnectionConfig.privClientAppId;\n    }\n    static get defaultLanguageCode() {\n        return ConversationConnectionConfig.privDefaultLanguageCode;\n    }\n    static get restPath() {\n        return ConversationConnectionConfig.privRestPath;\n    }\n    static get webSocketPath() {\n        return ConversationConnectionConfig.privWebSocketPath;\n    }\n    static get transcriptionEventKeys() {\n        return ConversationConnectionConfig.privTranscriptionEventKeys;\n    }\n}\nexports.ConversationConnectionConfig = ConversationConnectionConfig;\nConversationConnectionConfig.privHost = \"dev.microsofttranslator.com\";\nConversationConnectionConfig.privRestPath = \"/capito/room\";\nConversationConnectionConfig.privApiVersion = \"2.0\";\nConversationConnectionConfig.privDefaultLanguageCode = \"en-US\";\nConversationConnectionConfig.privClientAppId = \"FC539C22-1767-4F1F-84BC-B4D811114F15\";\nConversationConnectionConfig.privWebSocketPath = \"/capito/translate\";\nConversationConnectionConfig.privTranscriptionEventKeys = [\"iCalUid\", \"callId\", \"organizer\", \"FLAC\", \"MTUri\", \"DifferentiateGuestSpeakers\", \"audiorecording\", \"Threadid\", \"OrganizerMri\", \"OrganizerTenantId\", \"UserToken\"];\n\n//# sourceMappingURL=ConversationConnectionConfig.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationConnectionFactory = void 0;\nconst Exports_js_1 = require(\"../../common.browser/Exports.js\");\nconst Exports_js_2 = require(\"../../common/Exports.js\");\nconst Contracts_js_1 = require(\"../../sdk/Contracts.js\");\nconst Exports_js_3 = require(\"../../sdk/Exports.js\");\nconst ConnectionFactoryBase_js_1 = require(\"../ConnectionFactoryBase.js\");\nconst ConversationConnectionConfig_js_1 = require(\"./ConversationConnectionConfig.js\");\nconst ConversationWebsocketMessageFormatter_js_1 = require(\"./ConversationWebsocketMessageFormatter.js\");\n/**\n * Create a connection to the Conversation Translator websocket for sending instant messages and commands, and for receiving translated messages.\n * The conversation must already have been started or joined.\n */\nclass ConversationConnectionFactory extends ConnectionFactoryBase_js_1.ConnectionFactoryBase {\n    create(config, authInfo, connectionId) {\n        const endpointHost = config.parameters.getProperty(Exports_js_3.PropertyId.ConversationTranslator_Host, ConversationConnectionConfig_js_1.ConversationConnectionConfig.host);\n        const correlationId = config.parameters.getProperty(Exports_js_3.PropertyId.ConversationTranslator_CorrelationId, (0, Exports_js_2.createGuid)());\n        const endpoint = `wss://${endpointHost}${ConversationConnectionConfig_js_1.ConversationConnectionConfig.webSocketPath}`;\n        const token = config.parameters.getProperty(Exports_js_3.PropertyId.ConversationTranslator_Token, undefined);\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(token, \"token\");\n        const queryParams = {};\n        queryParams[ConversationConnectionConfig_js_1.ConversationConnectionConfig.configParams.apiVersion] = ConversationConnectionConfig_js_1.ConversationConnectionConfig.apiVersion;\n        queryParams[ConversationConnectionConfig_js_1.ConversationConnectionConfig.configParams.token] = token;\n        queryParams[ConversationConnectionConfig_js_1.ConversationConnectionConfig.configParams.correlationId] = correlationId;\n        const enableCompression = config.parameters.getProperty(\"SPEECH-EnableWebsocketCompression\", \"false\") === \"true\";\n        return Promise.resolve(new Exports_js_1.WebsocketConnection(endpoint, queryParams, {}, new ConversationWebsocketMessageFormatter_js_1.ConversationWebsocketMessageFormatter(), Exports_js_1.ProxyInfo.fromRecognizerConfig(config), enableCompression, connectionId));\n    }\n}\nexports.ConversationConnectionFactory = ConversationConnectionFactory;\n\n//# sourceMappingURL=ConversationConnectionFactory.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationConnectionMessage = void 0;\nconst Exports_js_1 = require(\"../../common/Exports.js\");\nclass ConversationConnectionMessage extends Exports_js_1.ConnectionMessage {\n    constructor(messageType, body, headers, id) {\n        super(messageType, body, headers, id);\n        const json = JSON.parse(this.textBody);\n        if (json.type !== undefined) {\n            this.privConversationMessageType = json.type;\n        }\n    }\n    get conversationMessageType() {\n        return this.privConversationMessageType;\n    }\n}\nexports.ConversationConnectionMessage = ConversationConnectionMessage;\n\n//# sourceMappingURL=ConversationConnectionMessage.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationManager = void 0;\nconst Exports_js_1 = require(\"../../common.browser/Exports.js\");\nconst Contracts_js_1 = require(\"../../sdk/Contracts.js\");\nconst Exports_js_2 = require(\"../../sdk/Exports.js\");\nconst ConversationConnectionConfig_js_1 = require(\"./ConversationConnectionConfig.js\");\nclass ConversationManager {\n    constructor() {\n        //\n        this.privRequestParams = ConversationConnectionConfig_js_1.ConversationConnectionConfig.configParams;\n        this.privErrors = ConversationConnectionConfig_js_1.ConversationConnectionConfig.restErrors;\n        this.privHost = ConversationConnectionConfig_js_1.ConversationConnectionConfig.host;\n        this.privApiVersion = ConversationConnectionConfig_js_1.ConversationConnectionConfig.apiVersion;\n        this.privRestPath = ConversationConnectionConfig_js_1.ConversationConnectionConfig.restPath;\n        this.privRestAdapter = new Exports_js_1.RestMessageAdapter({});\n    }\n    /**\n     * Make a POST request to the Conversation Manager service endpoint to create or join a conversation.\n     * @param args\n     * @param conversationCode\n     * @param callback\n     * @param errorCallback\n     */\n    createOrJoin(args, conversationCode, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(args, \"args\");\n            const languageCode = args.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_RecoLanguage, ConversationConnectionConfig_js_1.ConversationConnectionConfig.defaultLanguageCode);\n            const nickname = args.getProperty(Exports_js_2.PropertyId.ConversationTranslator_Name, \"conversation_host\");\n            const endpointHost = args.getProperty(Exports_js_2.PropertyId.ConversationTranslator_Host, this.privHost);\n            const correlationId = args.getProperty(Exports_js_2.PropertyId.ConversationTranslator_CorrelationId);\n            const subscriptionKey = args.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Key);\n            const subscriptionRegion = args.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Region);\n            const authToken = args.getProperty(Exports_js_2.PropertyId.SpeechServiceAuthorization_Token);\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(languageCode, \"languageCode\");\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(nickname, \"nickname\");\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(endpointHost, \"endpointHost\");\n            const queryParams = {};\n            queryParams[this.privRequestParams.apiVersion] = this.privApiVersion;\n            queryParams[this.privRequestParams.languageCode] = languageCode;\n            queryParams[this.privRequestParams.nickname] = nickname;\n            const headers = {};\n            if (correlationId) {\n                headers[this.privRequestParams.correlationId] = correlationId;\n            }\n            headers[this.privRequestParams.clientAppId] = ConversationConnectionConfig_js_1.ConversationConnectionConfig.clientAppId;\n            if (conversationCode !== undefined) {\n                queryParams[this.privRequestParams.roomId] = conversationCode;\n            }\n            else {\n                Contracts_js_1.Contracts.throwIfNullOrUndefined(subscriptionRegion, this.privErrors.authInvalidSubscriptionRegion);\n                headers[this.privRequestParams.subscriptionRegion] = subscriptionRegion;\n                if (subscriptionKey) {\n                    headers[this.privRequestParams.subscriptionKey] = subscriptionKey;\n                }\n                else if (authToken) {\n                    headers[this.privRequestParams.authorization] = `Bearer ${authToken}`;\n                }\n                else {\n                    Contracts_js_1.Contracts.throwIfNullOrUndefined(subscriptionKey, this.privErrors.authInvalidSubscriptionKey);\n                }\n            }\n            const config = {};\n            config.headers = headers;\n            this.privRestAdapter.options = config;\n            const endpoint = `https://${endpointHost}${this.privRestPath}`;\n            // TODO: support a proxy and certificate validation\n            this.privRestAdapter.request(Exports_js_1.RestRequestType.Post, endpoint, queryParams, null).then((response) => {\n                const requestId = Exports_js_1.RestMessageAdapter.extractHeaderValue(this.privRequestParams.requestId, response.headers);\n                if (!response.ok) {\n                    if (!!err) {\n                        // get the error\n                        let errorMessage = this.privErrors.invalidCreateJoinConversationResponse.replace(\"{status}\", response.status.toString());\n                        let errMessageRaw;\n                        try {\n                            errMessageRaw = JSON.parse(response.data);\n                            errorMessage += ` [${errMessageRaw.error.code}: ${errMessageRaw.error.message}]`;\n                        }\n                        catch (e) {\n                            errorMessage += ` [${response.data}]`;\n                        }\n                        if (requestId) {\n                            errorMessage += ` ${requestId}`;\n                        }\n                        err(errorMessage);\n                    }\n                    return;\n                }\n                const conversation = JSON.parse(response.data);\n                if (conversation) {\n                    conversation.requestId = requestId;\n                }\n                if (!!cb) {\n                    try {\n                        cb(conversation);\n                    }\n                    catch (e) {\n                        if (!!err) {\n                            err(e);\n                        }\n                    }\n                    cb = undefined;\n                }\n                // eslint-disable-next-line @typescript-eslint/no-empty-function\n            }).catch(() => { });\n        }\n        catch (error) {\n            if (!!err) {\n                if (error instanceof Error) {\n                    const typedError = error;\n                    err(typedError.name + \": \" + typedError.message);\n                }\n                else {\n                    err(error);\n                }\n            }\n        }\n    }\n    /**\n     * Make a DELETE request to the Conversation Manager service endpoint to leave the conversation.\n     * @param args\n     * @param sessionToken\n     * @param callback\n     */\n    leave(args, sessionToken) {\n        return new Promise((resolve, reject) => {\n            try {\n                Contracts_js_1.Contracts.throwIfNullOrUndefined(args, this.privErrors.invalidArgs.replace(\"{arg}\", \"config\"));\n                Contracts_js_1.Contracts.throwIfNullOrWhitespace(sessionToken, this.privErrors.invalidArgs.replace(\"{arg}\", \"token\"));\n                const endpointHost = args.getProperty(Exports_js_2.PropertyId.ConversationTranslator_Host, this.privHost);\n                const correlationId = args.getProperty(Exports_js_2.PropertyId.ConversationTranslator_CorrelationId);\n                const queryParams = {};\n                queryParams[this.privRequestParams.apiVersion] = this.privApiVersion;\n                queryParams[this.privRequestParams.sessionToken] = sessionToken;\n                const headers = {};\n                if (correlationId) {\n                    headers[this.privRequestParams.correlationId] = correlationId;\n                }\n                const config = {};\n                config.headers = headers;\n                this.privRestAdapter.options = config;\n                const endpoint = `https://${endpointHost}${this.privRestPath}`;\n                // TODO: support a proxy and certificate validation\n                this.privRestAdapter.request(Exports_js_1.RestRequestType.Delete, endpoint, queryParams, null).then((response) => {\n                    if (!response.ok) {\n                        // ignore errors on delete\n                    }\n                    resolve();\n                    // eslint-disable-next-line @typescript-eslint/no-empty-function\n                }).catch(() => { });\n            }\n            catch (error) {\n                if (error instanceof Error) {\n                    const typedError = error;\n                    reject(typedError.name + \": \" + typedError.message);\n                }\n                else {\n                    reject(error);\n                }\n            }\n        });\n    }\n}\nexports.ConversationManager = ConversationManager;\n\n//# sourceMappingURL=ConversationManager.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationRequestSession = void 0;\nconst Exports_js_1 = require(\"../../common/Exports.js\");\n/**\n * Placeholder class for the Conversation Request Session. Based off RequestSession.\n * TODO: define what telemetry is required.\n */\nclass ConversationRequestSession {\n    constructor(sessionId) {\n        this.privIsDisposed = false;\n        this.privDetachables = new Array();\n        this.privSessionId = sessionId;\n        this.privRequestId = (0, Exports_js_1.createNoDashGuid)();\n        this.privRequestCompletionDeferral = new Exports_js_1.Deferred();\n    }\n    get sessionId() {\n        return this.privSessionId;\n    }\n    get requestId() {\n        return this.privRequestId;\n    }\n    get completionPromise() {\n        return this.privRequestCompletionDeferral.promise;\n    }\n    onPreConnectionStart(authFetchEventId, connectionId) {\n        this.privSessionId = connectionId;\n    }\n    onAuthCompleted(isError) {\n        if (isError) {\n            this.onComplete();\n        }\n    }\n    onConnectionEstablishCompleted(statusCode) {\n        if (statusCode === 200) {\n            return;\n        }\n        else if (statusCode === 403) {\n            this.onComplete();\n        }\n    }\n    onServiceTurnEndResponse(continuousRecognition) {\n        if (!continuousRecognition) {\n            this.onComplete();\n        }\n        else {\n            this.privRequestId = (0, Exports_js_1.createNoDashGuid)();\n        }\n    }\n    async dispose() {\n        if (!this.privIsDisposed) {\n            // we should have completed by now. If we did not its an unknown error.\n            this.privIsDisposed = true;\n            for (const detachable of this.privDetachables) {\n                await detachable.detach();\n            }\n        }\n    }\n    onComplete() {\n        //\n    }\n}\nexports.ConversationRequestSession = ConversationRequestSession;\n\n//# sourceMappingURL=ConversationRequestSession.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationServiceAdapter = void 0;\nconst Exports_js_1 = require(\"../../common/Exports.js\");\nconst Exports_js_2 = require(\"../../sdk/Exports.js\");\nconst Exports_js_3 = require(\"../Exports.js\");\nconst ConversationConnectionMessage_js_1 = require(\"./ConversationConnectionMessage.js\");\nconst ConversationRequestSession_js_1 = require(\"./ConversationRequestSession.js\");\nconst ConversationTranslatorEventArgs_js_1 = require(\"./ConversationTranslatorEventArgs.js\");\nconst ConversationTranslatorInterfaces_js_1 = require(\"./ConversationTranslatorInterfaces.js\");\nconst Exports_js_4 = require(\"./ServiceMessages/Exports.js\");\n/**\n * The service adapter handles sending and receiving messages to the Conversation Translator websocket.\n */\nclass ConversationServiceAdapter extends Exports_js_3.ServiceRecognizerBase {\n    constructor(authentication, connectionFactory, audioSource, recognizerConfig, conversationServiceConnector) {\n        super(authentication, connectionFactory, audioSource, recognizerConfig, conversationServiceConnector);\n        this.privConnectionConfigPromise = undefined;\n        this.privLastPartialUtteranceId = \"\";\n        this.privConversationServiceConnector = conversationServiceConnector;\n        this.privConversationAuthentication = authentication;\n        this.receiveMessageOverride = () => this.receiveConversationMessageOverride();\n        this.recognizeOverride = () => this.noOp();\n        this.postConnectImplOverride = (connection) => this.conversationConnectImpl(connection);\n        this.configConnectionOverride = () => this.configConnection();\n        this.disconnectOverride = () => this.privDisconnect();\n        this.privConversationRequestSession = new ConversationRequestSession_js_1.ConversationRequestSession((0, Exports_js_1.createNoDashGuid)());\n        this.privConversationConnectionFactory = connectionFactory;\n        this.privConversationIsDisposed = false;\n    }\n    isDisposed() {\n        return super.isDisposed() || this.privConversationIsDisposed;\n    }\n    async dispose(reason) {\n        this.privConversationIsDisposed = true;\n        if (this.privConnectionConfigPromise !== undefined) {\n            const connection = await this.privConnectionConfigPromise;\n            await connection.dispose(reason);\n        }\n        await super.dispose(reason);\n    }\n    async sendMessage(message) {\n        const connection = await this.fetchConnection();\n        return connection.send(new ConversationConnectionMessage_js_1.ConversationConnectionMessage(Exports_js_1.MessageType.Text, message));\n    }\n    async sendMessageAsync(message) {\n        const connection = await this.fetchConnection();\n        await connection.send(new ConversationConnectionMessage_js_1.ConversationConnectionMessage(Exports_js_1.MessageType.Text, message));\n    }\n    privDisconnect() {\n        if (this.terminateMessageLoop) {\n            return;\n        }\n        this.cancelRecognition(this.privConversationRequestSession.sessionId, this.privConversationRequestSession.requestId, Exports_js_2.CancellationReason.Error, Exports_js_2.CancellationErrorCode.NoError, \"Disconnecting\");\n        this.terminateMessageLoop = true;\n        return Promise.resolve();\n    }\n    // eslint-disable-next-line @typescript-eslint/require-await\n    async processTypeSpecificMessages() {\n        return true;\n    }\n    // Cancels recognition.\n    cancelRecognition(sessionId, requestId, cancellationReason, errorCode, error) {\n        this.terminateMessageLoop = true;\n        const cancelEvent = new Exports_js_2.ConversationTranslationCanceledEventArgs(cancellationReason, error, errorCode, undefined, sessionId);\n        try {\n            if (!!this.privConversationServiceConnector.canceled) {\n                this.privConversationServiceConnector.canceled(this.privConversationServiceConnector, cancelEvent);\n            }\n        }\n        catch {\n            // continue on error\n        }\n    }\n    /**\n     * Establishes a websocket connection to the end point.\n     */\n    async conversationConnectImpl(connection) {\n        this.privConnectionLoop = this.startMessageLoop();\n        return connection;\n    }\n    /**\n     * Process incoming websocket messages\n     */\n    async receiveConversationMessageOverride() {\n        if (this.isDisposed() || this.terminateMessageLoop) {\n            return Promise.resolve();\n        }\n        // we won't rely on the cascading promises of the connection since we want to continually be available to receive messages\n        const communicationCustodian = new Exports_js_1.Deferred();\n        try {\n            const connection = await this.fetchConnection();\n            const message = await connection.read();\n            if (this.isDisposed() || this.terminateMessageLoop) {\n                // We're done.\n                communicationCustodian.resolve();\n                return Promise.resolve();\n            }\n            if (!message) {\n                return this.receiveConversationMessageOverride();\n            }\n            const sessionId = this.privConversationRequestSession.sessionId;\n            const conversationMessageType = message.conversationMessageType.toLowerCase();\n            let sendFinal = false;\n            try {\n                switch (conversationMessageType) {\n                    case \"info\":\n                    case \"participant_command\":\n                    case \"command\":\n                        const commandPayload = Exports_js_4.CommandResponsePayload.fromJSON(message.textBody);\n                        switch (commandPayload.command.toLowerCase()) {\n                            /**\n                             * 'ParticpantList' is the first message sent to the user after the websocket connection has opened.\n                             * The consuming client must wait for this message to arrive\n                             * before starting to send their own data.\n                             */\n                            case \"participantlist\":\n                                const participantsPayload = Exports_js_4.ParticipantsListPayloadResponse.fromJSON(message.textBody);\n                                const participantsResult = participantsPayload.participants.map((p) => {\n                                    const participant = {\n                                        avatar: p.avatar,\n                                        displayName: p.nickname,\n                                        id: p.participantId,\n                                        isHost: p.ishost,\n                                        isMuted: p.ismuted,\n                                        isUsingTts: p.usetts,\n                                        preferredLanguage: p.locale\n                                    };\n                                    return participant;\n                                });\n                                if (!!this.privConversationServiceConnector.participantsListReceived) {\n                                    this.privConversationServiceConnector.participantsListReceived(this.privConversationServiceConnector, new ConversationTranslatorEventArgs_js_1.ParticipantsListEventArgs(participantsPayload.roomid, participantsPayload.token, participantsPayload.translateTo, participantsPayload.profanityFilter, participantsPayload.roomProfanityFilter, participantsPayload.roomLocked, participantsPayload.muteAll, participantsResult, sessionId));\n                                }\n                                break;\n                            /**\n                             * 'SetTranslateToLanguages' represents the list of languages being used in the Conversation by all users(?).\n                             * This is sent at the start of the Conversation\n                             */\n                            case \"settranslatetolanguages\":\n                                if (!!this.privConversationServiceConnector.participantUpdateCommandReceived) {\n                                    this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector, new ConversationTranslatorEventArgs_js_1.ParticipantAttributeEventArgs(commandPayload.participantId, ConversationTranslatorInterfaces_js_1.ConversationTranslatorCommandTypes.setTranslateToLanguages, commandPayload.value, sessionId));\n                                }\n                                break;\n                            /**\n                             * 'SetProfanityFiltering' lets the client set the level of profanity filtering.\n                             * If sent by the participant the setting will effect only their own profanity level.\n                             * If sent by the host, the setting will effect all participants including the host.\n                             * Note: the profanity filters differ from Speech Service (?): 'marked', 'raw', 'removed', 'tagged'\n                             */\n                            case \"setprofanityfiltering\":\n                                if (!!this.privConversationServiceConnector.participantUpdateCommandReceived) {\n                                    this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector, new ConversationTranslatorEventArgs_js_1.ParticipantAttributeEventArgs(commandPayload.participantId, ConversationTranslatorInterfaces_js_1.ConversationTranslatorCommandTypes.setProfanityFiltering, commandPayload.value, sessionId));\n                                }\n                                break;\n                            /**\n                             * 'SetMute' is sent if the participant has been muted by the host.\n                             * Check the 'participantId' to determine if the current user has been muted.\n                             */\n                            case \"setmute\":\n                                if (!!this.privConversationServiceConnector.participantUpdateCommandReceived) {\n                                    this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector, new ConversationTranslatorEventArgs_js_1.ParticipantAttributeEventArgs(commandPayload.participantId, ConversationTranslatorInterfaces_js_1.ConversationTranslatorCommandTypes.setMute, commandPayload.value, sessionId));\n                                }\n                                break;\n                            /**\n                             * 'SetMuteAll' is sent if the Conversation has been muted by the host.\n                             */\n                            case \"setmuteall\":\n                                if (!!this.privConversationServiceConnector.muteAllCommandReceived) {\n                                    this.privConversationServiceConnector.muteAllCommandReceived(this.privConversationServiceConnector, new ConversationTranslatorEventArgs_js_1.MuteAllEventArgs(commandPayload.value, sessionId));\n                                }\n                                break;\n                            /**\n                             * 'RoomExpirationWarning' is sent towards the end of the Conversation session to give a timeout warning.\n                             */\n                            case \"roomexpirationwarning\":\n                                if (!!this.privConversationServiceConnector.conversationExpiration) {\n                                    this.privConversationServiceConnector.conversationExpiration(this.privConversationServiceConnector, new Exports_js_2.ConversationExpirationEventArgs(commandPayload.value, this.privConversationRequestSession.sessionId));\n                                }\n                                break;\n                            /**\n                             * 'SetUseTts' is sent as a confirmation if the user requests TTS to be turned on or off.\n                             */\n                            case \"setusetts\":\n                                if (!!this.privConversationServiceConnector.participantUpdateCommandReceived) {\n                                    this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector, new ConversationTranslatorEventArgs_js_1.ParticipantAttributeEventArgs(commandPayload.participantId, ConversationTranslatorInterfaces_js_1.ConversationTranslatorCommandTypes.setUseTTS, commandPayload.value, sessionId));\n                                }\n                                break;\n                            /**\n                             * 'SetLockState' is set if the host has locked or unlocked the Conversation.\n                             */\n                            case \"setlockstate\":\n                                if (!!this.privConversationServiceConnector.lockRoomCommandReceived) {\n                                    this.privConversationServiceConnector.lockRoomCommandReceived(this.privConversationServiceConnector, new ConversationTranslatorEventArgs_js_1.LockRoomEventArgs(commandPayload.value, sessionId));\n                                }\n                                break;\n                            /**\n                             * 'ChangeNickname' is received if a user changes their display name.\n                             * Any cached particpiants list should be updated to reflect the display name.\n                             */\n                            case \"changenickname\":\n                                if (!!this.privConversationServiceConnector.participantUpdateCommandReceived) {\n                                    this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector, new ConversationTranslatorEventArgs_js_1.ParticipantAttributeEventArgs(commandPayload.participantId, ConversationTranslatorInterfaces_js_1.ConversationTranslatorCommandTypes.changeNickname, commandPayload.value, sessionId));\n                                }\n                                break;\n                            /**\n                             * 'JoinSession' is sent when a user joins the Conversation.\n                             */\n                            case \"joinsession\":\n                                const joinParticipantPayload = Exports_js_4.ParticipantPayloadResponse.fromJSON(message.textBody);\n                                const joiningParticipant = {\n                                    avatar: joinParticipantPayload.avatar,\n                                    displayName: joinParticipantPayload.nickname,\n                                    id: joinParticipantPayload.participantId,\n                                    isHost: joinParticipantPayload.ishost,\n                                    isMuted: joinParticipantPayload.ismuted,\n                                    isUsingTts: joinParticipantPayload.usetts,\n                                    preferredLanguage: joinParticipantPayload.locale,\n                                };\n                                if (!!this.privConversationServiceConnector.participantJoinCommandReceived) {\n                                    this.privConversationServiceConnector.participantJoinCommandReceived(this.privConversationServiceConnector, new ConversationTranslatorEventArgs_js_1.ParticipantEventArgs(joiningParticipant, sessionId));\n                                }\n                                break;\n                            /**\n                             * 'LeaveSession' is sent when a user leaves the Conversation'.\n                             */\n                            case \"leavesession\":\n                                const leavingParticipant = {\n                                    id: commandPayload.participantId\n                                };\n                                if (!!this.privConversationServiceConnector.participantLeaveCommandReceived) {\n                                    this.privConversationServiceConnector.participantLeaveCommandReceived(this.privConversationServiceConnector, new ConversationTranslatorEventArgs_js_1.ParticipantEventArgs(leavingParticipant, sessionId));\n                                }\n                                break;\n                            /**\n                             * 'DisconnectSession' is sent when a user is disconnected from the session (e.g. network problem).\n                             * Check the 'ParticipantId' to check whether the message is for the current user.\n                             */\n                            case \"disconnectsession\":\n                                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                                const disconnectParticipant = {\n                                    id: commandPayload.participantId\n                                };\n                                break;\n                            case \"token\":\n                                const token = new Exports_js_3.CognitiveTokenAuthentication(() => {\n                                    const authorizationToken = commandPayload.token;\n                                    return Promise.resolve(authorizationToken);\n                                }, () => {\n                                    const authorizationToken = commandPayload.token;\n                                    return Promise.resolve(authorizationToken);\n                                });\n                                this.authentication = token;\n                                this.privConversationServiceConnector.onToken(token);\n                                break;\n                            /**\n                             * Message not recognized.\n                             */\n                            default:\n                                break;\n                        }\n                        break;\n                    /**\n                     * 'partial' (or 'hypothesis') represents a unfinalized speech message.\n                     */\n                    case \"partial\":\n                    /**\n                     * 'final' (or 'phrase') represents a finalized speech message.\n                     */\n                    case \"final\":\n                        const speechPayload = Exports_js_4.SpeechResponsePayload.fromJSON(message.textBody);\n                        const conversationResultReason = (conversationMessageType === \"final\") ? Exports_js_2.ResultReason.TranslatedParticipantSpeech : Exports_js_2.ResultReason.TranslatingParticipantSpeech;\n                        const speechResult = new Exports_js_2.ConversationTranslationResult(speechPayload.participantId, this.getTranslations(speechPayload.translations), speechPayload.language, speechPayload.id, conversationResultReason, speechPayload.recognition, undefined, undefined, message.textBody, undefined);\n                        if (speechPayload.isFinal) {\n                            // check the length, sometimes empty finals are returned\n                            if (speechResult.text !== undefined && speechResult.text.length > 0) {\n                                sendFinal = true;\n                            }\n                            else if (speechPayload.id === this.privLastPartialUtteranceId) {\n                                // send final as normal. We had a non-empty partial for this same utterance\n                                // so sending the empty final is important\n                                sendFinal = true;\n                            }\n                            else {\n                                // suppress unneeded final\n                            }\n                            if (sendFinal) {\n                                if (!!this.privConversationServiceConnector.translationReceived) {\n                                    this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector, new ConversationTranslatorEventArgs_js_1.ConversationReceivedTranslationEventArgs(ConversationTranslatorInterfaces_js_1.ConversationTranslatorMessageTypes.final, speechResult, sessionId));\n                                }\n                            }\n                        }\n                        else if (speechResult.text !== undefined) {\n                            this.privLastPartialUtteranceId = speechPayload.id;\n                            if (!!this.privConversationServiceConnector.translationReceived) {\n                                this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector, new ConversationTranslatorEventArgs_js_1.ConversationReceivedTranslationEventArgs(ConversationTranslatorInterfaces_js_1.ConversationTranslatorMessageTypes.partial, speechResult, sessionId));\n                            }\n                        }\n                        break;\n                    /**\n                     * \"translated_message\" is a text message or instant message (IM).\n                     */\n                    case \"translated_message\":\n                        const textPayload = Exports_js_4.TextResponsePayload.fromJSON(message.textBody);\n                        // TODO: (Native parity) a result reason should be set based whether the participantId is ours or not\n                        const textResult = new Exports_js_2.ConversationTranslationResult(textPayload.participantId, this.getTranslations(textPayload.translations), textPayload.language, undefined, undefined, textPayload.originalText, undefined, undefined, undefined, message.textBody, undefined);\n                        if (!!this.privConversationServiceConnector.translationReceived) {\n                            this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector, new ConversationTranslatorEventArgs_js_1.ConversationReceivedTranslationEventArgs(ConversationTranslatorInterfaces_js_1.ConversationTranslatorMessageTypes.instantMessage, textResult, sessionId));\n                        }\n                        break;\n                    default:\n                        // ignore any unsupported message types\n                        break;\n                }\n            }\n            catch (e) {\n                // continue\n            }\n            return this.receiveConversationMessageOverride();\n        }\n        catch (e) {\n            this.terminateMessageLoop = true;\n        }\n        return communicationCustodian.promise;\n    }\n    async startMessageLoop() {\n        if (this.isDisposed()) {\n            return Promise.resolve();\n        }\n        this.terminateMessageLoop = false;\n        const messageRetrievalPromise = this.receiveConversationMessageOverride();\n        try {\n            const r = await messageRetrievalPromise;\n            return r;\n        }\n        catch (error) {\n            this.cancelRecognition(this.privRequestSession ? this.privRequestSession.sessionId : \"\", this.privRequestSession ? this.privRequestSession.requestId : \"\", Exports_js_2.CancellationReason.Error, Exports_js_2.CancellationErrorCode.RuntimeError, error);\n            return null;\n        }\n    }\n    // Takes an established websocket connection to the endpoint\n    configConnection() {\n        if (this.isDisposed()) {\n            return Promise.resolve(undefined);\n        }\n        if (this.privConnectionConfigPromise !== undefined) {\n            return this.privConnectionConfigPromise.then((connection) => {\n                if (connection.state() === Exports_js_1.ConnectionState.Disconnected) {\n                    this.privConnectionId = null;\n                    this.privConnectionConfigPromise = undefined;\n                    return this.configConnection();\n                }\n                return this.privConnectionConfigPromise;\n            }, () => {\n                this.privConnectionId = null;\n                this.privConnectionConfigPromise = undefined;\n                return this.configConnection();\n            });\n        }\n        if (this.terminateMessageLoop) {\n            return Promise.resolve(undefined);\n        }\n        this.privConnectionConfigPromise = this.connectImpl().then((connection) => connection);\n        return this.privConnectionConfigPromise;\n    }\n    getTranslations(serviceResultTranslations) {\n        let translations;\n        if (undefined !== serviceResultTranslations) {\n            translations = new Exports_js_2.Translations();\n            for (const translation of serviceResultTranslations) {\n                translations.set(translation.lang, translation.translation);\n            }\n        }\n        return translations;\n    }\n}\nexports.ConversationServiceAdapter = ConversationServiceAdapter;\n\n//# sourceMappingURL=ConversationServiceAdapter.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationTranslatorConnectionFactory = void 0;\nconst Exports_js_1 = require(\"../../common.browser/Exports.js\");\nconst StringUtils_js_1 = require(\"../../common/StringUtils.js\");\nconst Contracts_js_1 = require(\"../../sdk/Contracts.js\");\nconst Exports_js_2 = require(\"../../sdk/Exports.js\");\nconst HeaderNames_js_1 = require(\"../HeaderNames.js\");\nconst QueryParameterNames_js_1 = require(\"../QueryParameterNames.js\");\nconst ConnectionFactoryBase_js_1 = require(\"./../ConnectionFactoryBase.js\");\nconst Exports_js_3 = require(\"./../Exports.js\");\n/**\n * Connection factory for the conversation translator. Handles connecting to the regular translator endpoint,\n * as well as the virtual microphone array transcription endpoint\n */\nclass ConversationTranslatorConnectionFactory extends ConnectionFactoryBase_js_1.ConnectionFactoryBase {\n    constructor(convGetter) {\n        super();\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(convGetter, \"convGetter\");\n        this.privConvGetter = convGetter;\n    }\n    create(config, authInfo, connectionId) {\n        const isVirtMicArrayEndpoint = config.parameters.getProperty(\"ConversationTranslator_MultiChannelAudio\", \"\").toUpperCase() === \"TRUE\";\n        const convInfo = this.privConvGetter().room;\n        const region = convInfo.cognitiveSpeechRegion || config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Region, \"\");\n        const replacementValues = {\n            hostSuffix: ConnectionFactoryBase_js_1.ConnectionFactoryBase.getHostSuffix(region),\n            path: ConversationTranslatorConnectionFactory.CTS_VIRT_MIC_PATH,\n            region: encodeURIComponent(region)\n        };\n        replacementValues[QueryParameterNames_js_1.QueryParameterNames.Language] = encodeURIComponent(config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_RecoLanguage, \"\"));\n        replacementValues[QueryParameterNames_js_1.QueryParameterNames.CtsMeetingId] = encodeURIComponent(convInfo.roomId);\n        replacementValues[QueryParameterNames_js_1.QueryParameterNames.CtsDeviceId] = encodeURIComponent(convInfo.participantId);\n        replacementValues[QueryParameterNames_js_1.QueryParameterNames.CtsIsParticipant] = convInfo.isHost ? \"\" : (\"&\" + QueryParameterNames_js_1.QueryParameterNames.CtsIsParticipant);\n        let endpointUrl = \"\";\n        const queryParams = {};\n        const headers = {};\n        if (isVirtMicArrayEndpoint) {\n            // connecting to the conversation transcription virtual microphone array endpoint\n            endpointUrl = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Endpoint);\n            if (!endpointUrl) {\n                const hostName = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Host, \"transcribe.{region}.cts.speech{hostSuffix}\");\n                endpointUrl = \"wss://\" + hostName + \"{path}\";\n            }\n            // because the region can change during a session, we support being passed a format string which we can then\n            // replace with the correct information.\n            endpointUrl = StringUtils_js_1.StringUtils.formatString(endpointUrl, replacementValues);\n            const parsedUrl = new URL(endpointUrl);\n            parsedUrl.searchParams.forEach((val, key) => {\n                queryParams[key] = val;\n            });\n            const connFactory = new Exports_js_3.TranscriberConnectionFactory();\n            connFactory.setQueryParams(queryParams, config, endpointUrl);\n            // Some query parameters are required for the CTS endpoint, let's explicity set them here\n            queryParams[QueryParameterNames_js_1.QueryParameterNames.CtsMeetingId] = replacementValues[QueryParameterNames_js_1.QueryParameterNames.CtsMeetingId];\n            queryParams[QueryParameterNames_js_1.QueryParameterNames.CtsDeviceId] = replacementValues[QueryParameterNames_js_1.QueryParameterNames.CtsDeviceId];\n            if (!convInfo.isHost) {\n                queryParams[QueryParameterNames_js_1.QueryParameterNames.CtsIsParticipant] = \"\"; // this doesn't have a value so set to an empty string\n            }\n            if (!(QueryParameterNames_js_1.QueryParameterNames.Format in queryParams)) {\n                queryParams[QueryParameterNames_js_1.QueryParameterNames.Format] = \"simple\";\n            }\n            parsedUrl.searchParams.forEach((val, key) => {\n                parsedUrl.searchParams.set(key, queryParams[key]);\n                delete queryParams[key];\n            });\n            endpointUrl = parsedUrl.toString();\n        }\n        else {\n            // connecting to regular translation endpoint\n            const connFactory = new Exports_js_3.TranslationConnectionFactory();\n            endpointUrl = connFactory.getEndpointUrl(config, true);\n            endpointUrl = StringUtils_js_1.StringUtils.formatString(endpointUrl, replacementValues);\n            connFactory.setQueryParams(queryParams, config, endpointUrl);\n        }\n        headers[HeaderNames_js_1.HeaderNames.ConnectionId] = connectionId;\n        headers[Exports_js_1.RestConfigBase.configParams.token] = convInfo.token;\n        if (!!authInfo.token) {\n            headers[authInfo.headerName] = authInfo.token;\n        }\n        const enableCompression = config.parameters.getProperty(\"SPEECH-EnableWebsocketCompression\", \"\").toUpperCase() === \"TRUE\";\n        return Promise.resolve(new Exports_js_1.WebsocketConnection(endpointUrl, queryParams, headers, new Exports_js_3.WebsocketMessageFormatter(), Exports_js_1.ProxyInfo.fromRecognizerConfig(config), enableCompression, connectionId));\n    }\n}\nexports.ConversationTranslatorConnectionFactory = ConversationTranslatorConnectionFactory;\nConversationTranslatorConnectionFactory.CTS_VIRT_MIC_PATH = \"/speech/recognition/dynamicaudio\";\n\n//# sourceMappingURL=ConversationTranslatorConnectionFactory.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationReceivedTranslationEventArgs = exports.ParticipantsListEventArgs = exports.ParticipantAttributeEventArgs = exports.ParticipantEventArgs = exports.LockRoomEventArgs = exports.MuteAllEventArgs = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n/* eslint-disable max-classes-per-file */\nconst Exports_js_1 = require(\"../../sdk/Exports.js\");\nclass MuteAllEventArgs extends Exports_js_1.SessionEventArgs {\n    constructor(isMuted, sessionId) {\n        super(sessionId);\n        this.privIsMuted = isMuted;\n    }\n    get isMuted() {\n        return this.privIsMuted;\n    }\n}\nexports.MuteAllEventArgs = MuteAllEventArgs;\nclass LockRoomEventArgs extends Exports_js_1.SessionEventArgs {\n    constructor(isLocked, sessionId) {\n        super(sessionId);\n        this.privIsLocked = isLocked;\n    }\n    get isMuted() {\n        return this.privIsLocked;\n    }\n}\nexports.LockRoomEventArgs = LockRoomEventArgs;\nclass ParticipantEventArgs extends Exports_js_1.SessionEventArgs {\n    constructor(participant, sessionId) {\n        super(sessionId);\n        this.privParticipant = participant;\n    }\n    get participant() {\n        return this.privParticipant;\n    }\n}\nexports.ParticipantEventArgs = ParticipantEventArgs;\nclass ParticipantAttributeEventArgs extends Exports_js_1.SessionEventArgs {\n    constructor(participantId, key, value, sessionId) {\n        super(sessionId);\n        this.privKey = key;\n        this.privValue = value;\n        this.privParticipantId = participantId;\n    }\n    get value() {\n        return this.privValue;\n    }\n    get key() {\n        return this.privKey;\n    }\n    get id() {\n        return this.privParticipantId;\n    }\n}\nexports.ParticipantAttributeEventArgs = ParticipantAttributeEventArgs;\nclass ParticipantsListEventArgs extends Exports_js_1.SessionEventArgs {\n    constructor(conversationId, token, translateTo, profanityFilter, roomProfanityFilter, isRoomLocked, isMuteAll, participants, sessionId) {\n        super(sessionId);\n        this.privRoomId = conversationId;\n        this.privSessionToken = token;\n        this.privTranslateTo = translateTo;\n        this.privProfanityFilter = profanityFilter;\n        this.privRoomProfanityFilter = roomProfanityFilter;\n        this.privIsRoomLocked = isRoomLocked;\n        this.privIsRoomLocked = isMuteAll;\n        this.privParticipants = participants;\n    }\n    get sessionToken() {\n        return this.privSessionToken;\n    }\n    get conversationId() {\n        return this.privRoomId;\n    }\n    get translateTo() {\n        return this.privTranslateTo;\n    }\n    get profanityFilter() {\n        return this.privProfanityFilter;\n    }\n    get roomProfanityFilter() {\n        return this.privRoomProfanityFilter;\n    }\n    get isRoomLocked() {\n        return this.privIsRoomLocked;\n    }\n    get isMuteAll() {\n        return this.privIsMuteAll;\n    }\n    get participants() {\n        return this.privParticipants;\n    }\n}\nexports.ParticipantsListEventArgs = ParticipantsListEventArgs;\nclass ConversationReceivedTranslationEventArgs {\n    constructor(command, payload, sessionId) {\n        this.privPayload = payload;\n        this.privCommand = command;\n        this.privSessionId = sessionId;\n    }\n    get payload() {\n        return this.privPayload;\n    }\n    get command() {\n        return this.privCommand;\n    }\n    get sessionId() {\n        return this.privSessionId;\n    }\n}\nexports.ConversationReceivedTranslationEventArgs = ConversationReceivedTranslationEventArgs;\n\n//# sourceMappingURL=ConversationTranslatorEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationTranslatorCommandTypes = exports.ConversationTranslatorMessageTypes = exports.InternalParticipants = void 0;\n/** Users participating in the conversation */\nclass InternalParticipants {\n    constructor(participants = [], meId) {\n        this.participants = participants;\n        this.meId = meId;\n    }\n    /**\n     * Add or update a participant\n     * @param value\n     */\n    addOrUpdateParticipant(value) {\n        if (value === undefined) {\n            return;\n        }\n        const exists = this.getParticipantIndex(value.id);\n        if (exists > -1) {\n            this.participants.splice(exists, 1, value);\n        }\n        else {\n            this.participants.push(value);\n        }\n        // ensure it was added ok\n        return this.getParticipant(value.id);\n    }\n    /**\n     * Find the participant's position in the participants list.\n     * @param id\n     */\n    getParticipantIndex(id) {\n        return this.participants.findIndex((p) => p.id === id);\n    }\n    /**\n     * Find the participant by id.\n     * @param id\n     */\n    getParticipant(id) {\n        return this.participants.find((p) => p.id === id);\n    }\n    /**\n     * Remove a participant from the participants list.\n     */\n    deleteParticipant(id) {\n        this.participants = this.participants.filter((p) => p.id !== id);\n    }\n    /**\n     * Helper to return the conversation host.\n     */\n    get host() {\n        return this.participants.find((p) => p.isHost === true);\n    }\n    /**\n     * Helper to return the current user.\n     */\n    get me() {\n        return this.getParticipant(this.meId);\n    }\n}\nexports.InternalParticipants = InternalParticipants;\n/**\n * List of command message types\n */\nexports.ConversationTranslatorMessageTypes = {\n    command: \"command\",\n    final: \"final\",\n    info: \"info\",\n    instantMessage: \"instant_message\",\n    keepAlive: \"keep_alive\",\n    partial: \"partial\",\n    participantCommand: \"participant_command\",\n    translatedMessage: \"translated_message\"\n};\n/**\n * List of command types\n */\nexports.ConversationTranslatorCommandTypes = {\n    changeNickname: \"ChangeNickname\",\n    disconnectSession: \"DisconnectSession\",\n    ejectParticipant: \"EjectParticipant\",\n    instant_message: \"instant_message\",\n    joinSession: \"JoinSession\",\n    leaveSession: \"LeaveSession\",\n    participantList: \"ParticipantList\",\n    roomExpirationWarning: \"RoomExpirationWarning\",\n    setLockState: \"SetLockState\",\n    setMute: \"SetMute\",\n    setMuteAll: \"SetMuteAll\",\n    setProfanityFiltering: \"SetProfanityFiltering\",\n    setTranslateToLanguages: \"SetTranslateToLanguages\",\n    setUseTTS: \"SetUseTTS\"\n};\n\n//# sourceMappingURL=ConversationTranslatorInterfaces.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationTranslatorRecognizer = exports.ConversationRecognizerFactory = void 0;\n// eslint-disable-next-line max-classes-per-file\nconst Exports_js_1 = require(\"../../common.speech/Exports.js\");\nconst Exports_js_2 = require(\"../../common/Exports.js\");\nconst Contracts_js_1 = require(\"../../sdk/Contracts.js\");\nconst Exports_js_3 = require(\"../../sdk/Exports.js\");\nconst ConversationConnectionFactory_js_1 = require(\"./ConversationConnectionFactory.js\");\nconst ConversationServiceAdapter_js_1 = require(\"./ConversationServiceAdapter.js\");\nclass ConversationRecognizerFactory {\n    static fromConfig(conversation, speechConfig, audioConfig) {\n        return new ConversationTranslatorRecognizer(conversation, speechConfig, audioConfig);\n    }\n}\nexports.ConversationRecognizerFactory = ConversationRecognizerFactory;\n/**\n * Sends messages to the Conversation Translator websocket and listens for incoming events containing websocket messages.\n * Based off the recognizers in the SDK folder.\n */\nclass ConversationTranslatorRecognizer extends Exports_js_3.Recognizer {\n    constructor(conversation, speechConfig, audioConfig) {\n        const serviceConfigImpl = speechConfig;\n        Contracts_js_1.Contracts.throwIfNull(serviceConfigImpl, \"speechConfig\");\n        const conversationImpl = conversation;\n        Contracts_js_1.Contracts.throwIfNull(conversationImpl, \"conversationImpl\");\n        super(audioConfig, serviceConfigImpl.properties, new ConversationConnectionFactory_js_1.ConversationConnectionFactory());\n        this.privConversation = conversationImpl;\n        this.privIsDisposed = false;\n        this.privProperties = serviceConfigImpl.properties.clone();\n        this.privConnection = Exports_js_3.Connection.fromRecognizer(this);\n        const webWorkerLoadType = this.privProperties.getProperty(Exports_js_3.PropertyId.WebWorkerLoadType, \"on\").toLowerCase();\n        if (webWorkerLoadType === \"on\" && typeof (Blob) !== \"undefined\" && typeof (Worker) !== \"undefined\") {\n            this.privSetTimeout = Exports_js_2.Timeout.setTimeout;\n            this.privClearTimeout = Exports_js_2.Timeout.clearTimeout;\n        }\n        else {\n            if (typeof window !== \"undefined\") {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                this.privSetTimeout = window.setTimeout.bind(window);\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                this.privClearTimeout = window.clearTimeout.bind(window);\n            }\n            else {\n                this.privSetTimeout = setTimeout;\n                this.privClearTimeout = clearTimeout;\n            }\n        }\n    }\n    set connected(cb) {\n        this.privConnection.connected = cb;\n    }\n    set disconnected(cb) {\n        this.privConnection.disconnected = cb;\n    }\n    /**\n     * Return the speech language used by the recognizer\n     */\n    get speechRecognitionLanguage() {\n        return this.privSpeechRecognitionLanguage;\n    }\n    /**\n     * Return the properties for the recognizer\n     */\n    get properties() {\n        return this.privProperties;\n    }\n    isDisposed() {\n        return this.privIsDisposed;\n    }\n    /**\n     * Connect to the recognizer\n     * @param token\n     */\n    connect(token, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(token, \"token\");\n            this.privReco.conversationTranslatorToken = token;\n            this.resetConversationTimeout();\n            this.privReco.connectAsync(cb, err);\n        }\n        catch (error) {\n            if (!!err) {\n                if (error instanceof Error) {\n                    const typedError = error;\n                    err(typedError.name + \": \" + typedError.message);\n                }\n                else {\n                    err(error);\n                }\n            }\n        }\n    }\n    /**\n     * Disconnect from the recognizer\n     */\n    disconnect(cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            if (this.privTimeoutToken !== undefined) {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                this.privClearTimeout(this.privTimeoutToken);\n            }\n            this.privReco.disconnect().then(() => {\n                if (!!cb) {\n                    cb();\n                }\n            }, (error) => {\n                if (!!err) {\n                    err(error);\n                }\n            });\n        }\n        catch (error) {\n            if (!!err) {\n                if (error instanceof Error) {\n                    const typedError = error;\n                    err(typedError.name + \": \" + typedError.message);\n                }\n                else {\n                    err(error);\n                }\n            }\n            // Destroy the recognizer.\n            this.dispose(true).catch((reason) => {\n                Exports_js_2.Events.instance.onEvent(new Exports_js_2.BackgroundEvent(reason));\n            });\n        }\n    }\n    /**\n     * Send the mute all participants command to the websocket\n     * @param conversationId\n     * @param participantId\n     * @param isMuted\n     */\n    sendRequest(command, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            this.sendMessage(command, cb, err);\n        }\n        catch (error) {\n            if (!!err) {\n                if (error instanceof Error) {\n                    const typedError = error;\n                    err(typedError.name + \": \" + typedError.message);\n                }\n                else {\n                    err(error);\n                }\n            }\n            // Destroy the recognizer.\n            this.dispose(true).catch((reason) => {\n                Exports_js_2.Events.instance.onEvent(new Exports_js_2.BackgroundEvent(reason));\n            });\n        }\n    }\n    /**\n     * Handle update of service auth token (#694)\n     */\n    onToken(token) {\n        this.privConversation.onToken(token);\n    }\n    /**\n     * Close and dispose the recognizer\n     */\n    async close() {\n        if (!this.privIsDisposed) {\n            if (!!this.privConnection) {\n                this.privConnection.closeConnection();\n                this.privConnection.close();\n            }\n            this.privConnection = undefined;\n            await this.dispose(true);\n        }\n    }\n    /**\n     * Dispose the recognizer\n     * @param disposing\n     */\n    async dispose(disposing) {\n        if (this.privIsDisposed) {\n            return;\n        }\n        if (disposing) {\n            if (this.privTimeoutToken !== undefined) {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                this.privClearTimeout(this.privTimeoutToken);\n            }\n            this.privIsDisposed = true;\n            if (!!this.privConnection) {\n                this.privConnection.closeConnection();\n                this.privConnection.close();\n                this.privConnection = undefined;\n            }\n            await super.dispose(disposing);\n        }\n    }\n    /**\n     * Create the config for the recognizer\n     * @param speechConfig\n     */\n    createRecognizerConfig(speechConfig) {\n        return new Exports_js_1.RecognizerConfig(speechConfig, this.privProperties);\n    }\n    /**\n     * Create the service recognizer.\n     * The audio source is redundnant here but is required by the implementation.\n     * @param authentication\n     * @param connectionFactory\n     * @param audioConfig\n     * @param recognizerConfig\n     */\n    createServiceRecognizer(authentication, connectionFactory, audioConfig, recognizerConfig) {\n        const audioSource = audioConfig;\n        return new ConversationServiceAdapter_js_1.ConversationServiceAdapter(authentication, connectionFactory, audioSource, recognizerConfig, this);\n    }\n    sendMessage(msg, cb, err) {\n        const withAsync = this.privReco;\n        const PromiseToEmptyCallback = (promise, cb, err) => {\n            if (promise !== undefined) {\n                promise.then(() => {\n                    try {\n                        if (!!cb) {\n                            cb();\n                        }\n                    }\n                    catch (e) {\n                        if (!!err) {\n                            err(`'Unhandled error on promise callback: ${e}'`);\n                        }\n                    }\n                }, (reason) => {\n                    try {\n                        if (!!err) {\n                            err(reason);\n                        }\n                        // eslint-disable-next-line no-empty\n                    }\n                    catch (error) { }\n                });\n            }\n            else {\n                if (!!err) {\n                    err(\"Null promise\");\n                }\n            }\n        };\n        PromiseToEmptyCallback(withAsync.sendMessageAsync(msg), cb, err);\n        this.resetConversationTimeout();\n    }\n    resetConversationTimeout() {\n        if (this.privTimeoutToken !== undefined) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            this.privClearTimeout(this.privTimeoutToken);\n        }\n        this.privTimeoutToken = this.privSetTimeout(() => {\n            this.sendRequest(this.privConversation.getKeepAlive());\n        }, 60000);\n    }\n}\nexports.ConversationTranslatorRecognizer = ConversationTranslatorRecognizer;\n\n//# sourceMappingURL=ConversationTranslatorRecognizer.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationWebsocketMessageFormatter = void 0;\nconst Exports_js_1 = require(\"../../common/Exports.js\");\nconst ConversationConnectionMessage_js_1 = require(\"./ConversationConnectionMessage.js\");\n/**\n * Based off WebsocketMessageFormatter. The messages for Conversation Translator have some variations from the Speech messages.\n */\nclass ConversationWebsocketMessageFormatter {\n    /**\n     * Format incoming messages: text (speech partial/final, IM) or binary (tts)\n     */\n    toConnectionMessage(message) {\n        const deferral = new Exports_js_1.Deferred();\n        try {\n            if (message.messageType === Exports_js_1.MessageType.Text) {\n                const incomingMessage = new ConversationConnectionMessage_js_1.ConversationConnectionMessage(message.messageType, message.textContent, {}, message.id);\n                deferral.resolve(incomingMessage);\n            }\n            else if (message.messageType === Exports_js_1.MessageType.Binary) {\n                deferral.resolve(new ConversationConnectionMessage_js_1.ConversationConnectionMessage(message.messageType, message.binaryContent, undefined, message.id));\n            }\n        }\n        catch (e) {\n            deferral.reject(`Error formatting the message. Error: ${e}`);\n        }\n        return deferral.promise;\n    }\n    /**\n     * Format outgoing messages: text (commands or IM)\n     */\n    fromConnectionMessage(message) {\n        const deferral = new Exports_js_1.Deferred();\n        try {\n            if (message.messageType === Exports_js_1.MessageType.Text) {\n                const payload = `${message.textBody ? message.textBody : \"\"}`;\n                deferral.resolve(new Exports_js_1.RawWebsocketMessage(Exports_js_1.MessageType.Text, payload, message.id));\n            }\n        }\n        catch (e) {\n            deferral.reject(`Error formatting the message. ${e}`);\n        }\n        return deferral.promise;\n    }\n}\nexports.ConversationWebsocketMessageFormatter = ConversationWebsocketMessageFormatter;\n\n//# sourceMappingURL=ConversationWebsocketMessageFormatter.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InternalParticipants = exports.ConversationTranslatorMessageTypes = exports.ConversationTranslatorCommandTypes = exports.ParticipantsListEventArgs = exports.ParticipantEventArgs = exports.ParticipantAttributeEventArgs = exports.MuteAllEventArgs = exports.LockRoomEventArgs = exports.ConversationReceivedTranslationEventArgs = exports.TranscriberRecognizer = exports.ConversationRecognizerFactory = exports.ConversationConnectionConfig = exports.ConversationManager = void 0;\nvar ConversationManager_js_1 = require(\"./ConversationManager.js\");\nObject.defineProperty(exports, \"ConversationManager\", { enumerable: true, get: function () { return ConversationManager_js_1.ConversationManager; } });\nvar ConversationConnectionConfig_js_1 = require(\"./ConversationConnectionConfig.js\");\nObject.defineProperty(exports, \"ConversationConnectionConfig\", { enumerable: true, get: function () { return ConversationConnectionConfig_js_1.ConversationConnectionConfig; } });\nvar ConversationTranslatorRecognizer_js_1 = require(\"./ConversationTranslatorRecognizer.js\");\nObject.defineProperty(exports, \"ConversationRecognizerFactory\", { enumerable: true, get: function () { return ConversationTranslatorRecognizer_js_1.ConversationRecognizerFactory; } });\nvar TranscriberRecognizer_js_1 = require(\"./TranscriberRecognizer.js\");\nObject.defineProperty(exports, \"TranscriberRecognizer\", { enumerable: true, get: function () { return TranscriberRecognizer_js_1.TranscriberRecognizer; } });\nvar ConversationTranslatorEventArgs_js_1 = require(\"./ConversationTranslatorEventArgs.js\");\nObject.defineProperty(exports, \"ConversationReceivedTranslationEventArgs\", { enumerable: true, get: function () { return ConversationTranslatorEventArgs_js_1.ConversationReceivedTranslationEventArgs; } });\nObject.defineProperty(exports, \"LockRoomEventArgs\", { enumerable: true, get: function () { return ConversationTranslatorEventArgs_js_1.LockRoomEventArgs; } });\nObject.defineProperty(exports, \"MuteAllEventArgs\", { enumerable: true, get: function () { return ConversationTranslatorEventArgs_js_1.MuteAllEventArgs; } });\nObject.defineProperty(exports, \"ParticipantAttributeEventArgs\", { enumerable: true, get: function () { return ConversationTranslatorEventArgs_js_1.ParticipantAttributeEventArgs; } });\nObject.defineProperty(exports, \"ParticipantEventArgs\", { enumerable: true, get: function () { return ConversationTranslatorEventArgs_js_1.ParticipantEventArgs; } });\nObject.defineProperty(exports, \"ParticipantsListEventArgs\", { enumerable: true, get: function () { return ConversationTranslatorEventArgs_js_1.ParticipantsListEventArgs; } });\nvar ConversationTranslatorInterfaces_js_1 = require(\"./ConversationTranslatorInterfaces.js\");\nObject.defineProperty(exports, \"ConversationTranslatorCommandTypes\", { enumerable: true, get: function () { return ConversationTranslatorInterfaces_js_1.ConversationTranslatorCommandTypes; } });\nObject.defineProperty(exports, \"ConversationTranslatorMessageTypes\", { enumerable: true, get: function () { return ConversationTranslatorInterfaces_js_1.ConversationTranslatorMessageTypes; } });\nObject.defineProperty(exports, \"InternalParticipants\", { enumerable: true, get: function () { return ConversationTranslatorInterfaces_js_1.InternalParticipants; } });\n\n//# sourceMappingURL=Exports.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommandResponsePayload = void 0;\nconst parseCommandResponse = (json) => JSON.parse(json);\nclass CommandResponsePayload {\n    constructor(json) {\n        this.privCommandResponse = parseCommandResponse(json);\n    }\n    get type() {\n        return this.privCommandResponse.type;\n    }\n    get command() {\n        return this.privCommandResponse.command;\n    }\n    get id() {\n        return this.privCommandResponse.id;\n    }\n    get nickname() {\n        return this.privCommandResponse.nickname;\n    }\n    get participantId() {\n        return this.privCommandResponse.participantId;\n    }\n    get roomid() {\n        return this.privCommandResponse.roomid;\n    }\n    get value() {\n        return this.privCommandResponse.value;\n    }\n    get token() {\n        return this.privCommandResponse.token;\n    }\n    static fromJSON(json) {\n        return new CommandResponsePayload(json);\n    }\n}\nexports.CommandResponsePayload = CommandResponsePayload;\n\n//# sourceMappingURL=CommandResponsePayload.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextResponsePayload = exports.SpeechResponsePayload = exports.ParticipantPayloadResponse = exports.ParticipantsListPayloadResponse = exports.CommandResponsePayload = void 0;\nvar CommandResponsePayload_js_1 = require(\"./CommandResponsePayload.js\");\nObject.defineProperty(exports, \"CommandResponsePayload\", { enumerable: true, get: function () { return CommandResponsePayload_js_1.CommandResponsePayload; } });\nvar ParticipantResponsePayload_js_1 = require(\"./ParticipantResponsePayload.js\");\nObject.defineProperty(exports, \"ParticipantsListPayloadResponse\", { enumerable: true, get: function () { return ParticipantResponsePayload_js_1.ParticipantsListPayloadResponse; } });\nObject.defineProperty(exports, \"ParticipantPayloadResponse\", { enumerable: true, get: function () { return ParticipantResponsePayload_js_1.ParticipantPayloadResponse; } });\nvar TranslationResponsePayload_js_1 = require(\"./TranslationResponsePayload.js\");\nObject.defineProperty(exports, \"SpeechResponsePayload\", { enumerable: true, get: function () { return TranslationResponsePayload_js_1.SpeechResponsePayload; } });\nObject.defineProperty(exports, \"TextResponsePayload\", { enumerable: true, get: function () { return TranslationResponsePayload_js_1.TextResponsePayload; } });\n\n//# sourceMappingURL=Exports.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ParticipantPayloadResponse = exports.ParticipantsListPayloadResponse = void 0;\nconst parseListResponse = (json) => JSON.parse(json);\nconst parseParticipantResponse = (json) => JSON.parse(json);\nclass ParticipantsListPayloadResponse {\n    constructor(json) {\n        this.privParticipantsPayloadResponse = parseListResponse(json);\n    }\n    get roomid() {\n        return this.privParticipantsPayloadResponse.roomid;\n    }\n    get id() {\n        return this.privParticipantsPayloadResponse.id;\n    }\n    get command() {\n        return this.privParticipantsPayloadResponse.command;\n    }\n    get participants() {\n        return this.privParticipantsPayloadResponse.participants;\n    }\n    get token() {\n        return this.privParticipantsPayloadResponse.token;\n    }\n    get translateTo() {\n        return this.privParticipantsPayloadResponse.translateTo;\n    }\n    get profanityFilter() {\n        return this.privParticipantsPayloadResponse.profanityFilter;\n    }\n    get roomProfanityFilter() {\n        return this.privParticipantsPayloadResponse.roomProfanityFilter;\n    }\n    get roomLocked() {\n        return this.privParticipantsPayloadResponse.roomLocked;\n    }\n    get muteAll() {\n        return this.privParticipantsPayloadResponse.muteAll;\n    }\n    get type() {\n        return this.privParticipantsPayloadResponse.type;\n    }\n    static fromJSON(json) {\n        return new ParticipantsListPayloadResponse(json);\n    }\n}\nexports.ParticipantsListPayloadResponse = ParticipantsListPayloadResponse;\nclass ParticipantPayloadResponse {\n    constructor(json) {\n        this.privParticipantPayloadResponse = parseParticipantResponse(json);\n    }\n    get nickname() {\n        return this.privParticipantPayloadResponse.nickname;\n    }\n    get locale() {\n        return this.privParticipantPayloadResponse.locale;\n    }\n    get usetts() {\n        return this.privParticipantPayloadResponse.usetts;\n    }\n    get ismuted() {\n        return this.privParticipantPayloadResponse.ismuted;\n    }\n    get ishost() {\n        return this.privParticipantPayloadResponse.ishost;\n    }\n    get participantId() {\n        return this.privParticipantPayloadResponse.participantId;\n    }\n    get avatar() {\n        return this.privParticipantPayloadResponse.avatar;\n    }\n    static fromJSON(json) {\n        return new ParticipantPayloadResponse(json);\n    }\n}\nexports.ParticipantPayloadResponse = ParticipantPayloadResponse;\n\n//# sourceMappingURL=ParticipantResponsePayload.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextResponsePayload = exports.SpeechResponsePayload = void 0;\nconst parseSpeechResponse = (json) => JSON.parse(json);\nconst parseTextResponse = (json) => JSON.parse(json);\nclass SpeechResponsePayload {\n    constructor(json) {\n        this.privSpeechResponse = parseSpeechResponse(json);\n    }\n    get recognition() {\n        return this.privSpeechResponse.recognition;\n    }\n    get translations() {\n        return this.privSpeechResponse.translations;\n    }\n    get id() {\n        return this.privSpeechResponse.id;\n    }\n    get language() {\n        return this.privSpeechResponse.language;\n    }\n    get nickname() {\n        return this.privSpeechResponse.nickname;\n    }\n    get participantId() {\n        return this.privSpeechResponse.participantId;\n    }\n    get roomid() {\n        return this.privSpeechResponse.roomid;\n    }\n    get timestamp() {\n        return this.privSpeechResponse.timestamp;\n    }\n    get type() {\n        return this.privSpeechResponse.type;\n    }\n    get isFinal() {\n        return this.privSpeechResponse.type === \"final\";\n    }\n    static fromJSON(json) {\n        return new SpeechResponsePayload(json);\n    }\n}\nexports.SpeechResponsePayload = SpeechResponsePayload;\nclass TextResponsePayload {\n    constructor(json) {\n        this.privTextResponse = parseTextResponse(json);\n    }\n    get originalText() {\n        return this.privTextResponse.originalText;\n    }\n    get translations() {\n        return this.privTextResponse.translations;\n    }\n    get id() {\n        return this.privTextResponse.id;\n    }\n    get language() {\n        return this.privTextResponse.language;\n    }\n    get nickname() {\n        return this.privTextResponse.nickname;\n    }\n    get participantId() {\n        return this.privTextResponse.participantId;\n    }\n    get roomid() {\n        return this.privTextResponse.roomid;\n    }\n    get timestamp() {\n        return this.privTextResponse.timestamp;\n    }\n    get type() {\n        return this.privTextResponse.type;\n    }\n    static fromJSON(json) {\n        return new TextResponsePayload(json);\n    }\n}\nexports.TextResponsePayload = TextResponsePayload;\n\n//# sourceMappingURL=TranslationResponsePayload.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranscriberRecognizer = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nconst Exports_js_1 = require(\"../../common/Exports.js\");\nconst Contracts_js_1 = require(\"../../sdk/Contracts.js\");\nconst Exports_js_2 = require(\"../../sdk/Exports.js\");\nconst Exports_js_3 = require(\"../Exports.js\");\nconst PhraseDetectionContext_js_1 = require(\"../ServiceMessages/PhraseDetection/PhraseDetectionContext.js\");\nclass TranscriberRecognizer extends Exports_js_2.Recognizer {\n    /**\n     * TranscriberRecognizer constructor.\n     * @constructor\n     * @param {SpeechTranslationConfig} speechTranslationConfig - Non-audio configuration associated with the recognizer\n     * @param {AudioConfig} audioConfig - An audio configuration associated with the recognizer\n     */\n    constructor(speechTranslationConfig, audioConfig) {\n        const speechTranslationConfigImpl = speechTranslationConfig;\n        Contracts_js_1.Contracts.throwIfNull(speechTranslationConfigImpl, \"speechTranslationConfig\");\n        const audioConfigImpl = audioConfig;\n        Contracts_js_1.Contracts.throwIfNull(audioConfigImpl, \"audioConfigImpl\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(speechTranslationConfigImpl.speechRecognitionLanguage, Exports_js_2.PropertyId[Exports_js_2.PropertyId.SpeechServiceConnection_RecoLanguage]);\n        super(audioConfig, speechTranslationConfigImpl.properties, new Exports_js_3.TranscriberConnectionFactory());\n        this.privDisposedRecognizer = false;\n        this.isMeetingRecognizer = false;\n    }\n    get speechRecognitionLanguage() {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedRecognizer);\n        return this.properties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_RecoLanguage);\n    }\n    get properties() {\n        return this.privProperties;\n    }\n    get authorizationToken() {\n        return this.properties.getProperty(Exports_js_2.PropertyId.SpeechServiceAuthorization_Token);\n    }\n    set authorizationToken(token) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(token, \"token\");\n        this.properties.setProperty(Exports_js_2.PropertyId.SpeechServiceAuthorization_Token, token);\n    }\n    set conversation(c) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(c, \"Conversation\");\n        this.isMeetingRecognizer = false;\n        this.privConversation = c;\n    }\n    getConversationInfo() {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privConversation, \"Conversation\");\n        return this.privConversation.conversationInfo;\n    }\n    set meeting(m) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(m, \"Meeting\");\n        this.isMeetingRecognizer = true;\n        this.privMeeting = m;\n    }\n    getMeetingInfo() {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privMeeting, \"Meeting\");\n        return this.privMeeting.meetingInfo;\n    }\n    IsMeetingRecognizer() {\n        return this.isMeetingRecognizer;\n    }\n    startContinuousRecognitionAsync(cb, err) {\n        (0, Exports_js_1.marshalPromiseToCallbacks)(this.startContinuousRecognitionAsyncImpl(PhraseDetectionContext_js_1.RecognitionMode.Conversation), cb, err);\n    }\n    stopContinuousRecognitionAsync(cb, err) {\n        (0, Exports_js_1.marshalPromiseToCallbacks)(this.stopContinuousRecognitionAsyncImpl(), cb, err);\n    }\n    async close() {\n        if (!this.privDisposedRecognizer) {\n            await this.dispose(true);\n        }\n    }\n    // Push async join/leave conversation message via serviceRecognizer\n    async pushConversationEvent(conversationInfo, command) {\n        const reco = (this.privReco);\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(reco, \"serviceRecognizer\");\n        await reco.sendSpeechEventAsync(conversationInfo, command);\n    }\n    // Push async join/leave meeting message via serviceRecognizer\n    async pushMeetingEvent(meetingInfo, command) {\n        const reco = (this.privReco);\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(reco, \"serviceRecognizer\");\n        await reco.sendMeetingSpeechEventAsync(meetingInfo, command);\n    }\n    async enforceAudioGating() {\n        const audioConfigImpl = this.audioConfig;\n        const format = await audioConfigImpl.format;\n        const channels = format.channels;\n        if (channels === 1) {\n            if (this.properties.getProperty(\"f0f5debc-f8c9-4892-ac4b-90a7ab359fd2\", \"false\").toLowerCase() !== \"true\") {\n                throw new Error(\"Single channel audio configuration for MeetingTranscriber is currently under private preview, please contact diarizationrequest@microsoft.com for more details\");\n            }\n        }\n        else if (channels !== 8) {\n            throw new Error(`Unsupported audio configuration: Detected ${channels}-channel audio`);\n        }\n        return;\n    }\n    connectMeetingCallbacks(transcriber) {\n        this.isMeetingRecognizer = true;\n        this.canceled = (s, e) => {\n            if (!!transcriber.canceled) {\n                transcriber.canceled(transcriber, e);\n            }\n        };\n        this.recognizing = (s, e) => {\n            if (!!transcriber.transcribing) {\n                transcriber.transcribing(transcriber, e);\n            }\n        };\n        this.recognized = (s, e) => {\n            if (!!transcriber.transcribed) {\n                transcriber.transcribed(transcriber, e);\n            }\n        };\n        this.sessionStarted = (s, e) => {\n            if (!!transcriber.sessionStarted) {\n                transcriber.sessionStarted(transcriber, e);\n            }\n        };\n        this.sessionStopped = (s, e) => {\n            if (!!transcriber.sessionStopped) {\n                transcriber.sessionStopped(transcriber, e);\n            }\n        };\n    }\n    disconnectCallbacks() {\n        this.canceled = undefined;\n        this.recognizing = undefined;\n        this.recognized = undefined;\n        this.sessionStarted = undefined;\n        this.sessionStopped = undefined;\n    }\n    /**\n     * Disposes any resources held by the object.\n     * @member ConversationTranscriber.prototype.dispose\n     * @function\n     * @public\n     * @param {boolean} disposing - true if disposing the object.\n     */\n    async dispose(disposing) {\n        if (this.privDisposedRecognizer) {\n            return;\n        }\n        if (disposing) {\n            this.privDisposedRecognizer = true;\n            await this.implRecognizerStop();\n        }\n        await super.dispose(disposing);\n    }\n    createRecognizerConfig(speechConfig) {\n        return new Exports_js_3.RecognizerConfig(speechConfig, this.properties);\n    }\n    createServiceRecognizer(authentication, connectionFactory, audioConfig, recognizerConfig) {\n        const configImpl = audioConfig;\n        return new Exports_js_3.TranscriptionServiceRecognizer(authentication, connectionFactory, configImpl, recognizerConfig, this);\n    }\n}\nexports.TranscriberRecognizer = TranscriberRecognizer;\n\n//# sourceMappingURL=TranscriberRecognizer.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranscriptionServiceRecognizer = void 0;\nconst Exports_js_1 = require(\"../common/Exports.js\");\nconst Exports_js_2 = require(\"../sdk/Exports.js\");\nconst Exports_js_3 = require(\"./Exports.js\");\nconst SpeechConnectionMessage_Internal_js_1 = require(\"./SpeechConnectionMessage.Internal.js\");\n// eslint-disable-next-line max-classes-per-file\nclass TranscriptionServiceRecognizer extends Exports_js_3.ConversationServiceRecognizer {\n    constructor(authentication, connectionFactory, audioSource, recognizerConfig, transcriber) {\n        super(authentication, connectionFactory, audioSource, recognizerConfig, transcriber);\n        this.privTranscriberRecognizer = transcriber;\n        this.sendPrePayloadJSONOverride = (connection) => this.sendTranscriptionStartJSON(connection);\n        if (this.privRecognizerConfig.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps) === \"true\") {\n            this.privSpeechContext.setWordLevelTimings();\n        }\n    }\n    async sendSpeechEventAsync(info, command) {\n        if (!!this.privRequestSession.isRecognizing) {\n            const connection = await this.fetchConnection();\n            await this.sendSpeechEvent(connection, this.createSpeechEventPayload(info, command));\n        }\n    }\n    async sendMeetingSpeechEventAsync(info, command) {\n        if (!!this.privRequestSession.isRecognizing) {\n            const connection = await this.fetchConnection();\n            await this.sendSpeechEvent(connection, this.createMeetingSpeechEventPayload(info, command));\n        }\n    }\n    processTypeSpecificMessages(connectionMessage) {\n        return this.processSpeechMessages(connectionMessage);\n    }\n    handleRecognizedCallback(result, offset, sessionId) {\n        try {\n            const event = new Exports_js_2.SpeechRecognitionEventArgs(result, offset, sessionId);\n            this.privTranscriberRecognizer.recognized(this.privTranscriberRecognizer, event);\n            if (!!this.privSuccessCallback) {\n                try {\n                    this.privSuccessCallback(result);\n                }\n                catch (e) {\n                    if (!!this.privErrorCallback) {\n                        this.privErrorCallback(e);\n                    }\n                }\n                // Only invoke the call back once.\n                // and if it's successful don't invoke the\n                // error after that.\n                this.privSuccessCallback = undefined;\n                this.privErrorCallback = undefined;\n            }\n            /* eslint-disable no-empty */\n        }\n        catch (error) {\n            // Not going to let errors in the event handler\n            // trip things up.\n        }\n    }\n    handleRecognizingCallback(result, duration, sessionId) {\n        try {\n            const ev = new Exports_js_2.SpeechRecognitionEventArgs(result, duration, sessionId);\n            this.privTranscriberRecognizer.recognizing(this.privTranscriberRecognizer, ev);\n            /* eslint-disable no-empty */\n        }\n        catch (error) {\n            // Not going to let errors in the event handler\n            // trip things up.\n        }\n    }\n    // Cancels recognition.\n    cancelRecognition(sessionId, requestId, cancellationReason, errorCode, error) {\n        const properties = new Exports_js_2.PropertyCollection();\n        properties.setProperty(Exports_js_3.CancellationErrorCodePropertyName, Exports_js_2.CancellationErrorCode[errorCode]);\n        if (this.privTranscriberRecognizer.IsMeetingRecognizer()) {\n            if (!!this.privTranscriberRecognizer.canceled) {\n                const cancelEvent = new Exports_js_2.MeetingTranscriptionCanceledEventArgs(cancellationReason, error, errorCode, undefined, sessionId);\n                try {\n                    this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer, cancelEvent);\n                    /* eslint-disable no-empty */\n                }\n                catch { }\n            }\n        }\n        else {\n            if (!!this.privTranscriberRecognizer.canceled) {\n                const cancelEvent = new Exports_js_2.ConversationTranscriptionCanceledEventArgs(cancellationReason, error, errorCode, undefined, sessionId);\n                try {\n                    this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer, cancelEvent);\n                    /* eslint-disable no-empty */\n                }\n                catch { }\n            }\n        }\n        if (!!this.privSuccessCallback) {\n            const result = new Exports_js_2.SpeechRecognitionResult(requestId, Exports_js_2.ResultReason.Canceled, undefined, // Text\n            undefined, // Duration\n            undefined, // Offset\n            undefined, // Language\n            undefined, // Language Detection Confidence\n            undefined, // Speaker Id\n            error, undefined, // Json\n            properties);\n            try {\n                this.privSuccessCallback(result);\n                this.privSuccessCallback = undefined;\n                /* eslint-disable no-empty */\n            }\n            catch { }\n        }\n    }\n    // Encapsulated for derived service recognizers that need to send additional JSON\n    async sendTranscriptionStartJSON(connection) {\n        await this.sendSpeechContext(connection, true);\n        if (this.privTranscriberRecognizer.IsMeetingRecognizer()) {\n            const info = this.privTranscriberRecognizer.getMeetingInfo();\n            const payload = this.createMeetingSpeechEventPayload(info, \"start\");\n            await this.sendSpeechEvent(connection, payload);\n        }\n        else {\n            const info = this.privTranscriberRecognizer.getConversationInfo();\n            const payload = this.createSpeechEventPayload(info, \"start\");\n            await this.sendSpeechEvent(connection, payload);\n        }\n        await this.sendWaveHeader(connection);\n        return;\n    }\n    sendSpeechEvent(connection, payload) {\n        const speechEventJson = JSON.stringify(payload);\n        if (speechEventJson) {\n            return connection.send(new SpeechConnectionMessage_Internal_js_1.SpeechConnectionMessage(Exports_js_1.MessageType.Text, \"speech.event\", this.privRequestSession.requestId, \"application/json\", speechEventJson));\n        }\n        return;\n    }\n    createSpeechEventPayload(info, command) {\n        const eventDict = { id: \"meeting\", name: command, meeting: info.conversationProperties };\n        eventDict.meeting.id = info.id;\n        eventDict.meeting.attendees = info.participants;\n        return eventDict;\n    }\n    createMeetingSpeechEventPayload(info, command) {\n        const eventDict = { id: \"meeting\", name: command, meeting: info.meetingProperties };\n        eventDict.meeting.id = info.id;\n        eventDict.meeting.attendees = info.participants;\n        return eventDict;\n    }\n}\nexports.TranscriptionServiceRecognizer = TranscriptionServiceRecognizer;\n\n//# sourceMappingURL=TranscriptionServiceRecognizer.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranslationConnectionFactory = void 0;\nconst Exports_js_1 = require(\"../common.browser/Exports.js\");\nconst StringUtils_js_1 = require(\"../common/StringUtils.js\");\nconst Exports_js_2 = require(\"../sdk/Exports.js\");\nconst ConnectionFactoryBase_js_1 = require(\"./ConnectionFactoryBase.js\");\nconst Exports_js_3 = require(\"./Exports.js\");\nconst HeaderNames_js_1 = require(\"./HeaderNames.js\");\nconst QueryParameterNames_js_1 = require(\"./QueryParameterNames.js\");\nconst PhraseDetectionContext_js_1 = require(\"./ServiceMessages/PhraseDetection/PhraseDetectionContext.js\");\nclass TranslationConnectionFactory extends ConnectionFactoryBase_js_1.ConnectionFactoryBase {\n    constructor() {\n        super(...arguments);\n        this.universalUri = \"/stt/speech/universal/v2\";\n        this.translationV1Uri = \"/speech/translation/cognitiveservices/v1\";\n    }\n    async create(config, authInfo, connectionId) {\n        let endpoint = this.getEndpointUrl(config);\n        const queryParams = {};\n        // Determine if we're using V1 or V2 endpoint\n        this.setQueryParams(queryParams, config, endpoint);\n        if (!!endpoint) {\n            const endpointUrl = new URL(endpoint);\n            const pathName = endpointUrl.pathname;\n            if (pathName === \"\" || pathName === \"/\") {\n                // We need to generate the path, and we need to check for a redirect.\n                endpointUrl.pathname = this.universalUri;\n                endpoint = await ConnectionFactoryBase_js_1.ConnectionFactoryBase.getRedirectUrlFromEndpoint(endpointUrl.toString());\n            }\n        }\n        const headers = {};\n        if (authInfo.token !== undefined && authInfo.token !== \"\") {\n            headers[authInfo.headerName] = authInfo.token;\n        }\n        headers[HeaderNames_js_1.HeaderNames.ConnectionId] = connectionId;\n        config.parameters.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Url, endpoint);\n        const enableCompression = config.parameters.getProperty(\"SPEECH-EnableWebsocketCompression\", \"false\") === \"true\";\n        const webSocketConnection = new Exports_js_1.WebsocketConnection(endpoint, queryParams, headers, new Exports_js_3.WebsocketMessageFormatter(), Exports_js_1.ProxyInfo.fromRecognizerConfig(config), enableCompression, connectionId);\n        return webSocketConnection;\n    }\n    getEndpointUrl(config, returnRegionPlaceholder) {\n        const region = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Region);\n        const hostSuffix = ConnectionFactoryBase_js_1.ConnectionFactoryBase.getHostSuffix(region);\n        // First check for an explicitly specified endpoint\n        let endpointUrl = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Endpoint, undefined);\n        // If an explicit endpoint is provided, use it\n        if (endpointUrl) {\n            if (returnRegionPlaceholder === true) {\n                return endpointUrl;\n            }\n            return StringUtils_js_1.StringUtils.formatString(endpointUrl, { region });\n        }\n        // Check if V1 endpoint is explicitly requested\n        const forceV1Endpoint = config.parameters.getProperty(\"SPEECH-ForceV1Endpoint\", \"false\") === \"true\";\n        if (forceV1Endpoint) {\n            // Use V1 endpoint with s2s.speech host\n            const host = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Host, \"wss://{region}.s2s.speech\" + hostSuffix);\n            endpointUrl = host + this.translationV1Uri;\n        }\n        else {\n            // Default to V2 endpoint with stt.speech host\n            const host = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Host, \"wss://{region}.stt.speech\" + hostSuffix);\n            endpointUrl = host + this.universalUri;\n        }\n        if (returnRegionPlaceholder === true) {\n            return endpointUrl;\n        }\n        return StringUtils_js_1.StringUtils.formatString(endpointUrl, { region });\n    }\n    setQueryParams(queryParams, config, endpointUrl) {\n        // Common parameters for both V1 and V2 endpoints\n        queryParams.from = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_RecoLanguage);\n        queryParams.to = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_TranslationToLanguages);\n        queryParams.scenario = config.recognitionMode === PhraseDetectionContext_js_1.RecognitionMode.Interactive ? \"interactive\" :\n            config.recognitionMode === PhraseDetectionContext_js_1.RecognitionMode.Conversation ? \"conversation\" : \"\";\n        // Set common parameters\n        this.setCommonUrlParams(config, queryParams, endpointUrl);\n        this.setUrlParameter(Exports_js_2.PropertyId.SpeechServiceResponse_TranslationRequestStablePartialResult, QueryParameterNames_js_1.QueryParameterNames.StableTranslation, config, queryParams, endpointUrl);\n        // Handle translation voice if specified\n        const translationVoice = config.parameters.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_TranslationVoice, undefined);\n        if (translationVoice !== undefined) {\n            queryParams.voice = translationVoice;\n            // Updated to match C++ implementation\n            queryParams.features = \"requireVoice\";\n        }\n    }\n}\nexports.TranslationConnectionFactory = TranslationConnectionFactory;\n\n//# sourceMappingURL=TranslationConnectionFactory.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranslationServiceRecognizer = void 0;\nconst Exports_js_1 = require(\"../common/Exports.js\");\nconst Exports_js_2 = require(\"../sdk/Exports.js\");\nconst Exports_js_3 = require(\"./Exports.js\");\n// eslint-disable-next-line max-classes-per-file\nclass TranslationServiceRecognizer extends Exports_js_3.ConversationServiceRecognizer {\n    constructor(authentication, connectionFactory, audioSource, recognizerConfig, translationRecognizer) {\n        super(authentication, connectionFactory, audioSource, recognizerConfig, translationRecognizer);\n        this.privTranslationRecognizer = translationRecognizer;\n        this.connectionEvents.attach((connectionEvent) => {\n            if (connectionEvent.name === \"ConnectionEstablishedEvent\") {\n                this.privTranslationRecognizer.onConnection();\n            }\n        });\n    }\n    async processTypeSpecificMessages(connectionMessage) {\n        const resultProps = new Exports_js_2.PropertyCollection();\n        let processed = await this.processSpeechMessages(connectionMessage);\n        if (processed) {\n            return true;\n        }\n        const handleTranslationPhrase = async (translatedPhrase) => {\n            resultProps.setProperty(Exports_js_2.PropertyId.SpeechServiceResponse_JsonResult, translatedPhrase.asJson());\n            this.privRequestSession.onPhraseRecognized(translatedPhrase.Offset + translatedPhrase.Duration);\n            if (translatedPhrase.RecognitionStatus === Exports_js_3.RecognitionStatus.Success) {\n                // OK, the recognition was successful. How'd the translation do?\n                const result = this.fireEventForResult(translatedPhrase, resultProps);\n                if (!!this.privTranslationRecognizer.recognized) {\n                    try {\n                        this.privTranslationRecognizer.recognized(this.privTranslationRecognizer, result);\n                        /* eslint-disable no-empty */\n                    }\n                    catch (error) {\n                        // Not going to let errors in the event handler\n                        // trip things up.\n                    }\n                }\n                // report result to promise.\n                if (!!this.privSuccessCallback) {\n                    try {\n                        this.privSuccessCallback(result.result);\n                    }\n                    catch (e) {\n                        if (!!this.privErrorCallback) {\n                            this.privErrorCallback(e);\n                        }\n                    }\n                    // Only invoke the call back once.\n                    // and if it's successful don't invoke the\n                    // error after that.\n                    this.privSuccessCallback = undefined;\n                    this.privErrorCallback = undefined;\n                }\n            }\n            else {\n                const reason = Exports_js_3.EnumTranslation.implTranslateRecognitionResult(translatedPhrase.RecognitionStatus);\n                const result = new Exports_js_2.TranslationRecognitionResult(undefined, this.privRequestSession.requestId, reason, translatedPhrase.Text, translatedPhrase.Duration, translatedPhrase.Offset, translatedPhrase.Language, translatedPhrase.Confidence, undefined, translatedPhrase.asJson(), resultProps);\n                if (reason === Exports_js_2.ResultReason.Canceled) {\n                    const cancelReason = Exports_js_3.EnumTranslation.implTranslateCancelResult(translatedPhrase.RecognitionStatus);\n                    const cancellationErrorCode = Exports_js_3.EnumTranslation.implTranslateCancelErrorCode(translatedPhrase.RecognitionStatus);\n                    await this.cancelRecognitionLocal(cancelReason, cancellationErrorCode, Exports_js_3.EnumTranslation.implTranslateErrorDetails(cancellationErrorCode));\n                }\n                else {\n                    if (translatedPhrase.RecognitionStatus !== Exports_js_3.RecognitionStatus.EndOfDictation) {\n                        const ev = new Exports_js_2.TranslationRecognitionEventArgs(result, result.offset, this.privRequestSession.sessionId);\n                        if (!!this.privTranslationRecognizer.recognized) {\n                            try {\n                                this.privTranslationRecognizer.recognized(this.privTranslationRecognizer, ev);\n                                /* eslint-disable no-empty */\n                            }\n                            catch (error) {\n                                // Not going to let errors in the event handler\n                                // trip things up.\n                            }\n                        }\n                        // report result to promise.\n                        if (!!this.privSuccessCallback) {\n                            try {\n                                this.privSuccessCallback(result);\n                            }\n                            catch (e) {\n                                if (!!this.privErrorCallback) {\n                                    this.privErrorCallback(e);\n                                }\n                            }\n                            // Only invoke the call back once.\n                            // and if it's successful don't invoke the\n                            // error after that.\n                            this.privSuccessCallback = undefined;\n                            this.privErrorCallback = undefined;\n                        }\n                    }\n                }\n                processed = true;\n            }\n        };\n        const handleTranslationHypothesis = (hypothesis) => {\n            resultProps.setProperty(Exports_js_2.PropertyId.SpeechServiceResponse_JsonResult, hypothesis.asJson());\n            const result = this.fireEventForResult(hypothesis, resultProps);\n            this.privRequestSession.onHypothesis(result.offset);\n            if (!!this.privTranslationRecognizer.recognizing) {\n                try {\n                    this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer, result);\n                    /* eslint-disable no-empty */\n                }\n                catch (error) {\n                    // Not going to let errors in the event handler\n                    // trip things up.\n                }\n            }\n            processed = true;\n        };\n        if (connectionMessage.messageType === Exports_js_1.MessageType.Text) {\n            resultProps.setProperty(Exports_js_2.PropertyId.SpeechServiceResponse_JsonResult, connectionMessage.textBody);\n        }\n        switch (connectionMessage.path.toLowerCase()) {\n            case \"translation.hypothesis\":\n                handleTranslationHypothesis(Exports_js_3.TranslationHypothesis.fromJSON(connectionMessage.textBody, this.privRequestSession.currentTurnAudioOffset));\n                break;\n            case \"translation.response\":\n                const phrase = JSON.parse(connectionMessage.textBody);\n                if (!!phrase.SpeechPhrase) {\n                    await handleTranslationPhrase(Exports_js_3.TranslationPhrase.fromTranslationResponse(phrase, this.privRequestSession.currentTurnAudioOffset));\n                }\n                else {\n                    const hypothesis = JSON.parse(connectionMessage.textBody);\n                    if (!!hypothesis.SpeechHypothesis) {\n                        handleTranslationHypothesis(Exports_js_3.TranslationHypothesis.fromTranslationResponse(hypothesis, this.privRequestSession.currentTurnAudioOffset));\n                    }\n                }\n                break;\n            case \"translation.phrase\":\n                await handleTranslationPhrase(Exports_js_3.TranslationPhrase.fromJSON(connectionMessage.textBody, this.privRequestSession.currentTurnAudioOffset));\n                break;\n            case \"translation.synthesis\":\n            case \"audio\":\n                this.sendSynthesisAudio(connectionMessage.binaryBody, this.privRequestSession.sessionId);\n                processed = true;\n                break;\n            case \"audio.end\":\n            case \"translation.synthesis.end\":\n                const synthEnd = Exports_js_3.TranslationSynthesisEnd.fromJSON(connectionMessage.textBody);\n                switch (synthEnd.SynthesisStatus) {\n                    case Exports_js_3.SynthesisStatus.Error:\n                        if (!!this.privTranslationRecognizer.synthesizing) {\n                            const result = new Exports_js_2.TranslationSynthesisResult(Exports_js_2.ResultReason.Canceled, undefined);\n                            const retEvent = new Exports_js_2.TranslationSynthesisEventArgs(result, this.privRequestSession.sessionId);\n                            try {\n                                this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer, retEvent);\n                                /* eslint-disable no-empty */\n                            }\n                            catch (error) {\n                                // Not going to let errors in the event handler\n                                // trip things up.\n                            }\n                        }\n                        if (!!this.privTranslationRecognizer.canceled) {\n                            // And raise a canceled event to send the rich(er) error message back.\n                            const canceledResult = new Exports_js_2.TranslationRecognitionCanceledEventArgs(this.privRequestSession.sessionId, Exports_js_2.CancellationReason.Error, synthEnd.FailureReason, Exports_js_2.CancellationErrorCode.ServiceError, null);\n                            try {\n                                this.privTranslationRecognizer.canceled(this.privTranslationRecognizer, canceledResult);\n                                /* eslint-disable no-empty */\n                            }\n                            catch (error) {\n                                // Not going to let errors in the event handler\n                                // trip things up.\n                            }\n                        }\n                        break;\n                    case Exports_js_3.SynthesisStatus.Success:\n                        this.sendSynthesisAudio(undefined, this.privRequestSession.sessionId);\n                        break;\n                    default:\n                        break;\n                }\n                processed = true;\n                break;\n            default:\n                break;\n        }\n        return processed;\n    }\n    // Cancels recognition.\n    cancelRecognition(sessionId, requestId, cancellationReason, errorCode, error) {\n        const properties = new Exports_js_2.PropertyCollection();\n        properties.setProperty(Exports_js_3.CancellationErrorCodePropertyName, Exports_js_2.CancellationErrorCode[errorCode]);\n        if (!!this.privTranslationRecognizer.canceled) {\n            const cancelEvent = new Exports_js_2.TranslationRecognitionCanceledEventArgs(sessionId, cancellationReason, error, errorCode, undefined);\n            try {\n                this.privTranslationRecognizer.canceled(this.privTranslationRecognizer, cancelEvent);\n                /* eslint-disable no-empty */\n            }\n            catch { }\n        }\n        if (!!this.privSuccessCallback) {\n            const result = new Exports_js_2.TranslationRecognitionResult(undefined, // Translations\n            requestId, Exports_js_2.ResultReason.Canceled, undefined, // Text\n            undefined, // Druation\n            undefined, // Offset\n            undefined, // Language\n            undefined, // LanguageDetectionConfidence\n            error, undefined, // Json\n            properties);\n            try {\n                this.privSuccessCallback(result);\n                /* eslint-disable no-empty */\n                this.privSuccessCallback = undefined;\n            }\n            catch { }\n        }\n    }\n    handleRecognizingCallback(result, offset, sessionId) {\n        try {\n            const ev = new Exports_js_2.TranslationRecognitionEventArgs(Exports_js_2.TranslationRecognitionResult.fromSpeechRecognitionResult(result), offset, sessionId);\n            this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer, ev);\n            /* eslint-disable no-empty */\n        }\n        catch (error) {\n            // Not going to let errors in the event handler\n            // trip things up.\n        }\n    }\n    handleRecognizedCallback(result, offset, sessionId) {\n        try {\n            const ev = new Exports_js_2.TranslationRecognitionEventArgs(Exports_js_2.TranslationRecognitionResult.fromSpeechRecognitionResult(result), offset, sessionId);\n            this.privTranslationRecognizer.recognized(this.privTranslationRecognizer, ev);\n        }\n        catch (error) {\n            // Not going to let errors in the event handler\n            // trip things up.\n        }\n    }\n    fireEventForResult(serviceResult, properties) {\n        let translations;\n        if (undefined !== serviceResult.Translation.Translations) {\n            translations = new Exports_js_2.Translations();\n            for (const translation of serviceResult.Translation.Translations) {\n                translations.set(translation.Language, translation.Text || translation.DisplayText);\n            }\n        }\n        let resultReason;\n        let confidence;\n        if (serviceResult instanceof Exports_js_3.TranslationPhrase) {\n            if (!!serviceResult.Translation && serviceResult.Translation.TranslationStatus === Exports_js_1.TranslationStatus.Success) {\n                resultReason = Exports_js_2.ResultReason.TranslatedSpeech;\n            }\n            else {\n                resultReason = Exports_js_2.ResultReason.RecognizedSpeech;\n            }\n            confidence = serviceResult.Confidence;\n        }\n        else {\n            resultReason = Exports_js_2.ResultReason.TranslatingSpeech;\n        }\n        const language = serviceResult.Language;\n        const result = new Exports_js_2.TranslationRecognitionResult(translations, this.privRequestSession.requestId, resultReason, serviceResult.Text, serviceResult.Duration, serviceResult.Offset, language, confidence, serviceResult.Translation.FailureReason, serviceResult.asJson(), properties);\n        const ev = new Exports_js_2.TranslationRecognitionEventArgs(result, serviceResult.Offset, this.privRequestSession.sessionId);\n        return ev;\n    }\n    sendSynthesisAudio(audio, sessionId) {\n        const reason = (undefined === audio) ? Exports_js_2.ResultReason.SynthesizingAudioCompleted : Exports_js_2.ResultReason.SynthesizingAudio;\n        const result = new Exports_js_2.TranslationSynthesisResult(reason, audio);\n        const retEvent = new Exports_js_2.TranslationSynthesisEventArgs(result, sessionId);\n        if (!!this.privTranslationRecognizer.synthesizing) {\n            try {\n                this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer, retEvent);\n                /* eslint-disable no-empty */\n            }\n            catch (error) {\n                // Not going to let errors in the event handler\n                // trip things up.\n            }\n        }\n    }\n}\nexports.TranslationServiceRecognizer = TranslationServiceRecognizer;\n\n//# sourceMappingURL=TranslationServiceRecognizer.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranslationStatus = void 0;\n/**\n * Defines translation status.\n * @class TranslationStatus\n */\nvar TranslationStatus;\n(function (TranslationStatus) {\n    /**\n     * @member TranslationStatus.Success\n     */\n    TranslationStatus[TranslationStatus[\"Success\"] = 0] = \"Success\";\n    /**\n     * @member TranslationStatus.Error\n     */\n    TranslationStatus[TranslationStatus[\"Error\"] = 1] = \"Error\";\n})(TranslationStatus = exports.TranslationStatus || (exports.TranslationStatus = {}));\n\n//# sourceMappingURL=TranslationStatus.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WebsocketMessageFormatter = void 0;\nconst Exports_js_1 = require(\"../common/Exports.js\");\nconst CRLF = \"\\r\\n\";\nclass WebsocketMessageFormatter {\n    toConnectionMessage(message) {\n        const deferral = new Exports_js_1.Deferred();\n        try {\n            if (message.messageType === Exports_js_1.MessageType.Text) {\n                const textMessage = message.textContent;\n                let headers = {};\n                let body = null;\n                if (textMessage) {\n                    const headerBodySplit = textMessage.split(\"\\r\\n\\r\\n\");\n                    if (headerBodySplit && headerBodySplit.length > 0) {\n                        headers = this.parseHeaders(headerBodySplit[0]);\n                        if (headerBodySplit.length > 1) {\n                            body = headerBodySplit[1];\n                        }\n                    }\n                }\n                deferral.resolve(new Exports_js_1.ConnectionMessage(message.messageType, body, headers, message.id));\n            }\n            else if (message.messageType === Exports_js_1.MessageType.Binary) {\n                const binaryMessage = message.binaryContent;\n                let headers = {};\n                let body = null;\n                if (!binaryMessage || binaryMessage.byteLength < 2) {\n                    throw new Error(\"Invalid binary message format. Header length missing.\");\n                }\n                const dataView = new DataView(binaryMessage);\n                const headerLength = dataView.getInt16(0);\n                if (binaryMessage.byteLength < headerLength + 2) {\n                    throw new Error(\"Invalid binary message format. Header content missing.\");\n                }\n                let headersString = \"\";\n                for (let i = 0; i < headerLength; i++) {\n                    headersString += String.fromCharCode((dataView).getInt8(i + 2));\n                }\n                headers = this.parseHeaders(headersString);\n                if (binaryMessage.byteLength > headerLength + 2) {\n                    body = binaryMessage.slice(2 + headerLength);\n                }\n                deferral.resolve(new Exports_js_1.ConnectionMessage(message.messageType, body, headers, message.id));\n            }\n        }\n        catch (e) {\n            deferral.reject(`Error formatting the message. Error: ${e}`);\n        }\n        return deferral.promise;\n    }\n    fromConnectionMessage(message) {\n        const deferral = new Exports_js_1.Deferred();\n        try {\n            if (message.messageType === Exports_js_1.MessageType.Text) {\n                const payload = `${this.makeHeaders(message)}${CRLF}${message.textBody ? message.textBody : \"\"}`;\n                deferral.resolve(new Exports_js_1.RawWebsocketMessage(Exports_js_1.MessageType.Text, payload, message.id));\n            }\n            else if (message.messageType === Exports_js_1.MessageType.Binary) {\n                const headersString = this.makeHeaders(message);\n                const content = message.binaryBody;\n                const headerBuffer = this.stringToArrayBuffer(headersString);\n                const headerInt8Array = new Int8Array(headerBuffer);\n                const headerLength = headerInt8Array.byteLength;\n                const payloadInt8Array = new Int8Array(2 + headerLength + (content ? content.byteLength : 0));\n                payloadInt8Array[0] = ((headerLength >> 8) & 0xff);\n                payloadInt8Array[1] = headerLength & 0xff;\n                payloadInt8Array.set(headerInt8Array, 2);\n                if (content) {\n                    const bodyInt8Array = new Int8Array(content);\n                    payloadInt8Array.set(bodyInt8Array, 2 + headerLength);\n                }\n                const payload = payloadInt8Array.buffer;\n                deferral.resolve(new Exports_js_1.RawWebsocketMessage(Exports_js_1.MessageType.Binary, payload, message.id));\n            }\n        }\n        catch (e) {\n            deferral.reject(`Error formatting the message. ${e}`);\n        }\n        return deferral.promise;\n    }\n    makeHeaders(message) {\n        let headersString = \"\";\n        if (message.headers) {\n            for (const header in message.headers) {\n                if (header) {\n                    headersString += `${header}: ${message.headers[header]}${CRLF}`;\n                }\n            }\n        }\n        return headersString;\n    }\n    parseHeaders(headersString) {\n        const headers = {};\n        if (headersString) {\n            const headerMatches = headersString.match(/[^\\r\\n]+/g);\n            if (headers) {\n                for (const header of headerMatches) {\n                    if (header) {\n                        const separatorIndex = header.indexOf(\":\");\n                        const headerName = separatorIndex > 0 ? header.substr(0, separatorIndex).trim().toLowerCase() : header;\n                        const headerValue = separatorIndex > 0 && header.length > (separatorIndex + 1) ?\n                            header.substr(separatorIndex + 1).trim() :\n                            \"\";\n                        headers[headerName] = headerValue;\n                    }\n                }\n            }\n        }\n        return headers;\n    }\n    stringToArrayBuffer(str) {\n        const buffer = new ArrayBuffer(str.length);\n        const view = new DataView(buffer);\n        for (let i = 0; i < str.length; i++) {\n            view.setUint8(i, str.charCodeAt(i));\n        }\n        return buffer;\n    }\n}\nexports.WebsocketMessageFormatter = WebsocketMessageFormatter;\n\n//# sourceMappingURL=WebsocketMessageFormatter.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AudioStreamNodeErrorEvent = exports.AudioStreamNodeDetachedEvent = exports.AudioStreamNodeAttachedEvent = exports.AudioStreamNodeAttachingEvent = exports.AudioStreamNodeEvent = exports.AudioSourceErrorEvent = exports.AudioSourceOffEvent = exports.AudioSourceReadyEvent = exports.AudioSourceInitializingEvent = exports.AudioSourceEvent = void 0;\n/* eslint-disable max-classes-per-file */\nconst PlatformEvent_js_1 = require(\"./PlatformEvent.js\");\nclass AudioSourceEvent extends PlatformEvent_js_1.PlatformEvent {\n    constructor(eventName, audioSourceId, eventType = PlatformEvent_js_1.EventType.Info) {\n        super(eventName, eventType);\n        this.privAudioSourceId = audioSourceId;\n    }\n    get audioSourceId() {\n        return this.privAudioSourceId;\n    }\n}\nexports.AudioSourceEvent = AudioSourceEvent;\nclass AudioSourceInitializingEvent extends AudioSourceEvent {\n    constructor(audioSourceId) {\n        super(\"AudioSourceInitializingEvent\", audioSourceId);\n    }\n}\nexports.AudioSourceInitializingEvent = AudioSourceInitializingEvent;\nclass AudioSourceReadyEvent extends AudioSourceEvent {\n    constructor(audioSourceId) {\n        super(\"AudioSourceReadyEvent\", audioSourceId);\n    }\n}\nexports.AudioSourceReadyEvent = AudioSourceReadyEvent;\nclass AudioSourceOffEvent extends AudioSourceEvent {\n    constructor(audioSourceId) {\n        super(\"AudioSourceOffEvent\", audioSourceId);\n    }\n}\nexports.AudioSourceOffEvent = AudioSourceOffEvent;\nclass AudioSourceErrorEvent extends AudioSourceEvent {\n    constructor(audioSourceId, error) {\n        super(\"AudioSourceErrorEvent\", audioSourceId, PlatformEvent_js_1.EventType.Error);\n        this.privError = error;\n    }\n    get error() {\n        return this.privError;\n    }\n}\nexports.AudioSourceErrorEvent = AudioSourceErrorEvent;\nclass AudioStreamNodeEvent extends AudioSourceEvent {\n    constructor(eventName, audioSourceId, audioNodeId) {\n        super(eventName, audioSourceId);\n        this.privAudioNodeId = audioNodeId;\n    }\n    get audioNodeId() {\n        return this.privAudioNodeId;\n    }\n}\nexports.AudioStreamNodeEvent = AudioStreamNodeEvent;\nclass AudioStreamNodeAttachingEvent extends AudioStreamNodeEvent {\n    constructor(audioSourceId, audioNodeId) {\n        super(\"AudioStreamNodeAttachingEvent\", audioSourceId, audioNodeId);\n    }\n}\nexports.AudioStreamNodeAttachingEvent = AudioStreamNodeAttachingEvent;\nclass AudioStreamNodeAttachedEvent extends AudioStreamNodeEvent {\n    constructor(audioSourceId, audioNodeId) {\n        super(\"AudioStreamNodeAttachedEvent\", audioSourceId, audioNodeId);\n    }\n}\nexports.AudioStreamNodeAttachedEvent = AudioStreamNodeAttachedEvent;\nclass AudioStreamNodeDetachedEvent extends AudioStreamNodeEvent {\n    constructor(audioSourceId, audioNodeId) {\n        super(\"AudioStreamNodeDetachedEvent\", audioSourceId, audioNodeId);\n    }\n}\nexports.AudioStreamNodeDetachedEvent = AudioStreamNodeDetachedEvent;\nclass AudioStreamNodeErrorEvent extends AudioStreamNodeEvent {\n    constructor(audioSourceId, audioNodeId, error) {\n        super(\"AudioStreamNodeErrorEvent\", audioSourceId, audioNodeId);\n        this.privError = error;\n    }\n    get error() {\n        return this.privError;\n    }\n}\nexports.AudioStreamNodeErrorEvent = AudioStreamNodeErrorEvent;\n\n//# sourceMappingURL=AudioSourceEvents.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BackgroundEvent = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\nclass BackgroundEvent extends Exports_js_1.PlatformEvent {\n    constructor(error) {\n        super(\"BackgroundEvent\", Exports_js_1.EventType.Error);\n        this.privError = error;\n    }\n    get error() {\n        return this.privError;\n    }\n}\nexports.BackgroundEvent = BackgroundEvent;\n\n//# sourceMappingURL=BackgroundError.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChunkedArrayBufferStream = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\nclass ChunkedArrayBufferStream extends Exports_js_1.Stream {\n    constructor(targetChunkSize, streamId) {\n        super(streamId);\n        this.privTargetChunkSize = Math.round(targetChunkSize);\n        this.privNextBufferReadyBytes = 0;\n    }\n    writeStreamChunk(chunk) {\n        // No pending write, and the buffer is the right size so write it.\n        if (chunk.isEnd ||\n            (0 === this.privNextBufferReadyBytes && chunk.buffer.byteLength === this.privTargetChunkSize)) {\n            super.writeStreamChunk(chunk);\n            return;\n        }\n        let bytesCopiedFromBuffer = 0;\n        while (bytesCopiedFromBuffer < chunk.buffer.byteLength) {\n            // Fill the next buffer.\n            if (undefined === this.privNextBufferToWrite) {\n                this.privNextBufferToWrite = new ArrayBuffer(this.privTargetChunkSize);\n                this.privNextBufferStartTime = chunk.timeReceived;\n            }\n            // Find out how many bytes we can copy into the read buffer.\n            const bytesToCopy = Math.min(chunk.buffer.byteLength - bytesCopiedFromBuffer, this.privTargetChunkSize - this.privNextBufferReadyBytes);\n            const targetView = new Uint8Array(this.privNextBufferToWrite);\n            const sourceView = new Uint8Array(chunk.buffer.slice(bytesCopiedFromBuffer, bytesToCopy + bytesCopiedFromBuffer));\n            targetView.set(sourceView, this.privNextBufferReadyBytes);\n            this.privNextBufferReadyBytes += bytesToCopy;\n            bytesCopiedFromBuffer += bytesToCopy;\n            // Are we ready to write?\n            if (this.privNextBufferReadyBytes === this.privTargetChunkSize) {\n                super.writeStreamChunk({\n                    buffer: this.privNextBufferToWrite,\n                    isEnd: false,\n                    timeReceived: this.privNextBufferStartTime,\n                });\n                this.privNextBufferReadyBytes = 0;\n                this.privNextBufferToWrite = undefined;\n            }\n        }\n    }\n    close() {\n        // Send whatever is pending, then close the base class.\n        if (0 !== this.privNextBufferReadyBytes && !this.isClosed) {\n            super.writeStreamChunk({\n                buffer: this.privNextBufferToWrite.slice(0, this.privNextBufferReadyBytes),\n                isEnd: false,\n                timeReceived: this.privNextBufferStartTime,\n            });\n        }\n        super.close();\n    }\n}\nexports.ChunkedArrayBufferStream = ChunkedArrayBufferStream;\n\n//# sourceMappingURL=ChunkedArrayBufferStream.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionRedirectEvent = exports.ConnectionMessageSentEvent = exports.ConnectionMessageReceivedEvent = exports.ConnectionEstablishErrorEvent = exports.ConnectionErrorEvent = exports.ConnectionClosedEvent = exports.ConnectionEstablishedEvent = exports.ConnectionStartEvent = exports.ConnectionEvent = exports.ServiceEvent = void 0;\nconst PlatformEvent_js_1 = require(\"./PlatformEvent.js\");\nclass ServiceEvent extends PlatformEvent_js_1.PlatformEvent {\n    constructor(eventName, jsonstring, eventType = PlatformEvent_js_1.EventType.Info) {\n        super(eventName, eventType);\n        this.privJsonResult = jsonstring;\n    }\n    get jsonString() {\n        return this.privJsonResult;\n    }\n}\nexports.ServiceEvent = ServiceEvent;\nclass ConnectionEvent extends PlatformEvent_js_1.PlatformEvent {\n    constructor(eventName, connectionId, eventType = PlatformEvent_js_1.EventType.Info) {\n        super(eventName, eventType);\n        this.privConnectionId = connectionId;\n    }\n    get connectionId() {\n        return this.privConnectionId;\n    }\n}\nexports.ConnectionEvent = ConnectionEvent;\nclass ConnectionStartEvent extends ConnectionEvent {\n    constructor(connectionId, uri, headers) {\n        super(\"ConnectionStartEvent\", connectionId);\n        this.privUri = uri;\n        this.privHeaders = headers;\n    }\n    get uri() {\n        return this.privUri;\n    }\n    get headers() {\n        return this.privHeaders;\n    }\n}\nexports.ConnectionStartEvent = ConnectionStartEvent;\nclass ConnectionEstablishedEvent extends ConnectionEvent {\n    constructor(connectionId) {\n        super(\"ConnectionEstablishedEvent\", connectionId);\n    }\n}\nexports.ConnectionEstablishedEvent = ConnectionEstablishedEvent;\nclass ConnectionClosedEvent extends ConnectionEvent {\n    constructor(connectionId, statusCode, reason) {\n        super(\"ConnectionClosedEvent\", connectionId, PlatformEvent_js_1.EventType.Debug);\n        this.privReason = reason;\n        this.privStatusCode = statusCode;\n    }\n    get reason() {\n        return this.privReason;\n    }\n    get statusCode() {\n        return this.privStatusCode;\n    }\n}\nexports.ConnectionClosedEvent = ConnectionClosedEvent;\nclass ConnectionErrorEvent extends ConnectionEvent {\n    constructor(connectionId, message, type) {\n        super(\"ConnectionErrorEvent\", connectionId, PlatformEvent_js_1.EventType.Debug);\n        this.privMessage = message;\n        this.privType = type;\n    }\n    get message() {\n        return this.privMessage;\n    }\n    get type() {\n        return this.privType;\n    }\n}\nexports.ConnectionErrorEvent = ConnectionErrorEvent;\nclass ConnectionEstablishErrorEvent extends ConnectionEvent {\n    constructor(connectionId, statuscode, reason) {\n        super(\"ConnectionEstablishErrorEvent\", connectionId, PlatformEvent_js_1.EventType.Error);\n        this.privStatusCode = statuscode;\n        this.privReason = reason;\n    }\n    get reason() {\n        return this.privReason;\n    }\n    get statusCode() {\n        return this.privStatusCode;\n    }\n}\nexports.ConnectionEstablishErrorEvent = ConnectionEstablishErrorEvent;\nclass ConnectionMessageReceivedEvent extends ConnectionEvent {\n    constructor(connectionId, networkReceivedTimeISO, message) {\n        super(\"ConnectionMessageReceivedEvent\", connectionId);\n        this.privNetworkReceivedTime = networkReceivedTimeISO;\n        this.privMessage = message;\n    }\n    get networkReceivedTime() {\n        return this.privNetworkReceivedTime;\n    }\n    get message() {\n        return this.privMessage;\n    }\n}\nexports.ConnectionMessageReceivedEvent = ConnectionMessageReceivedEvent;\nclass ConnectionMessageSentEvent extends ConnectionEvent {\n    constructor(connectionId, networkSentTimeISO, message) {\n        super(\"ConnectionMessageSentEvent\", connectionId);\n        this.privNetworkSentTime = networkSentTimeISO;\n        this.privMessage = message;\n    }\n    get networkSentTime() {\n        return this.privNetworkSentTime;\n    }\n    get message() {\n        return this.privMessage;\n    }\n}\nexports.ConnectionMessageSentEvent = ConnectionMessageSentEvent;\nclass ConnectionRedirectEvent extends ConnectionEvent {\n    constructor(connectionId, redirectUrl, originalUrl, context) {\n        super(\"ConnectionRedirectEvent\", connectionId, PlatformEvent_js_1.EventType.Info);\n        this.privRedirectUrl = redirectUrl;\n        this.privOriginalUrl = originalUrl;\n        this.privContext = context;\n    }\n    get redirectUrl() {\n        return this.privRedirectUrl;\n    }\n    get originalUrl() {\n        return this.privOriginalUrl;\n    }\n    get context() {\n        return this.privContext;\n    }\n}\nexports.ConnectionRedirectEvent = ConnectionRedirectEvent;\n\n//# sourceMappingURL=ConnectionEvents.js.map\n","\"use strict\";\n/* eslint-disable @typescript-eslint/no-unsafe-return */\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionMessage = exports.MessageType = void 0;\nconst Error_js_1 = require(\"./Error.js\");\nconst Guid_js_1 = require(\"./Guid.js\");\nvar MessageType;\n(function (MessageType) {\n    MessageType[MessageType[\"Text\"] = 0] = \"Text\";\n    MessageType[MessageType[\"Binary\"] = 1] = \"Binary\";\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\nclass ConnectionMessage {\n    constructor(messageType, body, headers, id) {\n        this.privBody = null;\n        if (messageType === MessageType.Text && body && !(typeof (body) === \"string\")) {\n            throw new Error_js_1.InvalidOperationError(\"Payload must be a string\");\n        }\n        if (messageType === MessageType.Binary && body && !(body instanceof ArrayBuffer)) {\n            throw new Error_js_1.InvalidOperationError(\"Payload must be ArrayBuffer\");\n        }\n        this.privMessageType = messageType;\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        this.privBody = body;\n        this.privHeaders = headers ? headers : {};\n        this.privId = id ? id : (0, Guid_js_1.createNoDashGuid)();\n        switch (this.messageType) {\n            case MessageType.Binary:\n                this.privSize = this.binaryBody !== null ? this.binaryBody.byteLength : 0;\n                break;\n            case MessageType.Text:\n                this.privSize = this.textBody.length;\n        }\n    }\n    get messageType() {\n        return this.privMessageType;\n    }\n    get headers() {\n        return this.privHeaders;\n    }\n    get body() {\n        return this.privBody;\n    }\n    get textBody() {\n        if (this.privMessageType === MessageType.Binary) {\n            throw new Error_js_1.InvalidOperationError(\"Not supported for binary message\");\n        }\n        return this.privBody;\n    }\n    get binaryBody() {\n        if (this.privMessageType === MessageType.Text) {\n            throw new Error_js_1.InvalidOperationError(\"Not supported for text message\");\n        }\n        return this.privBody;\n    }\n    get id() {\n        return this.privId;\n    }\n}\nexports.ConnectionMessage = ConnectionMessage;\n\n//# sourceMappingURL=ConnectionMessage.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionOpenResponse = void 0;\nclass ConnectionOpenResponse {\n    constructor(statusCode, reason) {\n        this.privStatusCode = statusCode;\n        this.privReason = reason;\n    }\n    get statusCode() {\n        return this.privStatusCode;\n    }\n    get reason() {\n        return this.privReason;\n    }\n}\nexports.ConnectionOpenResponse = ConnectionOpenResponse;\n\n//# sourceMappingURL=ConnectionOpenResponse.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeferralMap = void 0;\n/**\n * The error that is thrown when an argument passed in is null.\n *\n * @export\n * @class DefferalMap\n */\nclass DeferralMap {\n    constructor() {\n        this.privMap = {};\n    }\n    add(id, deferral) {\n        this.privMap[id] = deferral;\n    }\n    getId(id) {\n        return this.privMap[id];\n    }\n    complete(id, result) {\n        try {\n            this.privMap[id].resolve(result);\n        }\n        catch (error) {\n            this.privMap[id].reject(error);\n        }\n        finally {\n            this.privMap[id] = undefined;\n        }\n    }\n}\nexports.DeferralMap = DeferralMap;\n\n//# sourceMappingURL=DeferralMap.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SendingAgentContextMessageEvent = exports.DialogEvent = void 0;\nconst PlatformEvent_js_1 = require(\"./PlatformEvent.js\");\nclass DialogEvent extends PlatformEvent_js_1.PlatformEvent {\n    constructor(eventName, eventType = PlatformEvent_js_1.EventType.Info) {\n        super(eventName, eventType);\n    }\n}\nexports.DialogEvent = DialogEvent;\nclass SendingAgentContextMessageEvent extends DialogEvent {\n    constructor(agentConfig) {\n        super(\"SendingAgentContextMessageEvent\");\n        this.privAgentConfig = agentConfig;\n    }\n    get agentConfig() {\n        return this.privAgentConfig;\n    }\n}\nexports.SendingAgentContextMessageEvent = SendingAgentContextMessageEvent;\n\n//# sourceMappingURL=DialogEvents.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ObjectDisposedError = exports.InvalidOperationError = exports.ArgumentNullError = void 0;\n/* eslint-disable max-classes-per-file */\n/**\n * The error that is thrown when an argument passed in is null.\n *\n * @export\n * @class ArgumentNullError\n * @extends {Error}\n */\nclass ArgumentNullError extends Error {\n    /**\n     * Creates an instance of ArgumentNullError.\n     *\n     * @param {string} argumentName - Name of the argument that is null\n     *\n     * @memberOf ArgumentNullError\n     */\n    constructor(argumentName) {\n        super(argumentName);\n        this.name = \"ArgumentNull\";\n        this.message = argumentName;\n    }\n}\nexports.ArgumentNullError = ArgumentNullError;\n/**\n * The error that is thrown when an invalid operation is performed in the code.\n *\n * @export\n * @class InvalidOperationError\n * @extends {Error}\n */\nclass InvalidOperationError extends Error {\n    /**\n     * Creates an instance of InvalidOperationError.\n     *\n     * @param {string} error - The error\n     *\n     * @memberOf InvalidOperationError\n     */\n    constructor(error) {\n        super(error);\n        this.name = \"InvalidOperation\";\n        this.message = error;\n    }\n}\nexports.InvalidOperationError = InvalidOperationError;\n/**\n * The error that is thrown when an object is disposed.\n *\n * @export\n * @class ObjectDisposedError\n * @extends {Error}\n */\nclass ObjectDisposedError extends Error {\n    /**\n     * Creates an instance of ObjectDisposedError.\n     *\n     * @param {string} objectName - The object that is disposed\n     * @param {string} error - The error\n     *\n     * @memberOf ObjectDisposedError\n     */\n    constructor(objectName, error) {\n        super(error);\n        this.name = objectName + \"ObjectDisposed\";\n        this.message = error;\n    }\n}\nexports.ObjectDisposedError = ObjectDisposedError;\n\n//# sourceMappingURL=Error.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventSource = void 0;\nconst Error_js_1 = require(\"./Error.js\");\nconst Guid_js_1 = require(\"./Guid.js\");\nclass EventSource {\n    constructor(metadata) {\n        this.privEventListeners = {};\n        this.privIsDisposed = false;\n        this.privConsoleListener = undefined;\n        this.privMetadata = metadata;\n    }\n    onEvent(event) {\n        if (this.isDisposed()) {\n            throw (new Error_js_1.ObjectDisposedError(\"EventSource\"));\n        }\n        if (this.metadata) {\n            for (const paramName in this.metadata) {\n                if (paramName) {\n                    if (event.metadata) {\n                        if (!event.metadata[paramName]) {\n                            event.metadata[paramName] = this.metadata[paramName];\n                        }\n                    }\n                }\n            }\n        }\n        for (const eventId in this.privEventListeners) {\n            if (eventId && this.privEventListeners[eventId]) {\n                this.privEventListeners[eventId](event);\n            }\n        }\n    }\n    attach(onEventCallback) {\n        const id = (0, Guid_js_1.createNoDashGuid)();\n        this.privEventListeners[id] = onEventCallback;\n        return {\n            detach: () => {\n                delete this.privEventListeners[id];\n                return Promise.resolve();\n            },\n        };\n    }\n    attachListener(listener) {\n        return this.attach((e) => listener.onEvent(e));\n    }\n    attachConsoleListener(listener) {\n        if (!!this.privConsoleListener) {\n            void this.privConsoleListener.detach(); // Detach implementation for eventListeners is synchronous\n        }\n        this.privConsoleListener = this.attach((e) => listener.onEvent(e));\n        return this.privConsoleListener;\n    }\n    isDisposed() {\n        return this.privIsDisposed;\n    }\n    dispose() {\n        this.privEventListeners = null;\n        this.privIsDisposed = true;\n    }\n    get metadata() {\n        return this.privMetadata;\n    }\n}\nexports.EventSource = EventSource;\n\n//# sourceMappingURL=EventSource.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Events = void 0;\nconst Error_js_1 = require(\"./Error.js\");\nconst EventSource_js_1 = require(\"./EventSource.js\");\nclass Events {\n    static setEventSource(eventSource) {\n        if (!eventSource) {\n            throw new Error_js_1.ArgumentNullError(\"eventSource\");\n        }\n        Events.privInstance = eventSource;\n    }\n    static get instance() {\n        return Events.privInstance;\n    }\n}\nexports.Events = Events;\nEvents.privInstance = new EventSource_js_1.EventSource();\n\n//# sourceMappingURL=Events.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranslationStatus = void 0;\n__exportStar(require(\"./AudioSourceEvents.js\"), exports);\n__exportStar(require(\"./ConnectionEvents.js\"), exports);\n__exportStar(require(\"./ConnectionMessage.js\"), exports);\n__exportStar(require(\"./ConnectionOpenResponse.js\"), exports);\n__exportStar(require(\"./DeferralMap.js\"), exports);\n__exportStar(require(\"./DialogEvents.js\"), exports);\n__exportStar(require(\"./Error.js\"), exports);\n__exportStar(require(\"./Events.js\"), exports);\n__exportStar(require(\"./EventSource.js\"), exports);\n__exportStar(require(\"./Guid.js\"), exports);\n__exportStar(require(\"./IAudioSource.js\"), exports);\n__exportStar(require(\"./IConnection.js\"), exports);\n__exportStar(require(\"./IDetachable.js\"), exports);\n__exportStar(require(\"./IDictionary.js\"), exports);\n__exportStar(require(\"./IDisposable.js\"), exports);\n__exportStar(require(\"./IEventListener.js\"), exports);\n__exportStar(require(\"./IEventSource.js\"), exports);\n__exportStar(require(\"./IErrorMessages.js\"), exports);\n__exportStar(require(\"./ITimer.js\"), exports);\n__exportStar(require(\"./IWebsocketMessageFormatter.js\"), exports);\n__exportStar(require(\"./List.js\"), exports);\n__exportStar(require(\"./PlatformEvent.js\"), exports);\n__exportStar(require(\"./Promise.js\"), exports);\n__exportStar(require(\"./Queue.js\"), exports);\n__exportStar(require(\"./RawWebsocketMessage.js\"), exports);\n__exportStar(require(\"./RiffPcmEncoder.js\"), exports);\n__exportStar(require(\"./Stream.js\"), exports);\nvar TranslationStatus_js_1 = require(\"../common.speech/TranslationStatus.js\");\nObject.defineProperty(exports, \"TranslationStatus\", { enumerable: true, get: function () { return TranslationStatus_js_1.TranslationStatus; } });\n__exportStar(require(\"./ChunkedArrayBufferStream.js\"), exports);\n__exportStar(require(\"./IAudioDestination.js\"), exports);\n__exportStar(require(\"./Timeout.js\"), exports);\n__exportStar(require(\"./OCSPEvents.js\"), exports);\n__exportStar(require(\"./BackgroundError.js\"), exports);\n\n//# sourceMappingURL=Exports.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createNoDashGuid = exports.createGuid = void 0;\nconst uuid_1 = require(\"uuid\");\nconst createGuid = () => (0, uuid_1.v4)();\nexports.createGuid = createGuid;\nconst createNoDashGuid = () => createGuid().replace(new RegExp(\"-\", \"g\"), \"\").toUpperCase();\nexports.createNoDashGuid = createNoDashGuid;\n\n//# sourceMappingURL=Guid.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n//# sourceMappingURL=IAudioDestination.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n//# sourceMappingURL=IAudioSource.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionState = void 0;\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"None\"] = 0] = \"None\";\n    ConnectionState[ConnectionState[\"Connected\"] = 1] = \"Connected\";\n    ConnectionState[ConnectionState[\"Connecting\"] = 2] = \"Connecting\";\n    ConnectionState[ConnectionState[\"Disconnected\"] = 3] = \"Disconnected\";\n})(ConnectionState = exports.ConnectionState || (exports.ConnectionState = {}));\n\n//# sourceMappingURL=IConnection.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n//# sourceMappingURL=IDetachable.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n//# sourceMappingURL=IDictionary.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n//# sourceMappingURL=IDisposable.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n//# sourceMappingURL=IErrorMessages.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n//# sourceMappingURL=IEventListener.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n//# sourceMappingURL=IEventSource.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n//# sourceMappingURL=ITimer.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n//# sourceMappingURL=IWebsocketMessageFormatter.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.List = void 0;\nconst Error_js_1 = require(\"./Error.js\");\nclass List {\n    constructor(list) {\n        this.privSubscriptionIdCounter = 0;\n        this.privAddSubscriptions = {};\n        this.privRemoveSubscriptions = {};\n        this.privDisposedSubscriptions = {};\n        this.privDisposeReason = null;\n        this.privList = [];\n        // copy the list rather than taking as is.\n        if (list) {\n            for (const item of list) {\n                this.privList.push(item);\n            }\n        }\n    }\n    get(itemIndex) {\n        this.throwIfDisposed();\n        return this.privList[itemIndex];\n    }\n    first() {\n        return this.get(0);\n    }\n    last() {\n        return this.get(this.length() - 1);\n    }\n    add(item) {\n        this.throwIfDisposed();\n        this.insertAt(this.privList.length, item);\n    }\n    insertAt(index, item) {\n        this.throwIfDisposed();\n        if (index === 0) {\n            this.privList.unshift(item);\n        }\n        else if (index === this.privList.length) {\n            this.privList.push(item);\n        }\n        else {\n            this.privList.splice(index, 0, item);\n        }\n        this.triggerSubscriptions(this.privAddSubscriptions);\n    }\n    removeFirst() {\n        this.throwIfDisposed();\n        return this.removeAt(0);\n    }\n    removeLast() {\n        this.throwIfDisposed();\n        return this.removeAt(this.length() - 1);\n    }\n    removeAt(index) {\n        this.throwIfDisposed();\n        return this.remove(index, 1)[0];\n    }\n    remove(index, count) {\n        this.throwIfDisposed();\n        const removedElements = this.privList.splice(index, count);\n        this.triggerSubscriptions(this.privRemoveSubscriptions);\n        return removedElements;\n    }\n    clear() {\n        this.throwIfDisposed();\n        this.remove(0, this.length());\n    }\n    length() {\n        this.throwIfDisposed();\n        return this.privList.length;\n    }\n    onAdded(addedCallback) {\n        this.throwIfDisposed();\n        const subscriptionId = this.privSubscriptionIdCounter++;\n        this.privAddSubscriptions[subscriptionId] = addedCallback;\n        return {\n            detach: () => {\n                delete this.privAddSubscriptions[subscriptionId];\n                return Promise.resolve();\n            },\n        };\n    }\n    onRemoved(removedCallback) {\n        this.throwIfDisposed();\n        const subscriptionId = this.privSubscriptionIdCounter++;\n        this.privRemoveSubscriptions[subscriptionId] = removedCallback;\n        return {\n            detach: () => {\n                delete this.privRemoveSubscriptions[subscriptionId];\n                return Promise.resolve();\n            },\n        };\n    }\n    onDisposed(disposedCallback) {\n        this.throwIfDisposed();\n        const subscriptionId = this.privSubscriptionIdCounter++;\n        this.privDisposedSubscriptions[subscriptionId] = disposedCallback;\n        return {\n            detach: () => {\n                delete this.privDisposedSubscriptions[subscriptionId];\n                return Promise.resolve();\n            },\n        };\n    }\n    join(seperator) {\n        this.throwIfDisposed();\n        return this.privList.join(seperator);\n    }\n    toArray() {\n        const cloneCopy = Array();\n        this.privList.forEach((val) => {\n            cloneCopy.push(val);\n        });\n        return cloneCopy;\n    }\n    any(callback) {\n        this.throwIfDisposed();\n        if (callback) {\n            return this.where(callback).length() > 0;\n        }\n        else {\n            return this.length() > 0;\n        }\n    }\n    all(callback) {\n        this.throwIfDisposed();\n        return this.where(callback).length() === this.length();\n    }\n    forEach(callback) {\n        this.throwIfDisposed();\n        for (let i = 0; i < this.length(); i++) {\n            callback(this.privList[i], i);\n        }\n    }\n    select(callback) {\n        this.throwIfDisposed();\n        const selectList = [];\n        for (let i = 0; i < this.privList.length; i++) {\n            selectList.push(callback(this.privList[i], i));\n        }\n        return new List(selectList);\n    }\n    where(callback) {\n        this.throwIfDisposed();\n        const filteredList = new List();\n        for (let i = 0; i < this.privList.length; i++) {\n            if (callback(this.privList[i], i)) {\n                filteredList.add(this.privList[i]);\n            }\n        }\n        return filteredList;\n    }\n    orderBy(compareFn) {\n        this.throwIfDisposed();\n        const clonedArray = this.toArray();\n        const orderedArray = clonedArray.sort(compareFn);\n        return new List(orderedArray);\n    }\n    orderByDesc(compareFn) {\n        this.throwIfDisposed();\n        return this.orderBy((a, b) => compareFn(b, a));\n    }\n    clone() {\n        this.throwIfDisposed();\n        return new List(this.toArray());\n    }\n    concat(list) {\n        this.throwIfDisposed();\n        return new List(this.privList.concat(list.toArray()));\n    }\n    concatArray(array) {\n        this.throwIfDisposed();\n        return new List(this.privList.concat(array));\n    }\n    isDisposed() {\n        return this.privList == null;\n    }\n    dispose(reason) {\n        if (!this.isDisposed()) {\n            this.privDisposeReason = reason;\n            this.privList = null;\n            this.privAddSubscriptions = null;\n            this.privRemoveSubscriptions = null;\n            this.triggerSubscriptions(this.privDisposedSubscriptions);\n        }\n    }\n    throwIfDisposed() {\n        if (this.isDisposed()) {\n            throw new Error_js_1.ObjectDisposedError(\"List\", this.privDisposeReason);\n        }\n    }\n    triggerSubscriptions(subscriptions) {\n        if (subscriptions) {\n            for (const subscriptionId in subscriptions) {\n                if (subscriptionId) {\n                    subscriptions[subscriptionId]();\n                }\n            }\n        }\n    }\n}\nexports.List = List;\n\n//# sourceMappingURL=List.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OCSPCacheUpdateErrorEvent = exports.OCSPResponseRetrievedEvent = exports.OCSPCacheFetchErrorEvent = exports.OCSPVerificationFailedEvent = exports.OCSPCacheHitEvent = exports.OCSPCacheEntryNeedsRefreshEvent = exports.OCSPCacheEntryExpiredEvent = exports.OCSPWSUpgradeStartedEvent = exports.OCSPStapleReceivedEvent = exports.OCSPCacheUpdateCompleteEvent = exports.OCSPDiskCacheStoreEvent = exports.OCSPMemoryCacheStoreEvent = exports.OCSPCacheUpdateNeededEvent = exports.OCSPDiskCacheHitEvent = exports.OCSPCacheMissEvent = exports.OCSPMemoryCacheHitEvent = exports.OCSPEvent = void 0;\n/* eslint-disable max-classes-per-file */\nconst PlatformEvent_js_1 = require(\"./PlatformEvent.js\");\nclass OCSPEvent extends PlatformEvent_js_1.PlatformEvent {\n    constructor(eventName, eventType, signature) {\n        super(eventName, eventType);\n        this.privSignature = signature;\n    }\n}\nexports.OCSPEvent = OCSPEvent;\nclass OCSPMemoryCacheHitEvent extends OCSPEvent {\n    constructor(signature) {\n        super(\"OCSPMemoryCacheHitEvent\", PlatformEvent_js_1.EventType.Debug, signature);\n    }\n}\nexports.OCSPMemoryCacheHitEvent = OCSPMemoryCacheHitEvent;\nclass OCSPCacheMissEvent extends OCSPEvent {\n    constructor(signature) {\n        super(\"OCSPCacheMissEvent\", PlatformEvent_js_1.EventType.Debug, signature);\n    }\n}\nexports.OCSPCacheMissEvent = OCSPCacheMissEvent;\nclass OCSPDiskCacheHitEvent extends OCSPEvent {\n    constructor(signature) {\n        super(\"OCSPDiskCacheHitEvent\", PlatformEvent_js_1.EventType.Debug, signature);\n    }\n}\nexports.OCSPDiskCacheHitEvent = OCSPDiskCacheHitEvent;\nclass OCSPCacheUpdateNeededEvent extends OCSPEvent {\n    constructor(signature) {\n        super(\"OCSPCacheUpdateNeededEvent\", PlatformEvent_js_1.EventType.Debug, signature);\n    }\n}\nexports.OCSPCacheUpdateNeededEvent = OCSPCacheUpdateNeededEvent;\nclass OCSPMemoryCacheStoreEvent extends OCSPEvent {\n    constructor(signature) {\n        super(\"OCSPMemoryCacheStoreEvent\", PlatformEvent_js_1.EventType.Debug, signature);\n    }\n}\nexports.OCSPMemoryCacheStoreEvent = OCSPMemoryCacheStoreEvent;\nclass OCSPDiskCacheStoreEvent extends OCSPEvent {\n    constructor(signature) {\n        super(\"OCSPDiskCacheStoreEvent\", PlatformEvent_js_1.EventType.Debug, signature);\n    }\n}\nexports.OCSPDiskCacheStoreEvent = OCSPDiskCacheStoreEvent;\nclass OCSPCacheUpdateCompleteEvent extends OCSPEvent {\n    constructor(signature) {\n        super(\"OCSPCacheUpdateCompleteEvent\", PlatformEvent_js_1.EventType.Debug, signature);\n    }\n}\nexports.OCSPCacheUpdateCompleteEvent = OCSPCacheUpdateCompleteEvent;\nclass OCSPStapleReceivedEvent extends OCSPEvent {\n    constructor() {\n        super(\"OCSPStapleReceivedEvent\", PlatformEvent_js_1.EventType.Debug, \"\");\n    }\n}\nexports.OCSPStapleReceivedEvent = OCSPStapleReceivedEvent;\nclass OCSPWSUpgradeStartedEvent extends OCSPEvent {\n    constructor(serialNumber) {\n        super(\"OCSPWSUpgradeStartedEvent\", PlatformEvent_js_1.EventType.Debug, serialNumber);\n    }\n}\nexports.OCSPWSUpgradeStartedEvent = OCSPWSUpgradeStartedEvent;\nclass OCSPCacheEntryExpiredEvent extends OCSPEvent {\n    constructor(serialNumber, expireTime) {\n        super(\"OCSPCacheEntryExpiredEvent\", PlatformEvent_js_1.EventType.Debug, serialNumber);\n        this.privExpireTime = expireTime;\n    }\n}\nexports.OCSPCacheEntryExpiredEvent = OCSPCacheEntryExpiredEvent;\nclass OCSPCacheEntryNeedsRefreshEvent extends OCSPEvent {\n    constructor(serialNumber, startTime, expireTime) {\n        super(\"OCSPCacheEntryNeedsRefreshEvent\", PlatformEvent_js_1.EventType.Debug, serialNumber);\n        this.privExpireTime = expireTime;\n        this.privStartTime = startTime;\n    }\n}\nexports.OCSPCacheEntryNeedsRefreshEvent = OCSPCacheEntryNeedsRefreshEvent;\nclass OCSPCacheHitEvent extends OCSPEvent {\n    constructor(serialNumber, startTime, expireTime) {\n        super(\"OCSPCacheHitEvent\", PlatformEvent_js_1.EventType.Debug, serialNumber);\n        this.privExpireTime = expireTime;\n        this.privExpireTimeString = new Date(expireTime).toLocaleDateString();\n        this.privStartTime = startTime;\n        this.privStartTimeString = new Date(startTime).toLocaleTimeString();\n    }\n}\nexports.OCSPCacheHitEvent = OCSPCacheHitEvent;\nclass OCSPVerificationFailedEvent extends OCSPEvent {\n    constructor(serialNumber, error) {\n        super(\"OCSPVerificationFailedEvent\", PlatformEvent_js_1.EventType.Debug, serialNumber);\n        this.privError = error;\n    }\n}\nexports.OCSPVerificationFailedEvent = OCSPVerificationFailedEvent;\nclass OCSPCacheFetchErrorEvent extends OCSPEvent {\n    constructor(serialNumber, error) {\n        super(\"OCSPCacheFetchErrorEvent\", PlatformEvent_js_1.EventType.Debug, serialNumber);\n        this.privError = error;\n    }\n}\nexports.OCSPCacheFetchErrorEvent = OCSPCacheFetchErrorEvent;\nclass OCSPResponseRetrievedEvent extends OCSPEvent {\n    constructor(serialNumber) {\n        super(\"OCSPResponseRetrievedEvent\", PlatformEvent_js_1.EventType.Debug, serialNumber);\n    }\n}\nexports.OCSPResponseRetrievedEvent = OCSPResponseRetrievedEvent;\nclass OCSPCacheUpdateErrorEvent extends OCSPEvent {\n    constructor(serialNumber, error) {\n        super(\"OCSPCacheUpdateErrorEvent\", PlatformEvent_js_1.EventType.Debug, serialNumber);\n        this.privError = error;\n    }\n}\nexports.OCSPCacheUpdateErrorEvent = OCSPCacheUpdateErrorEvent;\n\n//# sourceMappingURL=OCSPEvents.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PlatformEvent = exports.EventType = void 0;\nconst Guid_js_1 = require(\"./Guid.js\");\nvar EventType;\n(function (EventType) {\n    EventType[EventType[\"Debug\"] = 0] = \"Debug\";\n    EventType[EventType[\"Info\"] = 1] = \"Info\";\n    EventType[EventType[\"Warning\"] = 2] = \"Warning\";\n    EventType[EventType[\"Error\"] = 3] = \"Error\";\n    EventType[EventType[\"None\"] = 4] = \"None\";\n})(EventType = exports.EventType || (exports.EventType = {}));\nclass PlatformEvent {\n    constructor(eventName, eventType) {\n        this.privName = eventName;\n        this.privEventId = (0, Guid_js_1.createNoDashGuid)();\n        this.privEventTime = new Date().toISOString();\n        this.privEventType = eventType;\n        this.privMetadata = {};\n    }\n    get name() {\n        return this.privName;\n    }\n    get eventId() {\n        return this.privEventId;\n    }\n    get eventTime() {\n        return this.privEventTime;\n    }\n    get eventType() {\n        return this.privEventType;\n    }\n    get metadata() {\n        return this.privMetadata;\n    }\n}\nexports.PlatformEvent = PlatformEvent;\n\n//# sourceMappingURL=PlatformEvent.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.marshalPromiseToCallbacks = exports.Sink = exports.Deferred = exports.PromiseResultEventSource = exports.PromiseResult = exports.PromiseState = void 0;\n/* eslint-disable max-classes-per-file, @typescript-eslint/typedef */\nvar PromiseState;\n(function (PromiseState) {\n    PromiseState[PromiseState[\"None\"] = 0] = \"None\";\n    PromiseState[PromiseState[\"Resolved\"] = 1] = \"Resolved\";\n    PromiseState[PromiseState[\"Rejected\"] = 2] = \"Rejected\";\n})(PromiseState = exports.PromiseState || (exports.PromiseState = {}));\nclass PromiseResult {\n    constructor(promiseResultEventSource) {\n        this.throwIfError = () => {\n            if (this.isError) {\n                throw this.error;\n            }\n        };\n        promiseResultEventSource.on((result) => {\n            if (!this.privIsCompleted) {\n                this.privIsCompleted = true;\n                this.privIsError = false;\n                this.privResult = result;\n            }\n        }, (error) => {\n            if (!this.privIsCompleted) {\n                this.privIsCompleted = true;\n                this.privIsError = true;\n                this.privError = error;\n            }\n        });\n    }\n    get isCompleted() {\n        return this.privIsCompleted;\n    }\n    get isError() {\n        return this.privIsError;\n    }\n    get error() {\n        return this.privError;\n    }\n    get result() {\n        return this.privResult;\n    }\n}\nexports.PromiseResult = PromiseResult;\nclass PromiseResultEventSource {\n    constructor() {\n        this.setResult = (result) => {\n            this.privOnSetResult(result);\n        };\n        this.setError = (error) => {\n            this.privOnSetError(error);\n        };\n        this.on = (onSetResult, onSetError) => {\n            this.privOnSetResult = onSetResult;\n            this.privOnSetError = onSetError;\n        };\n    }\n}\nexports.PromiseResultEventSource = PromiseResultEventSource;\nclass Deferred {\n    constructor() {\n        this.resolve = (result) => {\n            this.privResolve(result);\n            return this;\n        };\n        this.reject = (error) => {\n            this.privReject(error);\n            return this;\n        };\n        // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n        this.privPromise = new Promise((resolve, reject) => {\n            this.privResolve = resolve;\n            this.privReject = reject;\n        });\n    }\n    get promise() {\n        return this.privPromise;\n    }\n}\nexports.Deferred = Deferred;\nclass Sink {\n    constructor() {\n        this.privState = PromiseState.None;\n        this.privPromiseResult = null;\n        this.privPromiseResultEvents = null;\n        this.privSuccessHandlers = [];\n        this.privErrorHandlers = [];\n        this.privPromiseResultEvents = new PromiseResultEventSource();\n        this.privPromiseResult = new PromiseResult(this.privPromiseResultEvents);\n    }\n    get state() {\n        return this.privState;\n    }\n    get result() {\n        return this.privPromiseResult;\n    }\n    resolve(result) {\n        if (this.privState !== PromiseState.None) {\n            throw new Error(\"'Cannot resolve a completed promise'\");\n        }\n        this.privState = PromiseState.Resolved;\n        this.privPromiseResultEvents.setResult(result);\n        for (let i = 0; i < this.privSuccessHandlers.length; i++) {\n            this.executeSuccessCallback(result, this.privSuccessHandlers[i], this.privErrorHandlers[i]);\n        }\n        this.detachHandlers();\n    }\n    reject(error) {\n        if (this.privState !== PromiseState.None) {\n            throw new Error(\"'Cannot reject a completed promise'\");\n        }\n        this.privState = PromiseState.Rejected;\n        this.privPromiseResultEvents.setError(error);\n        for (const errorHandler of this.privErrorHandlers) {\n            this.executeErrorCallback(error, errorHandler);\n        }\n        this.detachHandlers();\n    }\n    on(successCallback, errorCallback) {\n        if (successCallback == null) {\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            successCallback = () => { };\n        }\n        if (this.privState === PromiseState.None) {\n            this.privSuccessHandlers.push(successCallback);\n            this.privErrorHandlers.push(errorCallback);\n        }\n        else {\n            if (this.privState === PromiseState.Resolved) {\n                this.executeSuccessCallback(this.privPromiseResult.result, successCallback, errorCallback);\n            }\n            else if (this.privState === PromiseState.Rejected) {\n                this.executeErrorCallback(this.privPromiseResult.error, errorCallback);\n            }\n            this.detachHandlers();\n        }\n    }\n    executeSuccessCallback(result, successCallback, errorCallback) {\n        try {\n            successCallback(result);\n        }\n        catch (e) {\n            this.executeErrorCallback(`'Unhandled callback error: ${e}'`, errorCallback);\n        }\n    }\n    executeErrorCallback(error, errorCallback) {\n        if (errorCallback) {\n            try {\n                errorCallback(error);\n            }\n            catch (e) {\n                throw new Error(`'Unhandled callback error: ${e}. InnerError: ${error}'`);\n            }\n        }\n        else {\n            throw new Error(`'Unhandled error: ${error}'`);\n        }\n    }\n    detachHandlers() {\n        this.privErrorHandlers = [];\n        this.privSuccessHandlers = [];\n    }\n}\nexports.Sink = Sink;\n// eslint-disable-next-line prefer-arrow/prefer-arrow-functions\nfunction marshalPromiseToCallbacks(promise, cb, err) {\n    promise.then((val) => {\n        try {\n            if (!!cb) {\n                cb(val);\n            }\n        }\n        catch (error) {\n            if (!!err) {\n                try {\n                    if (error instanceof Error) {\n                        const typedError = error;\n                        err(typedError.name + \": \" + typedError.message);\n                    }\n                    else {\n                        err(error);\n                    }\n                    // eslint-disable-next-line no-empty\n                }\n                catch (error) { }\n            }\n        }\n    }, (error) => {\n        if (!!err) {\n            try {\n                if (error instanceof Error) {\n                    const typedError = error;\n                    err(typedError.name + \": \" + typedError.message);\n                }\n                else {\n                    err(error);\n                }\n                // eslint-disable-next-line no-empty\n            }\n            catch (error) { }\n        }\n    });\n}\nexports.marshalPromiseToCallbacks = marshalPromiseToCallbacks;\n\n//# sourceMappingURL=Promise.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Queue = void 0;\nconst Error_js_1 = require(\"./Error.js\");\nconst List_js_1 = require(\"./List.js\");\nconst Promise_js_1 = require(\"./Promise.js\");\nvar SubscriberType;\n(function (SubscriberType) {\n    SubscriberType[SubscriberType[\"Dequeue\"] = 0] = \"Dequeue\";\n    SubscriberType[SubscriberType[\"Peek\"] = 1] = \"Peek\";\n})(SubscriberType || (SubscriberType = {}));\nclass Queue {\n    constructor(list) {\n        this.privPromiseStore = new List_js_1.List();\n        this.privIsDrainInProgress = false;\n        this.privIsDisposing = false;\n        this.privDisposeReason = null;\n        this.privList = list ? list : new List_js_1.List();\n        this.privDetachables = [];\n        this.privSubscribers = new List_js_1.List();\n        this.privDetachables.push(this.privList.onAdded(() => this.drain()));\n    }\n    enqueue(item) {\n        this.throwIfDispose();\n        this.enqueueFromPromise(new Promise((resolve) => resolve(item)));\n    }\n    enqueueFromPromise(promise) {\n        this.throwIfDispose();\n        promise.then((val) => {\n            this.privList.add(val);\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n        }, () => { });\n    }\n    dequeue() {\n        this.throwIfDispose();\n        const deferredSubscriber = new Promise_js_1.Deferred();\n        if (this.privSubscribers) {\n            this.privSubscribers.add({ deferral: deferredSubscriber, type: SubscriberType.Dequeue });\n            this.drain();\n        }\n        return deferredSubscriber.promise;\n    }\n    peek() {\n        this.throwIfDispose();\n        const deferredSubscriber = new Promise_js_1.Deferred();\n        const subs = this.privSubscribers;\n        if (subs) {\n            this.privSubscribers.add({ deferral: deferredSubscriber, type: SubscriberType.Peek });\n            this.drain();\n        }\n        return deferredSubscriber.promise;\n    }\n    length() {\n        this.throwIfDispose();\n        return this.privList.length();\n    }\n    isDisposed() {\n        return this.privSubscribers == null;\n    }\n    async drainAndDispose(pendingItemProcessor, reason) {\n        if (!this.isDisposed() && !this.privIsDisposing) {\n            this.privDisposeReason = reason;\n            this.privIsDisposing = true;\n            const subs = this.privSubscribers;\n            if (subs) {\n                while (subs.length() > 0) {\n                    const subscriber = subs.removeFirst();\n                    // TODO: this needs work (Resolve(null) instead?).\n                    subscriber.deferral.resolve(undefined);\n                    // subscriber.deferral.reject(\"Disposed\");\n                }\n                // note: this block assumes cooperative multitasking, i.e.,\n                // between the if-statement and the assignment there are no\n                // thread switches.\n                // Reason is that between the initial const = this.; and this\n                // point there is the derral.resolve() operation that might have\n                // caused recursive calls to the Queue, especially, calling\n                // Dispose() on the queue alredy (which would reset the var\n                // here to null!).\n                // That should generally hold true for javascript...\n                if (this.privSubscribers === subs) {\n                    this.privSubscribers = subs;\n                }\n            }\n            for (const detachable of this.privDetachables) {\n                await detachable.detach();\n            }\n            if (this.privPromiseStore.length() > 0 && pendingItemProcessor) {\n                const promiseArray = [];\n                this.privPromiseStore.toArray().forEach((wrapper) => {\n                    promiseArray.push(wrapper);\n                });\n                return Promise.all(promiseArray).finally(() => {\n                    this.privSubscribers = null;\n                    this.privList.forEach((item) => {\n                        pendingItemProcessor(item);\n                    });\n                    this.privList = null;\n                    return;\n                }).then();\n            }\n            else {\n                this.privSubscribers = null;\n                this.privList = null;\n            }\n        }\n    }\n    async dispose(reason) {\n        await this.drainAndDispose(null, reason);\n    }\n    drain() {\n        if (!this.privIsDrainInProgress && !this.privIsDisposing) {\n            this.privIsDrainInProgress = true;\n            const subs = this.privSubscribers;\n            const lists = this.privList;\n            if (subs && lists) {\n                while (lists.length() > 0 && subs.length() > 0 && !this.privIsDisposing) {\n                    const subscriber = subs.removeFirst();\n                    if (subscriber.type === SubscriberType.Peek) {\n                        subscriber.deferral.resolve(lists.first());\n                    }\n                    else {\n                        const dequeuedItem = lists.removeFirst();\n                        subscriber.deferral.resolve(dequeuedItem);\n                    }\n                }\n                // note: this block assumes cooperative multitasking, i.e.,\n                // between the if-statement and the assignment there are no\n                // thread switches.\n                // Reason is that between the initial const = this.; and this\n                // point there is the derral.resolve() operation that might have\n                // caused recursive calls to the Queue, especially, calling\n                // Dispose() on the queue alredy (which would reset the var\n                // here to null!).\n                // That should generally hold true for javascript...\n                if (this.privSubscribers === subs) {\n                    this.privSubscribers = subs;\n                }\n                // note: this block assumes cooperative multitasking, i.e.,\n                // between the if-statement and the assignment there are no\n                // thread switches.\n                // Reason is that between the initial const = this.; and this\n                // point there is the derral.resolve() operation that might have\n                // caused recursive calls to the Queue, especially, calling\n                // Dispose() on the queue alredy (which would reset the var\n                // here to null!).\n                // That should generally hold true for javascript...\n                if (this.privList === lists) {\n                    this.privList = lists;\n                }\n            }\n            this.privIsDrainInProgress = false;\n        }\n    }\n    throwIfDispose() {\n        if (this.isDisposed()) {\n            if (this.privDisposeReason) {\n                throw new Error_js_1.InvalidOperationError(this.privDisposeReason);\n            }\n            throw new Error_js_1.ObjectDisposedError(\"Queue\");\n        }\n        else if (this.privIsDisposing) {\n            throw new Error_js_1.InvalidOperationError(\"Queue disposing\");\n        }\n    }\n}\nexports.Queue = Queue;\n\n//# sourceMappingURL=Queue.js.map\n","\"use strict\";\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RawWebsocketMessage = void 0;\nconst ConnectionMessage_js_1 = require(\"./ConnectionMessage.js\");\nconst Error_js_1 = require(\"./Error.js\");\nconst Guid_js_1 = require(\"./Guid.js\");\nclass RawWebsocketMessage {\n    constructor(messageType, payload, id) {\n        this.privPayload = null;\n        if (!payload) {\n            throw new Error_js_1.ArgumentNullError(\"payload\");\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        if (messageType === ConnectionMessage_js_1.MessageType.Binary && Object.getPrototypeOf(payload).constructor.name !== \"ArrayBuffer\") {\n            throw new Error_js_1.InvalidOperationError(\"Payload must be ArrayBuffer\");\n        }\n        if (messageType === ConnectionMessage_js_1.MessageType.Text && !(typeof (payload) === \"string\")) {\n            throw new Error_js_1.InvalidOperationError(\"Payload must be a string\");\n        }\n        this.privMessageType = messageType;\n        this.privPayload = payload;\n        this.privId = id ? id : (0, Guid_js_1.createNoDashGuid)();\n    }\n    get messageType() {\n        return this.privMessageType;\n    }\n    get payload() {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return this.privPayload;\n    }\n    get textContent() {\n        if (this.privMessageType === ConnectionMessage_js_1.MessageType.Binary) {\n            throw new Error_js_1.InvalidOperationError(\"Not supported for binary message\");\n        }\n        return this.privPayload;\n    }\n    get binaryContent() {\n        if (this.privMessageType === ConnectionMessage_js_1.MessageType.Text) {\n            throw new Error_js_1.InvalidOperationError(\"Not supported for text message\");\n        }\n        return this.privPayload;\n    }\n    get id() {\n        return this.privId;\n    }\n}\nexports.RawWebsocketMessage = RawWebsocketMessage;\n\n//# sourceMappingURL=RawWebsocketMessage.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RiffPcmEncoder = void 0;\nclass RiffPcmEncoder {\n    constructor(actualSampleRate, desiredSampleRate) {\n        this.privActualSampleRate = actualSampleRate;\n        this.privDesiredSampleRate = desiredSampleRate;\n    }\n    encode(actualAudioFrame) {\n        const audioFrame = this.downSampleAudioFrame(actualAudioFrame, this.privActualSampleRate, this.privDesiredSampleRate);\n        if (!audioFrame) {\n            return null;\n        }\n        const audioLength = audioFrame.length * 2;\n        const buffer = new ArrayBuffer(audioLength);\n        const view = new DataView(buffer);\n        this.floatTo16BitPCM(view, 0, audioFrame);\n        return buffer;\n    }\n    setString(view, offset, str) {\n        for (let i = 0; i < str.length; i++) {\n            view.setUint8(offset + i, str.charCodeAt(i));\n        }\n    }\n    floatTo16BitPCM(view, offset, input) {\n        for (let i = 0; i < input.length; i++, offset += 2) {\n            const s = Math.max(-1, Math.min(1, input[i]));\n            view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7FFF, true);\n        }\n    }\n    downSampleAudioFrame(srcFrame, srcRate, dstRate) {\n        if (!srcFrame) {\n            return null;\n        }\n        if (dstRate === srcRate || dstRate > srcRate) {\n            return srcFrame;\n        }\n        const ratio = srcRate / dstRate;\n        const dstLength = Math.round(srcFrame.length / ratio);\n        const dstFrame = new Float32Array(dstLength);\n        let srcOffset = 0;\n        let dstOffset = 0;\n        while (dstOffset < dstLength) {\n            const nextSrcOffset = Math.round((dstOffset + 1) * ratio);\n            let accum = 0;\n            let count = 0;\n            while (srcOffset < nextSrcOffset && srcOffset < srcFrame.length) {\n                accum += srcFrame[srcOffset++];\n                count++;\n            }\n            dstFrame[dstOffset++] = accum / count;\n        }\n        return dstFrame;\n    }\n}\nexports.RiffPcmEncoder = RiffPcmEncoder;\n\n//# sourceMappingURL=RiffPcmEncoder.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Stream = void 0;\nconst Error_js_1 = require(\"./Error.js\");\nconst Guid_js_1 = require(\"./Guid.js\");\nconst Queue_js_1 = require(\"./Queue.js\");\nclass Stream {\n    constructor(streamId) {\n        this.privIsWriteEnded = false;\n        this.privIsReadEnded = false;\n        this.privId = streamId ? streamId : (0, Guid_js_1.createNoDashGuid)();\n        this.privReaderQueue = new Queue_js_1.Queue();\n    }\n    get isClosed() {\n        return this.privIsWriteEnded;\n    }\n    get isReadEnded() {\n        return this.privIsReadEnded;\n    }\n    get id() {\n        return this.privId;\n    }\n    close() {\n        if (!this.privIsWriteEnded) {\n            this.writeStreamChunk({\n                buffer: null,\n                isEnd: true,\n                timeReceived: Date.now(),\n            });\n            this.privIsWriteEnded = true;\n        }\n    }\n    writeStreamChunk(streamChunk) {\n        this.throwIfClosed();\n        if (!this.privReaderQueue.isDisposed()) {\n            try {\n                this.privReaderQueue.enqueue(streamChunk);\n            }\n            catch (e) {\n                // Do nothing\n            }\n        }\n    }\n    read() {\n        if (this.privIsReadEnded) {\n            throw new Error_js_1.InvalidOperationError(\"Stream read has already finished\");\n        }\n        return this.privReaderQueue\n            .dequeue()\n            .then(async (streamChunk) => {\n            if (streamChunk === undefined || streamChunk.isEnd) {\n                await this.privReaderQueue.dispose(\"End of stream reached\");\n            }\n            return streamChunk;\n        });\n    }\n    readEnded() {\n        if (!this.privIsReadEnded) {\n            this.privIsReadEnded = true;\n            this.privReaderQueue = new Queue_js_1.Queue();\n        }\n    }\n    throwIfClosed() {\n        if (this.privIsWriteEnded) {\n            throw new Error_js_1.InvalidOperationError(\"Stream closed\");\n        }\n    }\n}\nexports.Stream = Stream;\n\n//# sourceMappingURL=Stream.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StringUtils = void 0;\n/**\n * String helper functions\n */\nclass StringUtils {\n    /**\n     * Formats a string by replacing the named {keys} in the string with the values contained in the replacement dictionary.\n     * @param format The format string that contains the parts to replace surrounded by {}. For example: \"wss://{region}.cts.speech.microsoft.com\".\n     * If your string needs to contain a { or } you can use the {{ and }} escape sequences respectively.\n     * @param replacements The dictionary of replacements. If a replacement is not found, it is replaced with an empty string\n     * @returns The formatted string. If you pass in a null or undefined format string, an empty string will be returned\n     */\n    static formatString(format, replacements) {\n        if (!format) {\n            return \"\";\n        }\n        if (!replacements) {\n            return format;\n        }\n        let formatted = \"\";\n        let key = \"\";\n        const appendToFormatted = (str) => {\n            formatted += str;\n        };\n        const appendToKey = (str) => {\n            key += str;\n        };\n        let appendFunc = appendToFormatted;\n        for (let i = 0; i < format.length; i++) {\n            const c = format[i];\n            const next = i + 1 < format.length ? format[i + 1] : \"\";\n            switch (c) {\n                case \"{\":\n                    if (next === \"{\") {\n                        appendFunc(\"{\");\n                        i++;\n                    }\n                    else {\n                        appendFunc = appendToKey;\n                    }\n                    break;\n                case \"}\":\n                    if (next === \"}\") {\n                        appendFunc(\"}\");\n                        i++;\n                    }\n                    else {\n                        if (replacements.hasOwnProperty(key)) {\n                            formatted += replacements[key];\n                        }\n                        appendFunc = appendToFormatted;\n                        key = \"\";\n                    }\n                    break;\n                default:\n                    appendFunc(c);\n                    break;\n            }\n        }\n        return formatted;\n    }\n}\nexports.StringUtils = StringUtils;\n\n//# sourceMappingURL=StringUtils.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Timeout = void 0;\nclass Timeout {\n    static load() {\n        // Prefilling the Maps with a function indexed by zero is necessary to be compliant with the specification.\n        const scheduledTimeoutFunctions = new Map([[0, () => { }]]); // eslint-disable-line @typescript-eslint/no-empty-function\n        const unhandledRequests = new Map();\n        // eslint-disable-next-line\n        const workerScript = `!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=14)}([function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i})),n.d(t,\"b\",(function(){return u})),n.d(t,\"c\",(function(){return a})),n.d(t,\"d\",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error('There is no interval scheduled with the given id \"'.concat(e,'\".'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error('There is no timeout scheduled with the given id \"'.concat(e,'\".'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if(\"performance\"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o=\"performance\"in self?performance.now():Date.now();o>n?postMessage({id:null,method:\"call\",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){\"use strict\";n.r(t);var r=n(2);for(var o in r)\"default\"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)\"default\"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)\"default\"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)\"default\"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)\"default\"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)\"default\"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)\"default\"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)\"default\"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){\"use strict\";n.r(t);var r=n(11);for(var o in r)\"default\"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)\"default\"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)\"default\"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){\"use strict\";n.r(t);var r=n(0),o=n(1);for(var i in o)\"default\"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)\"default\"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener(\"message\",({data:e})=>{try{if(\"clear\"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if(\"set\"!==e.method)throw new Error('The given method \"'.concat(e.method,'\" is not supported'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);`;\n        const workerUrl = \"data:text/javascript;base64,\" + btoa(workerScript);\n        const worker = new Worker(workerUrl);\n        worker.addEventListener(\"message\", ({ data }) => {\n            if (Timeout.isCallNotification(data)) {\n                const { params: { timerId } } = data;\n                const idOrFunc = scheduledTimeoutFunctions.get(timerId);\n                if (typeof idOrFunc === \"number\") {\n                    const unhandledTimerId = unhandledRequests.get(idOrFunc);\n                    if (unhandledTimerId === undefined ||\n                        unhandledTimerId !== timerId) {\n                        throw new Error(\"The timer is in an undefined state.\");\n                    }\n                }\n                else if (typeof idOrFunc !== \"undefined\") {\n                    idOrFunc();\n                    // A timeout can be safely deleted because it is only called once.\n                    scheduledTimeoutFunctions.delete(timerId);\n                }\n                else {\n                    throw new Error(\"The timer is in an undefined state.\");\n                }\n            }\n            else if (Timeout.isClearResponse(data)) {\n                const { id } = data;\n                const unhandledTimerId = unhandledRequests.get(id);\n                if (unhandledTimerId === undefined) {\n                    throw new Error(\"The timer is in an undefined state.\");\n                }\n                unhandledRequests.delete(id);\n                scheduledTimeoutFunctions.delete(unhandledTimerId);\n            }\n            else {\n                const { error: { message } } = data;\n                throw new Error(message);\n            }\n        });\n        const clearTimeout = (timerId) => {\n            const id = Math.random();\n            unhandledRequests.set(id, timerId);\n            scheduledTimeoutFunctions.set(timerId, id);\n            worker.postMessage({\n                id,\n                method: \"clear\",\n                params: { timerId }\n            });\n        };\n        const setTimeout = (func, delay) => {\n            const timerId = Math.random();\n            scheduledTimeoutFunctions.set(timerId, func);\n            worker.postMessage({\n                id: null,\n                method: \"set\",\n                params: {\n                    delay,\n                    now: performance.now(),\n                    timerId\n                }\n            });\n            return timerId;\n        };\n        return {\n            clearTimeout,\n            setTimeout\n        };\n    }\n    static loadWorkerTimers() {\n        return () => {\n            if (Timeout.workerTimers !== null) {\n                return Timeout.workerTimers;\n            }\n            Timeout.workerTimers = Timeout.load();\n            return Timeout.workerTimers;\n        };\n    }\n    static isCallNotification(message) {\n        return message.method !== undefined && message.method === \"call\";\n    }\n    static isClearResponse(message) {\n        return message.error === null && typeof message.id === \"number\";\n    }\n}\nexports.Timeout = Timeout;\nTimeout.workerTimers = null;\nTimeout.clearTimeout = (timerId) => Timeout.timers().clearTimeout(timerId);\nTimeout.setTimeout = (func, delay) => Timeout.timers().setTimeout(func, delay);\nTimeout.timers = Timeout.loadWorkerTimers();\n\n//# sourceMappingURL=Timeout.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActivityReceivedEventArgs = void 0;\n/**\n * Defines contents of received message/events.\n * @class ActivityReceivedEventArgs\n */\nclass ActivityReceivedEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {any} activity - The activity..\n     */\n    constructor(activity, audioStream) {\n        this.privActivity = activity;\n        this.privAudioStream = audioStream;\n    }\n    /**\n     * Gets the received activity\n     * @member ActivityReceivedEventArgs.prototype.activity\n     * @function\n     * @public\n     * @returns {any} the received activity.\n     */\n    get activity() {\n        return this.privActivity;\n    }\n    get audioStream() {\n        return this.privAudioStream;\n    }\n}\nexports.ActivityReceivedEventArgs = ActivityReceivedEventArgs;\n\n//# sourceMappingURL=ActivityReceivedEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AudioOutputConfigImpl = exports.AudioConfigImpl = exports.AudioConfig = void 0;\nconst Exports_js_1 = require(\"../../common.browser/Exports.js\");\nconst Contracts_js_1 = require(\"../Contracts.js\");\nconst Exports_js_2 = require(\"../Exports.js\");\nconst AudioFileWriter_js_1 = require(\"./AudioFileWriter.js\");\nconst AudioInputStream_js_1 = require(\"./AudioInputStream.js\");\nconst AudioOutputStream_js_1 = require(\"./AudioOutputStream.js\");\n/**\n * Represents audio input configuration used for specifying what type of input to use (microphone, file, stream).\n * @class AudioConfig\n * Updated in version 1.11.0\n */\nclass AudioConfig {\n    /**\n     * Creates an AudioConfig object representing the default microphone on the system.\n     * @member AudioConfig.fromDefaultMicrophoneInput\n     * @function\n     * @public\n     * @returns {AudioConfig} The audio input configuration being created.\n     */\n    static fromDefaultMicrophoneInput() {\n        const pcmRecorder = new Exports_js_1.PcmRecorder(true);\n        return new AudioConfigImpl(new Exports_js_1.MicAudioSource(pcmRecorder));\n    }\n    /**\n     * Creates an AudioConfig object representing a microphone with the specified device ID.\n     * @member AudioConfig.fromMicrophoneInput\n     * @function\n     * @public\n     * @param {string | undefined} deviceId - Specifies the device ID of the microphone to be used.\n     * Default microphone is used the value is omitted.\n     * @returns {AudioConfig} The audio input configuration being created.\n     */\n    static fromMicrophoneInput(deviceId) {\n        const pcmRecorder = new Exports_js_1.PcmRecorder(true);\n        return new AudioConfigImpl(new Exports_js_1.MicAudioSource(pcmRecorder, deviceId));\n    }\n    /**\n     * Creates an AudioConfig object representing the specified file.\n     * @member AudioConfig.fromWavFileInput\n     * @function\n     * @public\n     * @param {File} fileName - Specifies the audio input file. Currently, only WAV / PCM is supported.\n     * @returns {AudioConfig} The audio input configuration being created.\n     */\n    static fromWavFileInput(file, name = \"unnamedBuffer.wav\") {\n        return new AudioConfigImpl(new Exports_js_1.FileAudioSource(file, name));\n    }\n    /**\n     * Creates an AudioConfig object representing the specified stream.\n     * @member AudioConfig.fromStreamInput\n     * @function\n     * @public\n     * @param {AudioInputStream | PullAudioInputStreamCallback | MediaStream} audioStream - Specifies the custom audio input\n     * stream. Currently, only WAV / PCM is supported.\n     * @returns {AudioConfig} The audio input configuration being created.\n     */\n    static fromStreamInput(audioStream) {\n        if (audioStream instanceof Exports_js_2.PullAudioInputStreamCallback) {\n            return new AudioConfigImpl(new AudioInputStream_js_1.PullAudioInputStreamImpl(audioStream));\n        }\n        if (audioStream instanceof Exports_js_2.AudioInputStream) {\n            return new AudioConfigImpl(audioStream);\n        }\n        if (typeof MediaStream !== \"undefined\" && audioStream instanceof MediaStream) {\n            const pcmRecorder = new Exports_js_1.PcmRecorder(false);\n            return new AudioConfigImpl(new Exports_js_1.MicAudioSource(pcmRecorder, null, null, audioStream));\n        }\n        throw new Error(\"Not Supported Type\");\n    }\n    /**\n     * Creates an AudioConfig object representing the default speaker.\n     * @member AudioConfig.fromDefaultSpeakerOutput\n     * @function\n     * @public\n     * @returns {AudioConfig} The audio output configuration being created.\n     * Added in version 1.11.0\n     */\n    static fromDefaultSpeakerOutput() {\n        return new AudioOutputConfigImpl(new Exports_js_2.SpeakerAudioDestination());\n    }\n    /**\n     * Creates an AudioConfig object representing the custom IPlayer object.\n     * You can use the IPlayer object to control pause, resume, etc.\n     * @member AudioConfig.fromSpeakerOutput\n     * @function\n     * @public\n     * @param {IPlayer} player - the IPlayer object for playback.\n     * @returns {AudioConfig} The audio output configuration being created.\n     * Added in version 1.12.0\n     */\n    static fromSpeakerOutput(player) {\n        if (player === undefined) {\n            return AudioConfig.fromDefaultSpeakerOutput();\n        }\n        if (player instanceof Exports_js_2.SpeakerAudioDestination) {\n            return new AudioOutputConfigImpl(player);\n        }\n        throw new Error(\"Not Supported Type\");\n    }\n    /**\n     * Creates an AudioConfig object representing a specified output audio file\n     * @member AudioConfig.fromAudioFileOutput\n     * @function\n     * @public\n     * @param {PathLike} filename - the filename of the output audio file\n     * @returns {AudioConfig} The audio output configuration being created.\n     * Added in version 1.11.0\n     */\n    static fromAudioFileOutput(filename) {\n        return new AudioOutputConfigImpl(new AudioFileWriter_js_1.AudioFileWriter(filename));\n    }\n    /**\n     * Creates an AudioConfig object representing a specified audio output stream\n     * @member AudioConfig.fromStreamOutput\n     * @function\n     * @public\n     * @param {AudioOutputStream | PushAudioOutputStreamCallback} audioStream - Specifies the custom audio output\n     * stream.\n     * @returns {AudioConfig} The audio output configuration being created.\n     * Added in version 1.11.0\n     */\n    static fromStreamOutput(audioStream) {\n        if (audioStream instanceof Exports_js_2.PushAudioOutputStreamCallback) {\n            return new AudioOutputConfigImpl(new AudioOutputStream_js_1.PushAudioOutputStreamImpl(audioStream));\n        }\n        if (audioStream instanceof Exports_js_2.PushAudioOutputStream) {\n            return new AudioOutputConfigImpl(audioStream);\n        }\n        if (audioStream instanceof Exports_js_2.PullAudioOutputStream) {\n            return new AudioOutputConfigImpl(audioStream);\n        }\n        throw new Error(\"Not Supported Type\");\n    }\n}\nexports.AudioConfig = AudioConfig;\n/**\n * Represents audio input stream used for custom audio input configurations.\n * @private\n * @class AudioConfigImpl\n */\nclass AudioConfigImpl extends AudioConfig {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {IAudioSource} source - An audio source.\n     */\n    constructor(source) {\n        super();\n        this.privSource = source;\n    }\n    /**\n     * Format information for the audio\n     */\n    get format() {\n        return this.privSource.format;\n    }\n    /**\n     * @member AudioConfigImpl.prototype.close\n     * @function\n     * @public\n     */\n    close(cb, err) {\n        this.privSource.turnOff().then(() => {\n            if (!!cb) {\n                cb();\n            }\n        }, (error) => {\n            if (!!err) {\n                err(error);\n            }\n        });\n    }\n    /**\n     * @member AudioConfigImpl.prototype.id\n     * @function\n     * @public\n     */\n    id() {\n        return this.privSource.id();\n    }\n    /**\n     * @member AudioConfigImpl.prototype.turnOn\n     * @function\n     * @public\n     * @returns {Promise<void>} A promise.\n     */\n    turnOn() {\n        return this.privSource.turnOn();\n    }\n    /**\n     * @member AudioConfigImpl.prototype.attach\n     * @function\n     * @public\n     * @param {string} audioNodeId - The audio node id.\n     * @returns {Promise<IAudioStreamNode>} A promise.\n     */\n    attach(audioNodeId) {\n        return this.privSource.attach(audioNodeId);\n    }\n    /**\n     * @member AudioConfigImpl.prototype.detach\n     * @function\n     * @public\n     * @param {string} audioNodeId - The audio node id.\n     */\n    detach(audioNodeId) {\n        return this.privSource.detach(audioNodeId);\n    }\n    /**\n     * @member AudioConfigImpl.prototype.turnOff\n     * @function\n     * @public\n     * @returns {Promise<void>} A promise.\n     */\n    turnOff() {\n        return this.privSource.turnOff();\n    }\n    /**\n     * @member AudioConfigImpl.prototype.events\n     * @function\n     * @public\n     * @returns {EventSource<AudioSourceEvent>} An event source for audio events.\n     */\n    get events() {\n        return this.privSource.events;\n    }\n    setProperty(name, value) {\n        Contracts_js_1.Contracts.throwIfNull(value, \"value\");\n        if (undefined !== this.privSource.setProperty) {\n            this.privSource.setProperty(name, value);\n        }\n        else {\n            throw new Error(\"This AudioConfig instance does not support setting properties.\");\n        }\n    }\n    getProperty(name, def) {\n        if (undefined !== this.privSource.getProperty) {\n            return this.privSource.getProperty(name, def);\n        }\n        else {\n            throw new Error(\"This AudioConfig instance does not support getting properties.\");\n        }\n        return def;\n    }\n    get deviceInfo() {\n        return this.privSource.deviceInfo;\n    }\n}\nexports.AudioConfigImpl = AudioConfigImpl;\nclass AudioOutputConfigImpl extends AudioConfig {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {IAudioDestination} destination - An audio destination.\n     */\n    constructor(destination) {\n        super();\n        this.privDestination = destination;\n    }\n    set format(format) {\n        this.privDestination.format = format;\n    }\n    write(buffer) {\n        this.privDestination.write(buffer);\n    }\n    close() {\n        this.privDestination.close();\n    }\n    id() {\n        return this.privDestination.id();\n    }\n    setProperty() {\n        throw new Error(\"This AudioConfig instance does not support setting properties.\");\n    }\n    getProperty() {\n        throw new Error(\"This AudioConfig instance does not support getting properties.\");\n    }\n}\nexports.AudioOutputConfigImpl = AudioOutputConfigImpl;\n\n//# sourceMappingURL=AudioConfig.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AudioFileWriter = void 0;\nconst fs = __importStar(require(\"fs\"));\nconst Contracts_js_1 = require(\"../Contracts.js\");\nclass AudioFileWriter {\n    constructor(filename) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(fs.openSync, \"\\nFile System access not available, please use Push or PullAudioOutputStream\");\n        this.privFd = fs.openSync(filename, \"w\");\n    }\n    set format(format) {\n        Contracts_js_1.Contracts.throwIfNotUndefined(this.privAudioFormat, \"format is already set\");\n        this.privAudioFormat = format;\n        let headerOffset = 0;\n        if (this.privAudioFormat.hasHeader) {\n            headerOffset = this.privAudioFormat.header.byteLength;\n        }\n        if (this.privFd !== undefined) {\n            this.privWriteStream = fs.createWriteStream(\"\", { fd: this.privFd, start: headerOffset, autoClose: false });\n        }\n    }\n    write(buffer) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privAudioFormat, \"must set format before writing.\");\n        if (this.privWriteStream !== undefined) {\n            this.privWriteStream.write(new Uint8Array(buffer.slice(0)));\n        }\n    }\n    close() {\n        if (this.privFd !== undefined) {\n            this.privWriteStream.on(\"finish\", () => {\n                if (this.privAudioFormat.hasHeader) {\n                    this.privAudioFormat.updateHeader(this.privWriteStream.bytesWritten);\n                    fs.writeSync(this.privFd, new Int8Array(this.privAudioFormat.header), 0, this.privAudioFormat.header.byteLength, 0);\n                }\n                fs.closeSync(this.privFd);\n                this.privFd = undefined;\n            });\n            this.privWriteStream.end();\n        }\n    }\n    id() {\n        return this.privId;\n    }\n}\nexports.AudioFileWriter = AudioFileWriter;\n\n//# sourceMappingURL=AudioFileWriter.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PullAudioInputStreamImpl = exports.PullAudioInputStream = exports.PushAudioInputStreamImpl = exports.PushAudioInputStream = exports.AudioInputStream = void 0;\n/* eslint-disable max-classes-per-file */\nconst Exports_js_1 = require(\"../../common.speech/Exports.js\");\nconst Exports_js_2 = require(\"../../common/Exports.js\");\nconst Guid_js_1 = require(\"../../common/Guid.js\");\nconst Exports_js_3 = require(\"../Exports.js\");\nconst AudioStreamFormat_js_1 = require(\"./AudioStreamFormat.js\");\n/**\n * Represents audio input stream used for custom audio input configurations.\n * @class AudioInputStream\n */\nclass AudioInputStream {\n    /**\n     * Creates and initializes an instance.\n     * @constructor\n     */\n    constructor() {\n        return;\n    }\n    /**\n     * Creates a memory backed PushAudioInputStream with the specified audio format.\n     * @member AudioInputStream.createPushStream\n     * @function\n     * @public\n     * @param {AudioStreamFormat} format - The audio data format in which audio will be\n     * written to the push audio stream's write() method (Required if format is not 16 kHz 16bit mono PCM).\n     * @returns {PushAudioInputStream} The audio input stream being created.\n     */\n    static createPushStream(format) {\n        return PushAudioInputStream.create(format);\n    }\n    /**\n     * Creates a PullAudioInputStream that delegates to the specified callback interface for read()\n     * and close() methods.\n     * @member AudioInputStream.createPullStream\n     * @function\n     * @public\n     * @param {PullAudioInputStreamCallback} callback - The custom audio input object, derived from\n     * PullAudioInputStreamCallback\n     * @param {AudioStreamFormat} format - The audio data format in which audio will be returned from\n     * the callback's read() method (Required if format is not 16 kHz 16bit mono PCM).\n     * @returns {PullAudioInputStream} The audio input stream being created.\n     */\n    static createPullStream(callback, format) {\n        return PullAudioInputStream.create(callback, format);\n        // throw new Error(\"Oops\");\n    }\n}\nexports.AudioInputStream = AudioInputStream;\n/**\n * Represents memory backed push audio input stream used for custom audio input configurations.\n * @class PushAudioInputStream\n */\nclass PushAudioInputStream extends AudioInputStream {\n    /**\n     * Creates a memory backed PushAudioInputStream with the specified audio format.\n     * @member PushAudioInputStream.create\n     * @function\n     * @public\n     * @param {AudioStreamFormat} format - The audio data format in which audio will be written to the\n     * push audio stream's write() method (Required if format is not 16 kHz 16bit mono PCM).\n     * @returns {PushAudioInputStream} The push audio input stream being created.\n     */\n    static create(format) {\n        return new PushAudioInputStreamImpl(format);\n    }\n}\nexports.PushAudioInputStream = PushAudioInputStream;\n/**\n * Represents memory backed push audio input stream used for custom audio input configurations.\n * @private\n * @class PushAudioInputStreamImpl\n */\nclass PushAudioInputStreamImpl extends PushAudioInputStream {\n    /**\n     * Creates and initalizes an instance with the given values.\n     * @constructor\n     * @param {AudioStreamFormat} format - The audio stream format.\n     */\n    constructor(format) {\n        super();\n        if (format === undefined) {\n            this.privFormat = AudioStreamFormat_js_1.AudioStreamFormatImpl.getDefaultInputFormat();\n        }\n        else {\n            this.privFormat = format;\n        }\n        this.privEvents = new Exports_js_2.EventSource();\n        this.privId = (0, Guid_js_1.createNoDashGuid)();\n        this.privStream = new Exports_js_2.ChunkedArrayBufferStream(this.privFormat.avgBytesPerSec / 10);\n    }\n    /**\n     * Format information for the audio\n     */\n    get format() {\n        return Promise.resolve(this.privFormat);\n    }\n    /**\n     * Writes the audio data specified by making an internal copy of the data.\n     * @member PushAudioInputStreamImpl.prototype.write\n     * @function\n     * @public\n     * @param {ArrayBuffer} dataBuffer - The audio buffer of which this function will make a copy.\n     */\n    write(dataBuffer) {\n        this.privStream.writeStreamChunk({\n            buffer: dataBuffer,\n            isEnd: false,\n            timeReceived: Date.now()\n        });\n    }\n    /**\n     * Closes the stream.\n     * @member PushAudioInputStreamImpl.prototype.close\n     * @function\n     * @public\n     */\n    close() {\n        this.privStream.close();\n    }\n    id() {\n        return this.privId;\n    }\n    turnOn() {\n        this.onEvent(new Exports_js_2.AudioSourceInitializingEvent(this.privId)); // no stream id\n        this.onEvent(new Exports_js_2.AudioSourceReadyEvent(this.privId));\n        return;\n    }\n    async attach(audioNodeId) {\n        this.onEvent(new Exports_js_2.AudioStreamNodeAttachingEvent(this.privId, audioNodeId));\n        await this.turnOn();\n        const stream = this.privStream;\n        this.onEvent(new Exports_js_2.AudioStreamNodeAttachedEvent(this.privId, audioNodeId));\n        return {\n            detach: async () => {\n                this.onEvent(new Exports_js_2.AudioStreamNodeDetachedEvent(this.privId, audioNodeId));\n                return this.turnOff();\n            },\n            id: () => audioNodeId,\n            read: () => stream.read(),\n        };\n    }\n    detach(audioNodeId) {\n        this.onEvent(new Exports_js_2.AudioStreamNodeDetachedEvent(this.privId, audioNodeId));\n    }\n    turnOff() {\n        return;\n    }\n    get events() {\n        return this.privEvents;\n    }\n    get deviceInfo() {\n        return Promise.resolve({\n            bitspersample: this.privFormat.bitsPerSample,\n            channelcount: this.privFormat.channels,\n            connectivity: Exports_js_1.connectivity.Unknown,\n            manufacturer: \"Speech SDK\",\n            model: \"PushStream\",\n            samplerate: this.privFormat.samplesPerSec,\n            type: Exports_js_1.type.Stream,\n        });\n    }\n    onEvent(event) {\n        this.privEvents.onEvent(event);\n        Exports_js_2.Events.instance.onEvent(event);\n    }\n    toBuffer(arrayBuffer) {\n        const buf = Buffer.alloc(arrayBuffer.byteLength);\n        const view = new Uint8Array(arrayBuffer);\n        for (let i = 0; i < buf.length; ++i) {\n            buf[i] = view[i];\n        }\n        return buf;\n    }\n}\nexports.PushAudioInputStreamImpl = PushAudioInputStreamImpl;\n/*\n * Represents audio input stream used for custom audio input configurations.\n * @class PullAudioInputStream\n */\nclass PullAudioInputStream extends AudioInputStream {\n    /**\n     * Creates and initializes and instance.\n     * @constructor\n     */\n    constructor() {\n        super();\n    }\n    /**\n     * Creates a PullAudioInputStream that delegates to the specified callback interface for\n     * read() and close() methods, using the default format (16 kHz 16bit mono PCM).\n     * @member PullAudioInputStream.create\n     * @function\n     * @public\n     * @param {PullAudioInputStreamCallback} callback - The custom audio input object,\n     * derived from PullAudioInputStreamCustomCallback\n     * @param {AudioStreamFormat} format - The audio data format in which audio will be\n     * returned from the callback's read() method (Required if format is not 16 kHz 16bit mono PCM).\n     * @returns {PullAudioInputStream} The push audio input stream being created.\n     */\n    static create(callback, format) {\n        return new PullAudioInputStreamImpl(callback, format);\n    }\n}\nexports.PullAudioInputStream = PullAudioInputStream;\n/**\n * Represents audio input stream used for custom audio input configurations.\n * @private\n * @class PullAudioInputStreamImpl\n */\nclass PullAudioInputStreamImpl extends PullAudioInputStream {\n    /**\n     * Creates a PullAudioInputStream that delegates to the specified callback interface for\n     * read() and close() methods, using the default format (16 kHz 16bit mono PCM).\n     * @constructor\n     * @param {PullAudioInputStreamCallback} callback - The custom audio input object,\n     * derived from PullAudioInputStreamCustomCallback\n     * @param {AudioStreamFormat} format - The audio data format in which audio will be\n     * returned from the callback's read() method (Required if format is not 16 kHz 16bit mono PCM).\n     */\n    constructor(callback, format) {\n        super();\n        if (undefined === format) {\n            this.privFormat = Exports_js_3.AudioStreamFormat.getDefaultInputFormat();\n        }\n        else {\n            this.privFormat = format;\n        }\n        this.privEvents = new Exports_js_2.EventSource();\n        this.privId = (0, Guid_js_1.createNoDashGuid)();\n        this.privCallback = callback;\n        this.privIsClosed = false;\n        this.privBufferSize = this.privFormat.avgBytesPerSec / 10;\n    }\n    /**\n     * Format information for the audio\n     */\n    get format() {\n        return Promise.resolve(this.privFormat);\n    }\n    /**\n     * Closes the stream.\n     * @member PullAudioInputStreamImpl.prototype.close\n     * @function\n     * @public\n     */\n    close() {\n        this.privIsClosed = true;\n        this.privCallback.close();\n    }\n    id() {\n        return this.privId;\n    }\n    turnOn() {\n        this.onEvent(new Exports_js_2.AudioSourceInitializingEvent(this.privId)); // no stream id\n        this.onEvent(new Exports_js_2.AudioSourceReadyEvent(this.privId));\n        return;\n    }\n    async attach(audioNodeId) {\n        this.onEvent(new Exports_js_2.AudioStreamNodeAttachingEvent(this.privId, audioNodeId));\n        await this.turnOn();\n        this.onEvent(new Exports_js_2.AudioStreamNodeAttachedEvent(this.privId, audioNodeId));\n        return {\n            detach: () => {\n                this.privCallback.close();\n                this.onEvent(new Exports_js_2.AudioStreamNodeDetachedEvent(this.privId, audioNodeId));\n                return this.turnOff();\n            },\n            id: () => audioNodeId,\n            read: () => {\n                let totalBytes = 0;\n                let transmitBuff;\n                // Until we have the minimum number of bytes to send in a transmission, keep asking for more.\n                while (totalBytes < this.privBufferSize) {\n                    // Sizing the read buffer to the delta between the perfect size and what's left means we won't ever get too much\n                    // data back.\n                    const readBuff = new ArrayBuffer(this.privBufferSize - totalBytes);\n                    const pulledBytes = this.privCallback.read(readBuff);\n                    // If there is no return buffer yet defined, set the return buffer to the that was just populated.\n                    // This was, if we have enough data there's no copy penalty, but if we don't we have a buffer that's the\n                    // preferred size allocated.\n                    if (undefined === transmitBuff) {\n                        transmitBuff = readBuff;\n                    }\n                    else {\n                        // Not the first bite at the apple, so fill the return buffer with the data we got back.\n                        const intView = new Int8Array(transmitBuff);\n                        intView.set(new Int8Array(readBuff), totalBytes);\n                    }\n                    // If there are no bytes to read, just break out and be done.\n                    if (0 === pulledBytes) {\n                        break;\n                    }\n                    totalBytes += pulledBytes;\n                }\n                return Promise.resolve({\n                    buffer: transmitBuff.slice(0, totalBytes),\n                    isEnd: this.privIsClosed || totalBytes === 0,\n                    timeReceived: Date.now(),\n                });\n            },\n        };\n    }\n    detach(audioNodeId) {\n        this.onEvent(new Exports_js_2.AudioStreamNodeDetachedEvent(this.privId, audioNodeId));\n    }\n    turnOff() {\n        return;\n    }\n    get events() {\n        return this.privEvents;\n    }\n    get deviceInfo() {\n        return Promise.resolve({\n            bitspersample: this.privFormat.bitsPerSample,\n            channelcount: this.privFormat.channels,\n            connectivity: Exports_js_1.connectivity.Unknown,\n            manufacturer: \"Speech SDK\",\n            model: \"PullStream\",\n            samplerate: this.privFormat.samplesPerSec,\n            type: Exports_js_1.type.Stream,\n        });\n    }\n    onEvent(event) {\n        this.privEvents.onEvent(event);\n        Exports_js_2.Events.instance.onEvent(event);\n    }\n}\nexports.PullAudioInputStreamImpl = PullAudioInputStreamImpl;\n\n//# sourceMappingURL=AudioInputStream.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AudioOutputFormatImpl = void 0;\nconst SpeechSynthesisOutputFormat_js_1 = require(\"../SpeechSynthesisOutputFormat.js\");\nconst AudioStreamFormat_js_1 = require(\"./AudioStreamFormat.js\");\n/**\n * @private\n * @class AudioOutputFormatImpl\n * Updated in version 1.17.0\n */\n// eslint-disable-next-line max-classes-per-file\nclass AudioOutputFormatImpl extends AudioStreamFormat_js_1.AudioStreamFormatImpl {\n    /**\n     * Creates an instance with the given values.\n     * @constructor\n     * @param formatTag\n     * @param {number} channels - Number of channels.\n     * @param {number} samplesPerSec - Samples per second.\n     * @param {number} avgBytesPerSec - Average bytes per second.\n     * @param {number} blockAlign - Block alignment.\n     * @param {number} bitsPerSample - Bits per sample.\n     * @param {string} audioFormatString - Audio format string\n     * @param {string} requestAudioFormatString - Audio format string sent to service.\n     * @param {boolean} hasHeader - If the format has header or not.\n     */\n    constructor(formatTag, channels, samplesPerSec, avgBytesPerSec, blockAlign, bitsPerSample, audioFormatString, requestAudioFormatString, hasHeader) {\n        super(samplesPerSec, bitsPerSample, channels, formatTag);\n        this.formatTag = formatTag;\n        this.avgBytesPerSec = avgBytesPerSec;\n        this.blockAlign = blockAlign;\n        this.priAudioFormatString = audioFormatString;\n        this.priRequestAudioFormatString = requestAudioFormatString;\n        this.priHasHeader = hasHeader;\n    }\n    static fromSpeechSynthesisOutputFormat(speechSynthesisOutputFormat) {\n        if (speechSynthesisOutputFormat === undefined) {\n            return AudioOutputFormatImpl.getDefaultOutputFormat();\n        }\n        return AudioOutputFormatImpl.fromSpeechSynthesisOutputFormatString(AudioOutputFormatImpl.SpeechSynthesisOutputFormatToString[speechSynthesisOutputFormat]);\n    }\n    static fromSpeechSynthesisOutputFormatString(speechSynthesisOutputFormatString) {\n        switch (speechSynthesisOutputFormatString) {\n            case \"raw-8khz-8bit-mono-mulaw\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.MuLaw, 1, 8000, 8000, 1, 8, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"riff-16khz-16kbps-mono-siren\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.Siren, 1, 16000, 2000, 40, 0, speechSynthesisOutputFormatString, \"audio-16khz-16kbps-mono-siren\", true);\n            case \"audio-16khz-16kbps-mono-siren\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.Siren, 1, 16000, 2000, 40, 0, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"audio-16khz-32kbitrate-mono-mp3\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.MP3, 1, 16000, 32 << 7, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"audio-16khz-128kbitrate-mono-mp3\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.MP3, 1, 16000, 128 << 7, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"audio-16khz-64kbitrate-mono-mp3\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.MP3, 1, 16000, 64 << 7, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"audio-24khz-48kbitrate-mono-mp3\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.MP3, 1, 24000, 48 << 7, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"audio-24khz-96kbitrate-mono-mp3\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.MP3, 1, 24000, 96 << 7, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"audio-24khz-160kbitrate-mono-mp3\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.MP3, 1, 24000, 160 << 7, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"raw-16khz-16bit-mono-truesilk\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.SILKSkype, 1, 16000, 32000, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"riff-8khz-16bit-mono-pcm\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.PCM, 1, 8000, 16000, 2, 16, speechSynthesisOutputFormatString, \"raw-8khz-16bit-mono-pcm\", true);\n            case \"riff-24khz-16bit-mono-pcm\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.PCM, 1, 24000, 48000, 2, 16, speechSynthesisOutputFormatString, \"raw-24khz-16bit-mono-pcm\", true);\n            case \"riff-8khz-8bit-mono-mulaw\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.MuLaw, 1, 8000, 8000, 1, 8, speechSynthesisOutputFormatString, \"raw-8khz-8bit-mono-mulaw\", true);\n            case \"raw-16khz-16bit-mono-pcm\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.PCM, 1, 16000, 32000, 2, 16, speechSynthesisOutputFormatString, \"raw-16khz-16bit-mono-pcm\", false);\n            case \"raw-24khz-16bit-mono-pcm\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.PCM, 1, 24000, 48000, 2, 16, speechSynthesisOutputFormatString, \"raw-24khz-16bit-mono-pcm\", false);\n            case \"raw-8khz-16bit-mono-pcm\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.PCM, 1, 8000, 16000, 2, 16, speechSynthesisOutputFormatString, \"raw-8khz-16bit-mono-pcm\", false);\n            case \"ogg-16khz-16bit-mono-opus\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.OGG_OPUS, 1, 16000, 8192, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"ogg-24khz-16bit-mono-opus\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.OGG_OPUS, 1, 24000, 8192, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"raw-48khz-16bit-mono-pcm\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.PCM, 1, 48000, 96000, 2, 16, speechSynthesisOutputFormatString, \"raw-48khz-16bit-mono-pcm\", false);\n            case \"riff-48khz-16bit-mono-pcm\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.PCM, 1, 48000, 96000, 2, 16, speechSynthesisOutputFormatString, \"raw-48khz-16bit-mono-pcm\", true);\n            case \"audio-48khz-96kbitrate-mono-mp3\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.MP3, 1, 48000, 96 << 7, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"audio-48khz-192kbitrate-mono-mp3\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.MP3, 1, 48000, 192 << 7, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"ogg-48khz-16bit-mono-opus\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.OGG_OPUS, 1, 48000, 12000, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"webm-16khz-16bit-mono-opus\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.WEBM_OPUS, 1, 16000, 4000, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"webm-24khz-16bit-mono-opus\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.WEBM_OPUS, 1, 24000, 6000, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"webm-24khz-16bit-24kbps-mono-opus\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.WEBM_OPUS, 1, 24000, 3000, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"audio-16khz-16bit-32kbps-mono-opus\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.OPUS, 1, 16000, 4000, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"audio-24khz-16bit-48kbps-mono-opus\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.OPUS, 1, 24000, 6000, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"audio-24khz-16bit-24kbps-mono-opus\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.OPUS, 1, 24000, 3000, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"audio-24khz-16bit-mono-flac\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.FLAC, 1, 24000, 24000, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"audio-48khz-16bit-mono-flac\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.FLAC, 1, 48000, 30000, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"raw-24khz-16bit-mono-truesilk\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.SILKSkype, 1, 24000, 48000, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"raw-8khz-8bit-mono-alaw\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.ALaw, 1, 8000, 8000, 1, 8, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"riff-8khz-8bit-mono-alaw\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.ALaw, 1, 8000, 8000, 1, 8, speechSynthesisOutputFormatString, \"raw-8khz-8bit-mono-alaw\", true);\n            case \"raw-22050hz-16bit-mono-pcm\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.PCM, 1, 22050, 44100, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"riff-22050hz-16bit-mono-pcm\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.PCM, 1, 22050, 44100, 2, 16, speechSynthesisOutputFormatString, \"raw-22050hz-16bit-mono-pcm\", true);\n            case \"raw-44100hz-16bit-mono-pcm\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.PCM, 1, 44100, 88200, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"riff-44100hz-16bit-mono-pcm\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.PCM, 1, 44100, 88200, 2, 16, speechSynthesisOutputFormatString, \"raw-44100hz-16bit-mono-pcm\", true);\n            case \"amr-wb-16000h\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.AMR_WB, 1, 16000, 3052, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"g722-16khz-64kbps\":\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.G722, 1, 16000, 8000, 2, 16, speechSynthesisOutputFormatString, speechSynthesisOutputFormatString, false);\n            case \"riff-16khz-16bit-mono-pcm\":\n            default:\n                return new AudioOutputFormatImpl(AudioStreamFormat_js_1.AudioFormatTag.PCM, 1, 16000, 32000, 2, 16, \"riff-16khz-16bit-mono-pcm\", \"raw-16khz-16bit-mono-pcm\", true);\n        }\n    }\n    static getDefaultOutputFormat() {\n        return AudioOutputFormatImpl.fromSpeechSynthesisOutputFormatString((typeof window !== \"undefined\") ? \"audio-24khz-48kbitrate-mono-mp3\" : \"riff-16khz-16bit-mono-pcm\");\n    }\n    /**\n     * Specifies if this audio output format has a header\n     * @boolean AudioOutputFormatImpl.prototype.hasHeader\n     * @function\n     * @public\n     */\n    get hasHeader() {\n        return this.priHasHeader;\n    }\n    /**\n     * Specifies the header of this format\n     * @ArrayBuffer AudioOutputFormatImpl.prototype.header\n     * @function\n     * @public\n     */\n    get header() {\n        if (this.hasHeader) {\n            return this.privHeader;\n        }\n        return undefined;\n    }\n    /**\n     * Updates the header based on the audio length\n     * @member AudioOutputFormatImpl.updateHeader\n     * @function\n     * @public\n     * @param {number} audioLength - the audio length\n     */\n    updateHeader(audioLength) {\n        if (this.priHasHeader) {\n            const view = new DataView(this.privHeader);\n            view.setUint32(4, audioLength + this.privHeader.byteLength - 8, true);\n            view.setUint32(40, audioLength, true);\n        }\n    }\n    /**\n     * Specifies the audio format string to be sent to the service\n     * @string AudioOutputFormatImpl.prototype.requestAudioFormatString\n     * @function\n     * @public\n     */\n    get requestAudioFormatString() {\n        return this.priRequestAudioFormatString;\n    }\n    /**\n     * Adds audio header\n     * @param audio the raw audio without header\n     * @returns the audio with header if applicable\n     */\n    addHeader(audio) {\n        if (!this.hasHeader) {\n            return audio;\n        }\n        this.updateHeader(audio.byteLength);\n        const tmp = new Uint8Array(audio.byteLength + this.header.byteLength);\n        tmp.set(new Uint8Array(this.header), 0);\n        tmp.set(new Uint8Array(audio), this.header.byteLength);\n        return tmp.buffer;\n    }\n}\nexports.AudioOutputFormatImpl = AudioOutputFormatImpl;\nAudioOutputFormatImpl.SpeechSynthesisOutputFormatToString = {\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoMULaw]: \"raw-8khz-8bit-mono-mulaw\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Riff16Khz16KbpsMonoSiren]: \"riff-16khz-16kbps-mono-siren\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Audio16Khz16KbpsMonoSiren]: \"audio-16khz-16kbps-mono-siren\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Audio16Khz32KBitRateMonoMp3]: \"audio-16khz-32kbitrate-mono-mp3\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Audio16Khz128KBitRateMonoMp3]: \"audio-16khz-128kbitrate-mono-mp3\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Audio16Khz64KBitRateMonoMp3]: \"audio-16khz-64kbitrate-mono-mp3\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Audio24Khz48KBitRateMonoMp3]: \"audio-24khz-48kbitrate-mono-mp3\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Audio24Khz96KBitRateMonoMp3]: \"audio-24khz-96kbitrate-mono-mp3\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Audio24Khz160KBitRateMonoMp3]: \"audio-24khz-160kbitrate-mono-mp3\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoTrueSilk]: \"raw-16khz-16bit-mono-truesilk\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Riff16Khz16BitMonoPcm]: \"riff-16khz-16bit-mono-pcm\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Riff8Khz16BitMonoPcm]: \"riff-8khz-16bit-mono-pcm\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm]: \"riff-24khz-16bit-mono-pcm\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoMULaw]: \"riff-8khz-8bit-mono-mulaw\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoPcm]: \"raw-16khz-16bit-mono-pcm\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoPcm]: \"raw-24khz-16bit-mono-pcm\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Raw8Khz16BitMonoPcm]: \"raw-8khz-16bit-mono-pcm\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Ogg16Khz16BitMonoOpus]: \"ogg-16khz-16bit-mono-opus\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Ogg24Khz16BitMonoOpus]: \"ogg-24khz-16bit-mono-opus\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Raw48Khz16BitMonoPcm]: \"raw-48khz-16bit-mono-pcm\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Riff48Khz16BitMonoPcm]: \"riff-48khz-16bit-mono-pcm\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Audio48Khz96KBitRateMonoMp3]: \"audio-48khz-96kbitrate-mono-mp3\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Audio48Khz192KBitRateMonoMp3]: \"audio-48khz-192kbitrate-mono-mp3\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Ogg48Khz16BitMonoOpus]: \"ogg-48khz-16bit-mono-opus\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Webm16Khz16BitMonoOpus]: \"webm-16khz-16bit-mono-opus\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Webm24Khz16BitMonoOpus]: \"webm-24khz-16bit-mono-opus\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Webm24Khz16Bit24KbpsMonoOpus]: \"webm-24khz-16bit-24kbps-mono-opus\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoTrueSilk]: \"raw-24khz-16bit-mono-truesilk\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoALaw]: \"raw-8khz-8bit-mono-alaw\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoALaw]: \"riff-8khz-8bit-mono-alaw\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Audio16Khz16Bit32KbpsMonoOpus]: \"audio-16khz-16bit-32kbps-mono-opus\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Audio24Khz16Bit48KbpsMonoOpus]: \"audio-24khz-16bit-48kbps-mono-opus\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Audio24Khz16Bit24KbpsMonoOpus]: \"audio-24khz-16bit-24kbps-mono-opus\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Raw22050Hz16BitMonoPcm]: \"raw-22050hz-16bit-mono-pcm\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Riff22050Hz16BitMonoPcm]: \"riff-22050hz-16bit-mono-pcm\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Raw44100Hz16BitMonoPcm]: \"raw-44100hz-16bit-mono-pcm\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.Riff44100Hz16BitMonoPcm]: \"riff-44100hz-16bit-mono-pcm\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.AmrWb16000Hz]: \"amr-wb-16000hz\",\n    [SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat.G72216Khz64Kbps]: \"g722-16khz-64kbps\",\n};\n\n//# sourceMappingURL=AudioOutputFormat.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PushAudioOutputStreamImpl = exports.PushAudioOutputStream = exports.PullAudioOutputStreamImpl = exports.PullAudioOutputStream = exports.AudioOutputStream = void 0;\n/* eslint-disable max-classes-per-file */\nconst Exports_js_1 = require(\"../../common/Exports.js\");\nconst Contracts_js_1 = require(\"../Contracts.js\");\nconst AudioOutputFormat_js_1 = require(\"./AudioOutputFormat.js\");\n/**\n * Represents audio output stream used for custom audio output configurations.\n * @class AudioOutputStream\n */\nclass AudioOutputStream {\n    /**\n     * Creates and initializes an instance.\n     * @constructor\n     */\n    constructor() {\n        return;\n    }\n    /**\n     * Creates a memory backed PullAudioOutputStream with the specified audio format.\n     * @member AudioOutputStream.createPullStream\n     * @function\n     * @public\n     * @returns {PullAudioOutputStream} The audio output stream being created.\n     */\n    static createPullStream() {\n        return PullAudioOutputStream.create();\n    }\n}\nexports.AudioOutputStream = AudioOutputStream;\n/**\n * Represents memory backed push audio output stream used for custom audio output configurations.\n * @class PullAudioOutputStream\n */\nclass PullAudioOutputStream extends AudioOutputStream {\n    /**\n     * Creates a memory backed PullAudioOutputStream with the specified audio format.\n     * @member PullAudioOutputStream.create\n     * @function\n     * @public\n     * @returns {PullAudioOutputStream} The push audio output stream being created.\n     */\n    static create() {\n        return new PullAudioOutputStreamImpl();\n    }\n}\nexports.PullAudioOutputStream = PullAudioOutputStream;\n/**\n * Represents memory backed push audio output stream used for custom audio output configurations.\n * @private\n * @class PullAudioOutputStreamImpl\n */\nclass PullAudioOutputStreamImpl extends PullAudioOutputStream {\n    /**\n     * Creates and initializes an instance with the given values.\n     * @constructor\n     */\n    constructor() {\n        super();\n        this.privId = (0, Exports_js_1.createNoDashGuid)();\n        this.privStream = new Exports_js_1.Stream();\n    }\n    /**\n     * Sets the format information to the stream. For internal use only.\n     * @param {AudioStreamFormat} format - the format to be set.\n     */\n    set format(format) {\n        if (format === undefined || format === null) {\n            this.privFormat = AudioOutputFormat_js_1.AudioOutputFormatImpl.getDefaultOutputFormat();\n        }\n        this.privFormat = format;\n    }\n    /**\n     * Format information for the audio\n     */\n    get format() {\n        return this.privFormat;\n    }\n    /**\n     * Checks if the stream is closed\n     * @member PullAudioOutputStreamImpl.prototype.isClosed\n     * @property\n     * @public\n     */\n    get isClosed() {\n        return this.privStream.isClosed;\n    }\n    /**\n     * Gets the id of the stream\n     * @member PullAudioOutputStreamImpl.prototype.id\n     * @property\n     * @public\n     */\n    id() {\n        return this.privId;\n    }\n    /**\n     * Reads audio data from the internal buffer.\n     * @member PullAudioOutputStreamImpl.prototype.read\n     * @function\n     * @public\n     * @param {ArrayBuffer} dataBuffer - An ArrayBuffer to store the read data.\n     * @returns {Promise<number>} - Audio buffer length has been read.\n     */\n    async read(dataBuffer) {\n        const intView = new Int8Array(dataBuffer);\n        let totalBytes = 0;\n        if (this.privLastChunkView !== undefined) {\n            if (this.privLastChunkView.length > dataBuffer.byteLength) {\n                intView.set(this.privLastChunkView.slice(0, dataBuffer.byteLength));\n                this.privLastChunkView = this.privLastChunkView.slice(dataBuffer.byteLength);\n                return Promise.resolve(dataBuffer.byteLength);\n            }\n            intView.set(this.privLastChunkView);\n            totalBytes = this.privLastChunkView.length;\n            this.privLastChunkView = undefined;\n        }\n        // Until we have the minimum number of bytes to send in a transmission, keep asking for more.\n        while (totalBytes < dataBuffer.byteLength && !this.privStream.isReadEnded) {\n            const chunk = await this.privStream.read();\n            if (chunk !== undefined && !chunk.isEnd) {\n                let tmpBuffer;\n                if (chunk.buffer.byteLength > dataBuffer.byteLength - totalBytes) {\n                    tmpBuffer = chunk.buffer.slice(0, dataBuffer.byteLength - totalBytes);\n                    this.privLastChunkView = new Int8Array(chunk.buffer.slice(dataBuffer.byteLength - totalBytes));\n                }\n                else {\n                    tmpBuffer = chunk.buffer;\n                }\n                intView.set(new Int8Array(tmpBuffer), totalBytes);\n                totalBytes += tmpBuffer.byteLength;\n            }\n            else {\n                this.privStream.readEnded();\n            }\n        }\n        return totalBytes;\n    }\n    /**\n     * Writes the audio data specified by making an internal copy of the data.\n     * @member PullAudioOutputStreamImpl.prototype.write\n     * @function\n     * @public\n     * @param {ArrayBuffer} dataBuffer - The audio buffer of which this function will make a copy.\n     */\n    write(dataBuffer) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privStream, \"must set format before writing\");\n        this.privStream.writeStreamChunk({\n            buffer: dataBuffer,\n            isEnd: false,\n            timeReceived: Date.now()\n        });\n    }\n    /**\n     * Closes the stream.\n     * @member PullAudioOutputStreamImpl.prototype.close\n     * @function\n     * @public\n     */\n    close() {\n        this.privStream.close();\n    }\n}\nexports.PullAudioOutputStreamImpl = PullAudioOutputStreamImpl;\n/*\n * Represents audio output stream used for custom audio output configurations.\n * @class PushAudioOutputStream\n */\nclass PushAudioOutputStream extends AudioOutputStream {\n    /**\n     * Creates and initializes and instance.\n     * @constructor\n     */\n    constructor() {\n        super();\n    }\n    /**\n     * Creates a PushAudioOutputStream that delegates to the specified callback interface for\n     * write() and close() methods.\n     * @member PushAudioOutputStream.create\n     * @function\n     * @public\n     * @param {PushAudioOutputStreamCallback} callback - The custom audio output object,\n     * derived from PushAudioOutputStreamCallback\n     * @returns {PushAudioOutputStream} The push audio output stream being created.\n     */\n    static create(callback) {\n        return new PushAudioOutputStreamImpl(callback);\n    }\n}\nexports.PushAudioOutputStream = PushAudioOutputStream;\n/**\n * Represents audio output stream used for custom audio output configurations.\n * @private\n * @class PushAudioOutputStreamImpl\n */\nclass PushAudioOutputStreamImpl extends PushAudioOutputStream {\n    /**\n     * Creates a PushAudioOutputStream that delegates to the specified callback interface for\n     * read() and close() methods.\n     * @constructor\n     * @param {PushAudioOutputStreamCallback} callback - The custom audio output object,\n     * derived from PushAudioOutputStreamCallback\n     */\n    constructor(callback) {\n        super();\n        this.privId = (0, Exports_js_1.createNoDashGuid)();\n        this.privCallback = callback;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    set format(format) { }\n    write(buffer) {\n        if (!!this.privCallback.write) {\n            this.privCallback.write(buffer);\n        }\n    }\n    close() {\n        if (!!this.privCallback.close) {\n            this.privCallback.close();\n        }\n    }\n    id() {\n        return this.privId;\n    }\n}\nexports.PushAudioOutputStreamImpl = PushAudioOutputStreamImpl;\n\n//# sourceMappingURL=AudioOutputStream.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AudioStreamFormatImpl = exports.AudioStreamFormat = exports.AudioFormatTag = void 0;\n// eslint-disable-next-line max-classes-per-file\nvar AudioFormatTag;\n(function (AudioFormatTag) {\n    AudioFormatTag[AudioFormatTag[\"PCM\"] = 1] = \"PCM\";\n    AudioFormatTag[AudioFormatTag[\"MuLaw\"] = 2] = \"MuLaw\";\n    AudioFormatTag[AudioFormatTag[\"Siren\"] = 3] = \"Siren\";\n    AudioFormatTag[AudioFormatTag[\"MP3\"] = 4] = \"MP3\";\n    AudioFormatTag[AudioFormatTag[\"SILKSkype\"] = 5] = \"SILKSkype\";\n    AudioFormatTag[AudioFormatTag[\"OGG_OPUS\"] = 6] = \"OGG_OPUS\";\n    AudioFormatTag[AudioFormatTag[\"WEBM_OPUS\"] = 7] = \"WEBM_OPUS\";\n    AudioFormatTag[AudioFormatTag[\"ALaw\"] = 8] = \"ALaw\";\n    AudioFormatTag[AudioFormatTag[\"FLAC\"] = 9] = \"FLAC\";\n    AudioFormatTag[AudioFormatTag[\"OPUS\"] = 10] = \"OPUS\";\n    AudioFormatTag[AudioFormatTag[\"AMR_WB\"] = 11] = \"AMR_WB\";\n    AudioFormatTag[AudioFormatTag[\"G722\"] = 12] = \"G722\";\n})(AudioFormatTag = exports.AudioFormatTag || (exports.AudioFormatTag = {}));\n/**\n * Represents audio stream format used for custom audio input configurations.\n * @class AudioStreamFormat\n */\nclass AudioStreamFormat {\n    /**\n     * Creates an audio stream format object representing the default audio stream\n     * format (16KHz 16bit mono PCM).\n     * @member AudioStreamFormat.getDefaultInputFormat\n     * @function\n     * @public\n     * @returns {AudioStreamFormat} The audio stream format being created.\n     */\n    static getDefaultInputFormat() {\n        return AudioStreamFormatImpl.getDefaultInputFormat();\n    }\n    /**\n     * Creates an audio stream format object with the specified format characteristics.\n     * @member AudioStreamFormat.getWaveFormat\n     * @function\n     * @public\n     * @param {number} samplesPerSecond - Sample rate, in samples per second (Hertz).\n     * @param {number} bitsPerSample - Bits per sample, typically 16.\n     * @param {number} channels - Number of channels in the waveform-audio data. Monaural data\n     * uses one channel and stereo data uses two channels.\n     * @param {AudioFormatTag} format - Audio format (PCM, alaw or mulaw).\n     * @returns {AudioStreamFormat} The audio stream format being created.\n     */\n    static getWaveFormat(samplesPerSecond, bitsPerSample, channels, format) {\n        return new AudioStreamFormatImpl(samplesPerSecond, bitsPerSample, channels, format);\n    }\n    /**\n     * Creates an audio stream format object with the specified pcm waveformat characteristics.\n     * @member AudioStreamFormat.getWaveFormatPCM\n     * @function\n     * @public\n     * @param {number} samplesPerSecond - Sample rate, in samples per second (Hertz).\n     * @param {number} bitsPerSample - Bits per sample, typically 16.\n     * @param {number} channels - Number of channels in the waveform-audio data. Monaural data\n     * uses one channel and stereo data uses two channels.\n     * @returns {AudioStreamFormat} The audio stream format being created.\n     */\n    static getWaveFormatPCM(samplesPerSecond, bitsPerSample, channels) {\n        return new AudioStreamFormatImpl(samplesPerSecond, bitsPerSample, channels);\n    }\n}\nexports.AudioStreamFormat = AudioStreamFormat;\n/**\n * @private\n * @class AudioStreamFormatImpl\n */\nclass AudioStreamFormatImpl extends AudioStreamFormat {\n    /**\n     * Creates an instance with the given values.\n     * @constructor\n     * @param {number} samplesPerSec - Samples per second.\n     * @param {number} bitsPerSample - Bits per sample.\n     * @param {number} channels - Number of channels.\n     * @param {AudioFormatTag} format - Audio format (PCM, alaw or mulaw).\n     */\n    constructor(samplesPerSec = 16000, bitsPerSample = 16, channels = 1, format = AudioFormatTag.PCM) {\n        super();\n        let isWavFormat = true;\n        /* 1 for PCM; 6 for alaw; 7 for mulaw */\n        switch (format) {\n            case AudioFormatTag.PCM:\n                this.formatTag = 1;\n                break;\n            case AudioFormatTag.ALaw:\n                this.formatTag = 6;\n                break;\n            case AudioFormatTag.MuLaw:\n                this.formatTag = 7;\n                break;\n            default:\n                isWavFormat = false;\n        }\n        this.bitsPerSample = bitsPerSample;\n        this.samplesPerSec = samplesPerSec;\n        this.channels = channels;\n        this.avgBytesPerSec = this.samplesPerSec * this.channels * (this.bitsPerSample / 8);\n        this.blockAlign = this.channels * Math.max(this.bitsPerSample, 8);\n        if (isWavFormat) {\n            this.privHeader = new ArrayBuffer(44);\n            // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView\n            const view = new DataView(this.privHeader);\n            /* RIFF identifier */\n            this.setString(view, 0, \"RIFF\");\n            /* file length */\n            view.setUint32(4, 0, true);\n            /* RIFF type & Format */\n            this.setString(view, 8, \"WAVEfmt \");\n            /* format chunk length */\n            view.setUint32(16, 16, true);\n            /* audio format */\n            view.setUint16(20, this.formatTag, true);\n            /* channel count */\n            view.setUint16(22, this.channels, true);\n            /* sample rate */\n            view.setUint32(24, this.samplesPerSec, true);\n            /* byte rate (sample rate * block align) */\n            view.setUint32(28, this.avgBytesPerSec, true);\n            /* block align (channel count * bytes per sample) */\n            view.setUint16(32, this.channels * (this.bitsPerSample / 8), true);\n            /* bits per sample */\n            view.setUint16(34, this.bitsPerSample, true);\n            /* data chunk identifier */\n            this.setString(view, 36, \"data\");\n            /* data chunk length */\n            view.setUint32(40, 0, true);\n        }\n    }\n    /**\n     * Retrieves the default input format.\n     * @member AudioStreamFormatImpl.getDefaultInputFormat\n     * @function\n     * @public\n     * @returns {AudioStreamFormatImpl} The default input format.\n     */\n    static getDefaultInputFormat() {\n        return new AudioStreamFormatImpl();\n    }\n    /**\n     * Creates an audio context appropriate to current browser\n     * @member AudioStreamFormatImpl.getAudioContext\n     * @function\n     * @public\n     * @returns {AudioContext} An audio context instance\n     */\n    /* eslint-disable */\n    static getAudioContext(sampleRate) {\n        // Workaround for Speech SDK bug in Safari.\n        const AudioContext = window.AudioContext // our preferred impl\n            || window.webkitAudioContext // fallback, mostly when on Safari\n            || false; // could not find.\n        // https://developer.mozilla.org/en-US/docs/Web/API/AudioContext\n        if (!!AudioContext) {\n            if (sampleRate !== undefined && navigator.mediaDevices.getSupportedConstraints().sampleRate) {\n                return new AudioContext({ sampleRate });\n            }\n            else {\n                return new AudioContext();\n            }\n        }\n        else {\n            throw new Error(\"Browser does not support Web Audio API (AudioContext is not available).\");\n        }\n    }\n    /* eslint-enable */\n    /**\n     * Closes the configuration object.\n     * @member AudioStreamFormatImpl.prototype.close\n     * @function\n     * @public\n     */\n    close() {\n        return;\n    }\n    get header() {\n        return this.privHeader;\n    }\n    setString(view, offset, str) {\n        for (let i = 0; i < str.length; i++) {\n            view.setUint8(offset + i, str.charCodeAt(i));\n        }\n    }\n}\nexports.AudioStreamFormatImpl = AudioStreamFormatImpl;\n\n//# sourceMappingURL=AudioStreamFormat.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseAudioPlayer = void 0;\nconst Error_js_1 = require(\"../../common/Error.js\");\nconst Exports_js_1 = require(\"../Exports.js\");\nconst AudioStreamFormat_js_1 = require(\"./AudioStreamFormat.js\");\n/**\n * Base audio player class\n * TODO: Plays only PCM for now.\n * @class\n */\nclass BaseAudioPlayer {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {AudioStreamFormat} audioFormat audio stream format recognized by the player.\n     */\n    constructor(audioFormat) {\n        this.audioContext = null;\n        this.gainNode = null;\n        this.autoUpdateBufferTimer = 0;\n        if (audioFormat === undefined) {\n            audioFormat = Exports_js_1.AudioStreamFormat.getDefaultInputFormat();\n        }\n        this.init(audioFormat);\n    }\n    /**\n     * play Audio sample\n     * @param newAudioData audio data to be played.\n     */\n    playAudioSample(newAudioData, cb, err) {\n        try {\n            this.ensureInitializedContext();\n            const audioData = this.formatAudioData(newAudioData);\n            const newSamplesData = new Float32Array(this.samples.length + audioData.length);\n            newSamplesData.set(this.samples, 0);\n            newSamplesData.set(audioData, this.samples.length);\n            this.samples = newSamplesData;\n            if (!!cb) {\n                cb();\n            }\n        }\n        catch (e) {\n            if (!!err) {\n                err(e);\n            }\n        }\n    }\n    /**\n     * stops audio and clears the buffers\n     */\n    stopAudio(cb, err) {\n        if (this.audioContext !== null) {\n            this.samples = new Float32Array();\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            clearInterval(this.autoUpdateBufferTimer);\n            this.audioContext.close().then(() => {\n                if (!!cb) {\n                    cb();\n                }\n            }, (error) => {\n                if (!!err) {\n                    err(error);\n                }\n            });\n            this.audioContext = null;\n        }\n    }\n    init(audioFormat) {\n        this.audioFormat = audioFormat;\n        this.samples = new Float32Array();\n    }\n    ensureInitializedContext() {\n        if (this.audioContext === null) {\n            this.createAudioContext();\n            const timerPeriod = 200;\n            this.autoUpdateBufferTimer = setInterval(() => {\n                this.updateAudioBuffer();\n            }, timerPeriod);\n        }\n    }\n    createAudioContext() {\n        // new ((window as any).AudioContext || (window as any).webkitAudioContext)();\n        this.audioContext = AudioStreamFormat_js_1.AudioStreamFormatImpl.getAudioContext();\n        // TODO: Various examples shows this gain node, it does not seem to be needed unless we plan\n        // to control the volume, not likely\n        this.gainNode = this.audioContext.createGain();\n        this.gainNode.gain.value = 1;\n        this.gainNode.connect(this.audioContext.destination);\n        this.startTime = this.audioContext.currentTime;\n    }\n    formatAudioData(audioData) {\n        switch (this.audioFormat.bitsPerSample) {\n            case 8:\n                return this.formatArrayBuffer(new Int8Array(audioData), 128);\n            case 16:\n                return this.formatArrayBuffer(new Int16Array(audioData), 32768);\n            case 32:\n                return this.formatArrayBuffer(new Int32Array(audioData), 2147483648);\n            default:\n                throw new Error_js_1.InvalidOperationError(\"Only WAVE_FORMAT_PCM (8/16/32 bps) format supported at this time\");\n        }\n    }\n    formatArrayBuffer(audioData, maxValue) {\n        const float32Data = new Float32Array(audioData.length);\n        for (let i = 0; i < audioData.length; i++) {\n            float32Data[i] = audioData[i] / maxValue;\n        }\n        return float32Data;\n    }\n    updateAudioBuffer() {\n        if (this.samples.length === 0) {\n            return;\n        }\n        const channelCount = this.audioFormat.channels;\n        const bufferSource = this.audioContext.createBufferSource();\n        const frameCount = this.samples.length / channelCount;\n        const audioBuffer = this.audioContext.createBuffer(channelCount, frameCount, this.audioFormat.samplesPerSec);\n        // TODO: Should we do the conversion in the pushAudioSample instead?\n        for (let channel = 0; channel < channelCount; channel++) {\n            // Fill in individual channel data\n            let channelOffset = channel;\n            const audioData = audioBuffer.getChannelData(channel);\n            for (let i = 0; i < this.samples.length; i++, channelOffset += channelCount) {\n                audioData[i] = this.samples[channelOffset];\n            }\n        }\n        if (this.startTime < this.audioContext.currentTime) {\n            this.startTime = this.audioContext.currentTime;\n        }\n        bufferSource.buffer = audioBuffer;\n        bufferSource.connect(this.gainNode);\n        bufferSource.start(this.startTime);\n        // Make sure we play the next sample after the current one.\n        this.startTime += audioBuffer.duration;\n        // Clear the samples for the next pushed data.\n        this.samples = new Float32Array();\n    }\n    async playAudio(audioData) {\n        if (this.audioContext === null) {\n            this.createAudioContext();\n        }\n        const source = this.audioContext.createBufferSource();\n        const destination = this.audioContext.destination;\n        await this.audioContext.decodeAudioData(audioData, (newBuffer) => {\n            source.buffer = newBuffer;\n            source.connect(destination);\n            source.start(0);\n        });\n    }\n}\nexports.BaseAudioPlayer = BaseAudioPlayer;\n\n//# sourceMappingURL=BaseAudioPlayer.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PullAudioInputStreamCallback = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n/**\n * An abstract base class that defines callback methods (read() and close()) for\n * custom audio input streams).\n * @class PullAudioInputStreamCallback\n */\nclass PullAudioInputStreamCallback {\n}\nexports.PullAudioInputStreamCallback = PullAudioInputStreamCallback;\n\n//# sourceMappingURL=PullAudioInputStreamCallback.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PushAudioOutputStreamCallback = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n/**\n * An abstract base class that defines callback methods (write() and close()) for\n * custom audio output streams).\n * @class PushAudioOutputStreamCallback\n */\nclass PushAudioOutputStreamCallback {\n}\nexports.PushAudioOutputStreamCallback = PushAudioOutputStreamCallback;\n\n//# sourceMappingURL=PushAudioOutputStreamCallback.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeakerAudioDestination = void 0;\nconst Exports_js_1 = require(\"../../common/Exports.js\");\nconst AudioOutputStream_js_1 = require(\"./AudioOutputStream.js\");\nconst AudioStreamFormat_js_1 = require(\"./AudioStreamFormat.js\");\nconst MediaDurationPlaceholderSeconds = 60 * 30;\nconst AudioFormatToMimeType = {\n    [AudioStreamFormat_js_1.AudioFormatTag.PCM]: \"audio/wav\",\n    [AudioStreamFormat_js_1.AudioFormatTag.MuLaw]: \"audio/x-wav\",\n    [AudioStreamFormat_js_1.AudioFormatTag.MP3]: \"audio/mpeg\",\n    [AudioStreamFormat_js_1.AudioFormatTag.OGG_OPUS]: \"audio/ogg\",\n    [AudioStreamFormat_js_1.AudioFormatTag.WEBM_OPUS]: \"audio/webm; codecs=opus\",\n    [AudioStreamFormat_js_1.AudioFormatTag.ALaw]: \"audio/x-wav\",\n    [AudioStreamFormat_js_1.AudioFormatTag.FLAC]: \"audio/flac\",\n    [AudioStreamFormat_js_1.AudioFormatTag.AMR_WB]: \"audio/amr-wb\",\n    [AudioStreamFormat_js_1.AudioFormatTag.G722]: \"audio/G722\",\n};\n/**\n * Represents the speaker playback audio destination, which only works in browser.\n * Note: the SDK will try to use <a href=\"https://www.w3.org/TR/media-source/\">Media Source Extensions</a> to play audio.\n * Mp3 format has better supports on Microsoft Edge, Chrome and Safari (desktop), so, it's better to specify mp3 format for playback.\n * @class SpeakerAudioDestination\n * Updated in version 1.17.0\n */\nclass SpeakerAudioDestination {\n    constructor(audioDestinationId) {\n        this.privPlaybackStarted = false;\n        this.privAppendingToBuffer = false;\n        this.privMediaSourceOpened = false;\n        this.privBytesReceived = 0;\n        this.privId = audioDestinationId ? audioDestinationId : (0, Exports_js_1.createNoDashGuid)();\n        this.privIsPaused = false;\n        this.privIsClosed = false;\n    }\n    id() {\n        return this.privId;\n    }\n    write(buffer, cb, err) {\n        if (this.privAudioBuffer !== undefined) {\n            this.privAudioBuffer.push(buffer);\n            this.updateSourceBuffer().then(() => {\n                if (!!cb) {\n                    cb();\n                }\n            }, (error) => {\n                if (!!err) {\n                    err(error);\n                }\n            });\n        }\n        else if (this.privAudioOutputStream !== undefined) {\n            this.privAudioOutputStream.write(buffer);\n            this.privBytesReceived += buffer.byteLength;\n        }\n    }\n    close(cb, err) {\n        this.privIsClosed = true;\n        if (this.privSourceBuffer !== undefined) {\n            this.handleSourceBufferUpdateEnd().then(() => {\n                if (!!cb) {\n                    cb();\n                }\n            }, (error) => {\n                if (!!err) {\n                    err(error);\n                }\n            });\n        }\n        else if (this.privAudioOutputStream !== undefined && typeof window !== \"undefined\") {\n            if ((this.privFormat.formatTag === AudioStreamFormat_js_1.AudioFormatTag.PCM || this.privFormat.formatTag === AudioStreamFormat_js_1.AudioFormatTag.MuLaw\n                || this.privFormat.formatTag === AudioStreamFormat_js_1.AudioFormatTag.ALaw) && this.privFormat.hasHeader === false) {\n                // eslint-disable-next-line no-console\n                console.warn(\"Play back is not supported for raw PCM, mulaw or alaw format without header.\");\n                if (!!this.onAudioEnd) {\n                    this.onAudioEnd(this);\n                }\n            }\n            else {\n                let receivedAudio = new ArrayBuffer(this.privBytesReceived);\n                this.privAudioOutputStream.read(receivedAudio).then(() => {\n                    receivedAudio = this.privFormat.addHeader(receivedAudio);\n                    const audioBlob = new Blob([receivedAudio], { type: AudioFormatToMimeType[this.privFormat.formatTag] });\n                    this.privAudio.src = window.URL.createObjectURL(audioBlob);\n                    this.notifyPlayback().then(() => {\n                        if (!!cb) {\n                            cb();\n                        }\n                    }, (error) => {\n                        if (!!err) {\n                            err(error);\n                        }\n                    });\n                }, (error) => {\n                    if (!!err) {\n                        err(error);\n                    }\n                });\n            }\n        }\n        else {\n            // unsupported format, call onAudioEnd directly.\n            if (!!this.onAudioEnd) {\n                this.onAudioEnd(this);\n            }\n        }\n    }\n    set format(format) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        if (typeof (AudioContext) !== \"undefined\" || (typeof (window) !== \"undefined\" && typeof (window.webkitAudioContext) !== \"undefined\")) {\n            this.privFormat = format;\n            const mimeType = AudioFormatToMimeType[this.privFormat.formatTag];\n            if (mimeType === undefined) {\n                // eslint-disable-next-line no-console\n                console.warn(`Unknown mimeType for format ${AudioStreamFormat_js_1.AudioFormatTag[this.privFormat.formatTag]}; playback is not supported.`);\n            }\n            else if (typeof (MediaSource) !== \"undefined\" && MediaSource.isTypeSupported(mimeType)) {\n                this.privAudio = new Audio();\n                this.privAudioBuffer = [];\n                this.privMediaSource = new MediaSource();\n                this.privAudio.src = URL.createObjectURL(this.privMediaSource);\n                this.privAudio.load();\n                this.privMediaSource.onsourceopen = () => {\n                    this.privMediaSourceOpened = true;\n                    this.privMediaSource.duration = MediaDurationPlaceholderSeconds;\n                    this.privSourceBuffer = this.privMediaSource.addSourceBuffer(mimeType);\n                    this.privSourceBuffer.onupdate = () => {\n                        this.updateSourceBuffer().catch((reason) => {\n                            Exports_js_1.Events.instance.onEvent(new Exports_js_1.BackgroundEvent(reason));\n                        });\n                    };\n                    this.privSourceBuffer.onupdateend = () => {\n                        this.handleSourceBufferUpdateEnd().catch((reason) => {\n                            Exports_js_1.Events.instance.onEvent(new Exports_js_1.BackgroundEvent(reason));\n                        });\n                    };\n                    this.privSourceBuffer.onupdatestart = () => {\n                        this.privAppendingToBuffer = false;\n                    };\n                };\n                this.updateSourceBuffer().catch((reason) => {\n                    Exports_js_1.Events.instance.onEvent(new Exports_js_1.BackgroundEvent(reason));\n                });\n            }\n            else {\n                // eslint-disable-next-line no-console\n                console.warn(`Format ${AudioStreamFormat_js_1.AudioFormatTag[this.privFormat.formatTag]} could not be played by MSE, streaming playback is not enabled.`);\n                this.privAudioOutputStream = new AudioOutputStream_js_1.PullAudioOutputStreamImpl();\n                this.privAudioOutputStream.format = this.privFormat;\n                this.privAudio = new Audio();\n            }\n        }\n    }\n    get volume() {\n        return this.privAudio?.volume ?? -1;\n    }\n    set volume(volume) {\n        if (!!this.privAudio) {\n            this.privAudio.volume = volume;\n        }\n    }\n    mute() {\n        if (!!this.privAudio) {\n            this.privAudio.muted = true;\n        }\n    }\n    unmute() {\n        if (!!this.privAudio) {\n            this.privAudio.muted = false;\n        }\n    }\n    get isClosed() {\n        return this.privIsClosed;\n    }\n    get currentTime() {\n        if (this.privAudio !== undefined) {\n            return this.privAudio.currentTime;\n        }\n        return -1;\n    }\n    pause() {\n        if (!this.privIsPaused && this.privAudio !== undefined) {\n            this.privAudio.pause();\n            this.privIsPaused = true;\n        }\n    }\n    resume(cb, err) {\n        if (this.privIsPaused && this.privAudio !== undefined) {\n            this.privAudio.play().then(() => {\n                if (!!cb) {\n                    cb();\n                }\n            }, (error) => {\n                if (!!err) {\n                    err(error);\n                }\n            });\n            this.privIsPaused = false;\n        }\n    }\n    get internalAudio() {\n        return this.privAudio;\n    }\n    async updateSourceBuffer() {\n        if (this.privAudioBuffer !== undefined && (this.privAudioBuffer.length > 0) && this.sourceBufferAvailable()) {\n            this.privAppendingToBuffer = true;\n            const binary = this.privAudioBuffer.shift();\n            try {\n                this.privSourceBuffer.appendBuffer(binary);\n            }\n            catch (error) {\n                this.privAudioBuffer.unshift(binary);\n                // eslint-disable-next-line no-console\n                console.log(\"buffer filled, pausing addition of binaries until space is made\");\n                return;\n            }\n            await this.notifyPlayback();\n        }\n        else if (this.canEndStream()) {\n            await this.handleSourceBufferUpdateEnd();\n        }\n    }\n    async handleSourceBufferUpdateEnd() {\n        if (this.canEndStream() && this.sourceBufferAvailable()) {\n            this.privMediaSource.endOfStream();\n            await this.notifyPlayback();\n        }\n    }\n    async notifyPlayback() {\n        if (!this.privPlaybackStarted && this.privAudio !== undefined) {\n            this.privPlaybackStarted = true;\n            if (!!this.onAudioStart) {\n                this.onAudioStart(this);\n            }\n            this.privAudio.onended = () => {\n                if (!!this.onAudioEnd) {\n                    this.onAudioEnd(this);\n                }\n            };\n            if (!this.privIsPaused) {\n                await this.privAudio.play();\n            }\n        }\n    }\n    canEndStream() {\n        return (this.isClosed && this.privSourceBuffer !== undefined && (this.privAudioBuffer.length === 0)\n            && this.privMediaSourceOpened && !this.privAppendingToBuffer && this.privMediaSource.readyState === \"open\");\n    }\n    sourceBufferAvailable() {\n        return (this.privSourceBuffer !== undefined && !this.privSourceBuffer.updating);\n    }\n}\nexports.SpeakerAudioDestination = SpeakerAudioDestination;\n\n//# sourceMappingURL=SpeakerAudioDestination.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AutoDetectSourceLanguageConfig = void 0;\nconst Exports_js_1 = require(\"../common.speech/Exports.js\");\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst Exports_js_2 = require(\"./Exports.js\");\nconst LanguageIdMode_js_1 = require(\"./LanguageIdMode.js\");\n/**\n * Language auto detect configuration.\n * @class AutoDetectSourceLanguageConfig\n * Added in version 1.13.0.\n */\nclass AutoDetectSourceLanguageConfig {\n    constructor() {\n        this.privProperties = new Exports_js_2.PropertyCollection();\n        this.privProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_LanguageIdMode, \"AtStart\");\n        this.privLanguageIdMode = LanguageIdMode_js_1.LanguageIdMode.AtStart;\n    }\n    /**\n     * @member AutoDetectSourceLanguageConfig.fromOpenRange\n     * @function\n     * @public\n     * Only [[SpeechSynthesizer]] supports source language auto detection from open range,\n     * for [[Recognizer]], please use AutoDetectSourceLanguageConfig with specific source languages.\n     * @return {AutoDetectSourceLanguageConfig} Instance of AutoDetectSourceLanguageConfig\n     * @summary Creates an instance of the AutoDetectSourceLanguageConfig with open range.\n     */\n    static fromOpenRange() {\n        const config = new AutoDetectSourceLanguageConfig();\n        config.properties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages, Exports_js_1.AutoDetectSourceLanguagesOpenRangeOptionName);\n        config.properties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_RecoLanguage, \"en-US\");\n        return config;\n    }\n    /**\n     * @member AutoDetectSourceLanguageConfig.fromLanguages\n     * @function\n     * @public\n     * @param {string[]} languages Comma-separated string of languages (eg. \"en-US,fr-FR\") to populate properties of config.\n     * @return {AutoDetectSourceLanguageConfig} Instance of AutoDetectSourceLanguageConfig\n     * @summary Creates an instance of the AutoDetectSourceLanguageConfig with given languages.\n     */\n    static fromLanguages(languages) {\n        Contracts_js_1.Contracts.throwIfArrayEmptyOrWhitespace(languages, \"languages\");\n        const config = new AutoDetectSourceLanguageConfig();\n        config.properties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages, languages.join());\n        return config;\n    }\n    /**\n     * @member AutoDetectSourceLanguageConfig.fromSourceLanguageConfigs\n     * @function\n     * @public\n     * @param {SourceLanguageConfig[]} configs SourceLanguageConfigs to populate properties of config.\n     * @return {AutoDetectSourceLanguageConfig} Instance of AutoDetectSourceLanguageConfig\n     * @summary Creates an instance of the AutoDetectSourceLanguageConfig with given SourceLanguageConfigs.\n     */\n    static fromSourceLanguageConfigs(configs) {\n        if (configs.length < 1) {\n            throw new Error(\"Expected non-empty SourceLanguageConfig array.\");\n        }\n        const autoConfig = new AutoDetectSourceLanguageConfig();\n        const langs = [];\n        configs.forEach((config) => {\n            langs.push(config.language);\n            if (config.endpointId !== undefined && config.endpointId !== \"\") {\n                const customProperty = config.language + Exports_js_2.PropertyId.SpeechServiceConnection_EndpointId.toString();\n                autoConfig.properties.setProperty(customProperty, config.endpointId);\n            }\n        });\n        autoConfig.properties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages, langs.join());\n        return autoConfig;\n    }\n    /**\n     * @member AutoDetectSourceLanguageConfig.prototype.properties\n     * @function\n     * @public\n     * @return {PropertyCollection} Properties of the config.\n     * @summary Gets an auto detected language config properties\n     */\n    get properties() {\n        return this.privProperties;\n    }\n    /**\n     * @member AutoDetectSourceLanguageConfig.prototype.mode\n     * @function\n     * @public\n     * @param {LanguageIdMode} mode LID mode desired.\n     * @summary Sets LID operation to desired mode\n     */\n    set mode(mode) {\n        if (mode === LanguageIdMode_js_1.LanguageIdMode.Continuous) {\n            this.privProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion, \"2\");\n            this.privProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_LanguageIdMode, \"Continuous\");\n        }\n        else { // LanguageIdMode.AtStart\n            this.privProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion, \"1\");\n            this.privProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_LanguageIdMode, \"AtStart\");\n        }\n        this.privLanguageIdMode = mode;\n    }\n}\nexports.AutoDetectSourceLanguageConfig = AutoDetectSourceLanguageConfig;\n\n//# sourceMappingURL=AutoDetectSourceLanguageConfig.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AutoDetectSourceLanguageResult = void 0;\nconst Contracts_js_1 = require(\"./Contracts.js\");\n/**\n * Output format\n * @class AutoDetectSourceLanguageResult\n */\nclass AutoDetectSourceLanguageResult {\n    constructor(language, languageDetectionConfidence) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(language, \"language\");\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(languageDetectionConfidence, \"languageDetectionConfidence\");\n        this.privLanguage = language;\n        this.privLanguageDetectionConfidence = languageDetectionConfidence;\n    }\n    /**\n     * Creates an instance of AutoDetectSourceLanguageResult object from a SpeechRecognitionResult instance.\n     * @member AutoDetectSourceLanguageResult.fromResult\n     * @function\n     * @public\n     * @param {SpeechRecognitionResult} result - The recognition result.\n     * @returns {AutoDetectSourceLanguageResult} AutoDetectSourceLanguageResult object being created.\n     */\n    static fromResult(result) {\n        return new AutoDetectSourceLanguageResult(result.language, result.languageDetectionConfidence);\n    }\n    /**\n     * Creates an instance of AutoDetectSourceLanguageResult object from a ConversationTranscriptionResult instance.\n     * @member AutoDetectSourceLanguageResult.fromConversationTranscriptionResult\n     * @function\n     * @public\n     * @param {ConversationTranscriptionResult} result - The transcription result.\n     * @returns {AutoDetectSourceLanguageResult} AutoDetectSourceLanguageResult object being created.\n     */\n    static fromConversationTranscriptionResult(result) {\n        return new AutoDetectSourceLanguageResult(result.language, result.languageDetectionConfidence);\n    }\n    get language() {\n        return this.privLanguage;\n    }\n    get languageDetectionConfidence() {\n        return this.privLanguageDetectionConfidence;\n    }\n}\nexports.AutoDetectSourceLanguageResult = AutoDetectSourceLanguageResult;\n\n//# sourceMappingURL=AutoDetectSourceLanguageResult.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AvatarConfig = void 0;\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Defines the talking avatar configuration.\n * @class AvatarConfig\n * Added in version 1.33.0\n *\n * @experimental This feature is experimental and might change or have limited support.\n */\nclass AvatarConfig {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {string} character - The avatar character.\n     * @param {string} style - The avatar style.\n     * @param {AvatarVideoFormat} videoFormat - The talking avatar output video format.\n     */\n    constructor(character, style, videoFormat) {\n        this.privCustomized = false;\n        this.privUseBuiltInVoice = false;\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(character, \"character\");\n        this.character = character;\n        this.style = style;\n        if (videoFormat === undefined) {\n            videoFormat = new Exports_js_1.AvatarVideoFormat();\n        }\n        this.videoFormat = videoFormat;\n    }\n    /**\n     * Indicates if the talking avatar is customized.\n     */\n    get customized() {\n        return this.privCustomized;\n    }\n    /**\n     * Sets if the talking avatar is customized.\n     */\n    set customized(value) {\n        this.privCustomized = value;\n    }\n    /**\n     * Indicates whether to use built-in voice for custom avatar.\n     */\n    get useBuiltInVoice() {\n        return this.privUseBuiltInVoice;\n    }\n    /**\n     * Sets whether to use built-in voice for custom avatar.\n     */\n    set useBuiltInVoice(value) {\n        this.privUseBuiltInVoice = value;\n    }\n    /**\n     * Gets the photo avatar base model name.\n     */\n    get photoAvatarBaseModel() {\n        return this.privPhotoAvatarBaseModel;\n    }\n    /**\n     * Sets the photo avatar base model name.\n     */\n    set photoAvatarBaseModel(value) {\n        this.privPhotoAvatarBaseModel = value;\n    }\n    /**\n     * Gets the background color.\n     */\n    get backgroundColor() {\n        return this.privBackgroundColor;\n    }\n    /**\n     * Sets the background color.\n     */\n    set backgroundColor(value) {\n        this.privBackgroundColor = value;\n    }\n    /**\n     * Gets the background image.\n     */\n    get backgroundImage() {\n        return this.privBackgroundImage;\n    }\n    /**\n     * Sets the background image.\n     * @param {URL} value - The background image.\n     */\n    set backgroundImage(value) {\n        this.privBackgroundImage = value;\n    }\n    /**\n     * Gets the remote ICE servers.\n     * @remarks This method is designed to be used internally in the SDK.\n     * @returns {RTCIceServer[]} The remote ICE servers.\n     */\n    get remoteIceServers() {\n        return this.privRemoteIceServers;\n    }\n    /**\n     * Sets the remote ICE servers.\n     * @remarks Normally, the ICE servers are gathered from the PeerConnection,\n     * set this property to override the ICE servers. E.g., the ICE servers are\n     * different in client and server side.\n     * @param {RTCIceServer[]} value - The remote ICE servers.\n     */\n    set remoteIceServers(value) {\n        this.privRemoteIceServers = value;\n    }\n}\nexports.AvatarConfig = AvatarConfig;\n\n//# sourceMappingURL=AvatarConfig.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AvatarEventArgs = exports.AvatarEventTypes = void 0;\nvar AvatarEventTypes;\n(function (AvatarEventTypes) {\n    AvatarEventTypes[\"SwitchedToSpeaking\"] = \"SwitchedToSpeaking\";\n    AvatarEventTypes[\"SwitchedToIdle\"] = \"SwitchedToIdle\";\n    AvatarEventTypes[\"SessionClosed\"] = \"SessionClosed\";\n})(AvatarEventTypes = exports.AvatarEventTypes || (exports.AvatarEventTypes = {}));\n/**\n * Defines content for talking avatar events.\n * @class AvatarEventArgs\n * Added in version 1.33.0\n *\n * @experimental This feature is experimental and might change or have limited support.\n */\nclass AvatarEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {number} audioOffset - The audio offset.\n     * @param {string} description - The description of the event.\n     */\n    constructor(audioOffset, description) {\n        this.privOffset = audioOffset;\n        this.privDescription = description;\n    }\n    /**\n     * The type of the event.\n     * @public\n     * @returns {AvatarEventTypes} The type of the event.\n     */\n    get type() {\n        return this.privType;\n    }\n    /**\n     * The time offset associated with this event.\n     * @public\n     * @returns {number} The time offset associated with this event.\n     */\n    get offset() {\n        return this.privOffset;\n    }\n    /**\n     * The description of the event.\n     * @public\n     * @returns {string} The description of the event.\n     */\n    get description() {\n        return this.privDescription;\n    }\n}\nexports.AvatarEventArgs = AvatarEventArgs;\n\n//# sourceMappingURL=AvatarEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AvatarSynthesizer = void 0;\nconst SpeechSynthesisConnectionFactory_js_1 = require(\"../common.speech/SpeechSynthesisConnectionFactory.js\");\nconst Exports_js_1 = require(\"../common.speech/Exports.js\");\nconst Exports_js_2 = require(\"../common/Exports.js\");\nconst AudioOutputFormat_js_1 = require(\"./Audio/AudioOutputFormat.js\");\nconst Exports_js_3 = require(\"./Exports.js\");\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst Synthesizer_js_1 = require(\"./Synthesizer.js\");\n/**\n * Defines the avatar synthesizer.\n * @class AvatarSynthesizer\n * Added in version 1.33.0\n *\n * @experimental This feature is experimental and might change or have limited support.\n */\nclass AvatarSynthesizer extends Exports_js_3.Synthesizer {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {SpeechConfig} speechConfig - The speech config.\n     * @param {AvatarConfig} avatarConfig - The talking avatar config.\n     */\n    constructor(speechConfig, avatarConfig) {\n        super(speechConfig);\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(avatarConfig, \"avatarConfig\");\n        this.privConnectionFactory = new SpeechSynthesisConnectionFactory_js_1.SpeechSynthesisConnectionFactory();\n        this.privAvatarConfig = avatarConfig;\n        this.implCommonSynthesizeSetup();\n    }\n    implCommonSynthesizeSetup() {\n        super.implCommonSynthesizeSetup();\n        // The service checks the audio format setting while it ignores it in avatar synthesis.\n        this.privAdapter.audioOutputFormat = AudioOutputFormat_js_1.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(Exports_js_3.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm);\n    }\n    /**\n     * Starts the talking avatar session and establishes the WebRTC connection.\n     * @member AvatarSynthesizer.prototype.startAvatarAsync\n     * @function\n     * @public\n     * @param {AvatarWebRTCConnectionInfo} peerConnection - The peer connection.\n     * @returns {Promise<SynthesisResult>} The promise of the connection result.\n     */\n    async startAvatarAsync(peerConnection) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(peerConnection, \"peerConnection\");\n        this.privIceServers = peerConnection.getConfiguration().iceServers;\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privIceServers, \"Ice servers must be set.\");\n        const iceGatheringDone = new Exports_js_2.Deferred();\n        // https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/icegatheringstatechange_event\n        peerConnection.onicegatheringstatechange = () => {\n            Exports_js_2.Events.instance.onEvent(new Exports_js_2.PlatformEvent(\"peer connection: ice gathering state: \" + peerConnection.iceGatheringState, Exports_js_2.EventType.Debug));\n            if (peerConnection.iceGatheringState === \"complete\") {\n                Exports_js_2.Events.instance.onEvent(new Exports_js_2.PlatformEvent(\"peer connection: ice gathering complete.\", Exports_js_2.EventType.Info));\n                iceGatheringDone.resolve();\n            }\n        };\n        peerConnection.onicecandidate = (event) => {\n            if (event.candidate) {\n                Exports_js_2.Events.instance.onEvent(new Exports_js_2.PlatformEvent(\"peer connection: ice candidate: \" + event.candidate.candidate, Exports_js_2.EventType.Debug));\n            }\n            else {\n                Exports_js_2.Events.instance.onEvent(new Exports_js_2.PlatformEvent(\"peer connection: ice candidate: complete\", Exports_js_2.EventType.Debug));\n                iceGatheringDone.resolve();\n            }\n        };\n        // Set a timeout for ice gathering, currently 2 seconds.\n        setTimeout(() => {\n            if (peerConnection.iceGatheringState !== \"complete\") {\n                Exports_js_2.Events.instance.onEvent(new Exports_js_2.PlatformEvent(\"peer connection: ice gathering timeout.\", Exports_js_2.EventType.Warning));\n                iceGatheringDone.resolve();\n            }\n        }, 2000);\n        const sdp = await peerConnection.createOffer();\n        await peerConnection.setLocalDescription(sdp);\n        await iceGatheringDone.promise;\n        Exports_js_2.Events.instance.onEvent(new Exports_js_2.PlatformEvent(\"peer connection: got local SDP.\", Exports_js_2.EventType.Info));\n        this.privProperties.setProperty(Exports_js_3.PropertyId.TalkingAvatarService_WebRTC_SDP, JSON.stringify(peerConnection.localDescription));\n        const result = await this.speak(\"\", false);\n        if (result.reason !== Exports_js_3.ResultReason.SynthesizingAudioCompleted) {\n            return new Exports_js_3.SynthesisResult(result.resultId, result.reason, result.errorDetails, result.properties);\n        }\n        const sdpAnswerString = atob(result.properties.getProperty(Exports_js_3.PropertyId.TalkingAvatarService_WebRTC_SDP));\n        const sdpAnswer = new RTCSessionDescription(JSON.parse(sdpAnswerString));\n        await peerConnection.setRemoteDescription(sdpAnswer);\n        return new Exports_js_3.SynthesisResult(result.resultId, result.reason, undefined, result.properties);\n    }\n    /**\n     * Speaks plain text asynchronously. The rendered audio and video will be sent via the WebRTC connection.\n     * @member AvatarSynthesizer.prototype.speakTextAsync\n     * @function\n     * @public\n     * @param {string} text - The plain text to speak.\n     * @returns {Promise<SynthesisResult>} The promise of the synthesis result.\n     */\n    async speakTextAsync(text) {\n        const r = await this.speak(text, false);\n        return new Exports_js_3.SynthesisResult(r.resultId, r.reason, r.errorDetails, r.properties);\n    }\n    /**\n     * Speaks SSML asynchronously. The rendered audio and video will be sent via the WebRTC connection.\n     * @member AvatarSynthesizer.prototype.speakSsmlAsync\n     * @function\n     * @public\n     * @param {string} ssml - The SSML text to speak.\n     * @returns {Promise<SynthesisResult>} The promise of the synthesis result.\n     */\n    async speakSsmlAsync(ssml) {\n        const r = await this.speak(ssml, true);\n        return new Exports_js_3.SynthesisResult(r.resultId, r.reason, r.errorDetails, r.properties);\n    }\n    /**\n     * Speaks text asynchronously. The avatar will switch to idle state.\n     * @member AvatarSynthesizer.prototype.stopSpeakingAsync\n     * @function\n     * @public\n     * @returns {Promise<void>} The promise of the void result.\n     */\n    async stopSpeakingAsync() {\n        while (this.synthesisRequestQueue.length() > 0) {\n            const request = await this.synthesisRequestQueue.dequeue();\n            request.err(\"Synthesis is canceled by user.\");\n        }\n        return this.privAdapter.stopSpeaking();\n    }\n    /**\n     * Stops the talking avatar session and closes the WebRTC connection.\n     * For now, this is the same as close().\n     * You need to create a new AvatarSynthesizer instance to start a new session.\n     * @member AvatarSynthesizer.prototype.stopAvatarAsync\n     * @function\n     * @public\n     * @returns {Promise<void>} The promise of the void result.\n     */\n    async stopAvatarAsync() {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposed);\n        return this.dispose(true);\n    }\n    /**\n     * Dispose of associated resources.\n     * @member AvatarSynthesizer.prototype.close\n     * @function\n     * @public\n     */\n    async close() {\n        if (this.privDisposed) {\n            return;\n        }\n        return this.dispose(true);\n    }\n    /**\n     * Gets the ICE servers. Internal use only.\n     */\n    get iceServers() {\n        return this.privIceServers;\n    }\n    // Creates the synthesis adapter\n    createSynthesisAdapter(authentication, connectionFactory, synthesizerConfig) {\n        return new Exports_js_1.AvatarSynthesisAdapter(authentication, connectionFactory, synthesizerConfig, this, this.privAvatarConfig);\n    }\n    createRestSynthesisAdapter(_authentication, _synthesizerConfig) {\n        return undefined;\n    }\n    createSynthesizerConfig(speechConfig) {\n        const config = super.createSynthesizerConfig(speechConfig);\n        config.avatarEnabled = true;\n        return config;\n    }\n    async speak(text, isSSML) {\n        const requestId = (0, Exports_js_2.createNoDashGuid)();\n        const deferredResult = new Exports_js_2.Deferred();\n        this.synthesisRequestQueue.enqueue(new Synthesizer_js_1.SynthesisRequest(requestId, text, isSSML, (e) => {\n            deferredResult.resolve(e);\n            this.privSynthesizing = false;\n            void this.adapterSpeak();\n        }, (e) => {\n            deferredResult.reject(e);\n            this.privSynthesizing = false;\n        }));\n        void this.adapterSpeak();\n        return deferredResult.promise;\n    }\n}\nexports.AvatarSynthesizer = AvatarSynthesizer;\n\n//# sourceMappingURL=AvatarSynthesizer.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AvatarVideoFormat = exports.Coordinate = void 0;\n/* eslint-disable max-classes-per-file */\n/**\n * Defines a coordinate in 2D space.\n * @class Coordinate\n * Added in version 1.33.0\n */\nclass Coordinate {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n}\nexports.Coordinate = Coordinate;\n/**\n * Defines the avatar output video format.\n * @class AvatarVideoFormat\n * Added in version 1.33.0\n *\n * @experimental This feature is experimental and might change in the future.\n */\nclass AvatarVideoFormat {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {string} codec - The video codec.\n     * @param {number} bitrate - The video bitrate.\n     * @param {number} width - The video width.\n     * @param {number} height - The video height.\n     */\n    constructor(codec = \"H264\", bitrate = 2000000, width = 1920, height = 1080) {\n        this.codec = codec;\n        this.bitrate = bitrate;\n        this.width = width;\n        this.height = height;\n    }\n    /**\n     * Sets the video crop range.\n     */\n    setCropRange(topLeft, bottomRight) {\n        this.cropRange = {\n            bottomRight,\n            topLeft,\n        };\n    }\n}\nexports.AvatarVideoFormat = AvatarVideoFormat;\n\n//# sourceMappingURL=AvatarVideoFormat.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AvatarWebRTCConnectionResult = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Defines the avatar WebRTC connection result.\n * @class AvatarWebRTCConnectionResult\n * Added in version 1.33.0\n *\n * @experimental This feature is experimental and might change in the future.\n */\nclass AvatarWebRTCConnectionResult extends Exports_js_1.SynthesisResult {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {RTCSessionDescriptionInit} SDPAnswer - The SDP answer of WebRTC connection.\n     * @param {string} resultId - The result id.\n     * @param {ResultReason} reason - The reason.\n     * @param {string} errorDetails - Error details, if provided.\n     * @param {PropertyCollection} properties - Additional properties, if provided.\n     */\n    constructor(SDPAnswer, resultId, reason, errorDetails, properties) {\n        super(resultId, reason, errorDetails, properties);\n        this.privSDPAnswer = SDPAnswer;\n    }\n    /**\n     * Specifies SDP (Session Description Protocol) answer of WebRTC connection.\n     * @member AvatarWebRTCConnectionResult.prototype.SDPAnswer\n     * @function\n     * @public\n     * @returns {RTCSessionDescriptionInit} Specifies the SDP answer of WebRTC connection.\n     */\n    get SDPAnswer() {\n        return this.privSDPAnswer;\n    }\n}\nexports.AvatarWebRTCConnectionResult = AvatarWebRTCConnectionResult;\n\n//# sourceMappingURL=AvatarWebRTCConnectionResult.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BotFrameworkConfig = void 0;\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst DialogServiceConfig_js_1 = require(\"./DialogServiceConfig.js\");\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Class that defines configurations for the dialog service connector object for using a Bot Framework backend.\n * @class BotFrameworkConfig\n */\nclass BotFrameworkConfig extends DialogServiceConfig_js_1.DialogServiceConfigImpl {\n    /**\n     * Creates an instance of BotFrameworkConfig.\n     */\n    constructor() {\n        super();\n    }\n    /**\n     * Creates a bot framework configuration instance with the provided subscription information.\n     * @member BotFrameworkConfig.fromSubscription\n     * @function\n     * @public\n     * @param subscription Subscription key associated with the bot\n     * @param region The region name (see the <a href=\"https://aka.ms/csspeech/region\">region page</a>).\n     * @param botId Optional. Identifier for using a specific bot within an Azure resource group. Equivalent to the\n     * resource name.\n     * @returns {BotFrameworkConfig} A new bot framework configuration instance.\n     */\n    static fromSubscription(subscription, region, botId) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(subscription, \"subscription\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(region, \"region\");\n        const botFrameworkConfig = new DialogServiceConfig_js_1.DialogServiceConfigImpl();\n        botFrameworkConfig.setProperty(Exports_js_1.PropertyId.Conversation_DialogType, DialogServiceConfig_js_1.DialogServiceConfig.DialogTypes.BotFramework);\n        botFrameworkConfig.setProperty(Exports_js_1.PropertyId.SpeechServiceConnection_Key, subscription);\n        botFrameworkConfig.setProperty(Exports_js_1.PropertyId.SpeechServiceConnection_Region, region);\n        if (botId) {\n            botFrameworkConfig.setProperty(Exports_js_1.PropertyId.Conversation_ApplicationId, botId);\n        }\n        return botFrameworkConfig;\n    }\n    /**\n     * Creates a bot framework configuration instance for the specified authorization token and region.\n     * Note: The caller must ensure that an authorization token is valid. Before an authorization token expires, the\n     * caller must refresh it by setting the authorizationToken property on the corresponding\n     * DialogServiceConnector instance created with this config. The contents of configuration objects are copied\n     * when connectors are created, so setting authorizationToken on a DialogServiceConnector will not update the\n     * original configuration's authorization token. Create a new configuration instance or set the\n     * SpeechServiceAuthorization_Token property to update an existing instance if it will be used to create\n     * further DialogServiceConnectors.\n     * @member BotFrameworkConfig.fromAuthorizationToken\n     * @function\n     * @public\n     * @param authorizationToken The authorization token associated with the bot\n     * @param region The region name (see the <a href=\"https://aka.ms/csspeech/region\">region page</a>).\n     * @param botId Optional. Identifier for using a specific bot within an Azure resource group. Equivalent to the\n     * resource name.\n     * @returns {BotFrameworkConfig} A new bot framework configuration instance.\n     */\n    static fromAuthorizationToken(authorizationToken, region, botId) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(authorizationToken, \"authorizationToken\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(region, \"region\");\n        const botFrameworkConfig = new DialogServiceConfig_js_1.DialogServiceConfigImpl();\n        botFrameworkConfig.setProperty(Exports_js_1.PropertyId.Conversation_DialogType, DialogServiceConfig_js_1.DialogServiceConfig.DialogTypes.BotFramework);\n        botFrameworkConfig.setProperty(Exports_js_1.PropertyId.SpeechServiceAuthorization_Token, authorizationToken);\n        botFrameworkConfig.setProperty(Exports_js_1.PropertyId.SpeechServiceConnection_Region, region);\n        if (botId) {\n            botFrameworkConfig.setProperty(Exports_js_1.PropertyId.Conversation_ApplicationId, botId);\n        }\n        return botFrameworkConfig;\n    }\n    /**\n     * Creates an instance of a BotFrameworkConfig.\n     * This method is intended only for users who use a non-default service host. The standard resource path will be\n     * assumed. For services with a non-standard resource path or no path at all, use fromEndpoint instead.\n     * Note: Query parameters are not allowed in the host URI and must be set by other APIs.\n     * Note: To use an authorization token with fromHost, use fromHost(URL) and then set the AuthorizationToken\n     * property on the created BotFrameworkConfig instance.\n     * Note: Added in version 1.15.0.\n     * @member BotFrameworkConfig.fromHost\n     * @function\n     * @public\n     * @param {URL | string} host - If a URL is provided, the fully-qualified host with protocol (e.g.\n     * wss://your.host.com:1234) will be used. If a string is provided, it will be embedded in\n     * wss://{host}.convai.speech.azure.us.\n     * @param {string} subscriptionKey - The subscription key. If a subscription key is not specified, an authorization\n     * token must be set.\n     * @param botId Optional. Identifier for using a specific bot within an Azure resource group. Equivalent to the\n     * resource name.\n     * @returns {BotFrameworkConfig} A new bot framework configuration instance.\n     */\n    static fromHost(host, subscriptionKey, botId) {\n        void botId;\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(host, \"host\");\n        const resolvedHost = host instanceof URL ? host : new URL(`wss://${host}.convai.speech.azure.us`);\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(resolvedHost, \"resolvedHost\");\n        const botFrameworkConfig = new DialogServiceConfig_js_1.DialogServiceConfigImpl();\n        botFrameworkConfig.setProperty(Exports_js_1.PropertyId.Conversation_DialogType, DialogServiceConfig_js_1.DialogServiceConfig.DialogTypes.BotFramework);\n        botFrameworkConfig.setProperty(Exports_js_1.PropertyId.SpeechServiceConnection_Host, resolvedHost.toString());\n        if (undefined !== subscriptionKey) {\n            botFrameworkConfig.setProperty(Exports_js_1.PropertyId.SpeechServiceConnection_Key, subscriptionKey);\n        }\n        return botFrameworkConfig;\n    }\n    /**\n     * Creates an instance of a BotFrameworkConfig.\n     * This method is intended only for users who use a non-standard service endpoint or parameters.\n     * Note: The query parameters specified in the endpoint URL are not changed, even if they are set by any other APIs.\n     * Note: To use authorization token with fromEndpoint, pass an empty string to the subscriptionKey in the\n     * fromEndpoint method, and then set authorizationToken=\"token\" on the created BotFrameworkConfig instance to\n     * use the authorization token.\n     * Note: Added in version 1.15.0.\n     * @member BotFrameworkConfig.fromEndpoint\n     * @function\n     * @public\n     * @param {URL} endpoint - The service endpoint to connect to.\n     * @param {string} subscriptionKey - The subscription key. If a subscription key is not specified, an authorization\n     * token must be set.\n     * @returns {BotFrameworkConfig} - A new bot framework configuration instance using the provided endpoint.\n     */\n    static fromEndpoint(endpoint, subscriptionKey) {\n        Contracts_js_1.Contracts.throwIfNull(endpoint, \"endpoint\");\n        const botFrameworkConfig = new DialogServiceConfig_js_1.DialogServiceConfigImpl();\n        botFrameworkConfig.setProperty(Exports_js_1.PropertyId.Conversation_DialogType, DialogServiceConfig_js_1.DialogServiceConfig.DialogTypes.BotFramework);\n        botFrameworkConfig.setProperty(Exports_js_1.PropertyId.SpeechServiceConnection_Endpoint, endpoint.toString());\n        if (undefined !== subscriptionKey) {\n            botFrameworkConfig.setProperty(Exports_js_1.PropertyId.SpeechServiceConnection_Key, subscriptionKey);\n        }\n        return botFrameworkConfig;\n    }\n}\nexports.BotFrameworkConfig = BotFrameworkConfig;\n\n//# sourceMappingURL=BotFrameworkConfig.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationDetails = void 0;\nconst Exports_js_1 = require(\"../common.speech/Exports.js\");\nconst CancellationDetailsBase_js_1 = require(\"./CancellationDetailsBase.js\");\nconst Exports_js_2 = require(\"./Exports.js\");\n/**\n * Contains detailed information about why a result was canceled.\n * @class CancellationDetails\n */\nclass CancellationDetails extends CancellationDetailsBase_js_1.CancellationDetailsBase {\n    constructor(reason, errorDetails, errorCode) {\n        super(reason, errorDetails, errorCode);\n    }\n    /**\n     * Creates an instance of CancellationDetails object for the canceled RecognitionResult.\n     * @member CancellationDetails.fromResult\n     * @function\n     * @public\n     * @param {RecognitionResult | SpeechSynthesisResult} result - The result that was canceled.\n     * @returns {CancellationDetails} The cancellation details object being created.\n     */\n    static fromResult(result) {\n        let reason = Exports_js_2.CancellationReason.Error;\n        let errorCode = Exports_js_2.CancellationErrorCode.NoError;\n        if (result instanceof Exports_js_2.RecognitionResult && !!result.json) {\n            const simpleSpeech = Exports_js_1.SimpleSpeechPhrase.fromJSON(result.json, 0); // Offset fixups are already done.\n            reason = Exports_js_1.EnumTranslation.implTranslateCancelResult(simpleSpeech.RecognitionStatus);\n        }\n        if (!!result.properties) {\n            errorCode = Exports_js_2.CancellationErrorCode[result.properties.getProperty(Exports_js_1.CancellationErrorCodePropertyName, Exports_js_2.CancellationErrorCode[Exports_js_2.CancellationErrorCode.NoError])];\n        }\n        return new CancellationDetails(reason, result.errorDetails || Exports_js_1.EnumTranslation.implTranslateErrorDetails(errorCode), errorCode);\n    }\n}\nexports.CancellationDetails = CancellationDetails;\n\n//# sourceMappingURL=CancellationDetails.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationDetailsBase = void 0;\n/**\n * Contains detailed information about why a result was canceled.\n * @class CancellationDetailsBase\n */\nclass CancellationDetailsBase {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {CancellationReason} reason - The cancellation reason.\n     * @param {string} errorDetails - The error details, if provided.\n     */\n    constructor(reason, errorDetails, errorCode) {\n        this.privReason = reason;\n        this.privErrorDetails = errorDetails;\n        this.privErrorCode = errorCode;\n    }\n    /**\n     * The reason the recognition was canceled.\n     * @member CancellationDetailsBase.prototype.reason\n     * @function\n     * @public\n     * @returns {CancellationReason} Specifies the reason canceled.\n     */\n    get reason() {\n        return this.privReason;\n    }\n    /**\n     * In case of an unsuccessful recognition, provides details of the occurred error.\n     * @member CancellationDetailsBase.prototype.errorDetails\n     * @function\n     * @public\n     * @returns {string} A String that represents the error details.\n     */\n    get errorDetails() {\n        return this.privErrorDetails;\n    }\n    /**\n     * The error code in case of an unsuccessful recognition.\n     * Added in version 1.1.0.\n     * @return An error code that represents the error reason.\n     */\n    get ErrorCode() {\n        return this.privErrorCode;\n    }\n}\nexports.CancellationDetailsBase = CancellationDetailsBase;\n\n//# sourceMappingURL=CancellationDetailsBase.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationErrorCode = void 0;\n/**\n * Defines error code in case that CancellationReason is Error.\n * Added in version 1.1.0.\n */\nvar CancellationErrorCode;\n(function (CancellationErrorCode) {\n    /**\n     * Indicates that no error occurred during speech recognition.\n     */\n    CancellationErrorCode[CancellationErrorCode[\"NoError\"] = 0] = \"NoError\";\n    /**\n     * Indicates an authentication error.\n     */\n    CancellationErrorCode[CancellationErrorCode[\"AuthenticationFailure\"] = 1] = \"AuthenticationFailure\";\n    /**\n     * Indicates that one or more recognition parameters are invalid.\n     */\n    CancellationErrorCode[CancellationErrorCode[\"BadRequestParameters\"] = 2] = \"BadRequestParameters\";\n    /**\n     * Indicates that the number of parallel requests exceeded the number of allowed\n     * concurrent transcriptions for the subscription.\n     */\n    CancellationErrorCode[CancellationErrorCode[\"TooManyRequests\"] = 3] = \"TooManyRequests\";\n    /**\n     * Indicates a connection error.\n     */\n    CancellationErrorCode[CancellationErrorCode[\"ConnectionFailure\"] = 4] = \"ConnectionFailure\";\n    /**\n     * Indicates a time-out error when waiting for response from service.\n     */\n    CancellationErrorCode[CancellationErrorCode[\"ServiceTimeout\"] = 5] = \"ServiceTimeout\";\n    /**\n     * Indicates that an error is returned by the service.\n     */\n    CancellationErrorCode[CancellationErrorCode[\"ServiceError\"] = 6] = \"ServiceError\";\n    /**\n     * Indicates an unexpected runtime error.\n     */\n    CancellationErrorCode[CancellationErrorCode[\"RuntimeError\"] = 7] = \"RuntimeError\";\n    /**\n     * Indicates an quota overrun on existing key.\n     */\n    CancellationErrorCode[CancellationErrorCode[\"Forbidden\"] = 8] = \"Forbidden\";\n})(CancellationErrorCode = exports.CancellationErrorCode || (exports.CancellationErrorCode = {}));\n\n//# sourceMappingURL=CancellationErrorCodes.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationEventArgsBase = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Defines content of a CancellationEvent.\n * @class CancellationEventArgsBase\n */\nclass CancellationEventArgsBase extends Exports_js_1.RecognitionEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {CancellationReason} reason - The cancellation reason.\n     * @param {string} errorDetails - Error details, if provided.\n     * @param {number} offset - The offset.\n     * @param {string} sessionId - The session id.\n     */\n    constructor(reason, errorDetails, errorCode, offset, sessionId) {\n        super(offset, sessionId);\n        this.privReason = reason;\n        this.privErrorDetails = errorDetails;\n        this.privErrorCode = errorCode;\n    }\n    /**\n     * The reason the recognition was canceled.\n     * @member CancellationEventArgsBase.prototype.reason\n     * @function\n     * @public\n     * @returns {CancellationReason} Specifies the reason canceled.\n     */\n    get reason() {\n        return this.privReason;\n    }\n    /**\n     * The error code in case of an unsuccessful operation.\n     * @return An error code that represents the error reason.\n     */\n    get errorCode() {\n        return this.privErrorCode;\n    }\n    /**\n     * In case of an unsuccessful operation, provides details of the occurred error.\n     * @member CancellationEventArgsBase.prototype.errorDetails\n     * @function\n     * @public\n     * @returns {string} A String that represents the error details.\n     */\n    get errorDetails() {\n        return this.privErrorDetails;\n    }\n}\nexports.CancellationEventArgsBase = CancellationEventArgsBase;\n\n//# sourceMappingURL=CancellationEventArgsBase.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationReason = void 0;\n/**\n * Defines the possible reasons a recognition result might be canceled.\n * @class CancellationReason\n */\nvar CancellationReason;\n(function (CancellationReason) {\n    /**\n     * Indicates that an error occurred during speech recognition.\n     * @member CancellationReason.Error\n     */\n    CancellationReason[CancellationReason[\"Error\"] = 0] = \"Error\";\n    /**\n     * Indicates that the end of the audio stream was reached.\n     * @member CancellationReason.EndOfStream\n     */\n    CancellationReason[CancellationReason[\"EndOfStream\"] = 1] = \"EndOfStream\";\n})(CancellationReason = exports.CancellationReason || (exports.CancellationReason = {}));\n\n//# sourceMappingURL=CancellationReason.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Connection = void 0;\nconst Exports_js_1 = require(\"../common.speech/Exports.js\");\nconst Exports_js_2 = require(\"../common/Exports.js\");\nconst ConnectionMessage_js_1 = require(\"./ConnectionMessage.js\");\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst Exports_js_3 = require(\"./Exports.js\");\n/**\n * Connection is a proxy class for managing connection to the speech service of the specified Recognizer.\n * By default, a Recognizer autonomously manages connection to service when needed.\n * The Connection class provides additional methods for users to explicitly open or close a connection and\n * to subscribe to connection status changes.\n * The use of Connection is optional, and mainly for scenarios where fine tuning of application\n * behavior based on connection status is needed. Users can optionally call Open() to manually set up a connection\n * in advance before starting recognition on the Recognizer associated with this Connection.\n * If the Recognizer needs to connect or disconnect to service, it will\n * setup or shutdown the connection independently. In this case the Connection will be notified by change of connection\n * status via Connected/Disconnected events.\n * Added in version 1.2.1.\n */\nclass Connection {\n    /**\n     * Gets the Connection instance from the specified recognizer.\n     * @param recognizer The recognizer associated with the connection.\n     * @return The Connection instance of the recognizer.\n     */\n    static fromRecognizer(recognizer) {\n        const recoBase = recognizer.internalData;\n        const ret = new Connection();\n        ret.privInternalData = recoBase;\n        ret.setupEvents();\n        return ret;\n    }\n    /**\n     * Gets the Connection instance from the specified synthesizer.\n     * @param synthesizer The synthesizer associated with the connection.\n     * @return The Connection instance of the synthesizer.\n     */\n    static fromSynthesizer(synthesizer) {\n        const synthBase = synthesizer.internalData;\n        const ret = new Connection();\n        ret.privInternalData = synthBase;\n        ret.setupEvents();\n        return ret;\n    }\n    /**\n     * Starts to set up connection to the service.\n     * Users can optionally call openConnection() to manually set up a connection in advance before starting recognition on the\n     * Recognizer associated with this Connection. After starting recognition, calling Open() will have no effect\n     *\n     * Note: On return, the connection might not be ready yet. Please subscribe to the Connected event to\n     * be notified when the connection is established.\n     */\n    openConnection(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.privInternalData.connect(), cb, err);\n    }\n    /**\n     * Closes the connection the service.\n     * Users can optionally call closeConnection() to manually shutdown the connection of the associated Recognizer.\n     *\n     * If closeConnection() is called during recognition, recognition will fail and cancel with an error.\n     */\n    closeConnection(cb, err) {\n        if (this.privInternalData instanceof Exports_js_1.SynthesisAdapterBase) {\n            throw new Error(\"Disconnecting a synthesizer's connection is currently not supported\");\n        }\n        else {\n            (0, Exports_js_2.marshalPromiseToCallbacks)(this.privInternalData.disconnect(), cb, err);\n        }\n    }\n    /**\n     * Appends a parameter in a message to service.\n     * Added in version 1.12.1.\n     * @param path The path of the network message.\n     * @param propertyName Name of the property\n     * @param propertyValue Value of the property. This is a json string.\n     */\n    setMessageProperty(path, propertyName, propertyValue) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(propertyName, \"propertyName\");\n        if (this.privInternalData instanceof Exports_js_1.ServiceRecognizerBase) {\n            if (path.toLowerCase() !== \"speech.context\") {\n                throw new Error(\"Only speech.context message property sets are currently supported for recognizer\");\n            }\n            else {\n                const context = this.privInternalData.speechContext.getContext();\n                context[propertyName] = propertyValue;\n            }\n        }\n        else if (this.privInternalData instanceof Exports_js_1.SynthesisAdapterBase) {\n            if (path.toLowerCase() !== \"speech.config\" && path.toLowerCase() !== \"synthesis.context\") {\n                throw new Error(\"Only speech.config and synthesis.context message paths are currently supported for synthesizer\");\n            }\n            else if (path.toLowerCase() === \"speech.config\") {\n                if (propertyName.toLowerCase() !== \"context\") {\n                    throw new Error(\"Only context property is currently supported for speech.config message path for synthesizer\");\n                }\n                else {\n                    this.privInternalData.synthesizerConfig.setContextFromJson(propertyValue);\n                }\n            }\n            else {\n                this.privInternalData.synthesisContext.setSection(propertyName, propertyValue);\n            }\n        }\n    }\n    /**\n     * Sends a message to the speech service.\n     * Added in version 1.13.0.\n     * @param path The WebSocket path of the message\n     * @param payload The payload of the message. This is a json string or a ArrayBuffer.\n     * @param success A callback to indicate success.\n     * @param error A callback to indicate an error.\n     */\n    sendMessageAsync(path, payload, success, error) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.privInternalData.sendNetworkMessage(path, payload), success, error);\n    }\n    /**\n     * Dispose of associated resources.\n     */\n    close() {\n        /* eslint-disable no-empty */\n    }\n    setupEvents() {\n        this.privEventListener = this.privInternalData.connectionEvents.attach((connectionEvent) => {\n            if (connectionEvent.name === \"ConnectionEstablishedEvent\") {\n                if (!!this.connected) {\n                    this.connected(new Exports_js_3.ConnectionEventArgs(connectionEvent.connectionId));\n                }\n            }\n            else if (connectionEvent.name === \"ConnectionClosedEvent\") {\n                if (!!this.disconnected) {\n                    this.disconnected(new Exports_js_3.ConnectionEventArgs(connectionEvent.connectionId));\n                }\n            }\n            else if (connectionEvent.name === \"ConnectionMessageSentEvent\") {\n                if (!!this.messageSent) {\n                    this.messageSent(new Exports_js_3.ConnectionMessageEventArgs(new ConnectionMessage_js_1.ConnectionMessageImpl(connectionEvent.message)));\n                }\n            }\n            else if (connectionEvent.name === \"ConnectionMessageReceivedEvent\") {\n                if (!!this.messageReceived) {\n                    this.messageReceived(new Exports_js_3.ConnectionMessageEventArgs(new ConnectionMessage_js_1.ConnectionMessageImpl(connectionEvent.message)));\n                }\n            }\n        });\n        this.privServiceEventListener = this.privInternalData.serviceEvents.attach((e) => {\n            if (!!this.receivedServiceMessage) {\n                this.receivedServiceMessage(new Exports_js_3.ServiceEventArgs(e.jsonString, e.name));\n            }\n        });\n    }\n}\nexports.Connection = Connection;\n\n//# sourceMappingURL=Connection.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionEventArgs = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Defines payload for connection events like Connected/Disconnected.\n * Added in version 1.2.0\n */\nclass ConnectionEventArgs extends Exports_js_1.SessionEventArgs {\n}\nexports.ConnectionEventArgs = ConnectionEventArgs;\n\n//# sourceMappingURL=ConnectionEventArgs.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionMessageImpl = exports.ConnectionMessage = void 0;\n// eslint-disable-next-line max-classes-per-file\nconst HeaderNames_js_1 = require(\"../common.speech/HeaderNames.js\");\nconst Exports_js_1 = require(\"../common/Exports.js\");\nconst PropertyCollection_js_1 = require(\"./PropertyCollection.js\");\nconst PropertyId_js_1 = require(\"./PropertyId.js\");\n/**\n * ConnectionMessage represents implementation specific messages sent to and received from\n * the speech service. These messages are provided for debugging purposes and should not\n * be used for production use cases with the Azure Cognitive Services Speech Service.\n * Messages sent to and received from the Speech Service are subject to change without\n * notice. This includes message contents, headers, payloads, ordering, etc.\n * Added in version 1.11.0.\n */\nclass ConnectionMessage {\n}\nexports.ConnectionMessage = ConnectionMessage;\nclass ConnectionMessageImpl {\n    constructor(message) {\n        this.privConnectionMessage = message;\n        this.privProperties = new PropertyCollection_js_1.PropertyCollection();\n        if (!!this.privConnectionMessage.headers[HeaderNames_js_1.HeaderNames.ConnectionId]) {\n            this.privProperties.setProperty(PropertyId_js_1.PropertyId.Speech_SessionId, this.privConnectionMessage.headers[HeaderNames_js_1.HeaderNames.ConnectionId]);\n        }\n        Object.keys(this.privConnectionMessage.headers).forEach((header) => {\n            this.privProperties.setProperty(header, this.privConnectionMessage.headers[header]);\n        });\n    }\n    /**\n     * The message path.\n     */\n    get path() {\n        return this.privConnectionMessage.headers[Object.keys(this.privConnectionMessage.headers).find((key) => key.toLowerCase() === \"path\".toLowerCase())];\n    }\n    /**\n     * Checks to see if the ConnectionMessage is a text message.\n     * See also IsBinaryMessage().\n     */\n    get isTextMessage() {\n        return this.privConnectionMessage.messageType === Exports_js_1.MessageType.Text;\n    }\n    /**\n     * Checks to see if the ConnectionMessage is a binary message.\n     * See also GetBinaryMessage().\n     */\n    get isBinaryMessage() {\n        return this.privConnectionMessage.messageType === Exports_js_1.MessageType.Binary;\n    }\n    /**\n     * Gets the text message payload. Typically the text message content-type is\n     * application/json. To determine other content-types use\n     * Properties.GetProperty(\"Content-Type\").\n     */\n    get TextMessage() {\n        return this.privConnectionMessage.textBody;\n    }\n    /**\n     * Gets the binary message payload.\n     */\n    get binaryMessage() {\n        return this.privConnectionMessage.binaryBody;\n    }\n    /**\n     * A collection of properties and their values defined for this <see cref=\"ConnectionMessage\"/>.\n     * Message headers can be accessed via this collection (e.g. \"Content-Type\").\n     */\n    get properties() {\n        return this.privProperties;\n    }\n    /**\n     * Returns a string that represents the connection message.\n     */\n    toString() {\n        return \"\";\n    }\n}\nexports.ConnectionMessageImpl = ConnectionMessageImpl;\n\n//# sourceMappingURL=ConnectionMessage.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionMessageEventArgs = void 0;\nclass ConnectionMessageEventArgs {\n    constructor(message) {\n        this.privConnectionMessage = message;\n    }\n    /**\n     * Gets the <see cref=\"ConnectionMessage\"/> associated with this <see cref=\"ConnectionMessageEventArgs\"/>.\n     */\n    get message() {\n        return this.privConnectionMessage;\n    }\n    /**\n     * Returns a string that represents the connection message event.\n     */\n    toString() {\n        return \"Message: \" + this.privConnectionMessage.toString();\n    }\n}\nexports.ConnectionMessageEventArgs = ConnectionMessageEventArgs;\n\n//# sourceMappingURL=ConnectionMessageEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Contracts = void 0;\n/**\n * @class Contracts\n * @private\n */\nclass Contracts {\n    static throwIfNullOrUndefined(param, name) {\n        if (param === undefined || param === null) {\n            throw new Error(\"throwIfNullOrUndefined:\" + name);\n        }\n    }\n    static throwIfNull(param, name) {\n        if (param === null) {\n            throw new Error(\"throwIfNull:\" + name);\n        }\n    }\n    static throwIfNullOrWhitespace(param, name) {\n        Contracts.throwIfNullOrUndefined(param, name);\n        if ((\"\" + param).trim().length < 1) {\n            throw new Error(\"throwIfNullOrWhitespace:\" + name);\n        }\n    }\n    static throwIfNullOrTooLong(param, name, maxLength) {\n        Contracts.throwIfNullOrUndefined(param, name);\n        if ((\"\" + param).length > maxLength) {\n            throw new Error(\"throwIfNullOrTooLong:\" + name + \" (more than \" + maxLength.toString() + \" characters)\");\n        }\n    }\n    static throwIfNullOrTooShort(param, name, minLength) {\n        Contracts.throwIfNullOrUndefined(param, name);\n        if ((\"\" + param).length < minLength) {\n            throw new Error(\"throwIfNullOrTooShort:\" + name + \" (less than \" + minLength.toString() + \" characters)\");\n        }\n    }\n    static throwIfDisposed(isDisposed) {\n        if (isDisposed) {\n            throw new Error(\"the object is already disposed\");\n        }\n    }\n    static throwIfArrayEmptyOrWhitespace(array, name) {\n        Contracts.throwIfNullOrUndefined(array, name);\n        if (array.length === 0) {\n            throw new Error(\"throwIfArrayEmptyOrWhitespace:\" + name);\n        }\n        for (const item of array) {\n            Contracts.throwIfNullOrWhitespace(item, name);\n        }\n    }\n    static throwIfFileDoesNotExist(param, name) {\n        Contracts.throwIfNullOrWhitespace(param, name);\n        // TODO check for file existence.\n    }\n    static throwIfNotUndefined(param, name) {\n        if (param !== undefined) {\n            throw new Error(\"throwIfNotUndefined:\" + name);\n        }\n    }\n    static throwIfNumberOutOfRange(value, name, rangeStart, rangeEnd) {\n        Contracts.throwIfNullOrUndefined(value, name);\n        if (value < rangeStart || value > rangeEnd) {\n            throw new Error(\"throwIfNumberOutOfRange:\" + name + \" (must be between \" + rangeStart.toString() + \" and \" + rangeEnd.toString() + \")\");\n        }\n    }\n}\nexports.Contracts = Contracts;\n\n//# sourceMappingURL=Contracts.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationTranscriptionCanceledEventArgs = void 0;\nconst CancellationEventArgsBase_js_1 = require(\"./CancellationEventArgsBase.js\");\n/**\n * Defines content of a RecognitionErrorEvent.\n * @class ConversationTranscriptionCanceledEventArgs\n */\nclass ConversationTranscriptionCanceledEventArgs extends CancellationEventArgsBase_js_1.CancellationEventArgsBase {\n}\nexports.ConversationTranscriptionCanceledEventArgs = ConversationTranscriptionCanceledEventArgs;\n\n//# sourceMappingURL=ConversationTranscriptionCanceledEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CustomCommandsConfig = void 0;\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst DialogServiceConfig_js_1 = require(\"./DialogServiceConfig.js\");\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Class that defines configurations for the dialog service connector object for using a CustomCommands backend.\n * @class CustomCommandsConfig\n */\nclass CustomCommandsConfig extends DialogServiceConfig_js_1.DialogServiceConfigImpl {\n    /**\n     * Creates an instance of CustomCommandsConfig.\n     */\n    constructor() {\n        super();\n    }\n    /**\n     * Creates an instance of the bot framework config with the specified subscription and region.\n     * @member CustomCommandsConfig.fromSubscription\n     * @function\n     * @public\n     * @param applicationId Speech Commands application id.\n     * @param subscription Subscription key associated with the bot\n     * @param region The region name (see the <a href=\"https://aka.ms/csspeech/region\">region page</a>).\n     * @returns {CustomCommandsConfig} A new bot framework config.\n     */\n    static fromSubscription(applicationId, subscription, region) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(applicationId, \"applicationId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(subscription, \"subscription\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(region, \"region\");\n        const customCommandsConfig = new DialogServiceConfig_js_1.DialogServiceConfigImpl();\n        customCommandsConfig.setProperty(Exports_js_1.PropertyId.Conversation_DialogType, DialogServiceConfig_js_1.DialogServiceConfig.DialogTypes.CustomCommands);\n        customCommandsConfig.setProperty(Exports_js_1.PropertyId.Conversation_ApplicationId, applicationId);\n        customCommandsConfig.setProperty(Exports_js_1.PropertyId.SpeechServiceConnection_Key, subscription);\n        customCommandsConfig.setProperty(Exports_js_1.PropertyId.SpeechServiceConnection_Region, region);\n        return customCommandsConfig;\n    }\n    /**\n     * Creates an instance of the bot framework config with the specified Speech Commands application id, authorization token and region.\n     * Note: The caller needs to ensure that the authorization token is valid. Before the authorization token\n     * expires, the caller needs to refresh it by calling this setter with a new valid token.\n     * As configuration values are copied when creating a new recognizer, the new token value will not apply to recognizers that have already been created.\n     * For recognizers that have been created before, you need to set authorization token of the corresponding recognizer\n     * to refresh the token. Otherwise, the recognizers will encounter errors during recognition.\n     * @member CustomCommandsConfig.fromAuthorizationToken\n     * @function\n     * @public\n     * @param applicationId Speech Commands application id.\n     * @param authorizationToken The authorization token associated with the application.\n     * @param region The region name (see the <a href=\"https://aka.ms/csspeech/region\">region page</a>).\n     * @returns {CustomCommandsConfig} A new speech commands config.\n     */\n    static fromAuthorizationToken(applicationId, authorizationToken, region) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(applicationId, \"applicationId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(authorizationToken, \"authorizationToken\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(region, \"region\");\n        const customCommandsConfig = new DialogServiceConfig_js_1.DialogServiceConfigImpl();\n        customCommandsConfig.setProperty(Exports_js_1.PropertyId.Conversation_DialogType, DialogServiceConfig_js_1.DialogServiceConfig.DialogTypes.CustomCommands);\n        customCommandsConfig.setProperty(Exports_js_1.PropertyId.Conversation_ApplicationId, applicationId);\n        customCommandsConfig.setProperty(Exports_js_1.PropertyId.SpeechServiceAuthorization_Token, authorizationToken);\n        customCommandsConfig.setProperty(Exports_js_1.PropertyId.SpeechServiceConnection_Region, region);\n        return customCommandsConfig;\n    }\n    /**\n     * Sets the corresponding backend application identifier.\n     * @member CustomCommandsConfig.prototype.Conversation_ApplicationId\n     * @function\n     * @public\n     * @param {string} value - The application identifier to set.\n     */\n    set applicationId(value) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(value, \"value\");\n        this.setProperty(Exports_js_1.PropertyId.Conversation_ApplicationId, value);\n    }\n    /**\n     * Gets the corresponding backend application identifier.\n     * @member CustomCommandsConfig.prototype.Conversation_ApplicationId\n     * @function\n     * @public\n     * @param {string} value - The application identifier to get.\n     */\n    get applicationId() {\n        return this.getProperty(Exports_js_1.PropertyId.Conversation_ApplicationId);\n    }\n}\nexports.CustomCommandsConfig = CustomCommandsConfig;\n\n//# sourceMappingURL=CustomCommandsConfig.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Diagnostics = void 0;\nconst Exports_js_1 = require(\"../common.browser/Exports.js\");\nconst Exports_js_2 = require(\"../common/Exports.js\");\n/**\n * Defines diagnostics API for managing console output\n * Added in version 1.21.0\n */\nclass Diagnostics {\n    static SetLoggingLevel(logLevel) {\n        this.privListener = new Exports_js_1.ConsoleLoggingListener(logLevel);\n        Exports_js_2.Events.instance.attachConsoleListener(this.privListener);\n    }\n    static StartConsoleOutput() {\n        if (!!this.privListener) {\n            this.privListener.enableConsoleOutput = true;\n        }\n    }\n    static StopConsoleOutput() {\n        if (!!this.privListener) {\n            this.privListener.enableConsoleOutput = false;\n        }\n    }\n    static SetLogOutputPath(path) {\n        if (typeof window === \"undefined\") {\n            if (!!this.privListener) {\n                this.privListener.logPath = path;\n            }\n        }\n        else {\n            throw new Error(\"File system logging not available in browser.\");\n        }\n    }\n    static set onLogOutput(callback) {\n        if (!!this.privListener) {\n            this.privListener.logCallback = callback;\n        }\n    }\n}\nexports.Diagnostics = Diagnostics;\nDiagnostics.privListener = undefined;\n\n//# sourceMappingURL=Diagnostics.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DialogServiceConfigImpl = exports.DialogServiceConfig = void 0;\n/* eslint-disable max-classes-per-file */\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Class that defines base configurations for dialog service connector\n * @class DialogServiceConfig\n */\nclass DialogServiceConfig {\n    /**\n     * Creates an instance of DialogService config.\n     * @constructor\n     */\n    constructor() {\n        return;\n    }\n    /**\n     * Sets the corresponding backend application identifier.\n     * @member DialogServiceConfig.prototype.Conversation_ApplicationId\n     * @function\n     * @public\n     * @param {string} value - The application identifier to set.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    set applicationId(value) { }\n    static get DialogTypes() {\n        return {\n            BotFramework: \"bot_framework\",\n            CustomCommands: \"custom_commands\"\n        };\n    }\n}\nexports.DialogServiceConfig = DialogServiceConfig;\n/**\n * Dialog Service configuration.\n * @class DialogServiceConfigImpl\n */\nclass DialogServiceConfigImpl extends DialogServiceConfig {\n    /**\n     * Creates an instance of dialogService config.\n     */\n    constructor() {\n        super();\n        this.privSpeechConfig = new Exports_js_1.SpeechConfigImpl();\n    }\n    /**\n     * Provides access to custom properties.\n     * @member DialogServiceConfigImpl.prototype.properties\n     * @function\n     * @public\n     * @returns {PropertyCollection} The properties.\n     */\n    get properties() {\n        return this.privSpeechConfig.properties;\n    }\n    /**\n     * Gets the speech recognition language.\n     * @member DialogServiceConfigImpl.prototype.speechRecognitionLanguage\n     * @function\n     * @public\n     */\n    get speechRecognitionLanguage() {\n        return this.privSpeechConfig.speechRecognitionLanguage;\n    }\n    /**\n     * Sets the speech recognition language.\n     * @member DialogServiceConfigImpl.prototype.speechRecognitionLanguage\n     * @function\n     * @public\n     * @param {string} value - The language to set.\n     */\n    set speechRecognitionLanguage(value) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(value, \"value\");\n        this.privSpeechConfig.speechRecognitionLanguage = value;\n    }\n    get outputFormat() {\n        return this.privSpeechConfig.outputFormat;\n    }\n    set outputFormat(value) {\n        this.privSpeechConfig.outputFormat = value;\n    }\n    /**\n     * Sets a named property as value\n     * @member DialogServiceConfigImpl.prototype.setProperty\n     * @function\n     * @public\n     * @param {PropertyId | string} name - The property to set.\n     * @param {string} value - The value.\n     */\n    setProperty(name, value) {\n        this.privSpeechConfig.setProperty(name, value);\n    }\n    /**\n     * Sets a named property as value\n     * @member DialogServiceConfigImpl.prototype.getProperty\n     * @function\n     * @public\n     * @param {PropertyId | string} name - The property to get.\n     * @param {string} def - The default value to return in case the property is not known.\n     * @returns {string} The current value, or provided default, of the given property.\n     */\n    getProperty(name, def) {\n        void def;\n        return this.privSpeechConfig.getProperty(name);\n    }\n    /**\n     * Sets the proxy configuration.\n     * Only relevant in Node.js environments.\n     * Added in version 1.4.0.\n     * @param proxyHostName The host name of the proxy server, without the protocol scheme (http://)\n     * @param proxyPort The port number of the proxy server.\n     * @param proxyUserName The user name of the proxy server.\n     * @param proxyPassword The password of the proxy server.\n     */\n    setProxy(proxyHostName, proxyPort, proxyUserName, proxyPassword) {\n        this.setProperty(Exports_js_1.PropertyId.SpeechServiceConnection_ProxyHostName, proxyHostName);\n        this.setProperty(Exports_js_1.PropertyId.SpeechServiceConnection_ProxyPort, `${proxyPort}`);\n        if (proxyUserName) {\n            this.setProperty(Exports_js_1.PropertyId.SpeechServiceConnection_ProxyUserName, proxyUserName);\n        }\n        if (proxyPassword) {\n            this.setProperty(Exports_js_1.PropertyId.SpeechServiceConnection_ProxyPassword, proxyPassword);\n        }\n    }\n    setServiceProperty(name, value, channel) {\n        void channel;\n        this.privSpeechConfig.setServiceProperty(name, value);\n    }\n    /**\n     * Dispose of associated resources.\n     * @member DialogServiceConfigImpl.prototype.close\n     * @function\n     * @public\n     */\n    close() {\n        return;\n    }\n}\nexports.DialogServiceConfigImpl = DialogServiceConfigImpl;\n\n//# sourceMappingURL=DialogServiceConfig.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DialogServiceConnector = void 0;\nconst DialogConnectorFactory_js_1 = require(\"../common.speech/DialogConnectorFactory.js\");\nconst Exports_js_1 = require(\"../common.speech/Exports.js\");\nconst PhraseDetectionContext_js_1 = require(\"../common.speech/ServiceMessages/PhraseDetection/PhraseDetectionContext.js\");\nconst Exports_js_2 = require(\"../common/Exports.js\");\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst Exports_js_3 = require(\"./Exports.js\");\nconst PropertyId_js_1 = require(\"./PropertyId.js\");\n/**\n * Dialog Service Connector\n * @class DialogServiceConnector\n */\nclass DialogServiceConnector extends Exports_js_3.Recognizer {\n    /**\n     * Initializes an instance of the DialogServiceConnector.\n     * @constructor\n     * @param {DialogServiceConfig} dialogConfig - Set of properties to configure this recognizer.\n     * @param {AudioConfig} audioConfig - An optional audio config associated with the recognizer\n     */\n    constructor(dialogConfig, audioConfig) {\n        const dialogServiceConfigImpl = dialogConfig;\n        Contracts_js_1.Contracts.throwIfNull(dialogConfig, \"dialogConfig\");\n        super(audioConfig, dialogServiceConfigImpl.properties, new DialogConnectorFactory_js_1.DialogConnectionFactory());\n        this.isTurnComplete = true;\n        this.privIsDisposed = false;\n        this.privProperties = dialogServiceConfigImpl.properties.clone();\n        const agentConfig = this.buildAgentConfig();\n        this.privReco.agentConfig.set(agentConfig);\n    }\n    /**\n     * Starts a connection to the service.\n     * Users can optionally call connect() to manually set up a connection in advance, before starting interactions.\n     *\n     * Note: On return, the connection might not be ready yet. Please subscribe to the Connected event to\n     * be notified when the connection is established.\n     * @member DialogServiceConnector.prototype.connect\n     * @function\n     * @public\n     */\n    connect(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.privReco.connect(), cb, err);\n    }\n    /**\n     * Closes the connection the service.\n     * Users can optionally call disconnect() to manually shutdown the connection of the associated DialogServiceConnector.\n     *\n     * If disconnect() is called during a recognition, recognition will fail and cancel with an error.\n     */\n    disconnect(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.privReco.disconnect(), cb, err);\n    }\n    /**\n     * Gets the authorization token used to communicate with the service.\n     * @member DialogServiceConnector.prototype.authorizationToken\n     * @function\n     * @public\n     * @returns {string} Authorization token.\n     */\n    get authorizationToken() {\n        return this.properties.getProperty(PropertyId_js_1.PropertyId.SpeechServiceAuthorization_Token);\n    }\n    /**\n     * Sets the authorization token used to communicate with the service.\n     * @member DialogServiceConnector.prototype.authorizationToken\n     * @function\n     * @public\n     * @param {string} token - Authorization token.\n     */\n    set authorizationToken(token) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(token, \"token\");\n        this.properties.setProperty(PropertyId_js_1.PropertyId.SpeechServiceAuthorization_Token, token);\n    }\n    /**\n     * The collection of properties and their values defined for this DialogServiceConnector.\n     * @member DialogServiceConnector.prototype.properties\n     * @function\n     * @public\n     * @returns {PropertyCollection} The collection of properties and their values defined for this DialogServiceConnector.\n     */\n    get properties() {\n        return this.privProperties;\n    }\n    /** Gets the template for the activity generated by service from speech.\n     * Properties from the template will be stamped on the generated activity.\n     * It can be empty\n     */\n    get speechActivityTemplate() {\n        return this.properties.getProperty(PropertyId_js_1.PropertyId.Conversation_Speech_Activity_Template);\n    }\n    /** Sets the template for the activity generated by service from speech.\n     * Properties from the template will be stamped on the generated activity.\n     * It can be null or empty.\n     * Note: it has to be a valid Json object.\n     */\n    set speechActivityTemplate(speechActivityTemplate) {\n        this.properties.setProperty(PropertyId_js_1.PropertyId.Conversation_Speech_Activity_Template, speechActivityTemplate);\n    }\n    /**\n     * Starts recognition and stops after the first utterance is recognized.\n     * @member DialogServiceConnector.prototype.listenOnceAsync\n     * @function\n     * @public\n     * @param cb - Callback that received the result when the reco has completed.\n     * @param err - Callback invoked in case of an error.\n     */\n    listenOnceAsync(cb, err) {\n        if (this.isTurnComplete) {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            const callbackHolder = async () => {\n                await this.privReco.connect();\n                await this.implRecognizerStop();\n                this.isTurnComplete = false;\n                const ret = new Exports_js_2.Deferred();\n                await this.privReco.recognize(PhraseDetectionContext_js_1.RecognitionMode.Conversation, ret.resolve, ret.reject);\n                const e = await ret.promise;\n                await this.implRecognizerStop();\n                return e;\n            };\n            const retPromise = callbackHolder();\n            retPromise.catch(() => {\n                // Destroy the recognizer.\n                // We've done all we can here.\n                // eslint-disable-next-line @typescript-eslint/no-empty-function\n                this.dispose(true).catch(() => { });\n            });\n            (0, Exports_js_2.marshalPromiseToCallbacks)(retPromise.finally(() => {\n                this.isTurnComplete = true;\n            }), cb, err);\n        }\n    }\n    sendActivityAsync(activity, cb, errCb) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.privReco.sendMessage(activity), cb, errCb);\n    }\n    /**\n     * closes all external resources held by an instance of this class.\n     * @member DialogServiceConnector.prototype.close\n     * @function\n     * @public\n     */\n    close(cb, err) {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.dispose(true), cb, err);\n    }\n    async dispose(disposing) {\n        if (this.privIsDisposed) {\n            return;\n        }\n        if (disposing) {\n            this.privIsDisposed = true;\n            await this.implRecognizerStop();\n            await super.dispose(disposing);\n        }\n    }\n    createRecognizerConfig(speechConfig) {\n        return new Exports_js_1.RecognizerConfig(speechConfig, this.privProperties);\n    }\n    createServiceRecognizer(authentication, connectionFactory, audioConfig, recognizerConfig) {\n        const audioSource = audioConfig;\n        return new Exports_js_1.DialogServiceAdapter(authentication, connectionFactory, audioSource, recognizerConfig, this);\n    }\n    buildAgentConfig() {\n        const communicationType = this.properties.getProperty(\"Conversation_Communication_Type\", \"Default\");\n        return {\n            botInfo: {\n                commType: communicationType,\n                commandsCulture: undefined,\n                connectionId: this.properties.getProperty(PropertyId_js_1.PropertyId.Conversation_Agent_Connection_Id),\n                conversationId: this.properties.getProperty(PropertyId_js_1.PropertyId.Conversation_Conversation_Id, undefined),\n                fromId: this.properties.getProperty(PropertyId_js_1.PropertyId.Conversation_From_Id, undefined),\n                ttsAudioFormat: this.properties.getProperty(PropertyId_js_1.PropertyId.SpeechServiceConnection_SynthOutputFormat, undefined)\n            },\n            version: 0.2\n        };\n    }\n}\nexports.DialogServiceConnector = DialogServiceConnector;\n\n//# sourceMappingURL=DialogServiceConnector.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CustomCommandsConfig = exports.BotFrameworkConfig = exports.DialogServiceConfig = exports.PhraseListGrammar = exports.Connection = exports.ServiceEventArgs = exports.ConnectionEventArgs = exports.CancellationErrorCode = exports.CancellationDetails = exports.CancellationDetailsBase = exports.TranslationRecognitionCanceledEventArgs = exports.NoMatchDetails = exports.NoMatchReason = exports.Translations = exports.TranslationRecognizer = exports.SpeechRecognizer = exports.Recognizer = exports.PropertyId = exports.PropertyCollection = exports.SpeechTranslationConfigImpl = exports.SpeechTranslationConfig = exports.SpeechConfigImpl = exports.SpeechConfig = exports.ResultReason = exports.TranslationSynthesisResult = exports.TranslationRecognitionResult = exports.TranslationSynthesisEventArgs = exports.TranslationRecognitionEventArgs = exports.SpeechRecognitionCanceledEventArgs = exports.MeetingTranscriptionEventArgs = exports.ConversationTranscriptionEventArgs = exports.SpeechRecognitionEventArgs = exports.SpeechRecognitionResult = exports.RecognitionResult = exports.OutputFormat = exports.RecognitionEventArgs = exports.SessionEventArgs = exports.KeywordRecognitionModel = exports.PushAudioOutputStreamCallback = exports.PullAudioInputStreamCallback = exports.CancellationReason = exports.PushAudioOutputStream = exports.PullAudioOutputStream = exports.AudioOutputStream = exports.PushAudioInputStream = exports.PullAudioInputStream = exports.AudioInputStream = exports.AudioFormatTag = exports.AudioStreamFormat = exports.AudioConfig = void 0;\nexports.AvatarSynthesizer = exports.AvatarEventArgs = exports.AvatarConfig = exports.LanguageIdMode = exports.PronunciationAssessmentResult = exports.PronunciationAssessmentConfig = exports.PronunciationAssessmentGranularity = exports.PronunciationAssessmentGradingSystem = exports.MeetingTranscriptionCanceledEventArgs = exports.ConversationTranscriptionCanceledEventArgs = exports.SpeakerAudioDestination = exports.VoiceInfo = exports.SynthesisVoiceType = exports.SynthesisVoiceGender = exports.SynthesisVoicesResult = exports.SpeechSynthesisBoundaryType = exports.SpeechSynthesisVisemeEventArgs = exports.SpeechSynthesisBookmarkEventArgs = exports.SpeechSynthesisWordBoundaryEventArgs = exports.SpeechSynthesisEventArgs = exports.SpeechSynthesisResult = exports.SynthesisResult = exports.SpeechSynthesizer = exports.SpeechSynthesisOutputFormat = exports.Synthesizer = exports.User = exports.ParticipantChangedReason = exports.Participant = exports.MeetingTranscriber = exports.Meeting = exports.ConversationTranscriptionResult = exports.ConversationTranscriber = exports.ConversationTranslator = exports.ConversationTranslationResult = exports.ConversationTranslationEventArgs = exports.ConversationTranslationCanceledEventArgs = exports.ConversationParticipantsChangedEventArgs = exports.ConversationExpirationEventArgs = exports.Conversation = exports.SourceLanguageConfig = exports.AutoDetectSourceLanguageResult = exports.AutoDetectSourceLanguageConfig = exports.ConnectionMessage = exports.ConnectionMessageEventArgs = exports.BaseAudioPlayer = exports.ProfanityOption = exports.ServicePropertyChannel = exports.TurnStatusReceivedEventArgs = exports.ActivityReceivedEventArgs = exports.DialogServiceConnector = void 0;\nexports.LogLevel = exports.Diagnostics = exports.AvatarWebRTCConnectionResult = exports.Coordinate = exports.AvatarVideoFormat = void 0;\nvar AudioConfig_js_1 = require(\"./Audio/AudioConfig.js\");\nObject.defineProperty(exports, \"AudioConfig\", { enumerable: true, get: function () { return AudioConfig_js_1.AudioConfig; } });\nvar AudioStreamFormat_js_1 = require(\"./Audio/AudioStreamFormat.js\");\nObject.defineProperty(exports, \"AudioStreamFormat\", { enumerable: true, get: function () { return AudioStreamFormat_js_1.AudioStreamFormat; } });\nObject.defineProperty(exports, \"AudioFormatTag\", { enumerable: true, get: function () { return AudioStreamFormat_js_1.AudioFormatTag; } });\nvar AudioInputStream_js_1 = require(\"./Audio/AudioInputStream.js\");\nObject.defineProperty(exports, \"AudioInputStream\", { enumerable: true, get: function () { return AudioInputStream_js_1.AudioInputStream; } });\nObject.defineProperty(exports, \"PullAudioInputStream\", { enumerable: true, get: function () { return AudioInputStream_js_1.PullAudioInputStream; } });\nObject.defineProperty(exports, \"PushAudioInputStream\", { enumerable: true, get: function () { return AudioInputStream_js_1.PushAudioInputStream; } });\nvar AudioOutputStream_js_1 = require(\"./Audio/AudioOutputStream.js\");\nObject.defineProperty(exports, \"AudioOutputStream\", { enumerable: true, get: function () { return AudioOutputStream_js_1.AudioOutputStream; } });\nObject.defineProperty(exports, \"PullAudioOutputStream\", { enumerable: true, get: function () { return AudioOutputStream_js_1.PullAudioOutputStream; } });\nObject.defineProperty(exports, \"PushAudioOutputStream\", { enumerable: true, get: function () { return AudioOutputStream_js_1.PushAudioOutputStream; } });\nvar CancellationReason_js_1 = require(\"./CancellationReason.js\");\nObject.defineProperty(exports, \"CancellationReason\", { enumerable: true, get: function () { return CancellationReason_js_1.CancellationReason; } });\nvar PullAudioInputStreamCallback_js_1 = require(\"./Audio/PullAudioInputStreamCallback.js\");\nObject.defineProperty(exports, \"PullAudioInputStreamCallback\", { enumerable: true, get: function () { return PullAudioInputStreamCallback_js_1.PullAudioInputStreamCallback; } });\nvar PushAudioOutputStreamCallback_js_1 = require(\"./Audio/PushAudioOutputStreamCallback.js\");\nObject.defineProperty(exports, \"PushAudioOutputStreamCallback\", { enumerable: true, get: function () { return PushAudioOutputStreamCallback_js_1.PushAudioOutputStreamCallback; } });\nvar KeywordRecognitionModel_js_1 = require(\"./KeywordRecognitionModel.js\");\nObject.defineProperty(exports, \"KeywordRecognitionModel\", { enumerable: true, get: function () { return KeywordRecognitionModel_js_1.KeywordRecognitionModel; } });\nvar SessionEventArgs_js_1 = require(\"./SessionEventArgs.js\");\nObject.defineProperty(exports, \"SessionEventArgs\", { enumerable: true, get: function () { return SessionEventArgs_js_1.SessionEventArgs; } });\nvar RecognitionEventArgs_js_1 = require(\"./RecognitionEventArgs.js\");\nObject.defineProperty(exports, \"RecognitionEventArgs\", { enumerable: true, get: function () { return RecognitionEventArgs_js_1.RecognitionEventArgs; } });\nvar OutputFormat_js_1 = require(\"./OutputFormat.js\");\nObject.defineProperty(exports, \"OutputFormat\", { enumerable: true, get: function () { return OutputFormat_js_1.OutputFormat; } });\nvar RecognitionResult_js_1 = require(\"./RecognitionResult.js\");\nObject.defineProperty(exports, \"RecognitionResult\", { enumerable: true, get: function () { return RecognitionResult_js_1.RecognitionResult; } });\nvar SpeechRecognitionResult_js_1 = require(\"./SpeechRecognitionResult.js\");\nObject.defineProperty(exports, \"SpeechRecognitionResult\", { enumerable: true, get: function () { return SpeechRecognitionResult_js_1.SpeechRecognitionResult; } });\nvar SpeechRecognitionEventArgs_js_1 = require(\"./SpeechRecognitionEventArgs.js\");\nObject.defineProperty(exports, \"SpeechRecognitionEventArgs\", { enumerable: true, get: function () { return SpeechRecognitionEventArgs_js_1.SpeechRecognitionEventArgs; } });\nObject.defineProperty(exports, \"ConversationTranscriptionEventArgs\", { enumerable: true, get: function () { return SpeechRecognitionEventArgs_js_1.ConversationTranscriptionEventArgs; } });\nObject.defineProperty(exports, \"MeetingTranscriptionEventArgs\", { enumerable: true, get: function () { return SpeechRecognitionEventArgs_js_1.MeetingTranscriptionEventArgs; } });\nvar SpeechRecognitionCanceledEventArgs_js_1 = require(\"./SpeechRecognitionCanceledEventArgs.js\");\nObject.defineProperty(exports, \"SpeechRecognitionCanceledEventArgs\", { enumerable: true, get: function () { return SpeechRecognitionCanceledEventArgs_js_1.SpeechRecognitionCanceledEventArgs; } });\nvar TranslationRecognitionEventArgs_js_1 = require(\"./TranslationRecognitionEventArgs.js\");\nObject.defineProperty(exports, \"TranslationRecognitionEventArgs\", { enumerable: true, get: function () { return TranslationRecognitionEventArgs_js_1.TranslationRecognitionEventArgs; } });\nvar TranslationSynthesisEventArgs_js_1 = require(\"./TranslationSynthesisEventArgs.js\");\nObject.defineProperty(exports, \"TranslationSynthesisEventArgs\", { enumerable: true, get: function () { return TranslationSynthesisEventArgs_js_1.TranslationSynthesisEventArgs; } });\nvar TranslationRecognitionResult_js_1 = require(\"./TranslationRecognitionResult.js\");\nObject.defineProperty(exports, \"TranslationRecognitionResult\", { enumerable: true, get: function () { return TranslationRecognitionResult_js_1.TranslationRecognitionResult; } });\nvar TranslationSynthesisResult_js_1 = require(\"./TranslationSynthesisResult.js\");\nObject.defineProperty(exports, \"TranslationSynthesisResult\", { enumerable: true, get: function () { return TranslationSynthesisResult_js_1.TranslationSynthesisResult; } });\nvar ResultReason_js_1 = require(\"./ResultReason.js\");\nObject.defineProperty(exports, \"ResultReason\", { enumerable: true, get: function () { return ResultReason_js_1.ResultReason; } });\nvar SpeechConfig_js_1 = require(\"./SpeechConfig.js\");\nObject.defineProperty(exports, \"SpeechConfig\", { enumerable: true, get: function () { return SpeechConfig_js_1.SpeechConfig; } });\nObject.defineProperty(exports, \"SpeechConfigImpl\", { enumerable: true, get: function () { return SpeechConfig_js_1.SpeechConfigImpl; } });\nvar SpeechTranslationConfig_js_1 = require(\"./SpeechTranslationConfig.js\");\nObject.defineProperty(exports, \"SpeechTranslationConfig\", { enumerable: true, get: function () { return SpeechTranslationConfig_js_1.SpeechTranslationConfig; } });\nObject.defineProperty(exports, \"SpeechTranslationConfigImpl\", { enumerable: true, get: function () { return SpeechTranslationConfig_js_1.SpeechTranslationConfigImpl; } });\nvar PropertyCollection_js_1 = require(\"./PropertyCollection.js\");\nObject.defineProperty(exports, \"PropertyCollection\", { enumerable: true, get: function () { return PropertyCollection_js_1.PropertyCollection; } });\nvar PropertyId_js_1 = require(\"./PropertyId.js\");\nObject.defineProperty(exports, \"PropertyId\", { enumerable: true, get: function () { return PropertyId_js_1.PropertyId; } });\nvar Recognizer_js_1 = require(\"./Recognizer.js\");\nObject.defineProperty(exports, \"Recognizer\", { enumerable: true, get: function () { return Recognizer_js_1.Recognizer; } });\nvar SpeechRecognizer_js_1 = require(\"./SpeechRecognizer.js\");\nObject.defineProperty(exports, \"SpeechRecognizer\", { enumerable: true, get: function () { return SpeechRecognizer_js_1.SpeechRecognizer; } });\nvar TranslationRecognizer_js_1 = require(\"./TranslationRecognizer.js\");\nObject.defineProperty(exports, \"TranslationRecognizer\", { enumerable: true, get: function () { return TranslationRecognizer_js_1.TranslationRecognizer; } });\nvar Translations_js_1 = require(\"./Translations.js\");\nObject.defineProperty(exports, \"Translations\", { enumerable: true, get: function () { return Translations_js_1.Translations; } });\nvar NoMatchReason_js_1 = require(\"./NoMatchReason.js\");\nObject.defineProperty(exports, \"NoMatchReason\", { enumerable: true, get: function () { return NoMatchReason_js_1.NoMatchReason; } });\nvar NoMatchDetails_js_1 = require(\"./NoMatchDetails.js\");\nObject.defineProperty(exports, \"NoMatchDetails\", { enumerable: true, get: function () { return NoMatchDetails_js_1.NoMatchDetails; } });\nvar TranslationRecognitionCanceledEventArgs_js_1 = require(\"./TranslationRecognitionCanceledEventArgs.js\");\nObject.defineProperty(exports, \"TranslationRecognitionCanceledEventArgs\", { enumerable: true, get: function () { return TranslationRecognitionCanceledEventArgs_js_1.TranslationRecognitionCanceledEventArgs; } });\nvar CancellationDetailsBase_js_1 = require(\"./CancellationDetailsBase.js\");\nObject.defineProperty(exports, \"CancellationDetailsBase\", { enumerable: true, get: function () { return CancellationDetailsBase_js_1.CancellationDetailsBase; } });\nvar CancellationDetails_js_1 = require(\"./CancellationDetails.js\");\nObject.defineProperty(exports, \"CancellationDetails\", { enumerable: true, get: function () { return CancellationDetails_js_1.CancellationDetails; } });\nvar CancellationErrorCodes_js_1 = require(\"./CancellationErrorCodes.js\");\nObject.defineProperty(exports, \"CancellationErrorCode\", { enumerable: true, get: function () { return CancellationErrorCodes_js_1.CancellationErrorCode; } });\nvar ConnectionEventArgs_js_1 = require(\"./ConnectionEventArgs.js\");\nObject.defineProperty(exports, \"ConnectionEventArgs\", { enumerable: true, get: function () { return ConnectionEventArgs_js_1.ConnectionEventArgs; } });\nvar ServiceEventArgs_js_1 = require(\"./ServiceEventArgs.js\");\nObject.defineProperty(exports, \"ServiceEventArgs\", { enumerable: true, get: function () { return ServiceEventArgs_js_1.ServiceEventArgs; } });\nvar Connection_js_1 = require(\"./Connection.js\");\nObject.defineProperty(exports, \"Connection\", { enumerable: true, get: function () { return Connection_js_1.Connection; } });\nvar PhraseListGrammar_js_1 = require(\"./PhraseListGrammar.js\");\nObject.defineProperty(exports, \"PhraseListGrammar\", { enumerable: true, get: function () { return PhraseListGrammar_js_1.PhraseListGrammar; } });\nvar DialogServiceConfig_js_1 = require(\"./DialogServiceConfig.js\");\nObject.defineProperty(exports, \"DialogServiceConfig\", { enumerable: true, get: function () { return DialogServiceConfig_js_1.DialogServiceConfig; } });\nvar BotFrameworkConfig_js_1 = require(\"./BotFrameworkConfig.js\");\nObject.defineProperty(exports, \"BotFrameworkConfig\", { enumerable: true, get: function () { return BotFrameworkConfig_js_1.BotFrameworkConfig; } });\nvar CustomCommandsConfig_js_1 = require(\"./CustomCommandsConfig.js\");\nObject.defineProperty(exports, \"CustomCommandsConfig\", { enumerable: true, get: function () { return CustomCommandsConfig_js_1.CustomCommandsConfig; } });\nvar DialogServiceConnector_js_1 = require(\"./DialogServiceConnector.js\");\nObject.defineProperty(exports, \"DialogServiceConnector\", { enumerable: true, get: function () { return DialogServiceConnector_js_1.DialogServiceConnector; } });\nvar ActivityReceivedEventArgs_js_1 = require(\"./ActivityReceivedEventArgs.js\");\nObject.defineProperty(exports, \"ActivityReceivedEventArgs\", { enumerable: true, get: function () { return ActivityReceivedEventArgs_js_1.ActivityReceivedEventArgs; } });\nvar TurnStatusReceivedEventArgs_js_1 = require(\"./TurnStatusReceivedEventArgs.js\");\nObject.defineProperty(exports, \"TurnStatusReceivedEventArgs\", { enumerable: true, get: function () { return TurnStatusReceivedEventArgs_js_1.TurnStatusReceivedEventArgs; } });\nvar ServicePropertyChannel_js_1 = require(\"./ServicePropertyChannel.js\");\nObject.defineProperty(exports, \"ServicePropertyChannel\", { enumerable: true, get: function () { return ServicePropertyChannel_js_1.ServicePropertyChannel; } });\nvar ProfanityOption_js_1 = require(\"./ProfanityOption.js\");\nObject.defineProperty(exports, \"ProfanityOption\", { enumerable: true, get: function () { return ProfanityOption_js_1.ProfanityOption; } });\nvar BaseAudioPlayer_js_1 = require(\"./Audio/BaseAudioPlayer.js\");\nObject.defineProperty(exports, \"BaseAudioPlayer\", { enumerable: true, get: function () { return BaseAudioPlayer_js_1.BaseAudioPlayer; } });\nvar ConnectionMessageEventArgs_js_1 = require(\"./ConnectionMessageEventArgs.js\");\nObject.defineProperty(exports, \"ConnectionMessageEventArgs\", { enumerable: true, get: function () { return ConnectionMessageEventArgs_js_1.ConnectionMessageEventArgs; } });\nvar ConnectionMessage_js_1 = require(\"./ConnectionMessage.js\");\nObject.defineProperty(exports, \"ConnectionMessage\", { enumerable: true, get: function () { return ConnectionMessage_js_1.ConnectionMessage; } });\nvar AutoDetectSourceLanguageConfig_js_1 = require(\"./AutoDetectSourceLanguageConfig.js\");\nObject.defineProperty(exports, \"AutoDetectSourceLanguageConfig\", { enumerable: true, get: function () { return AutoDetectSourceLanguageConfig_js_1.AutoDetectSourceLanguageConfig; } });\nvar AutoDetectSourceLanguageResult_js_1 = require(\"./AutoDetectSourceLanguageResult.js\");\nObject.defineProperty(exports, \"AutoDetectSourceLanguageResult\", { enumerable: true, get: function () { return AutoDetectSourceLanguageResult_js_1.AutoDetectSourceLanguageResult; } });\nvar SourceLanguageConfig_js_1 = require(\"./SourceLanguageConfig.js\");\nObject.defineProperty(exports, \"SourceLanguageConfig\", { enumerable: true, get: function () { return SourceLanguageConfig_js_1.SourceLanguageConfig; } });\nvar Exports_js_1 = require(\"./Transcription/Exports.js\");\nObject.defineProperty(exports, \"Conversation\", { enumerable: true, get: function () { return Exports_js_1.Conversation; } });\nObject.defineProperty(exports, \"ConversationExpirationEventArgs\", { enumerable: true, get: function () { return Exports_js_1.ConversationExpirationEventArgs; } });\nObject.defineProperty(exports, \"ConversationParticipantsChangedEventArgs\", { enumerable: true, get: function () { return Exports_js_1.ConversationParticipantsChangedEventArgs; } });\nObject.defineProperty(exports, \"ConversationTranslationCanceledEventArgs\", { enumerable: true, get: function () { return Exports_js_1.ConversationTranslationCanceledEventArgs; } });\nObject.defineProperty(exports, \"ConversationTranslationEventArgs\", { enumerable: true, get: function () { return Exports_js_1.ConversationTranslationEventArgs; } });\nObject.defineProperty(exports, \"ConversationTranslationResult\", { enumerable: true, get: function () { return Exports_js_1.ConversationTranslationResult; } });\nObject.defineProperty(exports, \"ConversationTranslator\", { enumerable: true, get: function () { return Exports_js_1.ConversationTranslator; } });\nObject.defineProperty(exports, \"ConversationTranscriber\", { enumerable: true, get: function () { return Exports_js_1.ConversationTranscriber; } });\nObject.defineProperty(exports, \"ConversationTranscriptionResult\", { enumerable: true, get: function () { return Exports_js_1.ConversationTranscriptionResult; } });\nObject.defineProperty(exports, \"Meeting\", { enumerable: true, get: function () { return Exports_js_1.Meeting; } });\nObject.defineProperty(exports, \"MeetingTranscriber\", { enumerable: true, get: function () { return Exports_js_1.MeetingTranscriber; } });\nObject.defineProperty(exports, \"Participant\", { enumerable: true, get: function () { return Exports_js_1.Participant; } });\nObject.defineProperty(exports, \"ParticipantChangedReason\", { enumerable: true, get: function () { return Exports_js_1.ParticipantChangedReason; } });\nObject.defineProperty(exports, \"User\", { enumerable: true, get: function () { return Exports_js_1.User; } });\nvar Synthesizer_js_1 = require(\"./Synthesizer.js\");\nObject.defineProperty(exports, \"Synthesizer\", { enumerable: true, get: function () { return Synthesizer_js_1.Synthesizer; } });\nvar SpeechSynthesisOutputFormat_js_1 = require(\"./SpeechSynthesisOutputFormat.js\");\nObject.defineProperty(exports, \"SpeechSynthesisOutputFormat\", { enumerable: true, get: function () { return SpeechSynthesisOutputFormat_js_1.SpeechSynthesisOutputFormat; } });\nvar SpeechSynthesizer_js_1 = require(\"./SpeechSynthesizer.js\");\nObject.defineProperty(exports, \"SpeechSynthesizer\", { enumerable: true, get: function () { return SpeechSynthesizer_js_1.SpeechSynthesizer; } });\nvar SynthesisResult_js_1 = require(\"./SynthesisResult.js\");\nObject.defineProperty(exports, \"SynthesisResult\", { enumerable: true, get: function () { return SynthesisResult_js_1.SynthesisResult; } });\nvar SpeechSynthesisResult_js_1 = require(\"./SpeechSynthesisResult.js\");\nObject.defineProperty(exports, \"SpeechSynthesisResult\", { enumerable: true, get: function () { return SpeechSynthesisResult_js_1.SpeechSynthesisResult; } });\nvar SpeechSynthesisEventArgs_js_1 = require(\"./SpeechSynthesisEventArgs.js\");\nObject.defineProperty(exports, \"SpeechSynthesisEventArgs\", { enumerable: true, get: function () { return SpeechSynthesisEventArgs_js_1.SpeechSynthesisEventArgs; } });\nvar SpeechSynthesisWordBoundaryEventArgs_js_1 = require(\"./SpeechSynthesisWordBoundaryEventArgs.js\");\nObject.defineProperty(exports, \"SpeechSynthesisWordBoundaryEventArgs\", { enumerable: true, get: function () { return SpeechSynthesisWordBoundaryEventArgs_js_1.SpeechSynthesisWordBoundaryEventArgs; } });\nvar SpeechSynthesisBookmarkEventArgs_js_1 = require(\"./SpeechSynthesisBookmarkEventArgs.js\");\nObject.defineProperty(exports, \"SpeechSynthesisBookmarkEventArgs\", { enumerable: true, get: function () { return SpeechSynthesisBookmarkEventArgs_js_1.SpeechSynthesisBookmarkEventArgs; } });\nvar SpeechSynthesisVisemeEventArgs_js_1 = require(\"./SpeechSynthesisVisemeEventArgs.js\");\nObject.defineProperty(exports, \"SpeechSynthesisVisemeEventArgs\", { enumerable: true, get: function () { return SpeechSynthesisVisemeEventArgs_js_1.SpeechSynthesisVisemeEventArgs; } });\nvar SpeechSynthesisBoundaryType_js_1 = require(\"./SpeechSynthesisBoundaryType.js\");\nObject.defineProperty(exports, \"SpeechSynthesisBoundaryType\", { enumerable: true, get: function () { return SpeechSynthesisBoundaryType_js_1.SpeechSynthesisBoundaryType; } });\nvar SynthesisVoicesResult_js_1 = require(\"./SynthesisVoicesResult.js\");\nObject.defineProperty(exports, \"SynthesisVoicesResult\", { enumerable: true, get: function () { return SynthesisVoicesResult_js_1.SynthesisVoicesResult; } });\nvar VoiceInfo_js_1 = require(\"./VoiceInfo.js\");\nObject.defineProperty(exports, \"SynthesisVoiceGender\", { enumerable: true, get: function () { return VoiceInfo_js_1.SynthesisVoiceGender; } });\nObject.defineProperty(exports, \"SynthesisVoiceType\", { enumerable: true, get: function () { return VoiceInfo_js_1.SynthesisVoiceType; } });\nObject.defineProperty(exports, \"VoiceInfo\", { enumerable: true, get: function () { return VoiceInfo_js_1.VoiceInfo; } });\nvar SpeakerAudioDestination_js_1 = require(\"./Audio/SpeakerAudioDestination.js\");\nObject.defineProperty(exports, \"SpeakerAudioDestination\", { enumerable: true, get: function () { return SpeakerAudioDestination_js_1.SpeakerAudioDestination; } });\nvar ConversationTranscriptionCanceledEventArgs_js_1 = require(\"./ConversationTranscriptionCanceledEventArgs.js\");\nObject.defineProperty(exports, \"ConversationTranscriptionCanceledEventArgs\", { enumerable: true, get: function () { return ConversationTranscriptionCanceledEventArgs_js_1.ConversationTranscriptionCanceledEventArgs; } });\nvar MeetingTranscriptionCanceledEventArgs_js_1 = require(\"./MeetingTranscriptionCanceledEventArgs.js\");\nObject.defineProperty(exports, \"MeetingTranscriptionCanceledEventArgs\", { enumerable: true, get: function () { return MeetingTranscriptionCanceledEventArgs_js_1.MeetingTranscriptionCanceledEventArgs; } });\nvar PronunciationAssessmentGradingSystem_js_1 = require(\"./PronunciationAssessmentGradingSystem.js\");\nObject.defineProperty(exports, \"PronunciationAssessmentGradingSystem\", { enumerable: true, get: function () { return PronunciationAssessmentGradingSystem_js_1.PronunciationAssessmentGradingSystem; } });\nvar PronunciationAssessmentGranularity_js_1 = require(\"./PronunciationAssessmentGranularity.js\");\nObject.defineProperty(exports, \"PronunciationAssessmentGranularity\", { enumerable: true, get: function () { return PronunciationAssessmentGranularity_js_1.PronunciationAssessmentGranularity; } });\nvar PronunciationAssessmentConfig_js_1 = require(\"./PronunciationAssessmentConfig.js\");\nObject.defineProperty(exports, \"PronunciationAssessmentConfig\", { enumerable: true, get: function () { return PronunciationAssessmentConfig_js_1.PronunciationAssessmentConfig; } });\nvar PronunciationAssessmentResult_js_1 = require(\"./PronunciationAssessmentResult.js\");\nObject.defineProperty(exports, \"PronunciationAssessmentResult\", { enumerable: true, get: function () { return PronunciationAssessmentResult_js_1.PronunciationAssessmentResult; } });\nvar LanguageIdMode_js_1 = require(\"./LanguageIdMode.js\");\nObject.defineProperty(exports, \"LanguageIdMode\", { enumerable: true, get: function () { return LanguageIdMode_js_1.LanguageIdMode; } });\nvar AvatarConfig_js_1 = require(\"./AvatarConfig.js\");\nObject.defineProperty(exports, \"AvatarConfig\", { enumerable: true, get: function () { return AvatarConfig_js_1.AvatarConfig; } });\nvar AvatarEventArgs_js_1 = require(\"./AvatarEventArgs.js\");\nObject.defineProperty(exports, \"AvatarEventArgs\", { enumerable: true, get: function () { return AvatarEventArgs_js_1.AvatarEventArgs; } });\nvar AvatarSynthesizer_js_1 = require(\"./AvatarSynthesizer.js\");\nObject.defineProperty(exports, \"AvatarSynthesizer\", { enumerable: true, get: function () { return AvatarSynthesizer_js_1.AvatarSynthesizer; } });\nvar AvatarVideoFormat_js_1 = require(\"./AvatarVideoFormat.js\");\nObject.defineProperty(exports, \"AvatarVideoFormat\", { enumerable: true, get: function () { return AvatarVideoFormat_js_1.AvatarVideoFormat; } });\nObject.defineProperty(exports, \"Coordinate\", { enumerable: true, get: function () { return AvatarVideoFormat_js_1.Coordinate; } });\nvar AvatarWebRTCConnectionResult_js_1 = require(\"./AvatarWebRTCConnectionResult.js\");\nObject.defineProperty(exports, \"AvatarWebRTCConnectionResult\", { enumerable: true, get: function () { return AvatarWebRTCConnectionResult_js_1.AvatarWebRTCConnectionResult; } });\nvar Diagnostics_js_1 = require(\"./Diagnostics.js\");\nObject.defineProperty(exports, \"Diagnostics\", { enumerable: true, get: function () { return Diagnostics_js_1.Diagnostics; } });\nvar LogLevel_js_1 = require(\"./LogLevel.js\");\nObject.defineProperty(exports, \"LogLevel\", { enumerable: true, get: function () { return LogLevel_js_1.LogLevel; } });\n\n//# sourceMappingURL=Exports.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeywordRecognitionModel = void 0;\nconst Contracts_js_1 = require(\"./Contracts.js\");\n/**\n * Represents a keyword recognition model for recognizing when\n * the user says a keyword to initiate further speech recognition.\n * @class KeywordRecognitionModel\n */\nclass KeywordRecognitionModel {\n    /**\n     * Create and initializes a new instance.\n     * @constructor\n     */\n    constructor() {\n        this.privDisposed = false;\n        return;\n    }\n    /**\n     * Creates a keyword recognition model using the specified filename.\n     * @member KeywordRecognitionModel.fromFile\n     * @function\n     * @public\n     * @param {string} fileName - A string that represents file name for the keyword recognition model.\n     * Note, the file can point to a zip file in which case the model\n     * will be extracted from the zip.\n     * @returns {KeywordRecognitionModel} The keyword recognition model being created.\n     */\n    static fromFile(fileName) {\n        Contracts_js_1.Contracts.throwIfFileDoesNotExist(fileName, \"fileName\");\n        throw new Error(\"Not yet implemented.\");\n    }\n    /**\n     * Creates a keyword recognition model using the specified filename.\n     * @member KeywordRecognitionModel.fromStream\n     * @function\n     * @public\n     * @param {string} file - A File that represents file for the keyword recognition model.\n     * Note, the file can point to a zip file in which case the model will be extracted from the zip.\n     * @returns {KeywordRecognitionModel} The keyword recognition model being created.\n     */\n    static fromStream(file) {\n        Contracts_js_1.Contracts.throwIfNull(file, \"file\");\n        throw new Error(\"Not yet implemented.\");\n    }\n    /**\n     * Dispose of associated resources.\n     * @member KeywordRecognitionModel.prototype.close\n     * @function\n     * @public\n     */\n    close() {\n        if (this.privDisposed) {\n            return;\n        }\n        this.privDisposed = true;\n    }\n}\nexports.KeywordRecognitionModel = KeywordRecognitionModel;\n\n//# sourceMappingURL=KeywordRecognitionModel.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LanguageIdMode = void 0;\n/**\n * Language Identification mode\n * @class LanguageIdMode\n */\nvar LanguageIdMode;\n(function (LanguageIdMode) {\n    /**\n     * Detect language at audio start\n     * @member LanguageIdMode.AtStart\n     */\n    LanguageIdMode[LanguageIdMode[\"AtStart\"] = 0] = \"AtStart\";\n    /**\n     * Continuously detect language\n     * @member LanguageIdMode.Continuous\n     */\n    LanguageIdMode[LanguageIdMode[\"Continuous\"] = 1] = \"Continuous\";\n})(LanguageIdMode = exports.LanguageIdMode || (exports.LanguageIdMode = {}));\n\n//# sourceMappingURL=LanguageIdMode.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LogLevel = void 0;\nconst Exports_js_1 = require(\"../common/Exports.js\");\nObject.defineProperty(exports, \"LogLevel\", { enumerable: true, get: function () { return Exports_js_1.EventType; } });\n\n//# sourceMappingURL=LogLevel.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MeetingTranscriptionCanceledEventArgs = void 0;\nconst CancellationEventArgsBase_js_1 = require(\"./CancellationEventArgsBase.js\");\n/**\n * Defines content of a MeetingTranscriptionCanceledEvent.\n * @class MeetingTranscriptionCanceledEventArgs\n */\nclass MeetingTranscriptionCanceledEventArgs extends CancellationEventArgsBase_js_1.CancellationEventArgsBase {\n}\nexports.MeetingTranscriptionCanceledEventArgs = MeetingTranscriptionCanceledEventArgs;\n\n//# sourceMappingURL=MeetingTranscriptionCanceledEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NoMatchDetails = void 0;\nconst Exports_js_1 = require(\"../../src/common.speech/Exports.js\");\nconst Exports_js_2 = require(\"./Exports.js\");\n/**\n * Contains detailed information for NoMatch recognition results.\n * @class NoMatchDetails\n */\nclass NoMatchDetails {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {NoMatchReason} reason - The no-match reason.\n     */\n    constructor(reason) {\n        this.privReason = reason;\n    }\n    /**\n     * Creates an instance of NoMatchDetails object for the NoMatch SpeechRecognitionResults.\n     * @member NoMatchDetails.fromResult\n     * @function\n     * @public\n     * @param {SpeechRecognitionResult | TranslationRecognitionResult}\n     * result - The recognition result that was not recognized.\n     * @returns {NoMatchDetails} The no match details object being created.\n     */\n    static fromResult(result) {\n        const simpleSpeech = Exports_js_1.SimpleSpeechPhrase.fromJSON(result.json, 0); // Offset fixups are already done.\n        let reason = Exports_js_2.NoMatchReason.NotRecognized;\n        switch (simpleSpeech.RecognitionStatus) {\n            case Exports_js_1.RecognitionStatus.BabbleTimeout:\n                reason = Exports_js_2.NoMatchReason.InitialBabbleTimeout;\n                break;\n            case Exports_js_1.RecognitionStatus.InitialSilenceTimeout:\n                reason = Exports_js_2.NoMatchReason.InitialSilenceTimeout;\n                break;\n            default:\n                reason = Exports_js_2.NoMatchReason.NotRecognized;\n                break;\n        }\n        return new NoMatchDetails(reason);\n    }\n    /**\n     * The reason the recognition was canceled.\n     * @member NoMatchDetails.prototype.reason\n     * @function\n     * @public\n     * @returns {NoMatchReason} Specifies the reason canceled.\n     */\n    get reason() {\n        return this.privReason;\n    }\n}\nexports.NoMatchDetails = NoMatchDetails;\n\n//# sourceMappingURL=NoMatchDetails.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NoMatchReason = void 0;\n/**\n * Defines the possible reasons a recognition result might not be recognized.\n * @class NoMatchReason\n */\nvar NoMatchReason;\n(function (NoMatchReason) {\n    /**\n     * Indicates that speech was detected, but not recognized.\n     * @member NoMatchReason.NotRecognized\n     */\n    NoMatchReason[NoMatchReason[\"NotRecognized\"] = 0] = \"NotRecognized\";\n    /**\n     * Indicates that the start of the audio stream contained only silence,\n     * and the service timed out waiting for speech.\n     * @member NoMatchReason.InitialSilenceTimeout\n     */\n    NoMatchReason[NoMatchReason[\"InitialSilenceTimeout\"] = 1] = \"InitialSilenceTimeout\";\n    /**\n     * Indicates that the start of the audio stream contained only noise,\n     * and the service timed out waiting for speech.\n     * @member NoMatchReason.InitialBabbleTimeout\n     */\n    NoMatchReason[NoMatchReason[\"InitialBabbleTimeout\"] = 2] = \"InitialBabbleTimeout\";\n})(NoMatchReason = exports.NoMatchReason || (exports.NoMatchReason = {}));\n\n//# sourceMappingURL=NoMatchReason.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OutputFormat = void 0;\n/**\n * Define Speech Recognizer output formats.\n * @class OutputFormat\n */\nvar OutputFormat;\n(function (OutputFormat) {\n    /**\n     * @member OutputFormat.Simple\n     */\n    OutputFormat[OutputFormat[\"Simple\"] = 0] = \"Simple\";\n    /**\n     * @member OutputFormat.Detailed\n     */\n    OutputFormat[OutputFormat[\"Detailed\"] = 1] = \"Detailed\";\n})(OutputFormat = exports.OutputFormat || (exports.OutputFormat = {}));\n\n//# sourceMappingURL=OutputFormat.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PhraseListGrammar = void 0;\nconst Contracts_js_1 = require(\"./Contracts.js\");\n/**\n * Allows additions of new phrases to improve speech recognition.\n *\n * Phrases added to the recognizer are effective at the start of the next recognition, or the next time the SpeechSDK must reconnect\n * to the speech service.\n */\nclass PhraseListGrammar {\n    constructor(recogBase) {\n        this.privGrammerBuilder = recogBase.dynamicGrammar;\n    }\n    /**\n     * Creates a PhraseListGrammar from a given speech recognizer. Will accept any recognizer that derives from @class Recognizer.\n     * @param recognizer The recognizer to add phrase lists to.\n     */\n    static fromRecognizer(recognizer) {\n        const recoBase = recognizer.internalData;\n        return new PhraseListGrammar(recoBase);\n    }\n    /**\n     * Adds a single phrase to the current recognizer.\n     * @param phrase Phrase to add.\n     */\n    addPhrase(phrase) {\n        this.privGrammerBuilder.addPhrase(phrase);\n    }\n    /**\n     * Adds multiple phrases to the current recognizer.\n     * @param phrases Array of phrases to add.\n     */\n    addPhrases(phrases) {\n        this.privGrammerBuilder.addPhrase(phrases);\n    }\n    /**\n     * Clears all phrases added to the current recognizer.\n     */\n    clear() {\n        this.privGrammerBuilder.clearPhrases();\n    }\n    /**\n     * Sets the phrase list grammar biasing weight.\n     * The allowed range is [0.0, 2.0].\n     * The default weight is 1.0. Value zero disables the phrase list.\n     * @param weight Phrase list grammar biasing weight.\n     */\n    setWeight(weight) {\n        Contracts_js_1.Contracts.throwIfNumberOutOfRange(weight, \"weight\", 0.0, 2.0);\n        this.privGrammerBuilder.setWeight(weight);\n    }\n}\nexports.PhraseListGrammar = PhraseListGrammar;\n\n//# sourceMappingURL=PhraseListGrammar.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProfanityOption = void 0;\n/**\n * Profanity option.\n * Added in version 1.7.0.\n */\nvar ProfanityOption;\n(function (ProfanityOption) {\n    ProfanityOption[ProfanityOption[\"Masked\"] = 0] = \"Masked\";\n    ProfanityOption[ProfanityOption[\"Removed\"] = 1] = \"Removed\";\n    ProfanityOption[ProfanityOption[\"Raw\"] = 2] = \"Raw\";\n})(ProfanityOption = exports.ProfanityOption || (exports.ProfanityOption = {}));\n\n//# sourceMappingURL=ProfanityOption.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PronunciationAssessmentConfig = void 0;\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Pronunciation assessment configuration.\n * @class PronunciationAssessmentConfig\n * Added in version 1.15.0.\n */\nclass PronunciationAssessmentConfig {\n    /**\n     * PronunciationAssessmentConfig constructor.\n     * @constructor\n     * @param {string} referenceText\n     * @param gradingSystem\n     * @param granularity\n     * @param enableMiscue\n     */\n    constructor(referenceText, gradingSystem = Exports_js_1.PronunciationAssessmentGradingSystem.FivePoint, granularity = Exports_js_1.PronunciationAssessmentGranularity.Phoneme, enableMiscue = false) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(referenceText, \"referenceText\");\n        this.privProperties = new Exports_js_1.PropertyCollection();\n        this.privProperties.setProperty(Exports_js_1.PropertyId.PronunciationAssessment_ReferenceText, referenceText);\n        this.privProperties.setProperty(Exports_js_1.PropertyId.PronunciationAssessment_GradingSystem, Exports_js_1.PronunciationAssessmentGradingSystem[gradingSystem]);\n        this.privProperties.setProperty(Exports_js_1.PropertyId.PronunciationAssessment_Granularity, Exports_js_1.PronunciationAssessmentGranularity[granularity]);\n        this.privProperties.setProperty(Exports_js_1.PropertyId.PronunciationAssessment_EnableMiscue, String(enableMiscue));\n    }\n    /**\n     * @member PronunciationAssessmentConfig.fromJSON\n     * @function\n     * @public\n     * @param {string} json The json string containing the pronunciation assessment parameters.\n     * @return {PronunciationAssessmentConfig} Instance of PronunciationAssessmentConfig\n     * @summary Creates an instance of the PronunciationAssessmentConfig from json.\n     * This method is designed to support the pronunciation assessment parameters still in preview.\n     * Under normal circumstances, use the constructor instead.\n     */\n    static fromJSON(json) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(json, \"json\");\n        const config = new PronunciationAssessmentConfig(\"\");\n        config.privProperties = new Exports_js_1.PropertyCollection();\n        config.properties.setProperty(Exports_js_1.PropertyId.PronunciationAssessment_Json, json);\n        return config;\n    }\n    toJSON() {\n        this.updateJson();\n        return this.privProperties.getProperty(Exports_js_1.PropertyId.PronunciationAssessment_Params);\n    }\n    applyTo(recognizer) {\n        this.updateJson();\n        const recoBase = recognizer.internalData;\n        recoBase.speechContext.setPronunciationAssessmentParams(this.properties.getProperty(Exports_js_1.PropertyId.PronunciationAssessment_Params), recoBase.isSpeakerDiarizationEnabled);\n    }\n    /**\n     * Gets the reference text.\n     * @member PronunciationAssessmentConfig.prototype.referenceText\n     * @function\n     * @public\n     * @returns {string} Reference text.\n     */\n    get referenceText() {\n        return this.properties.getProperty(Exports_js_1.PropertyId.PronunciationAssessment_ReferenceText);\n    }\n    /**\n     * Gets/Sets the reference text.\n     * @member PronunciationAssessmentConfig.prototype.referenceText\n     * @function\n     * @public\n     * @param {string} referenceText - Reference text.\n     */\n    set referenceText(referenceText) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(referenceText, \"referenceText\");\n        this.properties.setProperty(Exports_js_1.PropertyId.PronunciationAssessment_ReferenceText, referenceText);\n    }\n    /**\n     * Sets the phoneme alphabet.\n     * The valid values are \"SAPI\" (default) and \"IPA\".\n     * Added in version 1.20.0\n     * @member PronunciationAssessmentConfig.prototype.phonemeAlphabet\n     * @function\n     * @public\n     * @param {string} phonemeAlphabet - Phoneme alphabet.\n     */\n    set phonemeAlphabet(phonemeAlphabet) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(phonemeAlphabet, \"phonemeAlphabet\");\n        this.privPhonemeAlphabet = phonemeAlphabet;\n    }\n    /**\n     * Sets the boolean enableMiscue property.\n     * Added in version 1.26.0\n     * @member PronunciationAssessmentConfig.prototype.enableMiscue\n     * @function\n     * @public\n     * @param {boolean} enableMiscue - enable miscue.\n     */\n    set enableMiscue(enableMiscue) {\n        const enableMiscueString = enableMiscue ? \"true\" : \"false\";\n        this.properties.setProperty(Exports_js_1.PropertyId.PronunciationAssessment_EnableMiscue, enableMiscueString);\n    }\n    /**\n     * Gets the boolean enableMiscue property.\n     * Added in version 1.26.0\n     * @member PronunciationAssessmentConfig.prototype.enableMiscue\n     * @function\n     * @public\n     * @return {boolean} enableMiscue - enable miscue.\n     */\n    get enableMiscue() {\n        const enableMiscueString = this.properties.getProperty(Exports_js_1.PropertyId.PronunciationAssessment_EnableMiscue, \"false\");\n        return (enableMiscueString.toLowerCase() === \"true\");\n    }\n    /**\n     * Sets the nbest phoneme count\n     * Added in version 1.20.0\n     * @member PronunciationAssessmentConfig.prototype.nbestPhonemeCount\n     * @function\n     * @public\n     * @param {number} nbestPhonemeCount - NBest phoneme count.\n     */\n    set nbestPhonemeCount(nbestPhonemeCount) {\n        this.privNBestPhonemeCount = nbestPhonemeCount;\n    }\n    /**\n     * Enables the prosody assessment.\n     * Added in version 1.34.0\n     * @member PronunciationAssessmentConfig.prototype.enableProsodyAssessment\n     * @function\n     * @public\n     * @param {boolean} enableProsodyAssessment - enable prosody assessment.\n     */\n    set enableProsodyAssessment(enableProsodyAssessment) {\n        this.privEnableProsodyAssessment = enableProsodyAssessment;\n    }\n    /**\n     * @member PronunciationAssessmentConfig.prototype.properties\n     * @function\n     * @public\n     * @return {PropertyCollection} Properties of the config.\n     * @summary Gets a pronunciation assessment config properties\n     */\n    get properties() {\n        return this.privProperties;\n    }\n    updateJson() {\n        const jsonString = this.privProperties.getProperty(Exports_js_1.PropertyId.PronunciationAssessment_Json, \"{}\");\n        const paramsJson = JSON.parse(jsonString);\n        const referenceText = this.privProperties.getProperty(Exports_js_1.PropertyId.PronunciationAssessment_ReferenceText);\n        if (referenceText) {\n            paramsJson.referenceText = referenceText;\n        }\n        const gradingSystem = this.privProperties.getProperty(Exports_js_1.PropertyId.PronunciationAssessment_GradingSystem);\n        if (gradingSystem) {\n            paramsJson.gradingSystem = gradingSystem;\n        }\n        const granularity = this.privProperties.getProperty(Exports_js_1.PropertyId.PronunciationAssessment_Granularity);\n        if (granularity) {\n            paramsJson.granularity = granularity;\n        }\n        if (this.privPhonemeAlphabet) {\n            paramsJson.phonemeAlphabet = this.privPhonemeAlphabet;\n        }\n        if (this.privNBestPhonemeCount) {\n            paramsJson.nbestPhonemeCount = this.privNBestPhonemeCount;\n        }\n        paramsJson.enableProsodyAssessment = this.privEnableProsodyAssessment;\n        // always set dimension to Comprehensive\n        paramsJson.dimension = \"Comprehensive\";\n        const enableMiscueString = this.privProperties.getProperty(Exports_js_1.PropertyId.PronunciationAssessment_EnableMiscue);\n        if (enableMiscueString) {\n            paramsJson.enableMiscue = this.enableMiscue;\n        }\n        this.privProperties.setProperty(Exports_js_1.PropertyId.PronunciationAssessment_Params, JSON.stringify(paramsJson));\n    }\n}\nexports.PronunciationAssessmentConfig = PronunciationAssessmentConfig;\n\n//# sourceMappingURL=PronunciationAssessmentConfig.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PronunciationAssessmentGradingSystem = void 0;\n/**\n * Defines the point system for pronunciation score calibration; default value is FivePoint.\n * Added in version 1.15.0\n * @class PronunciationAssessmentGradingSystem\n */\nvar PronunciationAssessmentGradingSystem;\n(function (PronunciationAssessmentGradingSystem) {\n    /**\n     * Five point calibration\n     * @member PronunciationAssessmentGradingSystem.FivePoint\n     */\n    PronunciationAssessmentGradingSystem[PronunciationAssessmentGradingSystem[\"FivePoint\"] = 1] = \"FivePoint\";\n    /**\n     * Hundred mark\n     * @member PronunciationAssessmentGradingSystem.HundredMark\n     */\n    PronunciationAssessmentGradingSystem[PronunciationAssessmentGradingSystem[\"HundredMark\"] = 2] = \"HundredMark\";\n})(PronunciationAssessmentGradingSystem = exports.PronunciationAssessmentGradingSystem || (exports.PronunciationAssessmentGradingSystem = {}));\n\n//# sourceMappingURL=PronunciationAssessmentGradingSystem.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PronunciationAssessmentGranularity = void 0;\n/**\n * Defines the pronunciation evaluation granularity; default value is Phoneme.\n * Added in version 1.15.0\n * @class PronunciationAssessmentGranularity\n */\nvar PronunciationAssessmentGranularity;\n(function (PronunciationAssessmentGranularity) {\n    /**\n     * Shows the score on the full text, word and phoneme level\n     * @member PronunciationAssessmentGranularity.Phoneme\n     */\n    PronunciationAssessmentGranularity[PronunciationAssessmentGranularity[\"Phoneme\"] = 1] = \"Phoneme\";\n    /**\n     * Shows the score on the full text and word level\n     * @member PronunciationAssessmentGranularity.Word\n     */\n    PronunciationAssessmentGranularity[PronunciationAssessmentGranularity[\"Word\"] = 2] = \"Word\";\n    /**\n     * Shows the score on the full text level only\n     * @member PronunciationAssessmentGranularity.FullText\n     */\n    PronunciationAssessmentGranularity[PronunciationAssessmentGranularity[\"FullText\"] = 3] = \"FullText\";\n})(PronunciationAssessmentGranularity = exports.PronunciationAssessmentGranularity || (exports.PronunciationAssessmentGranularity = {}));\n\n//# sourceMappingURL=PronunciationAssessmentGranularity.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PronunciationAssessmentResult = void 0;\n/* eslint-disable max-classes-per-file */\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Pronunciation assessment results.\n * @class PronunciationAssessmentResult\n * Added in version 1.15.0.\n */\nclass PronunciationAssessmentResult {\n    constructor(jsonString) {\n        const j = JSON.parse(jsonString);\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(j.NBest[0], \"NBest\");\n        this.privPronJson = j.NBest[0];\n    }\n    /**\n     * @member PronunciationAssessmentResult.fromResult\n     * @function\n     * @public\n     * @param {RecognitionResult} result The recognition result.\n     * @return {PronunciationAssessmentConfig} Instance of PronunciationAssessmentConfig\n     * @summary Creates an instance of the PronunciationAssessmentResult from recognition result.\n     */\n    static fromResult(result) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(result, \"result\");\n        const json = result.properties.getProperty(Exports_js_1.PropertyId.SpeechServiceResponse_JsonResult);\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(json, \"json\");\n        return new PronunciationAssessmentResult(json);\n    }\n    /**\n     * Gets the detail result of pronunciation assessment.\n     * @member PronunciationAssessmentConfig.prototype.detailResult\n     * @function\n     * @public\n     * @returns {DetailResult} detail result.\n     */\n    get detailResult() {\n        return this.privPronJson;\n    }\n    /**\n     * The score indicating the pronunciation accuracy of the given speech, which indicates\n     * how closely the phonemes match a native speaker's pronunciation.\n     * @member PronunciationAssessmentResult.prototype.accuracyScore\n     * @function\n     * @public\n     * @returns {number} Accuracy score.\n     */\n    get accuracyScore() {\n        return this.detailResult.PronunciationAssessment?.AccuracyScore;\n    }\n    /**\n     * The overall score indicating the pronunciation quality of the given speech.\n     * This is calculated from AccuracyScore, FluencyScore and CompletenessScore with weight.\n     * @member PronunciationAssessmentResult.prototype.pronunciationScore\n     * @function\n     * @public\n     * @returns {number} Pronunciation score.\n     */\n    get pronunciationScore() {\n        return this.detailResult.PronunciationAssessment?.PronScore;\n    }\n    /**\n     * The score indicating the completeness of the given speech by calculating the ratio of pronounced words towards entire input.\n     * @member PronunciationAssessmentResult.prototype.completenessScore\n     * @function\n     * @public\n     * @returns {number} Completeness score.\n     */\n    get completenessScore() {\n        return this.detailResult.PronunciationAssessment?.CompletenessScore;\n    }\n    /**\n     * The score indicating the fluency of the given speech.\n     * @member PronunciationAssessmentResult.prototype.fluencyScore\n     * @function\n     * @public\n     * @returns {number} Fluency score.\n     */\n    get fluencyScore() {\n        return this.detailResult.PronunciationAssessment?.FluencyScore;\n    }\n    /**\n     * The prosody score, which indicates how nature of the given speech, including stress, intonation, speaking speed and rhythm.\n     * @member PronunciationAssessmentResult.prototype.prosodyScore\n     * @function\n     * @public\n     * @returns {number} Prosody score.\n     */\n    get prosodyScore() {\n        return this.detailResult.PronunciationAssessment?.ProsodyScore;\n    }\n}\nexports.PronunciationAssessmentResult = PronunciationAssessmentResult;\n\n//# sourceMappingURL=PronunciationAssessmentResult.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PropertyCollection = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Represents collection of properties and their values.\n * @class PropertyCollection\n */\nclass PropertyCollection {\n    constructor() {\n        this.privKeys = [];\n        this.privValues = [];\n    }\n    /**\n     * Returns the property value in type String.\n     * Currently only String, int and bool are allowed.\n     * If the name is not available, the specified defaultValue is returned.\n     * @member PropertyCollection.prototype.getProperty\n     * @function\n     * @public\n     * @param {string} key - The parameter name.\n     * @param {string | number | boolean} def - The default value which is returned if the parameter\n     * is not available in the collection.\n     * @returns {string} value of the parameter.\n     */\n    getProperty(key, def) {\n        let keyToUse;\n        if (typeof key === \"string\") {\n            keyToUse = key;\n        }\n        else {\n            keyToUse = Exports_js_1.PropertyId[key];\n        }\n        for (let n = 0; n < this.privKeys.length; n++) {\n            if (this.privKeys[n] === keyToUse) {\n                return this.privValues[n];\n            }\n        }\n        if (def === undefined) {\n            return undefined;\n        }\n        return String(def);\n    }\n    /**\n     * Sets the String value of the parameter specified by name.\n     * @member PropertyCollection.prototype.setProperty\n     * @function\n     * @public\n     * @param {string} key - The parameter name.\n     * @param {string} value - The value of the parameter.\n     */\n    setProperty(key, value) {\n        let keyToUse;\n        if (typeof key === \"string\") {\n            keyToUse = key;\n        }\n        else {\n            keyToUse = Exports_js_1.PropertyId[key];\n        }\n        for (let n = 0; n < this.privKeys.length; n++) {\n            if (this.privKeys[n] === keyToUse) {\n                this.privValues[n] = value;\n                return;\n            }\n        }\n        this.privKeys.push(keyToUse);\n        this.privValues.push(value);\n    }\n    /**\n     * Clones the collection.\n     * @member PropertyCollection.prototype.clone\n     * @function\n     * @public\n     * @returns {PropertyCollection} A copy of the collection.\n     */\n    clone() {\n        const clonedMap = new PropertyCollection();\n        for (let n = 0; n < this.privKeys.length; n++) {\n            clonedMap.privKeys.push(this.privKeys[n]);\n            clonedMap.privValues.push(this.privValues[n]);\n        }\n        return clonedMap;\n    }\n    /**\n     * Merges this set of properties into another, no overwrites.\n     * @member PropertyCollection.prototype.mergeTo\n     * @function\n     * @public\n     * @param {PropertyCollection}  destinationCollection - The collection to merge into.\n     */\n    mergeTo(destinationCollection) {\n        this.privKeys.forEach((key) => {\n            if (destinationCollection.getProperty(key, undefined) === undefined) {\n                const value = this.getProperty(key);\n                destinationCollection.setProperty(key, value);\n            }\n        });\n    }\n    /**\n     * Get the keys in Property Collection.\n     * @member PropertyCollection.prototype.keys\n     * @function\n     * @public\n     * @returns {string []} Keys in the collection.\n     */\n    get keys() {\n        return this.privKeys;\n    }\n}\nexports.PropertyCollection = PropertyCollection;\n\n//# sourceMappingURL=PropertyCollection.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PropertyId = void 0;\n/**\n * Defines speech property ids.\n * @class PropertyId\n */\nvar PropertyId;\n(function (PropertyId) {\n    /**\n     * The Cognitive Services Speech Service subscription Key. Under normal circumstances, you shouldn't\n     * have to use this property directly.\n     * Instead, use [[SpeechConfig.fromSubscription]].\n     * @member PropertyId.SpeechServiceConnection_Key\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_Key\"] = 0] = \"SpeechServiceConnection_Key\";\n    /**\n     * The Cognitive Services Speech Service endpoint (url). Under normal circumstances, you shouldn't\n     * have to use this property directly.\n     * Instead, use [[SpeechConfig.fromEndpoint]].\n     * NOTE: This endpoint is not the same as the endpoint used to obtain an access token.\n     * @member PropertyId.SpeechServiceConnection_Endpoint\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_Endpoint\"] = 1] = \"SpeechServiceConnection_Endpoint\";\n    /**\n     * The Cognitive Services Speech Service region. Under normal circumstances, you shouldn't have to\n     * use this property directly.\n     * Instead, use [[SpeechConfig.fromSubscription]], [[SpeechConfig.fromEndpoint]], [[SpeechConfig.fromAuthorizationToken]].\n     * @member PropertyId.SpeechServiceConnection_Region\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_Region\"] = 2] = \"SpeechServiceConnection_Region\";\n    /**\n     * The Cognitive Services Speech Service authorization token (aka access token). Under normal circumstances,\n     * you shouldn't have to use this property directly.\n     * Instead, use [[SpeechConfig.fromAuthorizationToken]], [[SpeechRecognizer.authorizationToken]],\n     * [[TranslationRecognizer.authorizationToken]], [[SpeakerRecognizer.authorizationToken]].\n     * @member PropertyId.SpeechServiceAuthorization_Token\n     */\n    PropertyId[PropertyId[\"SpeechServiceAuthorization_Token\"] = 3] = \"SpeechServiceAuthorization_Token\";\n    /**\n     * The Cognitive Services Speech Service authorization type. Currently unused.\n     * @member PropertyId.SpeechServiceAuthorization_Type\n     */\n    PropertyId[PropertyId[\"SpeechServiceAuthorization_Type\"] = 4] = \"SpeechServiceAuthorization_Type\";\n    /**\n     * The Cognitive Services Speech Service endpoint id. Under normal circumstances, you shouldn't\n     * have to use this property directly.\n     * Instead, use [[SpeechConfig.endpointId]].\n     * NOTE: The endpoint id is available in the Speech Portal, listed under Endpoint Details.\n     * @member PropertyId.SpeechServiceConnection_EndpointId\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_EndpointId\"] = 5] = \"SpeechServiceConnection_EndpointId\";\n    /**\n     * The list of comma separated languages (BCP-47 format) used as target translation languages. Under normal circumstances,\n     * you shouldn't have to use this property directly.\n     * Instead use [[SpeechTranslationConfig.addTargetLanguage]],\n     * [[SpeechTranslationConfig.targetLanguages]], [[TranslationRecognizer.targetLanguages]].\n     * @member PropertyId.SpeechServiceConnection_TranslationToLanguages\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_TranslationToLanguages\"] = 6] = \"SpeechServiceConnection_TranslationToLanguages\";\n    /**\n     * The name of the Cognitive Service Text to Speech Service Voice. Under normal circumstances, you shouldn't have to use this\n     * property directly.\n     * Instead, use [[SpeechTranslationConfig.voiceName]].\n     * NOTE: Valid voice names can be found <a href=\"https://aka.ms/csspeech/voicenames\">here</a>.\n     * @member PropertyId.SpeechServiceConnection_TranslationVoice\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_TranslationVoice\"] = 7] = \"SpeechServiceConnection_TranslationVoice\";\n    /**\n     * Translation features.\n     * @member PropertyId.SpeechServiceConnection_TranslationFeatures\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_TranslationFeatures\"] = 8] = \"SpeechServiceConnection_TranslationFeatures\";\n    /**\n     * The category ID for translation.\n     * @member PropertyId.SpeechServiceConnection_TranslationCategoryId\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_TranslationCategoryId\"] = 9] = \"SpeechServiceConnection_TranslationCategoryId\";\n    /**\n     * The host name of the proxy server used to connect to the Cognitive Services Speech Service. Only relevant in Node.js environments.\n     * You shouldn't have to use this property directly.\n     * Instead use <see cref=\"SpeechConfig.SetProxy(string,int,string,string)\"/>.\n     * Added in version 1.4.0.\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_ProxyHostName\"] = 10] = \"SpeechServiceConnection_ProxyHostName\";\n    /**\n     * The port of the proxy server used to connect to the Cognitive Services Speech Service. Only relevant in Node.js environments.\n     * You shouldn't have to use this property directly.\n     * Instead use <see cref=\"SpeechConfig.SetProxy(string,int,string,string)\"/>.\n     * Added in version 1.4.0.\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_ProxyPort\"] = 11] = \"SpeechServiceConnection_ProxyPort\";\n    /**\n     * The user name of the proxy server used to connect to the Cognitive Services Speech Service. Only relevant in Node.js environments.\n     * You shouldn't have to use this property directly.\n     * Instead use <see cref=\"SpeechConfig.SetProxy(string,int,string,string)\"/>.\n     * Added in version 1.4.0.\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_ProxyUserName\"] = 12] = \"SpeechServiceConnection_ProxyUserName\";\n    /**\n     * The password of the proxy server used to connect to the Cognitive Services Speech Service. Only relevant in Node.js environments.\n     * You shouldn't have to use this property directly.\n     * Instead use <see cref=\"SpeechConfig.SetProxy(string,int,string,string)\"/>.\n     * Added in version 1.4.0.\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_ProxyPassword\"] = 13] = \"SpeechServiceConnection_ProxyPassword\";\n    /**\n     * The Cognitive Services Speech Service recognition Mode. Can be \"INTERACTIVE\", \"CONVERSATION\", \"DICTATION\".\n     * This property is intended to be read-only. The SDK is using it internally.\n     * @member PropertyId.SpeechServiceConnection_RecoMode\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_RecoMode\"] = 14] = \"SpeechServiceConnection_RecoMode\";\n    /**\n     * The spoken language to be recognized (in BCP-47 format). Under normal circumstances, you shouldn't have to use this property\n     * directly.\n     * Instead, use [[SpeechConfig.speechRecognitionLanguage]].\n     * @member PropertyId.SpeechServiceConnection_RecoLanguage\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_RecoLanguage\"] = 15] = \"SpeechServiceConnection_RecoLanguage\";\n    /**\n     * The session id. This id is a universally unique identifier (aka UUID) representing a specific binding of an audio input stream\n     * and the underlying speech recognition instance to which it is bound. Under normal circumstances, you shouldn't have to use this\n     * property directly.\n     * Instead use [[SessionEventArgs.sessionId]].\n     * @member PropertyId.Speech_SessionId\n     */\n    PropertyId[PropertyId[\"Speech_SessionId\"] = 16] = \"Speech_SessionId\";\n    /**\n     * The spoken language to be synthesized (e.g. en-US)\n     * @member PropertyId.SpeechServiceConnection_SynthLanguage\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_SynthLanguage\"] = 17] = \"SpeechServiceConnection_SynthLanguage\";\n    /**\n     * The name of the TTS voice to be used for speech synthesis\n     * @member PropertyId.SpeechServiceConnection_SynthVoice\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_SynthVoice\"] = 18] = \"SpeechServiceConnection_SynthVoice\";\n    /**\n     * The string to specify TTS output audio format\n     * @member PropertyId.SpeechServiceConnection_SynthOutputFormat\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_SynthOutputFormat\"] = 19] = \"SpeechServiceConnection_SynthOutputFormat\";\n    /**\n     * The list of comma separated languages used as possible source languages\n     * Added in version 1.13.0\n     * @member PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_AutoDetectSourceLanguages\"] = 20] = \"SpeechServiceConnection_AutoDetectSourceLanguages\";\n    /**\n     * The requested Cognitive Services Speech Service response output format (simple or detailed). Under normal circumstances, you shouldn't have\n     * to use this property directly.\n     * Instead use [[SpeechConfig.outputFormat]].\n     * @member PropertyId.SpeechServiceResponse_RequestDetailedResultTrueFalse\n     */\n    PropertyId[PropertyId[\"SpeechServiceResponse_RequestDetailedResultTrueFalse\"] = 21] = \"SpeechServiceResponse_RequestDetailedResultTrueFalse\";\n    /**\n     * The requested Cognitive Services Speech Service response output profanity level. Currently unused.\n     * @member PropertyId.SpeechServiceResponse_RequestProfanityFilterTrueFalse\n     */\n    PropertyId[PropertyId[\"SpeechServiceResponse_RequestProfanityFilterTrueFalse\"] = 22] = \"SpeechServiceResponse_RequestProfanityFilterTrueFalse\";\n    /**\n     * The Cognitive Services Speech Service response output (in JSON format). This property is available on recognition result objects only.\n     * @member PropertyId.SpeechServiceResponse_JsonResult\n     */\n    PropertyId[PropertyId[\"SpeechServiceResponse_JsonResult\"] = 23] = \"SpeechServiceResponse_JsonResult\";\n    /**\n     * The Cognitive Services Speech Service error details (in JSON format). Under normal circumstances, you shouldn't have to\n     * use this property directly. Instead use [[CancellationDetails.errorDetails]].\n     * @member PropertyId.SpeechServiceResponse_JsonErrorDetails\n     */\n    PropertyId[PropertyId[\"SpeechServiceResponse_JsonErrorDetails\"] = 24] = \"SpeechServiceResponse_JsonErrorDetails\";\n    /**\n     * The cancellation reason. Currently unused.\n     * @member PropertyId.CancellationDetails_Reason\n     */\n    PropertyId[PropertyId[\"CancellationDetails_Reason\"] = 25] = \"CancellationDetails_Reason\";\n    /**\n     * The cancellation text. Currently unused.\n     * @member PropertyId.CancellationDetails_ReasonText\n     */\n    PropertyId[PropertyId[\"CancellationDetails_ReasonText\"] = 26] = \"CancellationDetails_ReasonText\";\n    /**\n     * The Cancellation detailed text. Currently unused.\n     * @member PropertyId.CancellationDetails_ReasonDetailedText\n     */\n    PropertyId[PropertyId[\"CancellationDetails_ReasonDetailedText\"] = 27] = \"CancellationDetails_ReasonDetailedText\";\n    /**\n     * The URL string built from speech configuration.\n     * This property is intended to be read-only. The SDK is using it internally.\n     * NOTE: Added in version 1.7.0.\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_Url\"] = 28] = \"SpeechServiceConnection_Url\";\n    /**\n     * The initial silence timeout value (in milliseconds) used by the service.\n     * Added in version 1.7.0\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_InitialSilenceTimeoutMs\"] = 29] = \"SpeechServiceConnection_InitialSilenceTimeoutMs\";\n    /**\n     * This property is deprecated.\n     * For current information about silence timeouts, please visit https://aka.ms/csspeech/timeouts.\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_EndSilenceTimeoutMs\"] = 30] = \"SpeechServiceConnection_EndSilenceTimeoutMs\";\n    /**\n     * A duration of detected silence, measured in milliseconds, after which speech-to-text will determine a spoken\n     * phrase has ended and generate a final Recognized result. Configuring this timeout may be helpful in situations\n     * where spoken input is significantly faster or slower than usual and default segmentation behavior consistently\n     * yields results that are too long or too short. Segmentation timeout values that are inappropriately high or low\n     * can negatively affect speech-to-text accuracy; this property should be carefully configured and the resulting\n     * behavior should be thoroughly validated as intended.\n     *\n     * Refer to the documentation for valid value ranges and additional details:\n     * https://aka.ms/csspeech/timeouts\n     *\n     * Added in version 1.42.0.\n     */\n    PropertyId[PropertyId[\"Speech_SegmentationSilenceTimeoutMs\"] = 31] = \"Speech_SegmentationSilenceTimeoutMs\";\n    /**\n     * SegmentationMaximumTimeMs represents the maximum length of a spoken phrase when using the Time segmentation strategy.\n     * @member Speech_SegmentationSilenceTimeoutMs must be set in order to use this setting.\n     * As the length of a spoken phrase approaches this value, the @member Speech_SegmentationSilenceTimeoutMs will be reduced until either\n     * the phrase silence timeout is reached or the phrase reaches the maximum length.\n     *\n     * Valid range: **20,000 to 70,000** milliseconds.\n     *\n     * Added in version 1.42.0.\n     */\n    PropertyId[PropertyId[\"Speech_SegmentationMaximumTimeMs\"] = 32] = \"Speech_SegmentationMaximumTimeMs\";\n    /**\n     * Specifies the strategy used to determine when a spoken phrase has ended,\n     * triggering the generation of a final recognition result.\n     *\n     * Supported values:\n     * - \"Default\": Uses the Speech Service's default segmentation strategy. Recommended for most use cases.\n     * - \"Time\": Uses a silence-based timeout. A final result is generated after a defined period of silence.\n     * Requires @member Speech_SegmentationMaximumTimeMs to be configured appropriately.\n     * Optional: Adjust @member Speech_SegmentationSilenceTimeoutMs to control how much silence ends a phrase.\n     * - \"Semantic\": Uses an AI model to semantically infer phrase boundaries based on content.\n     * No adjustable parameters are available for this strategy.\n     *\n     * Introduced in version 1.42.0.\n     */\n    PropertyId[PropertyId[\"Speech_SegmentationStrategy\"] = 33] = \"Speech_SegmentationStrategy\";\n    /**\n     * The sensitivity of how soon a potential speech start can be signaled.\n     * Allowed values are \"low\" (default), \"medium\" and \"high\".\n     */\n    PropertyId[PropertyId[\"Speech_StartEventSensitivity\"] = 34] = \"Speech_StartEventSensitivity\";\n    /**\n     * A boolean value specifying whether audio logging is enabled in the service or not.\n     * Audio and content logs are stored either in Microsoft-owned storage, or in your own storage account linked\n     * to your Cognitive Services subscription (Bring Your Own Storage (BYOS) enabled Speech resource).\n     * The logs will be removed after 30 days.\n     * Added in version 1.7.0\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_EnableAudioLogging\"] = 35] = \"SpeechServiceConnection_EnableAudioLogging\";\n    /**\n     * The speech service connection language identifier mode.\n     * Can be \"AtStart\" (the default), or \"Continuous\". See Language\n     * Identification document https://aka.ms/speech/lid?pivots=programming-language-javascript\n     * for more details.\n     * Added in 1.25.0\n     **/\n    PropertyId[PropertyId[\"SpeechServiceConnection_LanguageIdMode\"] = 36] = \"SpeechServiceConnection_LanguageIdMode\";\n    /**\n     * A string value representing the desired endpoint version to target for Speech Recognition.\n     * Added in version 1.21.0\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_RecognitionEndpointVersion\"] = 37] = \"SpeechServiceConnection_RecognitionEndpointVersion\";\n    /**\n     * The requested Cognitive Services Speech Service response output profanity setting.\n     * Allowed values are \"masked\", \"removed\", and \"raw\".\n     * Added in version 1.7.0.\n     */\n    PropertyId[PropertyId[\"SpeechServiceResponse_ProfanityOption\"] = 38] = \"SpeechServiceResponse_ProfanityOption\";\n    /**\n     * A string value specifying which post processing option should be used by service.\n     * Allowed values are \"TrueText\".\n     * Added in version 1.7.0\n     */\n    PropertyId[PropertyId[\"SpeechServiceResponse_PostProcessingOption\"] = 39] = \"SpeechServiceResponse_PostProcessingOption\";\n    /**\n     * A boolean value specifying whether to include word-level timestamps in the response result.\n     * Added in version 1.7.0\n     */\n    PropertyId[PropertyId[\"SpeechServiceResponse_RequestWordLevelTimestamps\"] = 40] = \"SpeechServiceResponse_RequestWordLevelTimestamps\";\n    /**\n     * The number of times a word has to be in partial results to be returned.\n     * Added in version 1.7.0\n     */\n    PropertyId[PropertyId[\"SpeechServiceResponse_StablePartialResultThreshold\"] = 41] = \"SpeechServiceResponse_StablePartialResultThreshold\";\n    /**\n     * A string value specifying the output format option in the response result. Internal use only.\n     * Added in version 1.7.0.\n     */\n    PropertyId[PropertyId[\"SpeechServiceResponse_OutputFormatOption\"] = 42] = \"SpeechServiceResponse_OutputFormatOption\";\n    /**\n     * A boolean value to request for stabilizing translation partial results by omitting words in the end.\n     * Added in version 1.7.0.\n     */\n    PropertyId[PropertyId[\"SpeechServiceResponse_TranslationRequestStablePartialResult\"] = 43] = \"SpeechServiceResponse_TranslationRequestStablePartialResult\";\n    /**\n     * A boolean value specifying whether to request WordBoundary events.\n     * @member PropertyId.SpeechServiceResponse_RequestWordBoundary\n     * Added in version 1.21.0.\n     */\n    PropertyId[PropertyId[\"SpeechServiceResponse_RequestWordBoundary\"] = 44] = \"SpeechServiceResponse_RequestWordBoundary\";\n    /**\n     * A boolean value specifying whether to request punctuation boundary in WordBoundary Events. Default is true.\n     * @member PropertyId.SpeechServiceResponse_RequestPunctuationBoundary\n     * Added in version 1.21.0.\n     */\n    PropertyId[PropertyId[\"SpeechServiceResponse_RequestPunctuationBoundary\"] = 45] = \"SpeechServiceResponse_RequestPunctuationBoundary\";\n    /**\n     * A boolean value specifying whether to request sentence boundary in WordBoundary Events. Default is false.\n     * @member PropertyId.SpeechServiceResponse_RequestSentenceBoundary\n     * Added in version 1.21.0.\n     */\n    PropertyId[PropertyId[\"SpeechServiceResponse_RequestSentenceBoundary\"] = 46] = \"SpeechServiceResponse_RequestSentenceBoundary\";\n    /**\n     * Determines if intermediate results contain speaker identification.\n     * Allowed values are \"true\" or \"false\". If set to \"true\", the intermediate results will contain speaker identification.\n     * The default value if unset or set to an invalid value is \"false\".\n     * This is currently only supported for scenarios using the ConversationTranscriber\".\n     * @member PropertyId.SpeechServiceResponse_DiarizeIntermediateResults\n     * Adding in version 1.41.\n     */\n    PropertyId[PropertyId[\"SpeechServiceResponse_DiarizeIntermediateResults\"] = 47] = \"SpeechServiceResponse_DiarizeIntermediateResults\";\n    /**\n     * Identifier used to connect to the backend service.\n     * @member PropertyId.Conversation_ApplicationId\n     */\n    PropertyId[PropertyId[\"Conversation_ApplicationId\"] = 48] = \"Conversation_ApplicationId\";\n    /**\n     * Type of dialog backend to connect to.\n     * @member PropertyId.Conversation_DialogType\n     */\n    PropertyId[PropertyId[\"Conversation_DialogType\"] = 49] = \"Conversation_DialogType\";\n    /**\n     * Silence timeout for listening\n     * @member PropertyId.Conversation_Initial_Silence_Timeout\n     */\n    PropertyId[PropertyId[\"Conversation_Initial_Silence_Timeout\"] = 50] = \"Conversation_Initial_Silence_Timeout\";\n    /**\n     * From Id to add to speech recognition activities.\n     * @member PropertyId.Conversation_From_Id\n     */\n    PropertyId[PropertyId[\"Conversation_From_Id\"] = 51] = \"Conversation_From_Id\";\n    /**\n     * ConversationId for the session.\n     * @member PropertyId.Conversation_Conversation_Id\n     */\n    PropertyId[PropertyId[\"Conversation_Conversation_Id\"] = 52] = \"Conversation_Conversation_Id\";\n    /**\n     * Comma separated list of custom voice deployment ids.\n     * @member PropertyId.Conversation_Custom_Voice_Deployment_Ids\n     */\n    PropertyId[PropertyId[\"Conversation_Custom_Voice_Deployment_Ids\"] = 53] = \"Conversation_Custom_Voice_Deployment_Ids\";\n    /**\n     * Speech activity template, stamp properties from the template on the activity generated by the service for speech.\n     * @member PropertyId.Conversation_Speech_Activity_Template\n     * Added in version 1.10.0.\n     */\n    PropertyId[PropertyId[\"Conversation_Speech_Activity_Template\"] = 54] = \"Conversation_Speech_Activity_Template\";\n    /**\n     * Enables or disables the receipt of turn status messages as obtained on the turnStatusReceived event.\n     * @member PropertyId.Conversation_Request_Bot_Status_Messages\n     * Added in version 1.15.0.\n     */\n    PropertyId[PropertyId[\"Conversation_Request_Bot_Status_Messages\"] = 55] = \"Conversation_Request_Bot_Status_Messages\";\n    /**\n     * Specifies the connection ID to be provided in the Agent configuration message, e.g. a Direct Line token for\n     * channel authentication.\n     * Added in version 1.15.1.\n     */\n    PropertyId[PropertyId[\"Conversation_Agent_Connection_Id\"] = 56] = \"Conversation_Agent_Connection_Id\";\n    /**\n     * The Cognitive Services Speech Service host (url). Under normal circumstances, you shouldn't have to use this property directly.\n     * Instead, use [[SpeechConfig.fromHost]].\n     */\n    PropertyId[PropertyId[\"SpeechServiceConnection_Host\"] = 57] = \"SpeechServiceConnection_Host\";\n    /**\n     * Set the host for service calls to the Conversation Translator REST management and websocket calls.\n     */\n    PropertyId[PropertyId[\"ConversationTranslator_Host\"] = 58] = \"ConversationTranslator_Host\";\n    /**\n     * Optionally set the the host's display name.\n     * Used when joining a conversation.\n     */\n    PropertyId[PropertyId[\"ConversationTranslator_Name\"] = 59] = \"ConversationTranslator_Name\";\n    /**\n     * Optionally set a value for the X-CorrelationId request header.\n     * Used for troubleshooting errors in the server logs. It should be a valid guid.\n     */\n    PropertyId[PropertyId[\"ConversationTranslator_CorrelationId\"] = 60] = \"ConversationTranslator_CorrelationId\";\n    /**\n     * Set the conversation token to be sent to the speech service. This enables the\n     * service to service call from the speech service to the Conversation Translator service for relaying\n     * recognitions. For internal use.\n     */\n    PropertyId[PropertyId[\"ConversationTranslator_Token\"] = 61] = \"ConversationTranslator_Token\";\n    /**\n     * The reference text of the audio for pronunciation evaluation.\n     * For this and the following pronunciation assessment parameters, see\n     * https://docs.microsoft.com/azure/cognitive-services/speech-service/rest-speech-to-text#pronunciation-assessment-parameters for details.\n     * Under normal circumstances, you shouldn't have to use this property directly.\n     * Added in version 1.15.0\n     */\n    PropertyId[PropertyId[\"PronunciationAssessment_ReferenceText\"] = 62] = \"PronunciationAssessment_ReferenceText\";\n    /**\n     * The point system for pronunciation score calibration (FivePoint or HundredMark).\n     * Under normal circumstances, you shouldn't have to use this property directly.\n     * Added in version 1.15.0\n     */\n    PropertyId[PropertyId[\"PronunciationAssessment_GradingSystem\"] = 63] = \"PronunciationAssessment_GradingSystem\";\n    /**\n     * The pronunciation evaluation granularity (Phoneme, Word, or FullText).\n     * Under normal circumstances, you shouldn't have to use this property directly.\n     * Added in version 1.15.0\n     */\n    PropertyId[PropertyId[\"PronunciationAssessment_Granularity\"] = 64] = \"PronunciationAssessment_Granularity\";\n    /**\n     * Defines if enable miscue calculation.\n     * With this enabled, the pronounced words will be compared to the reference text,\n     * and will be marked with omission/insertion based on the comparison. The default setting is False.\n     * Under normal circumstances, you shouldn't have to use this property directly.\n     * Added in version 1.15.0\n     */\n    PropertyId[PropertyId[\"PronunciationAssessment_EnableMiscue\"] = 65] = \"PronunciationAssessment_EnableMiscue\";\n    /**\n     * The json string of pronunciation assessment parameters\n     * Under normal circumstances, you shouldn't have to use this property directly.\n     * Added in version 1.15.0\n     */\n    PropertyId[PropertyId[\"PronunciationAssessment_Json\"] = 66] = \"PronunciationAssessment_Json\";\n    /**\n     * Pronunciation assessment parameters.\n     * This property is intended to be read-only. The SDK is using it internally.\n     * Added in version 1.15.0\n     */\n    PropertyId[PropertyId[\"PronunciationAssessment_Params\"] = 67] = \"PronunciationAssessment_Params\";\n    /**\n     * Specifies whether to allow load of data URL for web worker\n     * Allowed values are \"off\" and \"on\". Default is \"on\".\n     * Added in version 1.32.0\n     */\n    PropertyId[PropertyId[\"WebWorkerLoadType\"] = 68] = \"WebWorkerLoadType\";\n    /**\n     * Talking avatar service WebRTC session description protocol.\n     * This property is intended to be read-only. The SDK is using it internally.\n     * Added in version 1.33.0\n     */\n    PropertyId[PropertyId[\"TalkingAvatarService_WebRTC_SDP\"] = 69] = \"TalkingAvatarService_WebRTC_SDP\";\n})(PropertyId = exports.PropertyId || (exports.PropertyId = {}));\n\n//# sourceMappingURL=PropertyId.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RecognitionEventArgs = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Defines payload for session events like Speech Start/End Detected\n * @class\n */\nclass RecognitionEventArgs extends Exports_js_1.SessionEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {number} offset - The offset.\n     * @param {string} sessionId - The session id.\n     */\n    constructor(offset, sessionId) {\n        super(sessionId);\n        this.privOffset = offset;\n    }\n    /**\n     * Represents the message offset\n     * @member RecognitionEventArgs.prototype.offset\n     * @function\n     * @public\n     */\n    get offset() {\n        return this.privOffset;\n    }\n}\nexports.RecognitionEventArgs = RecognitionEventArgs;\n\n//# sourceMappingURL=RecognitionEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RecognitionResult = void 0;\n/**\n * Defines result of speech recognition.\n * @class RecognitionResult\n */\nclass RecognitionResult {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {string} resultId - The result id.\n     * @param {ResultReason} reason - The reason.\n     * @param {string} text - The recognized text.\n     * @param {number} duration - The duration.\n     * @param {number} offset - The offset into the stream.\n     * @param {string} language - Primary Language detected, if provided.\n     * @param {string} languageDetectionConfidence - Primary Language confidence (\"Unknown,\" \"Low,\" \"Medium,\" \"High\"...), if provided.\n     * @param {string} errorDetails - Error details, if provided.\n     * @param {string} json - Additional Json, if provided.\n     * @param {PropertyCollection} properties - Additional properties, if provided.\n     */\n    constructor(resultId, reason, text, duration, offset, language, languageDetectionConfidence, errorDetails, json, properties) {\n        this.privResultId = resultId;\n        this.privReason = reason;\n        this.privText = text;\n        this.privDuration = duration;\n        this.privOffset = offset;\n        this.privLanguage = language;\n        this.privLanguageDetectionConfidence = languageDetectionConfidence;\n        this.privErrorDetails = errorDetails;\n        this.privJson = json;\n        this.privProperties = properties;\n    }\n    /**\n     * Specifies the result identifier.\n     * @member RecognitionResult.prototype.resultId\n     * @function\n     * @public\n     * @returns {string} Specifies the result identifier.\n     */\n    get resultId() {\n        return this.privResultId;\n    }\n    /**\n     * Specifies status of the result.\n     * @member RecognitionResult.prototype.reason\n     * @function\n     * @public\n     * @returns {ResultReason} Specifies status of the result.\n     */\n    get reason() {\n        return this.privReason;\n    }\n    /**\n     * Presents the recognized text in the result.\n     * @member RecognitionResult.prototype.text\n     * @function\n     * @public\n     * @returns {string} Presents the recognized text in the result.\n     */\n    get text() {\n        return this.privText;\n    }\n    /**\n     * Duration of recognized speech in 100 nano second increments.\n     * @member RecognitionResult.prototype.duration\n     * @function\n     * @public\n     * @returns {number} Duration of recognized speech in 100 nano second increments.\n     */\n    get duration() {\n        return this.privDuration;\n    }\n    /**\n     * Offset of recognized speech in 100 nano second increments.\n     * @member RecognitionResult.prototype.offset\n     * @function\n     * @public\n     * @returns {number} Offset of recognized speech in 100 nano second increments.\n     */\n    get offset() {\n        return this.privOffset;\n    }\n    /**\n     * Primary Language detected.\n     * @member RecognitionResult.prototype.language\n     * @function\n     * @public\n     * @returns {string} language detected.\n     */\n    get language() {\n        return this.privLanguage;\n    }\n    /**\n     * Primary Language detection confidence (Unknown, Low, Medium, High).\n     * @member RecognitionResult.prototype.languageDetectionConfidence\n     * @function\n     * @public\n     * @returns {string} detection confidence strength.\n     */\n    get languageDetectionConfidence() {\n        return this.privLanguageDetectionConfidence;\n    }\n    /**\n     * In case of an unsuccessful recognition, provides details of the occurred error.\n     * @member RecognitionResult.prototype.errorDetails\n     * @function\n     * @public\n     * @returns {string} a brief description of an error.\n     */\n    get errorDetails() {\n        return this.privErrorDetails;\n    }\n    /**\n     * A string containing Json serialized recognition result as it was received from the service.\n     * @member RecognitionResult.prototype.json\n     * @function\n     * @private\n     * @returns {string} Json serialized representation of the result.\n     */\n    get json() {\n        return this.privJson;\n    }\n    /**\n     * The set of properties exposed in the result.\n     * @member RecognitionResult.prototype.properties\n     * @function\n     * @public\n     * @returns {PropertyCollection} The set of properties exposed in the result.\n     */\n    get properties() {\n        return this.privProperties;\n    }\n}\nexports.RecognitionResult = RecognitionResult;\n\n//# sourceMappingURL=RecognitionResult.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Recognizer = void 0;\nconst Exports_js_1 = require(\"../common.speech/Exports.js\");\nconst Exports_js_2 = require(\"../common/Exports.js\");\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst Exports_js_3 = require(\"./Exports.js\");\n/**\n * Defines the base class Recognizer which mainly contains common event handlers.\n * @class Recognizer\n */\nclass Recognizer {\n    /**\n     * Creates and initializes an instance of a Recognizer\n     * @constructor\n     * @param {AudioConfig} audioInput - An optional audio input stream associated with the recognizer\n     * @param {PropertyCollection} properties - A set of properties to set on the recognizer\n     * @param {IConnectionFactory} connectionFactory - The factory class used to create a custom IConnection for the recognizer\n     */\n    constructor(audioConfig, properties, connectionFactory, tokenCredential) {\n        this.audioConfig = (audioConfig !== undefined) ? audioConfig : Exports_js_3.AudioConfig.fromDefaultMicrophoneInput();\n        this.privDisposed = false;\n        this.privProperties = properties.clone();\n        this.privConnectionFactory = connectionFactory;\n        this.tokenCredential = tokenCredential;\n        this.implCommonRecognizerSetup();\n    }\n    /**\n     * Dispose of associated resources.\n     * @member Recognizer.prototype.close\n     * @function\n     * @public\n     */\n    close(cb, errorCb) {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposed);\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.dispose(true), cb, errorCb);\n    }\n    /**\n     * @Internal\n     * Internal data member to support fromRecognizer* pattern methods on other classes.\n     * Do not use externally, object returned will change without warning or notice.\n     */\n    get internalData() {\n        return this.privReco;\n    }\n    /**\n     * This method performs cleanup of resources.\n     * The Boolean parameter disposing indicates whether the method is called\n     * from Dispose (if disposing is true) or from the finalizer (if disposing is false).\n     * Derived classes should override this method to dispose resource if needed.\n     * @member Recognizer.prototype.dispose\n     * @function\n     * @public\n     * @param {boolean} disposing - Flag to request disposal.\n     */\n    async dispose(disposing) {\n        if (this.privDisposed) {\n            return;\n        }\n        this.privDisposed = true;\n        if (disposing) {\n            if (this.privReco) {\n                await this.privReco.audioSource.turnOff();\n                await this.privReco.dispose();\n            }\n        }\n    }\n    /**\n     * This method returns the current state of the telemetry setting.\n     * @member Recognizer.prototype.telemetryEnabled\n     * @function\n     * @public\n     * @returns true if the telemetry is enabled, false otherwise.\n     */\n    static get telemetryEnabled() {\n        return Exports_js_1.ServiceRecognizerBase.telemetryDataEnabled;\n    }\n    /**\n     * This method globally enables or disables telemetry.\n     * @member Recognizer.prototype.enableTelemetry\n     * @function\n     * @public\n     * @param enabled - Global setting for telemetry collection.\n     * If set to true, telemetry information like microphone errors,\n     * recognition errors are collected and sent to Microsoft.\n     * If set to false, no telemetry is sent to Microsoft.\n     */\n    static enableTelemetry(enabled) {\n        Exports_js_1.ServiceRecognizerBase.telemetryDataEnabled = enabled;\n    }\n    // Does the generic recognizer setup that is common across all recognizer types.\n    implCommonRecognizerSetup() {\n        let osPlatform = (typeof window !== \"undefined\") ? \"Browser\" : \"Node\";\n        let osName = \"unknown\";\n        let osVersion = \"unknown\";\n        if (typeof navigator !== \"undefined\") {\n            osPlatform = osPlatform + \"/\" + navigator.platform;\n            osName = navigator.userAgent;\n            osVersion = navigator.appVersion;\n        }\n        const recognizerConfig = this.createRecognizerConfig(new Exports_js_1.SpeechServiceConfig(new Exports_js_1.Context(new Exports_js_1.OS(osPlatform, osName, osVersion))));\n        this.privReco = this.createServiceRecognizer(Recognizer.getAuth(this.privProperties, this.tokenCredential), this.privConnectionFactory, this.audioConfig, recognizerConfig);\n    }\n    async recognizeOnceAsyncImpl(recognitionMode) {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposed);\n        const ret = new Exports_js_2.Deferred();\n        await this.implRecognizerStop();\n        await this.privReco.recognize(recognitionMode, ret.resolve, ret.reject);\n        const result = await ret.promise;\n        await this.implRecognizerStop();\n        return result;\n    }\n    async startContinuousRecognitionAsyncImpl(recognitionMode) {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposed);\n        await this.implRecognizerStop();\n        await this.privReco.recognize(recognitionMode, undefined, undefined);\n    }\n    async stopContinuousRecognitionAsyncImpl() {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposed);\n        await this.implRecognizerStop();\n    }\n    async implRecognizerStop() {\n        if (this.privReco) {\n            await this.privReco.stopRecognizing();\n        }\n        return;\n    }\n    static getAuth(properties, tokenCredential) {\n        const subscriptionKey = properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_Key, undefined);\n        if (subscriptionKey && subscriptionKey !== \"\") {\n            return new Exports_js_1.CognitiveSubscriptionKeyAuthentication(subscriptionKey);\n        }\n        if (tokenCredential) {\n            return new Exports_js_1.CognitiveTokenAuthentication(async () => {\n                try {\n                    const tokenResponse = await tokenCredential.getToken(\"https://cognitiveservices.azure.com/.default\");\n                    return tokenResponse?.token ?? \"\";\n                }\n                catch (err) {\n                    throw err;\n                }\n            }, async () => {\n                try {\n                    const tokenResponse = await tokenCredential.getToken(\"https://cognitiveservices.azure.com/.default\");\n                    return tokenResponse?.token ?? \"\";\n                }\n                catch (err) {\n                    throw err;\n                }\n            });\n        }\n        return new Exports_js_1.CognitiveTokenAuthentication(() => {\n            const authorizationToken = properties.getProperty(Exports_js_3.PropertyId.SpeechServiceAuthorization_Token, undefined);\n            return Promise.resolve(authorizationToken);\n        }, () => {\n            const authorizationToken = properties.getProperty(Exports_js_3.PropertyId.SpeechServiceAuthorization_Token, undefined);\n            return Promise.resolve(authorizationToken);\n        });\n    }\n}\nexports.Recognizer = Recognizer;\n\n//# sourceMappingURL=Recognizer.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResultReason = void 0;\n/**\n * Defines the possible reasons a recognition result might be generated.\n * @class ResultReason\n */\nvar ResultReason;\n(function (ResultReason) {\n    /**\n     * Indicates speech could not be recognized. More details\n     * can be found in the NoMatchDetails object.\n     * @member ResultReason.NoMatch\n     */\n    ResultReason[ResultReason[\"NoMatch\"] = 0] = \"NoMatch\";\n    /**\n     * Indicates that the recognition was canceled. More details\n     * can be found using the CancellationDetails object.\n     * @member ResultReason.Canceled\n     */\n    ResultReason[ResultReason[\"Canceled\"] = 1] = \"Canceled\";\n    /**\n     * Indicates the speech result contains hypothesis text.\n     * @member ResultReason.RecognizedSpeech\n     */\n    ResultReason[ResultReason[\"RecognizingSpeech\"] = 2] = \"RecognizingSpeech\";\n    /**\n     * Indicates the speech result contains final text that has been recognized.\n     * Speech Recognition is now complete for this phrase.\n     * @member ResultReason.RecognizedSpeech\n     */\n    ResultReason[ResultReason[\"RecognizedSpeech\"] = 3] = \"RecognizedSpeech\";\n    /**\n     * Indicates the speech result contains a finalized acceptance of a provided keyword.\n     * Speech recognition will continue unless otherwise configured.\n     * @member ResultReason.RecognizedKeyword\n     */\n    ResultReason[ResultReason[\"RecognizedKeyword\"] = 4] = \"RecognizedKeyword\";\n    /**\n     * Indicates the translation result contains hypothesis text and its translation(s).\n     * @member ResultReason.TranslatingSpeech\n     */\n    ResultReason[ResultReason[\"TranslatingSpeech\"] = 5] = \"TranslatingSpeech\";\n    /**\n     * Indicates the translation result contains final text and corresponding translation(s).\n     * Speech Recognition and Translation are now complete for this phrase.\n     * @member ResultReason.TranslatedSpeech\n     */\n    ResultReason[ResultReason[\"TranslatedSpeech\"] = 6] = \"TranslatedSpeech\";\n    /**\n     * Indicates the synthesized audio result contains a non-zero amount of audio data\n     * @member ResultReason.SynthesizingAudio\n     */\n    ResultReason[ResultReason[\"SynthesizingAudio\"] = 7] = \"SynthesizingAudio\";\n    /**\n     * Indicates the synthesized audio is now complete for this phrase.\n     * @member ResultReason.SynthesizingAudioCompleted\n     */\n    ResultReason[ResultReason[\"SynthesizingAudioCompleted\"] = 8] = \"SynthesizingAudioCompleted\";\n    /**\n     * Indicates the speech synthesis is now started\n     * @member ResultReason.SynthesizingAudioStarted\n     */\n    ResultReason[ResultReason[\"SynthesizingAudioStarted\"] = 9] = \"SynthesizingAudioStarted\";\n    /**\n     * Indicates synthesis voices list has been successfully retrieved.\n     * @member ResultReason.VoicesListRetrieved\n     */\n    ResultReason[ResultReason[\"VoicesListRetrieved\"] = 10] = \"VoicesListRetrieved\";\n    /**\n     * Indicates the transcription result contains hypothesis text and its translation(s) for\n     * other participants in the conversation.\n     * @member ResultReason.TranslatingParticipantSpeech\n     */\n    ResultReason[ResultReason[\"TranslatingParticipantSpeech\"] = 11] = \"TranslatingParticipantSpeech\";\n    /**\n     * Indicates the transcription result contains final text and corresponding translation(s)\n     * for other participants in the conversation. Speech Recognition and Translation are now\n     * complete for this phrase.\n     * @member ResultReason.TranslatedParticipantSpeech\n     */\n    ResultReason[ResultReason[\"TranslatedParticipantSpeech\"] = 12] = \"TranslatedParticipantSpeech\";\n    /**\n     * <summary>\n     * Indicates the transcription result contains the instant message and corresponding\n     * translation(s).\n     * @member ResultReason.TranslatedInstantMessage\n     */\n    ResultReason[ResultReason[\"TranslatedInstantMessage\"] = 13] = \"TranslatedInstantMessage\";\n    /**\n     * Indicates the transcription result contains the instant message for other participants\n     * in the conversation and corresponding translation(s).\n     * @member ResultReason.TranslatedParticipantInstantMessage\n     */\n    ResultReason[ResultReason[\"TranslatedParticipantInstantMessage\"] = 14] = \"TranslatedParticipantInstantMessage\";\n})(ResultReason = exports.ResultReason || (exports.ResultReason = {}));\n\n//# sourceMappingURL=ResultReason.js.map\n","\"use strict\";\n//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license. See LICENSE.md file in the project root for full license information.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ServiceEventArgs = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Defines payload for any Service message event\n * Added in version 1.9.0\n */\nclass ServiceEventArgs extends Exports_js_1.SessionEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {string} json - json payload of the USP message.\n     */\n    constructor(json, name, sessionId) {\n        super(sessionId);\n        this.privJsonResult = json;\n        this.privEventName = name;\n    }\n    get jsonString() {\n        return this.privJsonResult;\n    }\n    get eventName() {\n        return this.privEventName;\n    }\n}\nexports.ServiceEventArgs = ServiceEventArgs;\n\n//# sourceMappingURL=ServiceEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ServicePropertyChannel = void 0;\n/**\n * Defines channels used to pass property settings to service.\n * Added in version 1.7.0.\n */\nvar ServicePropertyChannel;\n(function (ServicePropertyChannel) {\n    /**\n     * Uses URI query parameter to pass property settings to service.\n     */\n    ServicePropertyChannel[ServicePropertyChannel[\"UriQueryParameter\"] = 0] = \"UriQueryParameter\";\n})(ServicePropertyChannel = exports.ServicePropertyChannel || (exports.ServicePropertyChannel = {}));\n\n//# sourceMappingURL=ServicePropertyChannel.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SessionEventArgs = void 0;\n/**\n * Defines content for session events like SessionStarted/Stopped, SoundStarted/Stopped.\n * @class SessionEventArgs\n */\nclass SessionEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {string} sessionId - The session id.\n     */\n    constructor(sessionId) {\n        this.privSessionId = sessionId;\n    }\n    /**\n     * Represents the session identifier.\n     * @member SessionEventArgs.prototype.sessionId\n     * @function\n     * @public\n     * @returns {string} Represents the session identifier.\n     */\n    get sessionId() {\n        return this.privSessionId;\n    }\n}\nexports.SessionEventArgs = SessionEventArgs;\n\n//# sourceMappingURL=SessionEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SourceLanguageConfig = void 0;\nconst Contracts_js_1 = require(\"./Contracts.js\");\n/**\n * Source Language configuration.\n * @class SourceLanguageConfig\n */\nclass SourceLanguageConfig {\n    constructor(language, endpointId) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(language, \"language\");\n        this.privLanguage = language;\n        this.privEndpointId = endpointId;\n    }\n    /**\n     * @member SourceLanguageConfig.fromLanguage\n     * @function\n     * @public\n     * @param {string} language language (eg. \"en-US\") value of config.\n     * @param {string?} endpointId endpointId of model bound to given language of config.\n     * @return {SourceLanguageConfig} Instance of SourceLanguageConfig\n     * @summary Creates an instance of the SourceLanguageConfig with the given language and optional endpointId.\n     * Added in version 1.13.0.\n     */\n    static fromLanguage(language, endpointId) {\n        return new SourceLanguageConfig(language, endpointId);\n    }\n    get language() {\n        return this.privLanguage;\n    }\n    get endpointId() {\n        return this.privEndpointId;\n    }\n}\nexports.SourceLanguageConfig = SourceLanguageConfig;\n\n//# sourceMappingURL=SourceLanguageConfig.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n/* eslint-disable max-classes-per-file */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechConfigImpl = exports.SpeechConfig = void 0;\nconst Exports_js_1 = require(\"../common.speech/Exports.js\");\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst Exports_js_2 = require(\"./Exports.js\");\n/**\n * Speech configuration.\n * @class SpeechConfig\n */\nclass SpeechConfig {\n    /**\n     * Creates and initializes an instance.\n     * @constructor\n     */\n    constructor() {\n        return;\n    }\n    /**\n     * Static instance of SpeechConfig returned by passing subscriptionKey and service region.\n     * @member SpeechConfig.fromSubscription\n     * @function\n     * @public\n     * @param {string} subscriptionKey - The subscription key.\n     * @param {string} region - The region name (see the <a href=\"https://aka.ms/csspeech/region\">region page</a>).\n     * @returns {SpeechConfig} The speech factory\n     */\n    static fromSubscription(subscriptionKey, region) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(subscriptionKey, \"subscriptionKey\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(region, \"region\");\n        const speechImpl = new SpeechConfigImpl();\n        speechImpl.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Region, region);\n        speechImpl.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Key, subscriptionKey);\n        return speechImpl;\n    }\n    /**\n     * Internal implementation of fromEndpoint() overloads. Accepts either a subscription key or a TokenCredential.\n     * @private\n     */\n    static fromEndpoint(endpoint, auth) {\n        Contracts_js_1.Contracts.throwIfNull(endpoint, \"endpoint\");\n        const isValidString = typeof auth === \"string\" && auth.trim().length > 0;\n        const isTokenCredential = typeof auth === \"object\" && auth !== null && typeof auth.getToken === \"function\";\n        const isKeyCredential = typeof auth === \"object\" && auth !== null && typeof auth.key === \"string\";\n        if (auth !== undefined && !isValidString && !isTokenCredential && !isKeyCredential) {\n            throw new Error(\"Invalid 'auth' parameter: expected a non-empty API key string, a TokenCredential, or a KeyCredential.\");\n        }\n        let speechImpl;\n        if (typeof auth === \"string\") {\n            speechImpl = new SpeechConfigImpl();\n            speechImpl.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Key, auth);\n        }\n        else if (typeof auth === \"object\" && typeof auth.getToken === \"function\") {\n            speechImpl = new SpeechConfigImpl(auth);\n        }\n        else if (typeof auth === \"object\" && typeof auth.key === \"string\") {\n            speechImpl = new SpeechConfigImpl();\n            speechImpl.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Key, auth.key);\n        }\n        else {\n            speechImpl = new SpeechConfigImpl();\n        }\n        speechImpl.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Endpoint, endpoint.href);\n        return speechImpl;\n    }\n    /**\n     * Creates an instance of the speech config with specified host and subscription key.\n     * This method is intended only for users who use a non-default service host. Standard resource path will be assumed.\n     * For services with a non-standard resource path or no path at all, use fromEndpoint instead.\n     * Note: Query parameters are not allowed in the host URI and must be set by other APIs.\n     * Note: To use an authorization token with fromHost, use fromHost(URL),\n     * and then set the AuthorizationToken property on the created SpeechConfig instance.\n     * Note: Added in version 1.9.0.\n     * @member SpeechConfig.fromHost\n     * @function\n     * @public\n     * @param {URL} host - The service endpoint to connect to. Format is \"protocol://host:port\" where \":port\" is optional.\n     * @param {string} subscriptionKey - The subscription key. If a subscription key is not specified, an authorization token must be set.\n     * @returns {SpeechConfig} A speech factory instance.\n     */\n    static fromHost(hostName, subscriptionKey) {\n        Contracts_js_1.Contracts.throwIfNull(hostName, \"hostName\");\n        const speechImpl = new SpeechConfigImpl();\n        speechImpl.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Host, hostName.protocol + \"//\" + hostName.hostname + (hostName.port === \"\" ? \"\" : \":\" + hostName.port));\n        // Containers do not yet have /stt/speech/universal/v2 routes.\n        speechImpl.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion, \"1\");\n        if (undefined !== subscriptionKey) {\n            speechImpl.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Key, subscriptionKey);\n        }\n        return speechImpl;\n    }\n    /**\n     * Creates an instance of the speech factory with specified initial authorization token and region.\n     * Note: The caller needs to ensure that the authorization token is valid. Before the authorization token\n     * expires, the caller needs to refresh it by calling this setter with a new valid token.\n     * Note: As configuration values are copied when creating a new recognizer,\n     * the new token value will not apply to recognizers that have already been created. For recognizers\n     * that have been created before, you need to set authorization token of the corresponding recognizer\n     * to refresh the token. Otherwise, the recognizers will encounter errors during recognition.\n     * @member SpeechConfig.fromAuthorizationToken\n     * @function\n     * @public\n     * @param {string} authorizationToken - The initial authorization token.\n     * @param {string} region - The region name (see the <a href=\"https://aka.ms/csspeech/region\">region page</a>).\n     * @returns {SpeechConfig} A speech factory instance.\n     */\n    static fromAuthorizationToken(authorizationToken, region) {\n        Contracts_js_1.Contracts.throwIfNull(authorizationToken, \"authorizationToken\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(region, \"region\");\n        const speechImpl = new SpeechConfigImpl();\n        speechImpl.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Region, region);\n        speechImpl.authorizationToken = authorizationToken;\n        return speechImpl;\n    }\n    /**\n     * Closes the configuration.\n     * @member SpeechConfig.prototype.close\n     * @function\n     * @public\n     */\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    close() { }\n}\nexports.SpeechConfig = SpeechConfig;\n/**\n * @public\n * @class SpeechConfigImpl\n */\nclass SpeechConfigImpl extends SpeechConfig {\n    constructor(tokenCredential) {\n        super();\n        this.privProperties = new Exports_js_2.PropertyCollection();\n        this.speechRecognitionLanguage = \"en-US\"; // Should we have a default?\n        this.outputFormat = Exports_js_2.OutputFormat.Simple;\n        this.privTokenCredential = tokenCredential;\n    }\n    get properties() {\n        return this.privProperties;\n    }\n    get endPoint() {\n        return new URL(this.privProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Endpoint));\n    }\n    get subscriptionKey() {\n        return this.privProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Key);\n    }\n    get region() {\n        return this.privProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Region);\n    }\n    get authorizationToken() {\n        return this.privProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceAuthorization_Token);\n    }\n    set authorizationToken(value) {\n        this.privProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceAuthorization_Token, value);\n    }\n    get speechRecognitionLanguage() {\n        return this.privProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_RecoLanguage);\n    }\n    set speechRecognitionLanguage(value) {\n        this.privProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_RecoLanguage, value);\n    }\n    get autoDetectSourceLanguages() {\n        return this.privProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages);\n    }\n    set autoDetectSourceLanguages(value) {\n        this.privProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages, value);\n    }\n    get outputFormat() {\n        return Exports_js_2.OutputFormat[this.privProperties.getProperty(Exports_js_1.OutputFormatPropertyName, undefined)];\n    }\n    set outputFormat(value) {\n        this.privProperties.setProperty(Exports_js_1.OutputFormatPropertyName, Exports_js_2.OutputFormat[value]);\n    }\n    get endpointId() {\n        return this.privProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_EndpointId);\n    }\n    set endpointId(value) {\n        this.privProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_EndpointId, value);\n    }\n    get tokenCredential() {\n        return this.privTokenCredential;\n    }\n    setProperty(name, value) {\n        Contracts_js_1.Contracts.throwIfNull(value, \"value\");\n        this.privProperties.setProperty(name, value);\n    }\n    getProperty(name, def) {\n        return this.privProperties.getProperty(name, def);\n    }\n    setProxy(proxyHostName, proxyPort, proxyUserName, proxyPassword) {\n        this.setProperty(Exports_js_2.PropertyId[Exports_js_2.PropertyId.SpeechServiceConnection_ProxyHostName], proxyHostName);\n        this.setProperty(Exports_js_2.PropertyId[Exports_js_2.PropertyId.SpeechServiceConnection_ProxyPort], proxyPort);\n        this.setProperty(Exports_js_2.PropertyId[Exports_js_2.PropertyId.SpeechServiceConnection_ProxyUserName], proxyUserName);\n        this.setProperty(Exports_js_2.PropertyId[Exports_js_2.PropertyId.SpeechServiceConnection_ProxyPassword], proxyPassword);\n    }\n    setServiceProperty(name, value) {\n        const currentProperties = JSON.parse(this.privProperties.getProperty(Exports_js_1.ServicePropertiesPropertyName, \"{}\"));\n        currentProperties[name] = value;\n        this.privProperties.setProperty(Exports_js_1.ServicePropertiesPropertyName, JSON.stringify(currentProperties));\n    }\n    setProfanity(profanity) {\n        this.privProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceResponse_ProfanityOption, Exports_js_2.ProfanityOption[profanity]);\n    }\n    enableAudioLogging() {\n        this.privProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_EnableAudioLogging, \"true\");\n    }\n    requestWordLevelTimestamps() {\n        this.privProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps, \"true\");\n        this.privProperties.setProperty(Exports_js_1.OutputFormatPropertyName, Exports_js_2.OutputFormat[Exports_js_2.OutputFormat.Detailed]);\n    }\n    enableDictation() {\n        this.privProperties.setProperty(Exports_js_1.ForceDictationPropertyName, \"true\");\n    }\n    clone() {\n        const ret = new SpeechConfigImpl(this.tokenCredential);\n        ret.privProperties = this.privProperties.clone();\n        return ret;\n    }\n    get speechSynthesisLanguage() {\n        return this.privProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_SynthLanguage);\n    }\n    set speechSynthesisLanguage(language) {\n        this.privProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_SynthLanguage, language);\n    }\n    get speechSynthesisVoiceName() {\n        return this.privProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_SynthVoice);\n    }\n    set speechSynthesisVoiceName(voice) {\n        this.privProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_SynthVoice, voice);\n    }\n    get speechSynthesisOutputFormat() {\n        return Exports_js_2.SpeechSynthesisOutputFormat[this.privProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_SynthOutputFormat, undefined)];\n    }\n    set speechSynthesisOutputFormat(format) {\n        this.privProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_SynthOutputFormat, Exports_js_2.SpeechSynthesisOutputFormat[format]);\n    }\n}\nexports.SpeechConfigImpl = SpeechConfigImpl;\n\n//# sourceMappingURL=SpeechConfig.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechRecognitionCanceledEventArgs = void 0;\nconst CancellationEventArgsBase_js_1 = require(\"./CancellationEventArgsBase.js\");\nclass SpeechRecognitionCanceledEventArgs extends CancellationEventArgsBase_js_1.CancellationEventArgsBase {\n}\nexports.SpeechRecognitionCanceledEventArgs = SpeechRecognitionCanceledEventArgs;\n\n//# sourceMappingURL=SpeechRecognitionCanceledEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MeetingTranscriptionEventArgs = exports.ConversationTranscriptionEventArgs = exports.SpeechRecognitionEventArgs = void 0;\n/* eslint-disable max-classes-per-file */\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Defines contents of speech recognizing/recognized event.\n * @class SpeechRecognitionEventArgs\n */\nclass SpeechRecognitionEventArgs extends Exports_js_1.RecognitionEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {SpeechRecognitionResult} result - The speech recognition result.\n     * @param {number} offset - The offset.\n     * @param {string} sessionId - The session id.\n     */\n    constructor(result, offset, sessionId) {\n        super(offset, sessionId);\n        this.privResult = result;\n    }\n    /**\n     * Specifies the recognition result.\n     * @member SpeechRecognitionEventArgs.prototype.result\n     * @function\n     * @public\n     * @returns {SpeechRecognitionResult} the recognition result.\n     */\n    get result() {\n        return this.privResult;\n    }\n}\nexports.SpeechRecognitionEventArgs = SpeechRecognitionEventArgs;\n/**\n * Defines contents of conversation transcribed/transcribing event.\n * @class ConversationTranscriptionEventArgs\n */\nclass ConversationTranscriptionEventArgs extends Exports_js_1.RecognitionEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {ConversationTranscriptionResult} result - The conversation transcription result.\n     * @param {number} offset - The offset.\n     * @param {string} sessionId - The session id.\n     */\n    constructor(result, offset, sessionId) {\n        super(offset, sessionId);\n        this.privResult = result;\n    }\n    /**\n     * Specifies the transcription result.\n     * @member ConversationTranscription1EventArgs.prototype.result\n     * @function\n     * @public\n     * @returns {ConversationTranscriptionResult} the recognition result.\n     */\n    get result() {\n        return this.privResult;\n    }\n}\nexports.ConversationTranscriptionEventArgs = ConversationTranscriptionEventArgs;\n/**\n * Defines contents of meeting transcribed/transcribing event.\n * @class MeetingTranscriptionEventArgs\n */\nclass MeetingTranscriptionEventArgs extends SpeechRecognitionEventArgs {\n}\nexports.MeetingTranscriptionEventArgs = MeetingTranscriptionEventArgs;\n\n//# sourceMappingURL=SpeechRecognitionEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechRecognitionResult = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Defines result of speech recognition.\n * @class SpeechRecognitionResult\n */\nclass SpeechRecognitionResult extends Exports_js_1.RecognitionResult {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @public\n     * @param {string} resultId - The result id.\n     * @param {ResultReason} reason - The reason.\n     * @param {string} text - The recognized text.\n     * @param {number} duration - The duration.\n     * @param {number} offset - The offset into the stream.\n     * @param {string} language - Primary Language detected, if provided.\n     * @param {string} languageDetectionConfidence - Primary Language confidence (\"Unknown,\" \"Low,\" \"Medium,\" \"High\"...), if provided.\n     * @param {string} speakerId - speaker id for conversation transcription, if provided.\n     * @param {string} errorDetails - Error details, if provided.\n     * @param {string} json - Additional Json, if provided.\n     * @param {PropertyCollection} properties - Additional properties, if provided.\n     */\n    constructor(resultId, reason, text, duration, offset, language, languageDetectionConfidence, speakerId, errorDetails, json, properties) {\n        super(resultId, reason, text, duration, offset, language, languageDetectionConfidence, errorDetails, json, properties);\n        this.privSpeakerId = speakerId;\n    }\n    /**\n     * speaker id from conversation transcription/id scenarios\n     * @member SpeechRecognitionResult.prototype.speakerId\n     * @function\n     * @public\n     * @returns {string} id of speaker in given result\n     */\n    get speakerId() {\n        return this.privSpeakerId;\n    }\n}\nexports.SpeechRecognitionResult = SpeechRecognitionResult;\n\n//# sourceMappingURL=SpeechRecognitionResult.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechRecognizer = void 0;\nconst Exports_js_1 = require(\"../common.speech/Exports.js\");\nconst PhraseDetectionContext_js_1 = require(\"../common.speech/ServiceMessages/PhraseDetection/PhraseDetectionContext.js\");\nconst Exports_js_2 = require(\"../common/Exports.js\");\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst Exports_js_3 = require(\"./Exports.js\");\n/**\n * Performs speech recognition from microphone, file, or other audio input streams, and gets transcribed text as result.\n * @class SpeechRecognizer\n */\nclass SpeechRecognizer extends Exports_js_3.Recognizer {\n    /**\n     * SpeechRecognizer constructor.\n     * @constructor\n     * @param {SpeechConfig} speechConfig - an set of initial properties for this recognizer\n     * @param {AudioConfig} audioConfig - An optional audio configuration associated with the recognizer\n     */\n    constructor(speechConfig, audioConfig) {\n        const speechConfigImpl = speechConfig;\n        Contracts_js_1.Contracts.throwIfNull(speechConfigImpl, \"speechConfig\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(speechConfigImpl.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage), Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage]);\n        super(audioConfig, speechConfigImpl.properties, new Exports_js_1.SpeechConnectionFactory(), speechConfig.tokenCredential);\n        this.privDisposedRecognizer = false;\n    }\n    /**\n     * SpeechRecognizer constructor.\n     * @constructor\n     * @param {SpeechConfig} speechConfig - an set of initial properties for this recognizer\n     * @param {AutoDetectSourceLanguageConfig} autoDetectSourceLanguageConfig - An source language detection configuration associated with the recognizer\n     * @param {AudioConfig} audioConfig - An optional audio configuration associated with the recognizer\n     */\n    static FromConfig(speechConfig, autoDetectSourceLanguageConfig, audioConfig) {\n        const speechConfigImpl = speechConfig;\n        autoDetectSourceLanguageConfig.properties.mergeTo(speechConfigImpl.properties);\n        const recognizer = new SpeechRecognizer(speechConfig, audioConfig);\n        return recognizer;\n    }\n    /**\n     * Gets the endpoint id of a customized speech model that is used for speech recognition.\n     * @member SpeechRecognizer.prototype.endpointId\n     * @function\n     * @public\n     * @returns {string} the endpoint id of a customized speech model that is used for speech recognition.\n     */\n    get endpointId() {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedRecognizer);\n        return this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_EndpointId, \"00000000-0000-0000-0000-000000000000\");\n    }\n    /**\n     * Gets the authorization token used to communicate with the service.\n     * @member SpeechRecognizer.prototype.authorizationToken\n     * @function\n     * @public\n     * @returns {string} Authorization token.\n     */\n    get authorizationToken() {\n        return this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceAuthorization_Token);\n    }\n    /**\n     * Gets/Sets the authorization token used to communicate with the service.\n     * @member SpeechRecognizer.prototype.authorizationToken\n     * @function\n     * @public\n     * @param {string} token - Authorization token.\n     */\n    set authorizationToken(token) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(token, \"token\");\n        this.properties.setProperty(Exports_js_3.PropertyId.SpeechServiceAuthorization_Token, token);\n    }\n    /**\n     * Gets the spoken language of recognition.\n     * @member SpeechRecognizer.prototype.speechRecognitionLanguage\n     * @function\n     * @public\n     * @returns {string} The spoken language of recognition.\n     */\n    get speechRecognitionLanguage() {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedRecognizer);\n        return this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage);\n    }\n    /**\n     * Gets the output format of recognition.\n     * @member SpeechRecognizer.prototype.outputFormat\n     * @function\n     * @public\n     * @returns {OutputFormat} The output format of recognition.\n     */\n    get outputFormat() {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedRecognizer);\n        if (this.properties.getProperty(Exports_js_1.OutputFormatPropertyName, Exports_js_3.OutputFormat[Exports_js_3.OutputFormat.Simple]) === Exports_js_3.OutputFormat[Exports_js_3.OutputFormat.Simple]) {\n            return Exports_js_3.OutputFormat.Simple;\n        }\n        else {\n            return Exports_js_3.OutputFormat.Detailed;\n        }\n    }\n    /**\n     * The collection of properties and their values defined for this SpeechRecognizer.\n     * @member SpeechRecognizer.prototype.properties\n     * @function\n     * @public\n     * @returns {PropertyCollection} The collection of properties and their values defined for this SpeechRecognizer.\n     */\n    get properties() {\n        return this.privProperties;\n    }\n    /**\n     * Starts speech recognition, and stops after the first utterance is recognized.\n     * The task returns the recognition text as result.\n     * Note: RecognizeOnceAsync() returns when the first utterance has been recognized,\n     * so it is suitable only for single shot recognition\n     * like command or query. For long-running recognition, use StartContinuousRecognitionAsync() instead.\n     * @member SpeechRecognizer.prototype.recognizeOnceAsync\n     * @function\n     * @public\n     * @param cb - Callback that received the SpeechRecognitionResult.\n     * @param err - Callback invoked in case of an error.\n     */\n    recognizeOnceAsync(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.recognizeOnceAsyncImpl(PhraseDetectionContext_js_1.RecognitionMode.Interactive), cb, err);\n    }\n    /**\n     * Starts speech recognition, until stopContinuousRecognitionAsync() is called.\n     * User must subscribe to events to receive recognition results.\n     * @member SpeechRecognizer.prototype.startContinuousRecognitionAsync\n     * @function\n     * @public\n     * @param cb - Callback invoked once the recognition has started.\n     * @param err - Callback invoked in case of an error.\n     */\n    startContinuousRecognitionAsync(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.startContinuousRecognitionAsyncImpl(this.properties.getProperty(Exports_js_1.ForceDictationPropertyName, undefined) === undefined ? PhraseDetectionContext_js_1.RecognitionMode.Conversation : PhraseDetectionContext_js_1.RecognitionMode.Dictation), cb, err);\n    }\n    /**\n     * Stops continuous speech recognition.\n     * @member SpeechRecognizer.prototype.stopContinuousRecognitionAsync\n     * @function\n     * @public\n     * @param cb - Callback invoked once the recognition has stopped.\n     * @param err - Callback invoked in case of an error.\n     */\n    stopContinuousRecognitionAsync(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.stopContinuousRecognitionAsyncImpl(), cb, err);\n    }\n    /**\n     * Starts speech recognition with keyword spotting, until\n     * stopKeywordRecognitionAsync() is called.\n     * User must subscribe to events to receive recognition results.\n     * Note: Key word spotting functionality is only available on the\n     * Speech Devices SDK. This functionality is currently not included in the SDK itself.\n     * @member SpeechRecognizer.prototype.startKeywordRecognitionAsync\n     * @function\n     * @public\n     * @param {KeywordRecognitionModel} model The keyword recognition model that\n     * specifies the keyword to be recognized.\n     * @param cb - Callback invoked once the recognition has started.\n     * @param err - Callback invoked in case of an error.\n     */\n    startKeywordRecognitionAsync(model, cb, err) {\n        Contracts_js_1.Contracts.throwIfNull(model, \"model\");\n        if (!!err) {\n            err(\"Not yet implemented.\");\n        }\n    }\n    /**\n     * Stops continuous speech recognition.\n     * Note: Key word spotting functionality is only available on the\n     * Speech Devices SDK. This functionality is currently not included in the SDK itself.\n     * @member SpeechRecognizer.prototype.stopKeywordRecognitionAsync\n     * @function\n     * @public\n     * @param cb - Callback invoked once the recognition has stopped.\n     * @param err - Callback invoked in case of an error.\n     */\n    stopKeywordRecognitionAsync(cb) {\n        if (!!cb) {\n            cb();\n        }\n    }\n    /**\n     * closes all external resources held by an instance of this class.\n     * @member SpeechRecognizer.prototype.close\n     * @function\n     * @public\n     */\n    close(cb, errorCb) {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedRecognizer);\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.dispose(true), cb, errorCb);\n    }\n    /**\n     * Disposes any resources held by the object.\n     * @member SpeechRecognizer.prototype.dispose\n     * @function\n     * @public\n     * @param {boolean} disposing - true if disposing the object.\n     */\n    async dispose(disposing) {\n        if (this.privDisposedRecognizer) {\n            return;\n        }\n        if (disposing) {\n            this.privDisposedRecognizer = true;\n            await this.implRecognizerStop();\n        }\n        await super.dispose(disposing);\n    }\n    createRecognizerConfig(speechConfig) {\n        return new Exports_js_1.RecognizerConfig(speechConfig, this.privProperties);\n    }\n    createServiceRecognizer(authentication, connectionFactory, audioConfig, recognizerConfig) {\n        const configImpl = audioConfig;\n        return new Exports_js_1.SpeechServiceRecognizer(authentication, connectionFactory, configImpl, recognizerConfig, this);\n    }\n}\nexports.SpeechRecognizer = SpeechRecognizer;\n\n//# sourceMappingURL=SpeechRecognizer.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechSynthesisBookmarkEventArgs = void 0;\n/**\n * Defines contents of speech synthesis bookmark event.\n * @class SpeechSynthesisBookmarkEventArgs\n * Added in version 1.16.0\n */\nclass SpeechSynthesisBookmarkEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {number} audioOffset - The audio offset.\n     * @param {string} text - The bookmark text.\n     */\n    constructor(audioOffset, text) {\n        this.privAudioOffset = audioOffset;\n        this.privText = text;\n    }\n    /**\n     * Specifies the audio offset.\n     * @member SpeechSynthesisBookmarkEventArgs.prototype.audioOffset\n     * @function\n     * @public\n     * @returns {number} the audio offset.\n     */\n    get audioOffset() {\n        return this.privAudioOffset;\n    }\n    /**\n     * Specifies the bookmark.\n     * @member SpeechSynthesisBookmarkEventArgs.prototype.text\n     * @function\n     * @public\n     * @returns {string} the bookmark text.\n     */\n    get text() {\n        return this.privText;\n    }\n}\nexports.SpeechSynthesisBookmarkEventArgs = SpeechSynthesisBookmarkEventArgs;\n\n//# sourceMappingURL=SpeechSynthesisBookmarkEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechSynthesisBoundaryType = void 0;\n/**\n * Defines the boundary type of speech synthesis boundary event.\n * @class SpeechSynthesisBoundaryType\n * Added in version 1.21.0\n */\nvar SpeechSynthesisBoundaryType;\n(function (SpeechSynthesisBoundaryType) {\n    /**\n     * Indicates the boundary text is a word.\n     * @member SpeechSynthesisBoundaryType.Word\n     */\n    SpeechSynthesisBoundaryType[\"Word\"] = \"WordBoundary\";\n    /**\n     * Indicates the boundary text is a punctuation.\n     * @member SpeechSynthesisBoundaryType.Punctuation\n     */\n    SpeechSynthesisBoundaryType[\"Punctuation\"] = \"PunctuationBoundary\";\n    /**\n     * Indicates the boundary text is a sentence.\n     * @member SpeechSynthesisBoundaryType.Sentence\n     */\n    SpeechSynthesisBoundaryType[\"Sentence\"] = \"SentenceBoundary\";\n})(SpeechSynthesisBoundaryType = exports.SpeechSynthesisBoundaryType || (exports.SpeechSynthesisBoundaryType = {}));\n\n//# sourceMappingURL=SpeechSynthesisBoundaryType.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechSynthesisEventArgs = void 0;\n/**\n * Defines contents of speech synthesis events.\n * @class SpeechSynthesisEventArgs\n * Added in version 1.11.0\n */\nclass SpeechSynthesisEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {SpeechSynthesisResult} result - The speech synthesis result.\n     */\n    constructor(result) {\n        this.privResult = result;\n    }\n    /**\n     * Specifies the synthesis result.\n     * @member SpeechSynthesisEventArgs.prototype.result\n     * @function\n     * @public\n     * @returns {SpeechSynthesisResult} the synthesis result.\n     */\n    get result() {\n        return this.privResult;\n    }\n}\nexports.SpeechSynthesisEventArgs = SpeechSynthesisEventArgs;\n\n//# sourceMappingURL=SpeechSynthesisEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechSynthesisOutputFormat = void 0;\n/**\n * Define speech synthesis audio output formats.\n * @enum SpeechSynthesisOutputFormat\n * Updated in version 1.17.0\n */\nvar SpeechSynthesisOutputFormat;\n(function (SpeechSynthesisOutputFormat) {\n    /**\n     * raw-8khz-8bit-mono-mulaw\n     * @member SpeechSynthesisOutputFormat.Raw8Khz8BitMonoMULaw,\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Raw8Khz8BitMonoMULaw\"] = 0] = \"Raw8Khz8BitMonoMULaw\";\n    /**\n     * riff-16khz-16kbps-mono-siren\n     * @note Unsupported by the service. Do not use this value.\n     * @member SpeechSynthesisOutputFormat.Riff16Khz16KbpsMonoSiren\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Riff16Khz16KbpsMonoSiren\"] = 1] = \"Riff16Khz16KbpsMonoSiren\";\n    /**\n     * audio-16khz-16kbps-mono-siren\n     * @note Unsupported by the service. Do not use this value.\n     * @member SpeechSynthesisOutputFormat.Audio16Khz16KbpsMonoSiren\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Audio16Khz16KbpsMonoSiren\"] = 2] = \"Audio16Khz16KbpsMonoSiren\";\n    /**\n     * audio-16khz-32kbitrate-mono-mp3\n     * @member SpeechSynthesisOutputFormat.Audio16Khz32KBitRateMonoMp3\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Audio16Khz32KBitRateMonoMp3\"] = 3] = \"Audio16Khz32KBitRateMonoMp3\";\n    /**\n     * audio-16khz-128kbitrate-mono-mp3\n     * @member SpeechSynthesisOutputFormat.Audio16Khz128KBitRateMonoMp3\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Audio16Khz128KBitRateMonoMp3\"] = 4] = \"Audio16Khz128KBitRateMonoMp3\";\n    /**\n     * audio-16khz-64kbitrate-mono-mp3\n     * @member SpeechSynthesisOutputFormat.Audio16Khz64KBitRateMonoMp3\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Audio16Khz64KBitRateMonoMp3\"] = 5] = \"Audio16Khz64KBitRateMonoMp3\";\n    /**\n     * audio-24khz-48kbitrate-mono-mp3\n     * @member SpeechSynthesisOutputFormat.Audio24Khz48KBitRateMonoMp3\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Audio24Khz48KBitRateMonoMp3\"] = 6] = \"Audio24Khz48KBitRateMonoMp3\";\n    /**\n     * audio-24khz-96kbitrate-mono-mp3\n     * @member SpeechSynthesisOutputFormat.Audio24Khz96KBitRateMonoMp3\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Audio24Khz96KBitRateMonoMp3\"] = 7] = \"Audio24Khz96KBitRateMonoMp3\";\n    /**\n     * audio-24khz-160kbitrate-mono-mp3\n     * @member SpeechSynthesisOutputFormat.Audio24Khz160KBitRateMonoMp3\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Audio24Khz160KBitRateMonoMp3\"] = 8] = \"Audio24Khz160KBitRateMonoMp3\";\n    /**\n     * raw-16khz-16bit-mono-truesilk\n     * @member SpeechSynthesisOutputFormat.Raw16Khz16BitMonoTrueSilk\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Raw16Khz16BitMonoTrueSilk\"] = 9] = \"Raw16Khz16BitMonoTrueSilk\";\n    /**\n     * riff-16khz-16bit-mono-pcm\n     * @member SpeechSynthesisOutputFormat.Riff16Khz16BitMonoPcm\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Riff16Khz16BitMonoPcm\"] = 10] = \"Riff16Khz16BitMonoPcm\";\n    /**\n     * riff-8khz-16bit-mono-pcm\n     * @member SpeechSynthesisOutputFormat.Riff8Khz16BitMonoPcm\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Riff8Khz16BitMonoPcm\"] = 11] = \"Riff8Khz16BitMonoPcm\";\n    /**\n     * riff-24khz-16bit-mono-pcm\n     * @member SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Riff24Khz16BitMonoPcm\"] = 12] = \"Riff24Khz16BitMonoPcm\";\n    /**\n     * riff-8khz-8bit-mono-mulaw\n     * @member SpeechSynthesisOutputFormat.Riff8Khz8BitMonoMULaw\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Riff8Khz8BitMonoMULaw\"] = 13] = \"Riff8Khz8BitMonoMULaw\";\n    /**\n     * raw-16khz-16bit-mono-pcm\n     * @member SpeechSynthesisOutputFormat.Raw16Khz16BitMonoPcm\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Raw16Khz16BitMonoPcm\"] = 14] = \"Raw16Khz16BitMonoPcm\";\n    /**\n     * raw-24khz-16bit-mono-pcm\n     * @member SpeechSynthesisOutputFormat.Raw24Khz16BitMonoPcm\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Raw24Khz16BitMonoPcm\"] = 15] = \"Raw24Khz16BitMonoPcm\";\n    /**\n     * raw-8khz-16bit-mono-pcm\n     * @member SpeechSynthesisOutputFormat.Raw8Khz16BitMonoPcm\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Raw8Khz16BitMonoPcm\"] = 16] = \"Raw8Khz16BitMonoPcm\";\n    /**\n     * ogg-16khz-16bit-mono-opus\n     * @member SpeechSynthesisOutputFormat.Ogg16Khz16BitMonoOpus\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Ogg16Khz16BitMonoOpus\"] = 17] = \"Ogg16Khz16BitMonoOpus\";\n    /**\n     * ogg-24khz-16bit-mono-opus\n     * @member SpeechSynthesisOutputFormat.Ogg24Khz16BitMonoOpus\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Ogg24Khz16BitMonoOpus\"] = 18] = \"Ogg24Khz16BitMonoOpus\";\n    /**\n     * raw-48khz-16bit-mono-pcm\n     * @member SpeechSynthesisOutputFormat.Raw48Khz16BitMonoPcm\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Raw48Khz16BitMonoPcm\"] = 19] = \"Raw48Khz16BitMonoPcm\";\n    /**\n     * riff-48khz-16bit-mono-pcm\n     * @member SpeechSynthesisOutputFormat.Riff48Khz16BitMonoPcm\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Riff48Khz16BitMonoPcm\"] = 20] = \"Riff48Khz16BitMonoPcm\";\n    /**\n     * audio-48khz-96kbitrate-mono-mp3\n     * @member SpeechSynthesisOutputFormat.Audio48Khz96KBitRateMonoMp3\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Audio48Khz96KBitRateMonoMp3\"] = 21] = \"Audio48Khz96KBitRateMonoMp3\";\n    /**\n     * audio-48khz-192kbitrate-mono-mp3\n     * @member SpeechSynthesisOutputFormat.Audio48Khz192KBitRateMonoMp3\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Audio48Khz192KBitRateMonoMp3\"] = 22] = \"Audio48Khz192KBitRateMonoMp3\";\n    /**\n     * ogg-48khz-16bit-mono-opus\n     * Added in version 1.16.0\n     * @member SpeechSynthesisOutputFormat.Ogg48Khz16BitMonoOpus\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Ogg48Khz16BitMonoOpus\"] = 23] = \"Ogg48Khz16BitMonoOpus\";\n    /**\n     * webm-16khz-16bit-mono-opus\n     * Added in version 1.16.0\n     * @member SpeechSynthesisOutputFormat.Webm16Khz16BitMonoOpus\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Webm16Khz16BitMonoOpus\"] = 24] = \"Webm16Khz16BitMonoOpus\";\n    /**\n     * webm-24khz-16bit-mono-opus\n     * Added in version 1.16.0\n     * @member SpeechSynthesisOutputFormat.Webm24Khz16BitMonoOpus\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Webm24Khz16BitMonoOpus\"] = 25] = \"Webm24Khz16BitMonoOpus\";\n    /**\n     * raw-24khz-16bit-mono-truesilk\n     * Added in version 1.17.0\n     * @member SpeechSynthesisOutputFormat.Raw24Khz16BitMonoTrueSilk\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Raw24Khz16BitMonoTrueSilk\"] = 26] = \"Raw24Khz16BitMonoTrueSilk\";\n    /**\n     * raw-8khz-8bit-mono-alaw\n     * Added in version 1.17.0\n     * @member SpeechSynthesisOutputFormat.Raw8Khz8BitMonoALaw\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Raw8Khz8BitMonoALaw\"] = 27] = \"Raw8Khz8BitMonoALaw\";\n    /**\n     * riff-8khz-8bit-mono-alaw\n     * Added in version 1.17.0\n     * @member SpeechSynthesisOutputFormat.Riff8Khz8BitMonoALaw\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Riff8Khz8BitMonoALaw\"] = 28] = \"Riff8Khz8BitMonoALaw\";\n    /**\n     * webm-24khz-16bit-24kbps-mono-opus\n     * Audio compressed by OPUS codec in a webm container, with bitrate of 24kbps, optimized for IoT scenario.\n     * Added in version 1.19.0\n     * @member SpeechSynthesisOutputFormat.Webm24Khz16Bit24KbpsMonoOpus\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Webm24Khz16Bit24KbpsMonoOpus\"] = 29] = \"Webm24Khz16Bit24KbpsMonoOpus\";\n    /**\n     * audio-16khz-16bit-32kbps-mono-opus\n     * Audio compressed by OPUS codec without container, with bitrate of 32kbps.\n     * Added in version 1.20.0\n     * @member SpeechSynthesisOutputFormat.Audio16Khz16Bit32KbpsMonoOpus\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Audio16Khz16Bit32KbpsMonoOpus\"] = 30] = \"Audio16Khz16Bit32KbpsMonoOpus\";\n    /**\n     * audio-24khz-16bit-48kbps-mono-opus\n     * Audio compressed by OPUS codec without container, with bitrate of 48kbps.\n     * Added in version 1.20.0\n     * @member SpeechSynthesisOutputFormat.Audio24Khz16Bit48KbpsMonoOpus\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Audio24Khz16Bit48KbpsMonoOpus\"] = 31] = \"Audio24Khz16Bit48KbpsMonoOpus\";\n    /**\n     * audio-24khz-16bit-24kbps-mono-opus\n     * Audio compressed by OPUS codec without container, with bitrate of 24kbps.\n     * Added in version 1.20.0\n     * @member SpeechSynthesisOutputFormat.Audio24Khz16Bit24KbpsMonoOpus\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Audio24Khz16Bit24KbpsMonoOpus\"] = 32] = \"Audio24Khz16Bit24KbpsMonoOpus\";\n    /**\n     * raw-22050hz-16bit-mono-pcm\n     * Raw PCM audio at 22050Hz sampling rate and 16-bit depth.\n     * Added in version 1.22.0\n     * @member SpeechSynthesisOutputFormat.Raw22050Hz16BitMonoPcm\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Raw22050Hz16BitMonoPcm\"] = 33] = \"Raw22050Hz16BitMonoPcm\";\n    /**\n     * riff-22050hz-16bit-mono-pcm\n     * PCM audio at 22050Hz sampling rate and 16-bit depth, with RIFF header.\n     * Added in version 1.22.0\n     * @member SpeechSynthesisOutputFormat.Riff22050Hz16BitMonoPcm\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Riff22050Hz16BitMonoPcm\"] = 34] = \"Riff22050Hz16BitMonoPcm\";\n    /**\n     * raw-44100hz-16bit-mono-pcm\n     * Raw PCM audio at 44100Hz sampling rate and 16-bit depth.\n     * Added in version 1.22.0\n     * @member SpeechSynthesisOutputFormat.Raw44100Hz16BitMonoPcm\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Raw44100Hz16BitMonoPcm\"] = 35] = \"Raw44100Hz16BitMonoPcm\";\n    /**\n     * riff-44100hz-16bit-mono-pcm\n     * PCM audio at 44100Hz sampling rate and 16-bit depth, with RIFF header.\n     * Added in version 1.22.0\n     * @member SpeechSynthesisOutputFormat.Riff44100Hz16BitMonoPcm\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"Riff44100Hz16BitMonoPcm\"] = 36] = \"Riff44100Hz16BitMonoPcm\";\n    /**\n     * amr-wb-16000hz\n     * AMR-WB audio at 16kHz sampling rate.\n     * Added in version 1.38.0\n     * @member SpeechSynthesisOutputFormat.AmrWb16000Hz\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"AmrWb16000Hz\"] = 37] = \"AmrWb16000Hz\";\n    /**\n     * g722-16khz-64kbps\n     * G.722 audio at 16kHz sampling rate and 64kbps bitrate.\n     * Added in version 1.38.0\n     */\n    SpeechSynthesisOutputFormat[SpeechSynthesisOutputFormat[\"G72216Khz64Kbps\"] = 38] = \"G72216Khz64Kbps\";\n})(SpeechSynthesisOutputFormat = exports.SpeechSynthesisOutputFormat || (exports.SpeechSynthesisOutputFormat = {}));\n\n//# sourceMappingURL=SpeechSynthesisOutputFormat.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechSynthesisResult = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Defines result of speech synthesis.\n * @class SpeechSynthesisResult\n * Added in version 1.11.0\n */\nclass SpeechSynthesisResult extends Exports_js_1.SynthesisResult {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {string} resultId - The result id.\n     * @param {ResultReason} reason - The reason.\n     * @param {ArrayBuffer} audioData - The synthesized audio binary.\n     * @param {string} errorDetails - Error details, if provided.\n     * @param {PropertyCollection} properties - Additional properties, if provided.\n     * @param {number} audioDuration - The audio duration.\n     */\n    constructor(resultId, reason, audioData, errorDetails, properties, audioDuration) {\n        super(resultId, reason, errorDetails, properties);\n        this.privAudioData = audioData;\n        this.privAudioDuration = audioDuration;\n    }\n    /**\n     * The synthesized audio data\n     * @member SpeechSynthesisResult.prototype.audioData\n     * @function\n     * @public\n     * @returns {ArrayBuffer} The synthesized audio data.\n     */\n    get audioData() {\n        return this.privAudioData;\n    }\n    /**\n     * The time duration of synthesized audio, in ticks (100 nanoseconds).\n     * @member SpeechSynthesisResult.prototype.audioDuration\n     * @function\n     * @public\n     * @returns {number} The time duration of synthesized audio.\n     */\n    get audioDuration() {\n        return this.privAudioDuration;\n    }\n}\nexports.SpeechSynthesisResult = SpeechSynthesisResult;\n\n//# sourceMappingURL=SpeechSynthesisResult.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechSynthesisVisemeEventArgs = void 0;\n/**\n * Defines contents of speech synthesis viseme event.\n * @class SpeechSynthesisVisemeEventArgs\n * Added in version 1.16.0\n */\nclass SpeechSynthesisVisemeEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {number} audioOffset - The audio offset.\n     * @param {number} visemeId - The viseme ID.\n     * @param {string} animation - The animation, could be in svg or other format.\n     */\n    constructor(audioOffset, visemeId, animation) {\n        this.privAudioOffset = audioOffset;\n        this.privVisemeId = visemeId;\n        this.privAnimation = animation;\n    }\n    /**\n     * Specifies the audio offset.\n     * @member SpeechSynthesisVisemeEventArgs.prototype.audioOffset\n     * @function\n     * @public\n     * @returns {number} the audio offset.\n     */\n    get audioOffset() {\n        return this.privAudioOffset;\n    }\n    /**\n     * Specifies the viseme ID.\n     * @member SpeechSynthesisVisemeEventArgs.prototype.visemeId\n     * @function\n     * @public\n     * @returns {number} the viseme ID.\n     */\n    get visemeId() {\n        return this.privVisemeId;\n    }\n    /**\n     * Specifies the animation.\n     * @member SpeechSynthesisVisemeEventArgs.prototype.animation\n     * @function\n     * @public\n     * @returns {string} the animation, could be in svg or other format.\n     */\n    get animation() {\n        return this.privAnimation;\n    }\n}\nexports.SpeechSynthesisVisemeEventArgs = SpeechSynthesisVisemeEventArgs;\n\n//# sourceMappingURL=SpeechSynthesisVisemeEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechSynthesisWordBoundaryEventArgs = void 0;\n/**\n * Defines contents of speech synthesis word boundary event.\n * @class SpeechSynthesisWordBoundaryEventArgs\n * Added in version 1.11.0\n */\nclass SpeechSynthesisWordBoundaryEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {number} audioOffset - The audio offset.\n     * @param {number} duration - The audio duration.\n     * @param {string} text - The text.\n     * @param {number} wordLength - The length of the word.\n     * @param {number} textOffset - The text offset.\n     * @param {SpeechSynthesisBoundaryType} boundaryType - The boundary type\n     */\n    constructor(audioOffset, duration, text, wordLength, textOffset, boundaryType) {\n        this.privAudioOffset = audioOffset;\n        this.privDuration = duration;\n        this.privText = text;\n        this.privWordLength = wordLength;\n        this.privTextOffset = textOffset;\n        this.privBoundaryType = boundaryType;\n    }\n    /**\n     * Specifies the audio offset.\n     * @member SpeechSynthesisWordBoundaryEventArgs.prototype.audioOffset\n     * @function\n     * @public\n     * @returns {number} the audio offset.\n     */\n    get audioOffset() {\n        return this.privAudioOffset;\n    }\n    /**\n     * Specifies the duration, in ticks (100 nanoseconds).\n     * @member SpeechSynthesisWordBoundaryEventArgs.prototype.duration\n     * @function\n     * @public\n     * @returns {number} Duration in 100 nanosecond increments.\n     */\n    get duration() {\n        return this.privDuration;\n    }\n    /**\n     * Specifies the text of the word boundary event.\n     * @member SpeechSynthesisWordBoundaryEventArgs.prototype.text\n     * @function\n     * @public\n     * @returns {string} the text.\n     */\n    get text() {\n        return this.privText;\n    }\n    /**\n     * Specifies the word length\n     * @member SpeechSynthesisWordBoundaryEventArgs.prototype.wordLength\n     * @function\n     * @public\n     * @returns {number} the word length\n     */\n    get wordLength() {\n        return this.privWordLength;\n    }\n    /**\n     * Specifies the text offset.\n     * @member SpeechSynthesisWordBoundaryEventArgs.prototype.textOffset\n     * @function\n     * @public\n     * @returns {number} the text offset.\n     */\n    get textOffset() {\n        return this.privTextOffset;\n    }\n    /**\n     * Specifies the boundary type.\n     * @member SpeechSynthesisWordBoundaryEventArgs.prototype.boundaryType\n     * @function\n     * @public\n     * @returns {SpeechSynthesisBoundaryType} the boundary type.\n     */\n    get boundaryType() {\n        return this.privBoundaryType;\n    }\n}\nexports.SpeechSynthesisWordBoundaryEventArgs = SpeechSynthesisWordBoundaryEventArgs;\n\n//# sourceMappingURL=SpeechSynthesisWordBoundaryEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechSynthesizer = void 0;\nconst Exports_js_1 = require(\"../common.speech/Exports.js\");\nconst Exports_js_2 = require(\"../common/Exports.js\");\nconst AudioFileWriter_js_1 = require(\"./Audio/AudioFileWriter.js\");\nconst AudioOutputFormat_js_1 = require(\"./Audio/AudioOutputFormat.js\");\nconst AudioOutputStream_js_1 = require(\"./Audio/AudioOutputStream.js\");\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst Exports_js_3 = require(\"./Exports.js\");\nconst Synthesizer_js_1 = require(\"./Synthesizer.js\");\n/**\n * Defines the class SpeechSynthesizer for text to speech.\n * Updated in version 1.16.0\n * @class SpeechSynthesizer\n */\nclass SpeechSynthesizer extends Exports_js_3.Synthesizer {\n    /**\n     * SpeechSynthesizer constructor.\n     * @constructor\n     * @param {SpeechConfig} speechConfig - An set of initial properties for this synthesizer.\n     * @param {AudioConfig} audioConfig - An optional audio configuration associated with the synthesizer.\n     */\n    constructor(speechConfig, audioConfig) {\n        super(speechConfig);\n        if (audioConfig !== null) {\n            if (audioConfig === undefined) {\n                this.audioConfig = (typeof window === \"undefined\") ? undefined : Exports_js_3.AudioConfig.fromDefaultSpeakerOutput();\n            }\n            else {\n                this.audioConfig = audioConfig;\n            }\n        }\n        this.privConnectionFactory = new Exports_js_1.SpeechSynthesisConnectionFactory();\n        this.implCommonSynthesizeSetup();\n    }\n    /**\n     * SpeechSynthesizer constructor.\n     * @constructor\n     * @param {SpeechConfig} speechConfig - an set of initial properties for this synthesizer\n     * @param {AutoDetectSourceLanguageConfig} autoDetectSourceLanguageConfig - An source language detection configuration associated with the synthesizer\n     * @param {AudioConfig} audioConfig - An optional audio configuration associated with the synthesizer\n     */\n    static FromConfig(speechConfig, autoDetectSourceLanguageConfig, audioConfig) {\n        const speechConfigImpl = speechConfig;\n        autoDetectSourceLanguageConfig.properties.mergeTo(speechConfigImpl.properties);\n        return new SpeechSynthesizer(speechConfig, audioConfig);\n    }\n    /**\n     * Executes speech synthesis on plain text.\n     * The task returns the synthesis result.\n     * @member SpeechSynthesizer.prototype.speakTextAsync\n     * @function\n     * @public\n     * @param text - Text to be synthesized.\n     * @param cb - Callback that received the SpeechSynthesisResult.\n     * @param err - Callback invoked in case of an error.\n     * @param stream - AudioOutputStream to receive the synthesized audio.\n     */\n    speakTextAsync(text, cb, err, stream) {\n        this.speakImpl(text, false, cb, err, stream);\n    }\n    /**\n     * Executes speech synthesis on SSML.\n     * The task returns the synthesis result.\n     * @member SpeechSynthesizer.prototype.speakSsmlAsync\n     * @function\n     * @public\n     * @param ssml - SSML to be synthesized.\n     * @param cb - Callback that received the SpeechSynthesisResult.\n     * @param err - Callback invoked in case of an error.\n     * @param stream - AudioOutputStream to receive the synthesized audio.\n     */\n    speakSsmlAsync(ssml, cb, err, stream) {\n        this.speakImpl(ssml, true, cb, err, stream);\n    }\n    /**\n     * Get list of synthesis voices available.\n     * The task returns the synthesis voice result.\n     * @member SpeechSynthesizer.prototype.getVoicesAsync\n     * @function\n     * @async\n     * @public\n     * @param locale - Locale of voices in BCP-47 format; if left empty, get all available voices.\n     * @return {Promise<SynthesisVoicesResult>} - Promise of a SynthesisVoicesResult.\n     */\n    async getVoicesAsync(locale = \"\") {\n        return this.getVoices(locale);\n    }\n    /**\n     * Dispose of associated resources.\n     * @member SpeechSynthesizer.prototype.close\n     * @function\n     * @public\n     */\n    close(cb, err) {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposed);\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.dispose(true), cb, err);\n    }\n    /**\n     * @Internal\n     * Do not use externally, object returned will change without warning or notice.\n     */\n    get internalData() {\n        return this.privAdapter;\n    }\n    //\n    // ################################################################################################################\n    // IMPLEMENTATION.\n    // ################################################################################################################\n    //\n    // Creates the synthesis adapter\n    createSynthesisAdapter(authentication, connectionFactory, synthesizerConfig) {\n        return new Exports_js_1.SpeechSynthesisAdapter(authentication, connectionFactory, synthesizerConfig, this, this.audioConfig);\n    }\n    createRestSynthesisAdapter(authentication, synthesizerConfig) {\n        return new Exports_js_1.SynthesisRestAdapter(synthesizerConfig, authentication);\n    }\n    implCommonSynthesizeSetup() {\n        super.implCommonSynthesizeSetup();\n        this.privAdapter.audioOutputFormat = AudioOutputFormat_js_1.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(Exports_js_3.SpeechSynthesisOutputFormat[this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_SynthOutputFormat, undefined)]);\n    }\n    speakImpl(text, IsSsml, cb, err, dataStream) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privDisposed);\n            const requestId = (0, Exports_js_2.createNoDashGuid)();\n            let audioDestination;\n            if (dataStream instanceof Exports_js_3.PushAudioOutputStreamCallback) {\n                audioDestination = new AudioOutputStream_js_1.PushAudioOutputStreamImpl(dataStream);\n            }\n            else if (dataStream instanceof Exports_js_3.PullAudioOutputStream) {\n                audioDestination = dataStream;\n            }\n            else if (dataStream !== undefined) {\n                audioDestination = new AudioFileWriter_js_1.AudioFileWriter(dataStream);\n            }\n            else {\n                audioDestination = undefined;\n            }\n            this.synthesisRequestQueue.enqueue(new Synthesizer_js_1.SynthesisRequest(requestId, text, IsSsml, (e) => {\n                this.privSynthesizing = false;\n                if (!!cb) {\n                    try {\n                        cb(e);\n                    }\n                    catch (e) {\n                        if (!!err) {\n                            err(e);\n                        }\n                    }\n                }\n                cb = undefined;\n                /* eslint-disable no-empty */\n                this.adapterSpeak().catch(() => { });\n            }, (e) => {\n                if (!!err) {\n                    err(e);\n                }\n            }, audioDestination));\n            /* eslint-disable no-empty-function */\n            this.adapterSpeak().catch(() => { });\n        }\n        catch (error) {\n            if (!!err) {\n                if (error instanceof Error) {\n                    const typedError = error;\n                    err(typedError.name + \": \" + typedError.message);\n                }\n                else {\n                    err(error);\n                }\n            }\n            // Destroy the synthesizer.\n            /* eslint-disable no-empty */\n            this.dispose(true).catch(() => { });\n        }\n    }\n    async getVoices(locale) {\n        const requestId = (0, Exports_js_2.createNoDashGuid)();\n        const response = await this.privRestAdapter.getVoicesList(requestId);\n        if (response.ok && Array.isArray(response.json)) {\n            let json = response.json;\n            if (!!locale && locale.length > 0) {\n                json = json.filter((item) => !!item.Locale && item.Locale.toLowerCase() === locale.toLowerCase());\n            }\n            return new Exports_js_3.SynthesisVoicesResult(requestId, json, undefined);\n        }\n        else {\n            return new Exports_js_3.SynthesisVoicesResult(requestId, undefined, `Error: ${response.status}: ${response.statusText}`);\n        }\n    }\n}\nexports.SpeechSynthesizer = SpeechSynthesizer;\n\n//# sourceMappingURL=SpeechSynthesizer.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeechTranslationConfigImpl = exports.SpeechTranslationConfig = void 0;\nconst Exports_js_1 = require(\"../common.speech/Exports.js\");\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst Exports_js_2 = require(\"./Exports.js\");\n/**\n * Speech translation configuration.\n * @class SpeechTranslationConfig\n */\nclass SpeechTranslationConfig extends Exports_js_2.SpeechConfig {\n    /**\n     * Creates an instance of recognizer config.\n     */\n    constructor() {\n        super();\n    }\n    /**\n     * Static instance of SpeechTranslationConfig returned by passing a subscription key and service region.\n     * @member SpeechTranslationConfig.fromSubscription\n     * @function\n     * @public\n     * @param {string} subscriptionKey - The subscription key.\n     * @param {string} region - The region name (see the <a href=\"https://aka.ms/csspeech/region\">region page</a>).\n     * @returns {SpeechTranslationConfig} The speech translation config.\n     */\n    static fromSubscription(subscriptionKey, region) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(subscriptionKey, \"subscriptionKey\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(region, \"region\");\n        const ret = new SpeechTranslationConfigImpl();\n        ret.properties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Key, subscriptionKey);\n        ret.properties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Region, region);\n        return ret;\n    }\n    /**\n     * Static instance of SpeechTranslationConfig returned by passing authorization token and service region.\n     * Note: The caller needs to ensure that the authorization token is valid. Before the authorization token\n     * expires, the caller needs to refresh it by setting the property authorizationToken with a new\n     * valid token. Otherwise, all the recognizers created by this SpeechTranslationConfig instance\n     * will encounter errors during recognition.\n     * As configuration values are copied when creating a new recognizer, the new token value will not apply\n     * to recognizers that have already been created.\n     * For recognizers that have been created before, you need to set authorization token of the corresponding recognizer\n     * to refresh the token. Otherwise, the recognizers will encounter errors during recognition.\n     * @member SpeechTranslationConfig.fromAuthorizationToken\n     * @function\n     * @public\n     * @param {string} authorizationToken - The authorization token.\n     * @param {string} region - The region name (see the <a href=\"https://aka.ms/csspeech/region\">region page</a>).\n     * @returns {SpeechTranslationConfig} The speech translation config.\n     */\n    static fromAuthorizationToken(authorizationToken, region) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(authorizationToken, \"authorizationToken\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(region, \"region\");\n        const ret = new SpeechTranslationConfigImpl();\n        ret.properties.setProperty(Exports_js_2.PropertyId.SpeechServiceAuthorization_Token, authorizationToken);\n        ret.properties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Region, region);\n        return ret;\n    }\n    /**\n     * Creates an instance of the speech config with specified host and subscription key.\n     * This method is intended only for users who use a non-default service host. Standard resource path will be assumed.\n     * For services with a non-standard resource path or no path at all, use fromEndpoint instead.\n     * Note: Query parameters are not allowed in the host URI and must be set by other APIs.\n     * Note: To use an authorization token with fromHost, use fromHost(URL),\n     * and then set the AuthorizationToken property on the created SpeechConfig instance.\n     * Note: Added in version 1.9.0.\n     * @member SpeechConfig.fromHost\n     * @function\n     * @public\n     * @param {URL} host - The service endpoint to connect to. Format is \"protocol://host:port\" where \":port\" is optional.\n     * @param {string} subscriptionKey - The subscription key. If a subscription key is not specified, an authorization token must be set.\n     * @returns {SpeechConfig} A speech factory instance.\n     */\n    static fromHost(hostName, subscriptionKey) {\n        Contracts_js_1.Contracts.throwIfNull(hostName, \"hostName\");\n        const speechImpl = new SpeechTranslationConfigImpl();\n        speechImpl.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Host, hostName.protocol + \"//\" + hostName.hostname + (hostName.port === \"\" ? \"\" : \":\" + hostName.port));\n        if (undefined !== subscriptionKey) {\n            speechImpl.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Key, subscriptionKey);\n        }\n        return speechImpl;\n    }\n    /**\n     * Internal implementation of fromEndpoint() overloads. Accepts either a subscription key or a TokenCredential.\n     * @private\n     */\n    static fromEndpoint(endpoint, auth) {\n        Contracts_js_1.Contracts.throwIfNull(endpoint, \"endpoint\");\n        const isValidString = typeof auth === \"string\" && auth.trim().length > 0;\n        const isTokenCredential = typeof auth === \"object\" && auth !== null && typeof auth.getToken === \"function\";\n        const isKeyCredential = typeof auth === \"object\" && auth !== null && typeof auth.key === \"string\";\n        if (auth !== undefined && !isValidString && !isTokenCredential && !isKeyCredential) {\n            throw new Error(\"Invalid 'auth' parameter: expected a non-empty API key string, a TokenCredential, or a KeyCredential.\");\n        }\n        let speechImpl;\n        if (typeof auth === \"string\") {\n            speechImpl = new SpeechTranslationConfigImpl();\n            speechImpl.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Key, auth);\n        }\n        else if (typeof auth === \"object\" && typeof auth.getToken === \"function\") {\n            speechImpl = new SpeechTranslationConfigImpl(auth);\n        }\n        else if (typeof auth === \"object\" && typeof auth.key === \"string\") {\n            speechImpl = new SpeechTranslationConfigImpl();\n            speechImpl.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Key, auth.key);\n        }\n        else {\n            speechImpl = new SpeechTranslationConfigImpl();\n        }\n        speechImpl.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Endpoint, endpoint.href);\n        return speechImpl;\n    }\n}\nexports.SpeechTranslationConfig = SpeechTranslationConfig;\n/**\n * @private\n * @class SpeechTranslationConfigImpl\n */\nclass SpeechTranslationConfigImpl extends SpeechTranslationConfig {\n    constructor(tokenCredential) {\n        super();\n        this.privSpeechProperties = new Exports_js_2.PropertyCollection();\n        this.outputFormat = Exports_js_2.OutputFormat.Simple;\n        this.privTokenCredential = tokenCredential;\n    }\n    /**\n     * Gets/Sets the authorization token.\n     * If this is set, subscription key is ignored.\n     * User needs to make sure the provided authorization token is valid and not expired.\n     * @member SpeechTranslationConfigImpl.prototype.authorizationToken\n     * @function\n     * @public\n     * @param {string} value - The authorization token.\n     */\n    set authorizationToken(value) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(value, \"value\");\n        this.privSpeechProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceAuthorization_Token, value);\n    }\n    /**\n     * Sets the speech recognition language.\n     * @member SpeechTranslationConfigImpl.prototype.speechRecognitionLanguage\n     * @function\n     * @public\n     * @param {string} value - The authorization token.\n     */\n    set speechRecognitionLanguage(value) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(value, \"value\");\n        this.privSpeechProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_RecoLanguage, value);\n    }\n    /**\n     * Gets the speech recognition language.\n     * @member SpeechTranslationConfigImpl.prototype.speechRecognitionLanguage\n     * @function\n     * @public\n     * @return {string} The speechRecognitionLanguage.\n     */\n    get speechRecognitionLanguage() {\n        return this.privSpeechProperties.getProperty(Exports_js_2.PropertyId[Exports_js_2.PropertyId.SpeechServiceConnection_RecoLanguage]);\n    }\n    /**\n     * @member SpeechTranslationConfigImpl.prototype.subscriptionKey\n     * @function\n     * @public\n     */\n    get subscriptionKey() {\n        return this.privSpeechProperties.getProperty(Exports_js_2.PropertyId[Exports_js_2.PropertyId.SpeechServiceConnection_Key]);\n    }\n    /**\n     * Gets the output format\n     * @member SpeechTranslationConfigImpl.prototype.outputFormat\n     * @function\n     * @public\n     */\n    get outputFormat() {\n        // eslint-disable-next-line\n        return Exports_js_2.OutputFormat[this.privSpeechProperties.getProperty(Exports_js_1.OutputFormatPropertyName, undefined)];\n    }\n    /**\n     * Gets/Sets the output format\n     * @member SpeechTranslationConfigImpl.prototype.outputFormat\n     * @function\n     * @public\n     */\n    set outputFormat(value) {\n        this.privSpeechProperties.setProperty(Exports_js_1.OutputFormatPropertyName, Exports_js_2.OutputFormat[value]);\n    }\n    /**\n     * Gets the endpoint id.\n     * @member SpeechTranslationConfigImpl.prototype.endpointId\n     * @function\n     * @public\n     */\n    get endpointId() {\n        return this.privSpeechProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_EndpointId);\n    }\n    /**\n     * Gets/Sets the endpoint id.\n     * @member SpeechTranslationConfigImpl.prototype.endpointId\n     * @function\n     * @public\n     */\n    set endpointId(value) {\n        this.privSpeechProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_EndpointId, value);\n    }\n    /**\n     * Add a (text) target language to translate into.\n     * @member SpeechTranslationConfigImpl.prototype.addTargetLanguage\n     * @function\n     * @public\n     * @param {string} value - The language such as de-DE\n     */\n    addTargetLanguage(value) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(value, \"value\");\n        const languages = this.targetLanguages;\n        if (!languages.includes(value)) {\n            languages.push(value);\n            this.privSpeechProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_TranslationToLanguages, languages.join(\",\"));\n        }\n    }\n    /**\n     * Gets the (text) target language to translate into.\n     * @member SpeechTranslationConfigImpl.prototype.targetLanguages\n     * @function\n     * @public\n     * @param {string} value - The language such as de-DE\n     */\n    get targetLanguages() {\n        if (this.privSpeechProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_TranslationToLanguages, undefined) !== undefined) {\n            return this.privSpeechProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(\",\");\n        }\n        else {\n            return [];\n        }\n    }\n    /**\n     * Gets the voice name.\n     * @member SpeechTranslationConfigImpl.prototype.voiceName\n     * @function\n     * @public\n     */\n    get voiceName() {\n        return this.getProperty(Exports_js_2.PropertyId[Exports_js_2.PropertyId.SpeechServiceConnection_TranslationVoice]);\n    }\n    /**\n     * Gets/Sets the voice of the translated language, enable voice synthesis output.\n     * @member SpeechTranslationConfigImpl.prototype.voiceName\n     * @function\n     * @public\n     * @param {string} value - The name of the voice.\n     */\n    set voiceName(value) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(value, \"value\");\n        this.privSpeechProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_TranslationVoice, value);\n    }\n    /**\n     * Provides the region.\n     * @member SpeechTranslationConfigImpl.prototype.region\n     * @function\n     * @public\n     * @returns {string} The region.\n     */\n    get region() {\n        return this.privSpeechProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_Region);\n    }\n    get tokenCredential() {\n        return this.privTokenCredential;\n    }\n    setProxy(proxyHostName, proxyPort, proxyUserName, proxyPassword) {\n        this.setProperty(Exports_js_2.PropertyId[Exports_js_2.PropertyId.SpeechServiceConnection_ProxyHostName], proxyHostName);\n        this.setProperty(Exports_js_2.PropertyId[Exports_js_2.PropertyId.SpeechServiceConnection_ProxyPort], proxyPort);\n        this.setProperty(Exports_js_2.PropertyId[Exports_js_2.PropertyId.SpeechServiceConnection_ProxyUserName], proxyUserName);\n        this.setProperty(Exports_js_2.PropertyId[Exports_js_2.PropertyId.SpeechServiceConnection_ProxyPassword], proxyPassword);\n    }\n    /**\n     * Gets an arbitrary property value.\n     * @member SpeechTranslationConfigImpl.prototype.getProperty\n     * @function\n     * @public\n     * @param {string} name - The name of the property.\n     * @param {string} def - The default value of the property in case it is not set.\n     * @returns {string} The value of the property.\n     */\n    getProperty(name, def) {\n        return this.privSpeechProperties.getProperty(name, def);\n    }\n    /**\n     * Gets/Sets an arbitrary property value.\n     * @member SpeechTranslationConfigImpl.prototype.setProperty\n     * @function\n     * @public\n     * @param {string | PropertyId} name - The name of the property to set.\n     * @param {string} value - The value of the property.\n     */\n    setProperty(name, value) {\n        this.privSpeechProperties.setProperty(name, value);\n    }\n    /**\n     * Provides access to custom properties.\n     * @member SpeechTranslationConfigImpl.prototype.properties\n     * @function\n     * @public\n     * @returns {PropertyCollection} The properties.\n     */\n    get properties() {\n        return this.privSpeechProperties;\n    }\n    /**\n     * Dispose of associated resources.\n     * @member SpeechTranslationConfigImpl.prototype.close\n     * @function\n     * @public\n     */\n    close() {\n        return;\n    }\n    setServiceProperty(name, value) {\n        const currentProperties = JSON.parse(this.privSpeechProperties.getProperty(Exports_js_1.ServicePropertiesPropertyName, \"{}\"));\n        currentProperties[name] = value;\n        this.privSpeechProperties.setProperty(Exports_js_1.ServicePropertiesPropertyName, JSON.stringify(currentProperties));\n    }\n    setProfanity(profanity) {\n        this.privSpeechProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceResponse_ProfanityOption, Exports_js_2.ProfanityOption[profanity]);\n    }\n    enableAudioLogging() {\n        this.privSpeechProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_EnableAudioLogging, \"true\");\n    }\n    requestWordLevelTimestamps() {\n        this.privSpeechProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps, \"true\");\n    }\n    enableDictation() {\n        this.privSpeechProperties.setProperty(Exports_js_1.ForceDictationPropertyName, \"true\");\n    }\n    get speechSynthesisLanguage() {\n        return this.privSpeechProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_SynthLanguage);\n    }\n    set speechSynthesisLanguage(language) {\n        this.privSpeechProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_SynthLanguage, language);\n    }\n    get speechSynthesisVoiceName() {\n        return this.privSpeechProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_SynthVoice);\n    }\n    set speechSynthesisVoiceName(voice) {\n        this.privSpeechProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_SynthVoice, voice);\n    }\n    get speechSynthesisOutputFormat() {\n        // eslint-disable-next-line\n        return Exports_js_2.SpeechSynthesisOutputFormat[this.privSpeechProperties.getProperty(Exports_js_2.PropertyId.SpeechServiceConnection_SynthOutputFormat, undefined)];\n    }\n    set speechSynthesisOutputFormat(format) {\n        this.privSpeechProperties.setProperty(Exports_js_2.PropertyId.SpeechServiceConnection_SynthOutputFormat, Exports_js_2.SpeechSynthesisOutputFormat[format]);\n    }\n}\nexports.SpeechTranslationConfigImpl = SpeechTranslationConfigImpl;\n\n//# sourceMappingURL=SpeechTranslationConfig.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SynthesisResult = void 0;\n/**\n * Base class for synthesis results\n * @class SynthesisResult\n * Added in version 1.20.0\n */\nclass SynthesisResult {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {string} resultId - The result id.\n     * @param {ResultReason} reason - The reason.\n     * @param {string} errorDetails - Error details, if provided.\n     * @param {PropertyCollection} properties - Additional properties, if provided.\n     */\n    constructor(resultId, reason, errorDetails, properties) {\n        this.privResultId = resultId;\n        this.privReason = reason;\n        this.privErrorDetails = errorDetails;\n        this.privProperties = properties;\n    }\n    /**\n     * Specifies the result identifier.\n     * @member SynthesisResult.prototype.resultId\n     * @function\n     * @public\n     * @returns {string} Specifies the result identifier.\n     */\n    get resultId() {\n        return this.privResultId;\n    }\n    /**\n     * Specifies status of the result.\n     * @member SynthesisResult.prototype.reason\n     * @function\n     * @public\n     * @returns {ResultReason} Specifies status of the result.\n     */\n    get reason() {\n        return this.privReason;\n    }\n    /**\n     * In case of an unsuccessful synthesis, provides details of the occurred error.\n     * @member SynthesisResult.prototype.errorDetails\n     * @function\n     * @public\n     * @returns {string} a brief description of an error.\n     */\n    get errorDetails() {\n        return this.privErrorDetails;\n    }\n    /**\n     * The set of properties exposed in the result.\n     * @member SynthesisResult.prototype.properties\n     * @function\n     * @public\n     * @returns {PropertyCollection} The set of properties exposed in the result.\n     */\n    get properties() {\n        return this.privProperties;\n    }\n}\nexports.SynthesisResult = SynthesisResult;\n\n//# sourceMappingURL=SynthesisResult.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SynthesisVoicesResult = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Defines result of speech synthesis.\n * @class SynthesisVoicesResult\n * Added in version 1.20.0\n */\nclass SynthesisVoicesResult extends Exports_js_1.SynthesisResult {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param requestId - result id for request.\n     * @param json - json payload from endpoint.\n     */\n    constructor(requestId, json, errorDetails) {\n        if (Array.isArray(json)) {\n            super(requestId, Exports_js_1.ResultReason.VoicesListRetrieved, undefined, new Exports_js_1.PropertyCollection());\n            this.privVoices = [];\n            for (const item of json) {\n                this.privVoices.push(new Exports_js_1.VoiceInfo(item));\n            }\n        }\n        else {\n            super(requestId, Exports_js_1.ResultReason.Canceled, errorDetails ? errorDetails : \"Error information unavailable\", new Exports_js_1.PropertyCollection());\n        }\n    }\n    /**\n     * The list of voices\n     * @member SynthesisVoicesResult.prototype.voices\n     * @function\n     * @public\n     * @returns {VoiceInfo[]} List of synthesized voices.\n     */\n    get voices() {\n        return this.privVoices;\n    }\n}\nexports.SynthesisVoicesResult = SynthesisVoicesResult;\n\n//# sourceMappingURL=SynthesisVoicesResult.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SynthesisRequest = exports.Synthesizer = void 0;\nconst Exports_js_1 = require(\"../common.speech/Exports.js\");\nconst Exports_js_2 = require(\"../common/Exports.js\");\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst Exports_js_3 = require(\"./Exports.js\");\nclass Synthesizer {\n    /**\n     * Creates and initializes an instance of a Recognizer\n     * @constructor\n     * @param {SpeechConfig} speechConfig - The speech config to initialize the synthesizer.\n     */\n    constructor(speechConfig) {\n        const speechConfigImpl = speechConfig;\n        Contracts_js_1.Contracts.throwIfNull(speechConfigImpl, \"speechConfig\");\n        this.privProperties = speechConfigImpl.properties.clone();\n        this.privDisposed = false;\n        this.privSynthesizing = false;\n        this.synthesisRequestQueue = new Exports_js_2.Queue();\n        this.tokenCredential = speechConfig.tokenCredential;\n    }\n    /**\n     * Gets the authorization token used to communicate with the service.\n     * @member Synthesizer.prototype.authorizationToken\n     * @function\n     * @public\n     * @returns {string} Authorization token.\n     */\n    get authorizationToken() {\n        return this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceAuthorization_Token);\n    }\n    /**\n     * Gets/Sets the authorization token used to communicate with the service.\n     * @member Synthesizer.prototype.authorizationToken\n     * @function\n     * @public\n     * @param {string} token - Authorization token.\n     */\n    set authorizationToken(token) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(token, \"token\");\n        this.properties.setProperty(Exports_js_3.PropertyId.SpeechServiceAuthorization_Token, token);\n    }\n    /**\n     * The collection of properties and their values defined for this Synthesizer.\n     * @member Synthesizer.prototype.properties\n     * @function\n     * @public\n     * @returns {PropertyCollection} The collection of properties and their values defined for this SpeechSynthesizer.\n     */\n    get properties() {\n        return this.privProperties;\n    }\n    /**\n     * Indicates if auto detect source language is enabled\n     * @member Synthesizer.prototype.autoDetectSourceLanguage\n     * @function\n     * @public\n     * @returns {boolean} if auto detect source language is enabled\n     */\n    get autoDetectSourceLanguage() {\n        return this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages) === Exports_js_1.AutoDetectSourceLanguagesOpenRangeOptionName;\n    }\n    buildSsml(text) {\n        const languageToDefaultVoice = {\n            [\"af-ZA\"]: \"af-ZA-AdriNeural\",\n            [\"am-ET\"]: \"am-ET-AmehaNeural\",\n            [\"ar-AE\"]: \"ar-AE-FatimaNeural\",\n            [\"ar-BH\"]: \"ar-BH-AliNeural\",\n            [\"ar-DZ\"]: \"ar-DZ-AminaNeural\",\n            [\"ar-EG\"]: \"ar-EG-SalmaNeural\",\n            [\"ar-IQ\"]: \"ar-IQ-BasselNeural\",\n            [\"ar-JO\"]: \"ar-JO-SanaNeural\",\n            [\"ar-KW\"]: \"ar-KW-FahedNeural\",\n            [\"ar-LY\"]: \"ar-LY-ImanNeural\",\n            [\"ar-MA\"]: \"ar-MA-JamalNeural\",\n            [\"ar-QA\"]: \"ar-QA-AmalNeural\",\n            [\"ar-SA\"]: \"ar-SA-HamedNeural\",\n            [\"ar-SY\"]: \"ar-SY-AmanyNeural\",\n            [\"ar-TN\"]: \"ar-TN-HediNeural\",\n            [\"ar-YE\"]: \"ar-YE-MaryamNeural\",\n            [\"bg-BG\"]: \"bg-BG-BorislavNeural\",\n            [\"bn-BD\"]: \"bn-BD-NabanitaNeural\",\n            [\"bn-IN\"]: \"bn-IN-BashkarNeural\",\n            [\"ca-ES\"]: \"ca-ES-JoanaNeural\",\n            [\"cs-CZ\"]: \"cs-CZ-AntoninNeural\",\n            [\"cy-GB\"]: \"cy-GB-AledNeural\",\n            [\"da-DK\"]: \"da-DK-ChristelNeural\",\n            [\"de-AT\"]: \"de-AT-IngridNeural\",\n            [\"de-CH\"]: \"de-CH-JanNeural\",\n            [\"de-DE\"]: \"de-DE-KatjaNeural\",\n            [\"el-GR\"]: \"el-GR-AthinaNeural\",\n            [\"en-AU\"]: \"en-AU-NatashaNeural\",\n            [\"en-CA\"]: \"en-CA-ClaraNeural\",\n            [\"en-GB\"]: \"en-GB-LibbyNeural\",\n            [\"en-HK\"]: \"en-HK-SamNeural\",\n            [\"en-IE\"]: \"en-IE-ConnorNeural\",\n            [\"en-IN\"]: \"en-IN-NeerjaNeural\",\n            [\"en-KE\"]: \"en-KE-AsiliaNeural\",\n            [\"en-NG\"]: \"en-NG-AbeoNeural\",\n            [\"en-NZ\"]: \"en-NZ-MitchellNeural\",\n            [\"en-PH\"]: \"en-PH-JamesNeural\",\n            [\"en-SG\"]: \"en-SG-LunaNeural\",\n            [\"en-TZ\"]: \"en-TZ-ElimuNeural\",\n            [\"en-US\"]: \"en-US-AvaMultilingualNeural\",\n            [\"en-ZA\"]: \"en-ZA-LeahNeural\",\n            [\"es-AR\"]: \"es-AR-ElenaNeural\",\n            [\"es-BO\"]: \"es-BO-MarceloNeural\",\n            [\"es-CL\"]: \"es-CL-CatalinaNeural\",\n            [\"es-CO\"]: \"es-CO-GonzaloNeural\",\n            [\"es-CR\"]: \"es-CR-JuanNeural\",\n            [\"es-CU\"]: \"es-CU-BelkysNeural\",\n            [\"es-DO\"]: \"es-DO-EmilioNeural\",\n            [\"es-EC\"]: \"es-EC-AndreaNeural\",\n            [\"es-ES\"]: \"es-ES-AlvaroNeural\",\n            [\"es-GQ\"]: \"es-GQ-JavierNeural\",\n            [\"es-GT\"]: \"es-GT-AndresNeural\",\n            [\"es-HN\"]: \"es-HN-CarlosNeural\",\n            [\"es-MX\"]: \"es-MX-DaliaNeural\",\n            [\"es-NI\"]: \"es-NI-FedericoNeural\",\n            [\"es-PA\"]: \"es-PA-MargaritaNeural\",\n            [\"es-PE\"]: \"es-PE-AlexNeural\",\n            [\"es-PR\"]: \"es-PR-KarinaNeural\",\n            [\"es-PY\"]: \"es-PY-MarioNeural\",\n            [\"es-SV\"]: \"es-SV-LorenaNeural\",\n            [\"es-US\"]: \"es-US-AlonsoNeural\",\n            [\"es-UY\"]: \"es-UY-MateoNeural\",\n            [\"es-VE\"]: \"es-VE-PaolaNeural\",\n            [\"et-EE\"]: \"et-EE-AnuNeural\",\n            [\"fa-IR\"]: \"fa-IR-DilaraNeural\",\n            [\"fi-FI\"]: \"fi-FI-SelmaNeural\",\n            [\"fil-PH\"]: \"fil-PH-AngeloNeural\",\n            [\"fr-BE\"]: \"fr-BE-CharlineNeural\",\n            [\"fr-CA\"]: \"fr-CA-SylvieNeural\",\n            [\"fr-CH\"]: \"fr-CH-ArianeNeural\",\n            [\"fr-FR\"]: \"fr-FR-DeniseNeural\",\n            [\"ga-IE\"]: \"ga-IE-ColmNeural\",\n            [\"gl-ES\"]: \"gl-ES-RoiNeural\",\n            [\"gu-IN\"]: \"gu-IN-DhwaniNeural\",\n            [\"he-IL\"]: \"he-IL-AvriNeural\",\n            [\"hi-IN\"]: \"hi-IN-MadhurNeural\",\n            [\"hr-HR\"]: \"hr-HR-GabrijelaNeural\",\n            [\"hu-HU\"]: \"hu-HU-NoemiNeural\",\n            [\"id-ID\"]: \"id-ID-ArdiNeural\",\n            [\"is-IS\"]: \"is-IS-GudrunNeural\",\n            [\"it-IT\"]: \"it-IT-IsabellaNeural\",\n            [\"ja-JP\"]: \"ja-JP-NanamiNeural\",\n            [\"jv-ID\"]: \"jv-ID-DimasNeural\",\n            [\"kk-KZ\"]: \"kk-KZ-AigulNeural\",\n            [\"km-KH\"]: \"km-KH-PisethNeural\",\n            [\"kn-IN\"]: \"kn-IN-GaganNeural\",\n            [\"ko-KR\"]: \"ko-KR-SunHiNeural\",\n            [\"lo-LA\"]: \"lo-LA-ChanthavongNeural\",\n            [\"lt-LT\"]: \"lt-LT-LeonasNeural\",\n            [\"lv-LV\"]: \"lv-LV-EveritaNeural\",\n            [\"mk-MK\"]: \"mk-MK-AleksandarNeural\",\n            [\"ml-IN\"]: \"ml-IN-MidhunNeural\",\n            [\"mr-IN\"]: \"mr-IN-AarohiNeural\",\n            [\"ms-MY\"]: \"ms-MY-OsmanNeural\",\n            [\"mt-MT\"]: \"mt-MT-GraceNeural\",\n            [\"my-MM\"]: \"my-MM-NilarNeural\",\n            [\"nb-NO\"]: \"nb-NO-PernilleNeural\",\n            [\"nl-BE\"]: \"nl-BE-ArnaudNeural\",\n            [\"nl-NL\"]: \"nl-NL-ColetteNeural\",\n            [\"pl-PL\"]: \"pl-PL-AgnieszkaNeural\",\n            [\"ps-AF\"]: \"ps-AF-GulNawazNeural\",\n            [\"pt-BR\"]: \"pt-BR-FranciscaNeural\",\n            [\"pt-PT\"]: \"pt-PT-DuarteNeural\",\n            [\"ro-RO\"]: \"ro-RO-AlinaNeural\",\n            [\"ru-RU\"]: \"ru-RU-SvetlanaNeural\",\n            [\"si-LK\"]: \"si-LK-SameeraNeural\",\n            [\"sk-SK\"]: \"sk-SK-LukasNeural\",\n            [\"sl-SI\"]: \"sl-SI-PetraNeural\",\n            [\"so-SO\"]: \"so-SO-MuuseNeural\",\n            [\"sr-RS\"]: \"sr-RS-NicholasNeural\",\n            [\"su-ID\"]: \"su-ID-JajangNeural\",\n            [\"sv-SE\"]: \"sv-SE-SofieNeural\",\n            [\"sw-KE\"]: \"sw-KE-RafikiNeural\",\n            [\"sw-TZ\"]: \"sw-TZ-DaudiNeural\",\n            [\"ta-IN\"]: \"ta-IN-PallaviNeural\",\n            [\"ta-LK\"]: \"ta-LK-KumarNeural\",\n            [\"ta-SG\"]: \"ta-SG-AnbuNeural\",\n            [\"te-IN\"]: \"te-IN-MohanNeural\",\n            [\"th-TH\"]: \"th-TH-PremwadeeNeural\",\n            [\"tr-TR\"]: \"tr-TR-AhmetNeural\",\n            [\"uk-UA\"]: \"uk-UA-OstapNeural\",\n            [\"ur-IN\"]: \"ur-IN-GulNeural\",\n            [\"ur-PK\"]: \"ur-PK-AsadNeural\",\n            [\"uz-UZ\"]: \"uz-UZ-MadinaNeural\",\n            [\"vi-VN\"]: \"vi-VN-HoaiMyNeural\",\n            [\"zh-CN\"]: \"zh-CN-XiaoxiaoNeural\",\n            [\"zh-HK\"]: \"zh-HK-HiuMaanNeural\",\n            [\"zh-TW\"]: \"zh-TW-HsiaoChenNeural\",\n            [\"zu-ZA\"]: \"zu-ZA-ThandoNeural\",\n        };\n        let language = this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_SynthLanguage, \"en-US\");\n        let voice = this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_SynthVoice, \"\");\n        let ssml = Synthesizer.XMLEncode(text);\n        if (this.autoDetectSourceLanguage) {\n            language = \"en-US\";\n        }\n        else {\n            voice = voice || languageToDefaultVoice[language];\n        }\n        if (voice) {\n            ssml = `<voice name='${voice}'>${ssml}</voice>`;\n        }\n        ssml = `<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xmlns:mstts='http://www.w3.org/2001/mstts' xmlns:emo='http://www.w3.org/2009/10/emotionml' xml:lang='${language}'>${ssml}</speak>`;\n        return ssml;\n    }\n    /**\n     * This method performs cleanup of resources.\n     * The Boolean parameter disposing indicates whether the method is called\n     * from Dispose (if disposing is true) or from the finalizer (if disposing is false).\n     * Derived classes should override this method to dispose resource if needed.\n     * @member Synthesizer.prototype.dispose\n     * @function\n     * @public\n     * @param {boolean} disposing - Flag to request disposal.\n     */\n    async dispose(disposing) {\n        if (this.privDisposed) {\n            return;\n        }\n        if (disposing) {\n            if (this.privAdapter) {\n                await this.privAdapter.dispose();\n            }\n        }\n        this.privDisposed = true;\n    }\n    async adapterSpeak() {\n        if (!this.privDisposed && !this.privSynthesizing) {\n            this.privSynthesizing = true;\n            const request = await this.synthesisRequestQueue.dequeue();\n            return this.privAdapter.Speak(request.text, request.isSSML, request.requestId, request.cb, request.err, request.dataStream);\n        }\n    }\n    createSynthesizerConfig(speechConfig) {\n        return new Exports_js_1.SynthesizerConfig(speechConfig, this.privProperties);\n    }\n    // Does the generic synthesizer setup that is common across all synthesizer types.\n    implCommonSynthesizeSetup() {\n        let osPlatform = (typeof window !== \"undefined\") ? \"Browser\" : \"Node\";\n        let osName = \"unknown\";\n        let osVersion = \"unknown\";\n        if (typeof navigator !== \"undefined\") {\n            osPlatform = osPlatform + \"/\" + navigator.platform;\n            osName = navigator.userAgent;\n            osVersion = navigator.appVersion;\n        }\n        const synthesizerConfig = this.createSynthesizerConfig(new Exports_js_1.SpeechServiceConfig(new Exports_js_1.Context(new Exports_js_1.OS(osPlatform, osName, osVersion))));\n        const subscriptionKey = this.privProperties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_Key, undefined);\n        const authentication = (subscriptionKey && subscriptionKey !== \"\")\n            ? new Exports_js_1.CognitiveSubscriptionKeyAuthentication(subscriptionKey)\n            : (this.tokenCredential)\n                ? new Exports_js_1.CognitiveTokenAuthentication(async () => {\n                    try {\n                        const tokenResponse = await this.tokenCredential.getToken(\"https://cognitiveservices.azure.com/.default\");\n                        return tokenResponse?.token ?? \"\";\n                    }\n                    catch (err) {\n                        throw err;\n                    }\n                }, async () => {\n                    try {\n                        const tokenResponse = await this.tokenCredential.getToken(\"https://cognitiveservices.azure.com/.default\");\n                        return tokenResponse?.token ?? \"\";\n                    }\n                    catch (err) {\n                        throw err;\n                    }\n                })\n                : new Exports_js_1.CognitiveTokenAuthentication(() => {\n                    const authorizationToken = this.privProperties.getProperty(Exports_js_3.PropertyId.SpeechServiceAuthorization_Token, undefined);\n                    return Promise.resolve(authorizationToken);\n                }, () => {\n                    const authorizationToken = this.privProperties.getProperty(Exports_js_3.PropertyId.SpeechServiceAuthorization_Token, undefined);\n                    return Promise.resolve(authorizationToken);\n                });\n        this.privAdapter = this.createSynthesisAdapter(authentication, this.privConnectionFactory, synthesizerConfig);\n        this.privRestAdapter = this.createRestSynthesisAdapter(authentication, synthesizerConfig);\n    }\n    static XMLEncode(text) {\n        return text.replace(/&/g, \"&amp;\")\n            .replace(/</g, \"&lt;\")\n            .replace(/>/g, \"&gt;\")\n            .replace(/\"/g, \"&quot;\")\n            .replace(/'/g, \"&apos;\");\n    }\n}\nexports.Synthesizer = Synthesizer;\nclass SynthesisRequest {\n    constructor(requestId, text, isSSML, cb, err, dataStream) {\n        this.requestId = requestId;\n        this.text = text;\n        this.isSSML = isSSML;\n        this.cb = cb;\n        this.err = err;\n        this.dataStream = dataStream;\n    }\n}\nexports.SynthesisRequest = SynthesisRequest;\n\n//# sourceMappingURL=Synthesizer.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n// Multi-device Conversation is a Preview feature.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationImpl = exports.Conversation = void 0;\n/* eslint-disable max-classes-per-file */\nconst Exports_js_1 = require(\"../../common.speech/Exports.js\");\nconst Exports_js_2 = require(\"../../common/Exports.js\");\nconst Contracts_js_1 = require(\"../Contracts.js\");\nconst Exports_js_3 = require(\"../Exports.js\");\nclass Conversation {\n    constructor() {\n        return;\n    }\n    /**\n     * Create a conversation\n     * @param speechConfig\n     * @param cb\n     * @param err\n     */\n    static createConversationAsync(speechConfig, arg2, arg3, arg4) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(speechConfig, Exports_js_1.ConversationConnectionConfig.restErrors.invalidArgs.replace(\"{arg}\", \"config\"));\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(speechConfig.region, Exports_js_1.ConversationConnectionConfig.restErrors.invalidArgs.replace(\"{arg}\", \"SpeechServiceConnection_Region\"));\n        if (!speechConfig.subscriptionKey && !speechConfig.getProperty(Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceAuthorization_Token])) {\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(speechConfig.subscriptionKey, Exports_js_1.ConversationConnectionConfig.restErrors.invalidArgs.replace(\"{arg}\", \"SpeechServiceConnection_Key\"));\n        }\n        let conversationImpl;\n        let cb;\n        let err;\n        if (typeof arg2 === \"string\") {\n            conversationImpl = new ConversationImpl(speechConfig, arg2);\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            (0, Exports_js_2.marshalPromiseToCallbacks)((async () => { })(), arg3, arg4);\n        }\n        else {\n            conversationImpl = new ConversationImpl(speechConfig);\n            cb = arg2;\n            err = arg3;\n            conversationImpl.createConversationAsync((() => {\n                if (!!cb) {\n                    cb();\n                }\n            }), (error) => {\n                if (!!err) {\n                    err(error);\n                }\n            });\n        }\n        return conversationImpl;\n    }\n}\nexports.Conversation = Conversation;\nclass ConversationImpl extends Conversation {\n    /**\n     * Create a conversation impl\n     * @param speechConfig\n     * @param {string} id - optional conversationId\n     */\n    constructor(speechConfig, id) {\n        super();\n        this.privErrors = Exports_js_1.ConversationConnectionConfig.restErrors;\n        /** websocket callbacks */\n        /* eslint-disable @typescript-eslint/typedef */\n        this.onConnected = (e) => {\n            this.privIsConnected = true;\n            try {\n                if (!!this.privConversationTranslator?.sessionStarted) {\n                    this.privConversationTranslator.sessionStarted(this.privConversationTranslator, e);\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onDisconnected = (e) => {\n            try {\n                if (!!this.privConversationTranslator?.sessionStopped) {\n                    this.privConversationTranslator.sessionStopped(this.privConversationTranslator, e);\n                }\n            }\n            catch (e) {\n                //\n            }\n            finally {\n                void this.close(false);\n            }\n        };\n        this.onCanceled = (r, e) => {\n            try {\n                if (!!this.privConversationTranslator?.canceled) {\n                    this.privConversationTranslator.canceled(this.privConversationTranslator, e);\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onParticipantUpdateCommandReceived = (r, e) => {\n            try {\n                const updatedParticipant = this.privParticipants.getParticipant(e.id);\n                if (updatedParticipant !== undefined) {\n                    switch (e.key) {\n                        case Exports_js_1.ConversationTranslatorCommandTypes.changeNickname:\n                            updatedParticipant.displayName = e.value;\n                            break;\n                        case Exports_js_1.ConversationTranslatorCommandTypes.setUseTTS:\n                            updatedParticipant.isUsingTts = e.value;\n                            break;\n                        case Exports_js_1.ConversationTranslatorCommandTypes.setProfanityFiltering:\n                            updatedParticipant.profanity = e.value;\n                            break;\n                        case Exports_js_1.ConversationTranslatorCommandTypes.setMute:\n                            updatedParticipant.isMuted = e.value;\n                            break;\n                        case Exports_js_1.ConversationTranslatorCommandTypes.setTranslateToLanguages:\n                            updatedParticipant.translateToLanguages = e.value;\n                            break;\n                    }\n                    this.privParticipants.addOrUpdateParticipant(updatedParticipant);\n                    if (!!this.privConversationTranslator) {\n                        this.privConversationTranslator.participantsChanged(this.privConversationTranslator, new Exports_js_3.ConversationParticipantsChangedEventArgs(Exports_js_3.ParticipantChangedReason.Updated, [this.toParticipant(updatedParticipant)], e.sessionId));\n                    }\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onLockRoomCommandReceived = () => {\n            // TODO\n        };\n        this.onMuteAllCommandReceived = (r, e) => {\n            try {\n                this.privParticipants.participants.forEach((p) => p.isMuted = (p.isHost ? false : e.isMuted));\n                if (!!this.privConversationTranslator) {\n                    this.privConversationTranslator.participantsChanged(this.privConversationTranslator, new Exports_js_3.ConversationParticipantsChangedEventArgs(Exports_js_3.ParticipantChangedReason.Updated, this.toParticipants(false), e.sessionId));\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onParticipantJoinCommandReceived = (r, e) => {\n            try {\n                const newParticipant = this.privParticipants.addOrUpdateParticipant(e.participant);\n                if (newParticipant !== undefined) {\n                    if (!!this.privConversationTranslator) {\n                        this.privConversationTranslator.participantsChanged(this.privConversationTranslator, new Exports_js_3.ConversationParticipantsChangedEventArgs(Exports_js_3.ParticipantChangedReason.JoinedConversation, [this.toParticipant(newParticipant)], e.sessionId));\n                    }\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onParticipantLeaveCommandReceived = (r, e) => {\n            try {\n                const ejectedParticipant = this.privParticipants.getParticipant(e.participant.id);\n                if (ejectedParticipant !== undefined) {\n                    // remove the participant from the internal participants list\n                    this.privParticipants.deleteParticipant(e.participant.id);\n                    if (!!this.privConversationTranslator) {\n                        // notify subscribers that the participant has left the conversation\n                        this.privConversationTranslator.participantsChanged(this.privConversationTranslator, new Exports_js_3.ConversationParticipantsChangedEventArgs(Exports_js_3.ParticipantChangedReason.LeftConversation, [this.toParticipant(ejectedParticipant)], e.sessionId));\n                    }\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onTranslationReceived = (r, e) => {\n            try {\n                switch (e.command) {\n                    case Exports_js_1.ConversationTranslatorMessageTypes.final:\n                        if (!!this.privConversationTranslator) {\n                            this.privConversationTranslator.transcribed(this.privConversationTranslator, new Exports_js_3.ConversationTranslationEventArgs(e.payload, undefined, e.sessionId));\n                        }\n                        break;\n                    case Exports_js_1.ConversationTranslatorMessageTypes.partial:\n                        if (!!this.privConversationTranslator) {\n                            this.privConversationTranslator.transcribing(this.privConversationTranslator, new Exports_js_3.ConversationTranslationEventArgs(e.payload, undefined, e.sessionId));\n                        }\n                        break;\n                    case Exports_js_1.ConversationTranslatorMessageTypes.instantMessage:\n                        if (!!this.privConversationTranslator) {\n                            this.privConversationTranslator.textMessageReceived(this.privConversationTranslator, new Exports_js_3.ConversationTranslationEventArgs(e.payload, undefined, e.sessionId));\n                        }\n                        break;\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onParticipantsListReceived = (r, e) => {\n            try {\n                // check if the session token needs to be updated\n                if (e.sessionToken !== undefined && e.sessionToken !== null) {\n                    this.privRoom.token = e.sessionToken;\n                }\n                // save the participants\n                this.privParticipants.participants = [...e.participants];\n                // enable the conversation\n                if (this.privParticipants.me !== undefined) {\n                    this.privIsReady = true;\n                }\n                if (!!this.privConversationTranslator) {\n                    this.privConversationTranslator.participantsChanged(this.privConversationTranslator, new Exports_js_3.ConversationParticipantsChangedEventArgs(Exports_js_3.ParticipantChangedReason.JoinedConversation, this.toParticipants(true), e.sessionId));\n                }\n                // if this is the host, update the nickname if needed\n                if (this.me.isHost) {\n                    const nickname = this.privConversationTranslator?.properties.getProperty(Exports_js_3.PropertyId.ConversationTranslator_Name);\n                    if (nickname !== undefined && nickname.length > 0 && nickname !== this.me.displayName) {\n                        // issue a change nickname request\n                        this.changeNicknameAsync(nickname);\n                    }\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onConversationExpiration = (r, e) => {\n            try {\n                if (!!this.privConversationTranslator) {\n                    this.privConversationTranslator.conversationExpiration(this.privConversationTranslator, e);\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.privIsConnected = false;\n        this.privIsDisposed = false;\n        this.privConversationId = \"\";\n        this.privProperties = new Exports_js_3.PropertyCollection();\n        this.privManager = new Exports_js_1.ConversationManager();\n        // check the speech language\n        const language = speechConfig.getProperty(Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage]);\n        if (!language) {\n            speechConfig.setProperty(Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage], Exports_js_1.ConversationConnectionConfig.defaultLanguageCode);\n        }\n        this.privLanguage = speechConfig.getProperty(Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage]);\n        if (!id) {\n            // check the target language(s)\n            if (speechConfig.targetLanguages.length === 0) {\n                speechConfig.addTargetLanguage(this.privLanguage);\n            }\n            // check the profanity setting: speech and conversationTranslator should be in sync\n            const profanity = speechConfig.getProperty(Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceResponse_ProfanityOption]);\n            if (!profanity) {\n                speechConfig.setProfanity(Exports_js_3.ProfanityOption.Masked);\n            }\n            // check the nickname: it should pass this regex: ^\\w+([\\s-][\\w\\(\\)]+)*$\"\n            // TODO: specify the regex required. Nicknames must be unique or get the duplicate nickname error\n            // TODO: check what the max length is and if a truncation is required or if the service handles it without an error\n            let hostNickname = speechConfig.getProperty(Exports_js_3.PropertyId[Exports_js_3.PropertyId.ConversationTranslator_Name]);\n            if (hostNickname === undefined || hostNickname === null) {\n                hostNickname = \"Host\";\n            }\n            Contracts_js_1.Contracts.throwIfNullOrTooLong(hostNickname, \"nickname\", 50);\n            Contracts_js_1.Contracts.throwIfNullOrTooShort(hostNickname, \"nickname\", 2);\n            speechConfig.setProperty(Exports_js_3.PropertyId[Exports_js_3.PropertyId.ConversationTranslator_Name], hostNickname);\n        }\n        else {\n            this.privConversationId = id;\n        }\n        // save the speech config for future usage\n        this.privConfig = speechConfig;\n        // save the config properties\n        const configImpl = speechConfig;\n        Contracts_js_1.Contracts.throwIfNull(configImpl, \"speechConfig\");\n        this.privProperties = configImpl.properties.clone();\n        this.privIsConnected = false;\n        this.privParticipants = new Exports_js_1.InternalParticipants();\n        this.privIsReady = false;\n        this.privTextMessageMaxLength = 1000;\n    }\n    // get the internal data about a conversation\n    get room() {\n        return this.privRoom;\n    }\n    // get the wrapper for connecting to the websockets\n    get connection() {\n        return this.privConversationRecognizer; // this.privConnection;\n    }\n    // get the config\n    get config() {\n        return this.privConfig;\n    }\n    // get the conversation Id\n    get conversationId() {\n        return this.privRoom ? this.privRoom.roomId : this.privConversationId;\n    }\n    // get the properties\n    get properties() {\n        return this.privProperties;\n    }\n    // get the speech language\n    get speechRecognitionLanguage() {\n        return this.privLanguage;\n    }\n    get isMutedByHost() {\n        return this.privParticipants.me?.isHost ? false : this.privParticipants.me?.isMuted;\n    }\n    get isConnected() {\n        return this.privIsConnected && this.privIsReady;\n    }\n    get participants() {\n        return this.toParticipants(true);\n    }\n    get me() {\n        return this.toParticipant(this.privParticipants.me);\n    }\n    get host() {\n        return this.toParticipant(this.privParticipants.host);\n    }\n    get transcriberRecognizer() {\n        return this.privTranscriberRecognizer;\n    }\n    get conversationInfo() {\n        const convId = this.conversationId;\n        const p = this.participants.map((part) => ({\n            id: part.id,\n            preferredLanguage: part.preferredLanguage,\n            voice: part.voice\n        }));\n        const props = {};\n        for (const key of Exports_js_1.ConversationConnectionConfig.transcriptionEventKeys) {\n            const val = this.properties.getProperty(key, \"\");\n            if (val !== \"\") {\n                props[key] = val;\n            }\n        }\n        const info = { id: convId, participants: p, conversationProperties: props };\n        return info;\n    }\n    get canSend() {\n        return this.privIsConnected && !this.privParticipants.me?.isMuted;\n    }\n    get canSendAsHost() {\n        return this.privIsConnected && this.privParticipants.me?.isHost;\n    }\n    // get / set the speech auth token\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    get authorizationToken() {\n        return this.privToken;\n    }\n    set authorizationToken(value) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(value, \"authorizationToken\");\n        this.privToken = value;\n    }\n    set conversationTranslator(conversationTranslator) {\n        this.privConversationTranslator = conversationTranslator;\n    }\n    onToken(token) {\n        this.privConversationTranslator.onToken(token);\n    }\n    /**\n     * Create a new conversation as Host\n     * @param cb\n     * @param err\n     */\n    createConversationAsync(cb, err) {\n        try {\n            if (!!this.privConversationRecognizer) {\n                this.handleError(new Error(this.privErrors.permissionDeniedStart), err);\n            }\n            this.privManager.createOrJoin(this.privProperties, undefined, ((room) => {\n                if (!room) {\n                    this.handleError(new Error(this.privErrors.permissionDeniedConnect), err);\n                }\n                this.privRoom = room;\n                this.handleCallback(cb, err);\n            }), ((error) => {\n                this.handleError(error, err);\n            }));\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Starts a new conversation as host.\n     * @param cb\n     * @param err\n     */\n    startConversationAsync(cb, err) {\n        try {\n            // check if there is already a recognizer\n            if (!!this.privConversationRecognizer) {\n                this.handleError(new Error(this.privErrors.permissionDeniedStart), err);\n            }\n            // check if there is conversation data available\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedConnect);\n            // connect to the conversation websocket\n            this.privParticipants.meId = this.privRoom.participantId;\n            this.privConversationRecognizer = Exports_js_1.ConversationRecognizerFactory.fromConfig(this, this.privConfig);\n            // Because ConversationTranslator manually sets up and manages the connection, Conversation\n            // has to forward serviceRecognizer connection events that usually get passed automatically\n            this.privConversationRecognizer.connected = this.onConnected;\n            this.privConversationRecognizer.disconnected = this.onDisconnected;\n            this.privConversationRecognizer.canceled = this.onCanceled;\n            this.privConversationRecognizer.participantUpdateCommandReceived = this.onParticipantUpdateCommandReceived;\n            this.privConversationRecognizer.lockRoomCommandReceived = this.onLockRoomCommandReceived;\n            this.privConversationRecognizer.muteAllCommandReceived = this.onMuteAllCommandReceived;\n            this.privConversationRecognizer.participantJoinCommandReceived = this.onParticipantJoinCommandReceived;\n            this.privConversationRecognizer.participantLeaveCommandReceived = this.onParticipantLeaveCommandReceived;\n            this.privConversationRecognizer.translationReceived = this.onTranslationReceived;\n            this.privConversationRecognizer.participantsListReceived = this.onParticipantsListReceived;\n            this.privConversationRecognizer.conversationExpiration = this.onConversationExpiration;\n            this.privConversationRecognizer.connect(this.privRoom.token, (() => {\n                this.handleCallback(cb, err);\n            }), ((error) => {\n                this.handleError(error, err);\n            }));\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Join a conversation as a participant.\n     * @param { IParticipant } participant - participant to add\n     * @param cb\n     * @param err\n     */\n    addParticipantAsync(participant, cb, err) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(participant, \"Participant\");\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.addParticipantImplAsync(participant), cb, err);\n    }\n    /**\n     * Join a conversation as a participant.\n     * @param conversation\n     * @param nickname\n     * @param lang\n     * @param cb\n     * @param err\n     */\n    joinConversationAsync(conversationId, nickname, lang, cb, err) {\n        try {\n            // TODO\n            // if (!!this.privConversationRecognizer) {\n            //     throw new Error(this.privErrors.permissionDeniedStart);\n            // }\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(conversationId, this.privErrors.invalidArgs.replace(\"{arg}\", \"conversationId\"));\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(nickname, this.privErrors.invalidArgs.replace(\"{arg}\", \"nickname\"));\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(lang, this.privErrors.invalidArgs.replace(\"{arg}\", \"language\"));\n            // join the conversation\n            this.privManager.createOrJoin(this.privProperties, conversationId, ((room) => {\n                Contracts_js_1.Contracts.throwIfNullOrUndefined(room, this.privErrors.permissionDeniedConnect);\n                this.privRoom = room;\n                this.privConfig.authorizationToken = room.cognitiveSpeechAuthToken;\n                // join callback\n                if (!!cb) {\n                    cb(room.cognitiveSpeechAuthToken);\n                }\n            }), ((error) => {\n                this.handleError(error, err);\n            }));\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Deletes a conversation\n     * @param cb\n     * @param err\n     */\n    deleteConversationAsync(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.deleteConversationImplAsync(), cb, err);\n    }\n    async deleteConversationImplAsync() {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privProperties, this.privErrors.permissionDeniedConnect);\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.token, this.privErrors.permissionDeniedConnect);\n        await this.privManager.leave(this.privProperties, this.privRoom.token);\n        this.dispose();\n    }\n    /**\n     * Issues a request to close the client websockets\n     * @param cb\n     * @param err\n     */\n    endConversationAsync(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.endConversationImplAsync(), cb, err);\n    }\n    endConversationImplAsync() {\n        return this.close(true);\n    }\n    /**\n     * Issues a request to lock the conversation\n     * @param cb\n     * @param err\n     */\n    lockConversationAsync(cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            if (!this.canSendAsHost) {\n                this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace(\"{command}\", \"lock\")), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getLockCommand(true), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Issues a request to mute the conversation\n     * @param cb\n     * @param err\n     */\n    muteAllParticipantsAsync(cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer, this.privErrors.permissionDeniedSend);\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            // check the user's permissions\n            if (!this.canSendAsHost) {\n                this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace(\"{command}\", \"mute\")), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(true), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Issues a request to mute a participant in the conversation\n     * @param userId\n     * @param cb\n     * @param err\n     */\n    muteParticipantAsync(userId, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(userId, this.privErrors.invalidArgs.replace(\"{arg}\", \"userId\"));\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            // check the connection is open (host + participant can perform the mute command)\n            if (!this.canSend) {\n                this.handleError(new Error(this.privErrors.permissionDeniedSend), err);\n            }\n            // if not host, check the participant is not muting another participant\n            if (!this.me.isHost && this.me.id !== userId) {\n                this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace(\"{command}\", \"mute\")), err);\n            }\n            // check the user exists\n            const exists = this.privParticipants.getParticipantIndex(userId);\n            if (exists === -1) {\n                this.handleError(new Error(this.privErrors.invalidParticipantRequest), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getMuteCommand(userId, true), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Issues a request to remove a participant from the conversation\n     * @param userId\n     * @param cb\n     * @param err\n     */\n    removeParticipantAsync(userId, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            if (!!this.privTranscriberRecognizer && userId.hasOwnProperty(\"id\")) {\n                // Assume this is a transcription participant\n                (0, Exports_js_2.marshalPromiseToCallbacks)(this.removeParticipantImplAsync(userId), cb, err);\n            }\n            else {\n                Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n                Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n                if (!this.canSendAsHost) {\n                    this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace(\"{command}\", \"remove\")), err);\n                }\n                let participantId = \"\";\n                if (typeof userId === \"string\") {\n                    participantId = userId;\n                }\n                else if (userId.hasOwnProperty(\"id\")) {\n                    const participant = userId;\n                    participantId = participant.id;\n                }\n                else if (userId.hasOwnProperty(\"userId\")) {\n                    const user = userId;\n                    participantId = user.userId;\n                }\n                Contracts_js_1.Contracts.throwIfNullOrWhitespace(participantId, this.privErrors.invalidArgs.replace(\"{arg}\", \"userId\"));\n                // check the participant exists\n                const index = this.participants.findIndex((p) => p.id === participantId);\n                if (index === -1) {\n                    this.handleError(new Error(this.privErrors.invalidParticipantRequest), err);\n                }\n                if (!!this.privConversationRecognizer) {\n                    this.privConversationRecognizer.sendRequest(this.getEjectCommand(participantId), (() => {\n                        this.handleCallback(cb, err);\n                    }), ((error) => {\n                        this.handleError(error, err);\n                    }));\n                }\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Issues a request to unlock the conversation\n     * @param cb\n     * @param err\n     */\n    unlockConversationAsync(cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            if (!this.canSendAsHost) {\n                this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace(\"{command}\", \"unlock\")), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getLockCommand(false), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Issues a request to unmute all participants in the conversation\n     * @param cb\n     * @param err\n     */\n    unmuteAllParticipantsAsync(cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            if (!this.canSendAsHost) {\n                this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace(\"{command}\", \"unmute all\")), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(false), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Issues a request to unmute a participant in the conversation\n     * @param userId\n     * @param cb\n     * @param err\n     */\n    unmuteParticipantAsync(userId, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(userId, this.privErrors.invalidArgs.replace(\"{arg}\", \"userId\"));\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            // check the connection is open (host + participant can perform the mute command)\n            if (!this.canSend) {\n                this.handleError(new Error(this.privErrors.permissionDeniedSend), err);\n            }\n            // if not host, check the participant is not muting another participant\n            if (!this.me.isHost && this.me.id !== userId) {\n                this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace(\"{command}\", \"mute\")), err);\n            }\n            // check the user exists\n            const exists = this.privParticipants.getParticipantIndex(userId);\n            if (exists === -1) {\n                this.handleError(new Error(this.privErrors.invalidParticipantRequest), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getMuteCommand(userId, false), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Send a text message\n     * @param message\n     * @param cb\n     * @param err\n     */\n    sendTextMessageAsync(message, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(message, this.privErrors.invalidArgs.replace(\"{arg}\", \"message\"));\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            if (!this.canSend) {\n                this.handleError(new Error(this.privErrors.permissionDeniedSend), err);\n            }\n            // TODO: is a max length check required?\n            if (message.length > this.privTextMessageMaxLength) {\n                this.handleError(new Error(this.privErrors.invalidArgs.replace(\"{arg}\", \"message length\")), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getMessageCommand(message), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Set translated to languages\n     * @param {string[]} languages - languages to translate to\n     * @param cb\n     * @param err\n     */\n    setTranslatedLanguagesAsync(languages, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfArrayEmptyOrWhitespace(languages, this.privErrors.invalidArgs.replace(\"{arg}\", \"languages\"));\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            if (!this.canSend) {\n                this.handleError(new Error(this.privErrors.permissionDeniedSend), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(languages), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Change nickname\n     * @param {string} nickname - new nickname for the room\n     * @param cb\n     * @param err\n     */\n    changeNicknameAsync(nickname, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(nickname, this.privErrors.invalidArgs.replace(\"{arg}\", \"nickname\"));\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            if (!this.canSend) {\n                this.handleError(new Error(this.privErrors.permissionDeniedSend), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(nickname), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    isDisposed() {\n        return this.privIsDisposed;\n    }\n    dispose() {\n        if (this.isDisposed) {\n            return;\n        }\n        this.privIsDisposed = true;\n        if (!!this.config) {\n            this.config.close();\n        }\n        this.privConfig = undefined;\n        this.privLanguage = undefined;\n        this.privProperties = undefined;\n        this.privRoom = undefined;\n        this.privToken = undefined;\n        this.privManager = undefined;\n        this.privIsConnected = false;\n        this.privIsReady = false;\n        this.privParticipants = undefined;\n    }\n    async connectTranscriberRecognizer(recognizer) {\n        if (!!this.privTranscriberRecognizer) {\n            await this.privTranscriberRecognizer.close();\n        }\n        await recognizer.enforceAudioGating();\n        this.privTranscriberRecognizer = recognizer;\n        this.privTranscriberRecognizer.conversation = this;\n    }\n    getKeepAlive() {\n        const nickname = (!!this.me) ? this.me.displayName : \"default_nickname\";\n        return JSON.stringify({\n            id: \"0\",\n            nickname,\n            participantId: this.privRoom.participantId,\n            roomId: this.privRoom.roomId,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.keepAlive\n        });\n    }\n    /* eslint-enable @typescript-eslint/typedef */\n    addParticipantImplAsync(participant) {\n        const newParticipant = this.privParticipants.addOrUpdateParticipant(participant);\n        if (newParticipant !== undefined) {\n            if (!!this.privTranscriberRecognizer) {\n                const conversationInfo = this.conversationInfo;\n                conversationInfo.participants = [participant];\n                return this.privTranscriberRecognizer.pushConversationEvent(conversationInfo, \"join\");\n            }\n        }\n    }\n    removeParticipantImplAsync(participant) {\n        this.privParticipants.deleteParticipant(participant.id);\n        const conversationInfo = this.conversationInfo;\n        conversationInfo.participants = [participant];\n        return this.privTranscriberRecognizer.pushConversationEvent(conversationInfo, \"leave\");\n    }\n    async close(dispose) {\n        try {\n            this.privIsConnected = false;\n            await this.privConversationRecognizer?.close();\n            this.privConversationRecognizer = undefined;\n            if (!!this.privConversationTranslator) {\n                this.privConversationTranslator.dispose();\n            }\n        }\n        catch (e) {\n            // ignore error\n            throw e;\n        }\n        if (dispose) {\n            this.dispose();\n        }\n    }\n    /** Helpers */\n    handleCallback(cb, err) {\n        if (!!cb) {\n            try {\n                cb();\n            }\n            catch (e) {\n                if (!!err) {\n                    err(e);\n                }\n            }\n            cb = undefined;\n        }\n    }\n    handleError(error, err) {\n        if (!!err) {\n            if (error instanceof Error) {\n                const typedError = error;\n                err(typedError.name + \": \" + typedError.message);\n            }\n            else {\n                err(error);\n            }\n        }\n    }\n    /** Participant Helpers */\n    toParticipants(includeHost) {\n        const participants = this.privParticipants.participants.map((p) => (this.toParticipant(p)));\n        if (!includeHost) {\n            return participants.filter((p) => p.isHost === false);\n        }\n        else {\n            return participants;\n        }\n    }\n    toParticipant(p) {\n        return new Exports_js_3.Participant(p.id, p.avatar, p.displayName, p.isHost, p.isMuted, p.isUsingTts, p.preferredLanguage, p.voice);\n    }\n    getMuteAllCommand(isMuted) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId, \"conversationId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId, \"participantId\");\n        return JSON.stringify({\n            command: Exports_js_1.ConversationTranslatorCommandTypes.setMuteAll,\n            participantId: this.privRoom.participantId,\n            roomid: this.privRoom.roomId,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.participantCommand,\n            value: isMuted\n        });\n    }\n    getMuteCommand(participantId, isMuted) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId, \"conversationId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(participantId, \"participantId\");\n        return JSON.stringify({\n            command: Exports_js_1.ConversationTranslatorCommandTypes.setMute,\n            // eslint-disable-next-line object-shorthand\n            participantId: participantId,\n            roomid: this.privRoom.roomId,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.participantCommand,\n            value: isMuted\n        });\n    }\n    getLockCommand(isLocked) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId, \"conversationId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId, \"participantId\");\n        return JSON.stringify({\n            command: Exports_js_1.ConversationTranslatorCommandTypes.setLockState,\n            participantId: this.privRoom.participantId,\n            roomid: this.privRoom.roomId,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.participantCommand,\n            value: isLocked\n        });\n    }\n    getEjectCommand(participantId) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId, \"conversationId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(participantId, \"participantId\");\n        return JSON.stringify({\n            command: Exports_js_1.ConversationTranslatorCommandTypes.ejectParticipant,\n            // eslint-disable-next-line object-shorthand\n            participantId: participantId,\n            roomid: this.privRoom.roomId,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.participantCommand,\n        });\n    }\n    getSetTranslateToLanguagesCommand(languages) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId, \"conversationId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId, \"participantId\");\n        return JSON.stringify({\n            command: Exports_js_1.ConversationTranslatorCommandTypes.setTranslateToLanguages,\n            participantId: this.privRoom.participantId,\n            roomid: this.privRoom.roomId,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.participantCommand,\n            value: languages\n        });\n    }\n    getChangeNicknameCommand(nickname) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId, \"conversationId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(nickname, \"nickname\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId, \"participantId\");\n        return JSON.stringify({\n            command: Exports_js_1.ConversationTranslatorCommandTypes.changeNickname,\n            nickname,\n            participantId: this.privRoom.participantId,\n            roomid: this.privRoom.roomId,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.participantCommand,\n            value: nickname\n        });\n    }\n    getMessageCommand(message) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId, \"conversationId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId, \"participantId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(message, \"message\");\n        return JSON.stringify({\n            participantId: this.privRoom.participantId,\n            roomId: this.privRoom.roomId,\n            text: message,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.instantMessage\n        });\n    }\n}\nexports.ConversationImpl = ConversationImpl;\n\n//# sourceMappingURL=Conversation.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationCommon = void 0;\nclass ConversationCommon {\n    constructor(audioConfig) {\n        this.privAudioConfig = audioConfig;\n    }\n    handleCallback(cb, err) {\n        if (!!cb) {\n            try {\n                cb();\n            }\n            catch (e) {\n                if (!!err) {\n                    err(e);\n                }\n            }\n            cb = undefined;\n        }\n    }\n    handleError(error, err) {\n        if (!!err) {\n            if (error instanceof Error) {\n                const typedError = error;\n                err(typedError.name + \": \" + typedError.message);\n            }\n            else {\n                err(error);\n            }\n        }\n    }\n}\nexports.ConversationCommon = ConversationCommon;\n\n//# sourceMappingURL=ConversationCommon.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n// Multi-device Conversation is a Preview feature.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationExpirationEventArgs = void 0;\nconst Exports_js_1 = require(\"../Exports.js\");\nclass ConversationExpirationEventArgs extends Exports_js_1.SessionEventArgs {\n    constructor(expirationTime, sessionId) {\n        super(sessionId);\n        this.privExpirationTime = expirationTime;\n    }\n    /** How much longer until the conversation expires (in minutes). */\n    get expirationTime() {\n        return this.privExpirationTime;\n    }\n}\nexports.ConversationExpirationEventArgs = ConversationExpirationEventArgs;\n\n//# sourceMappingURL=ConversationExpirationEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n// Multi-device Conversation is a Preview feature.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationParticipantsChangedEventArgs = void 0;\nconst Exports_js_1 = require(\"../Exports.js\");\nclass ConversationParticipantsChangedEventArgs extends Exports_js_1.SessionEventArgs {\n    constructor(reason, participants, sessionId) {\n        super(sessionId);\n        this.privReason = reason;\n        this.privParticipant = participants;\n    }\n    get reason() {\n        return this.privReason;\n    }\n    get participants() {\n        return this.privParticipant;\n    }\n}\nexports.ConversationParticipantsChangedEventArgs = ConversationParticipantsChangedEventArgs;\n\n//# sourceMappingURL=ConversationParticipantsChangedEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationTranscriber = void 0;\nconst Exports_js_1 = require(\"../../common.speech/Exports.js\");\nconst PhraseDetectionContext_js_1 = require(\"../../common.speech/ServiceMessages/PhraseDetection/PhraseDetectionContext.js\");\nconst Exports_js_2 = require(\"../../common/Exports.js\");\nconst Contracts_js_1 = require(\"../Contracts.js\");\nconst Exports_js_3 = require(\"../Exports.js\");\n/**\n * Performs speech recognition with speaker separation from microphone, file, or other audio input streams, and gets transcribed text as result.\n * @class ConversationTranscriber\n */\nclass ConversationTranscriber extends Exports_js_3.Recognizer {\n    /**\n     * ConversationTranscriber constructor.\n     * @constructor\n     * @param {SpeechConfig} speechConfig - an set of initial properties for this recognizer\n     * @param {AudioConfig} audioConfig - An optional audio configuration associated with the recognizer\n     */\n    constructor(speechConfig, audioConfig) {\n        const speechConfigImpl = speechConfig;\n        Contracts_js_1.Contracts.throwIfNull(speechConfigImpl, \"speechConfig\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(speechConfigImpl.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage), Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage]);\n        super(audioConfig, speechConfigImpl.properties, new Exports_js_1.ConversationTranscriberConnectionFactory(), speechConfig.tokenCredential);\n        this.privProperties.setProperty(Exports_js_3.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion, \"2\");\n        this.privDisposedRecognizer = false;\n    }\n    /**\n     * ConversationTranscriber constructor.\n     * @constructor\n     * @param {SpeechConfig} speechConfig - an set of initial properties for this recognizer\n     * @param {AutoDetectSourceLanguageConfig} autoDetectSourceLanguageConfig - An source language detection configuration associated with the recognizer\n     * @param {AudioConfig} audioConfig - An optional audio configuration associated with the recognizer\n     */\n    static FromConfig(speechConfig, autoDetectSourceLanguageConfig, audioConfig) {\n        const speechConfigImpl = speechConfig;\n        autoDetectSourceLanguageConfig.properties.mergeTo(speechConfigImpl.properties);\n        const recognizer = new ConversationTranscriber(speechConfig, audioConfig);\n        return recognizer;\n    }\n    /**\n     * Gets the endpoint id of a customized speech model that is used for transcription.\n     * @member ConversationTranscriber.prototype.endpointId\n     * @function\n     * @public\n     * @returns {string} the endpoint id of a customized speech model that is used for speech recognition.\n     */\n    get endpointId() {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedRecognizer);\n        return this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_EndpointId, \"00000000-0000-0000-0000-000000000000\");\n    }\n    /**\n     * Gets the authorization token used to communicate with the service.\n     * @member ConversationTranscriber.prototype.authorizationToken\n     * @function\n     * @public\n     * @returns {string} Authorization token.\n     */\n    get authorizationToken() {\n        return this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceAuthorization_Token);\n    }\n    /**\n     * Gets/Sets the authorization token used to communicate with the service.\n     * @member ConversationTranscriber.prototype.authorizationToken\n     * @function\n     * @public\n     * @param {string} token - Authorization token.\n     */\n    set authorizationToken(token) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(token, \"token\");\n        this.properties.setProperty(Exports_js_3.PropertyId.SpeechServiceAuthorization_Token, token);\n    }\n    /**\n     * Gets the spoken language of transcription.\n     * @member ConversationTranscriber.prototype.speechRecognitionLanguage\n     * @function\n     * @public\n     * @returns {string} The spoken language of transcription.\n     */\n    get speechRecognitionLanguage() {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedRecognizer);\n        return this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage);\n    }\n    /**\n     * Gets the output format of transcription.\n     * @member ConversationTranscriber.prototype.outputFormat\n     * @function\n     * @public\n     * @returns {OutputFormat} The output format of transcription.\n     */\n    get outputFormat() {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedRecognizer);\n        if (this.properties.getProperty(Exports_js_1.OutputFormatPropertyName, Exports_js_3.OutputFormat[Exports_js_3.OutputFormat.Simple]) === Exports_js_3.OutputFormat[Exports_js_3.OutputFormat.Simple]) {\n            return Exports_js_3.OutputFormat.Simple;\n        }\n        else {\n            return Exports_js_3.OutputFormat.Detailed;\n        }\n    }\n    /**\n     * The collection of properties and their values defined for this conversation transcriber.\n     * @member ConversationTranscriber.prototype.properties\n     * @function\n     * @public\n     * @returns {PropertyCollection} The collection of properties and their values defined for this SpeechRecognizer.\n     */\n    get properties() {\n        return this.privProperties;\n    }\n    /**\n     * Starts conversation transcription, until stopTranscribingAsync() is called.\n     * User must subscribe to events to receive transcription results.\n     * @member ConversationTranscriber.prototype.startTranscribingAsync\n     * @function\n     * @public\n     * @param cb - Callback invoked once the transcription has started.\n     * @param err - Callback invoked in case of an error.\n     */\n    startTranscribingAsync(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.startContinuousRecognitionAsyncImpl(PhraseDetectionContext_js_1.RecognitionMode.Conversation), cb, err);\n    }\n    /**\n     * Stops conversation transcription.\n     * @member ConversationTranscriber.prototype.stopTranscribingAsync\n     * @function\n     * @public\n     * @param cb - Callback invoked once the transcription has stopped.\n     * @param err - Callback invoked in case of an error.\n     */\n    stopTranscribingAsync(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.stopContinuousRecognitionAsyncImpl(), cb, err);\n    }\n    /**\n     * closes all external resources held by an instance of this class.\n     * @member ConversationTranscriber.prototype.close\n     * @function\n     * @public\n     */\n    close(cb, errorCb) {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedRecognizer);\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.dispose(true), cb, errorCb);\n    }\n    /**\n     * Disposes any resources held by the object.\n     * @member SpeechRecognizer.prototype.dispose\n     * @function\n     * @public\n     * @param {boolean} disposing - true if disposing the object.\n     */\n    async dispose(disposing) {\n        if (this.privDisposedRecognizer) {\n            return;\n        }\n        if (disposing) {\n            this.privDisposedRecognizer = true;\n            await this.implRecognizerStop();\n        }\n        await super.dispose(disposing);\n    }\n    createRecognizerConfig(speechConfig) {\n        return new Exports_js_1.RecognizerConfig(speechConfig, this.privProperties);\n    }\n    createServiceRecognizer(authentication, connectionFactory, audioConfig, recognizerConfig) {\n        const configImpl = audioConfig;\n        recognizerConfig.isSpeakerDiarizationEnabled = true;\n        return new Exports_js_1.ConversationTranscriptionServiceRecognizer(authentication, connectionFactory, configImpl, recognizerConfig, this);\n    }\n}\nexports.ConversationTranscriber = ConversationTranscriber;\n\n//# sourceMappingURL=ConversationTranscriber.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationTranscriptionResult = void 0;\nconst Exports_js_1 = require(\"../Exports.js\");\n/**\n * Defines result of conversation transcription.\n * @class ConversationTranscriptionResult\n */\nclass ConversationTranscriptionResult extends Exports_js_1.RecognitionResult {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @public\n     * @param {string} resultId - The result id.\n     * @param {ResultReason} reason - The reason.\n     * @param {string} text - The recognized text.\n     * @param {number} duration - The duration.\n     * @param {number} offset - The offset into the stream.\n     * @param {string} language - Primary Language detected, if provided.\n     * @param {string} languageDetectionConfidence - Primary Language confidence (\"Unknown,\" \"Low,\" \"Medium,\" \"High\"...), if provided.\n     * @param {string} speakerId - speaker id for conversation transcription.\n     * @param {string} errorDetails - Error details, if provided.\n     * @param {string} json - Additional Json, if provided.\n     * @param {PropertyCollection} properties - Additional properties, if provided.\n     */\n    constructor(resultId, reason, text, duration, offset, language, languageDetectionConfidence, speakerId, errorDetails, json, properties) {\n        super(resultId, reason, text, duration, offset, language, languageDetectionConfidence, errorDetails, json, properties);\n        this.privSpeakerId = speakerId;\n    }\n    /**\n     * speaker id\n     * @member ConversationTranscriptionResult.prototype.speakerId\n     * @function\n     * @public\n     * @returns {string} id of speaker in given result\n     */\n    get speakerId() {\n        return this.privSpeakerId;\n    }\n}\nexports.ConversationTranscriptionResult = ConversationTranscriptionResult;\n\n//# sourceMappingURL=ConversationTranscriptionResult.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n// Multi-device Conversation is a Preview feature.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationTranslationCanceledEventArgs = void 0;\nconst CancellationEventArgsBase_js_1 = require(\"../CancellationEventArgsBase.js\");\nclass ConversationTranslationCanceledEventArgs extends CancellationEventArgsBase_js_1.CancellationEventArgsBase {\n}\nexports.ConversationTranslationCanceledEventArgs = ConversationTranslationCanceledEventArgs;\n\n//# sourceMappingURL=ConversationTranslationCanceledEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n// Multi-device Conversation is a Preview feature.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationTranslationEventArgs = void 0;\nconst Exports_js_1 = require(\"../Exports.js\");\nclass ConversationTranslationEventArgs extends Exports_js_1.RecognitionEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {ConversationTranslationResult} result - The translation recognition result.\n     * @param {number} offset - The offset.\n     * @param {string} sessionId - The session id.\n     */\n    constructor(result, offset, sessionId) {\n        super(offset, sessionId);\n        this.privResult = result;\n    }\n    /**\n     * Specifies the recognition result.\n     * @returns {ConversationTranslationResult} the recognition result.\n     */\n    get result() {\n        return this.privResult;\n    }\n}\nexports.ConversationTranslationEventArgs = ConversationTranslationEventArgs;\n\n//# sourceMappingURL=ConversationTranslationEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n// Multi-device Conversation is a Preview feature.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationTranslationResult = void 0;\nconst TranslationRecognitionResult_js_1 = require(\"../TranslationRecognitionResult.js\");\nclass ConversationTranslationResult extends TranslationRecognitionResult_js_1.TranslationRecognitionResult {\n    constructor(participantId, translations, originalLanguage, resultId, reason, text, duration, offset, errorDetails, json, properties) {\n        super(translations, resultId, reason, text, duration, offset, undefined, undefined, errorDetails, json, properties);\n        this.privId = participantId;\n        this.privOrigLang = originalLanguage;\n    }\n    /**\n     * The unique identifier for the participant this result is for.\n     */\n    get participantId() {\n        return this.privId;\n    }\n    /**\n     * The original language this result was in.\n     */\n    get originalLang() {\n        return this.privOrigLang;\n    }\n}\nexports.ConversationTranslationResult = ConversationTranslationResult;\n\n//# sourceMappingURL=ConversationTranslationResult.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n// Multi-device Conversation is a Preview feature.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationTranslator = exports.SpeechState = void 0;\n/* eslint-disable max-classes-per-file */\nconst Exports_js_1 = require(\"../../common.speech/Exports.js\");\nconst ConversationTranslatorConnectionFactory_js_1 = require(\"../../common.speech/Transcription/ConversationTranslatorConnectionFactory.js\");\nconst Exports_js_2 = require(\"../../common/Exports.js\");\nconst Contracts_js_1 = require(\"../Contracts.js\");\nconst Exports_js_3 = require(\"../Exports.js\");\nconst Conversation_js_1 = require(\"./Conversation.js\");\nconst Exports_js_4 = require(\"./Exports.js\");\nvar SpeechState;\n(function (SpeechState) {\n    SpeechState[SpeechState[\"Inactive\"] = 0] = \"Inactive\";\n    SpeechState[SpeechState[\"Connecting\"] = 1] = \"Connecting\";\n    SpeechState[SpeechState[\"Connected\"] = 2] = \"Connected\";\n})(SpeechState = exports.SpeechState || (exports.SpeechState = {}));\n// child class of TranslationRecognizer meant only for use with ConversationTranslator\nclass ConversationTranslationRecognizer extends Exports_js_3.TranslationRecognizer {\n    constructor(speechConfig, audioConfig, translator, convGetter) {\n        super(speechConfig, audioConfig, new ConversationTranslatorConnectionFactory_js_1.ConversationTranslatorConnectionFactory(convGetter));\n        this.privSpeechState = SpeechState.Inactive;\n        if (!!translator) {\n            this.privTranslator = translator;\n            this.sessionStarted = () => {\n                this.privSpeechState = SpeechState.Connected;\n            };\n            this.sessionStopped = () => {\n                this.privSpeechState = SpeechState.Inactive;\n            };\n            this.recognizing = (tr, e) => {\n                if (!!this.privTranslator.recognizing) {\n                    this.privTranslator.recognizing(this.privTranslator, e);\n                }\n            };\n            // eslint-disable-next-line @typescript-eslint/no-misused-promises\n            this.recognized = async (tr, e) => {\n                // if there is an error connecting to the conversation service from the speech service the error will be returned in the ErrorDetails field.\n                if (e.result?.errorDetails) {\n                    await this.cancelSpeech();\n                    // TODO: format the error message contained in 'errorDetails'\n                    this.fireCancelEvent(e.result.errorDetails);\n                }\n                else {\n                    if (!!this.privTranslator.recognized) {\n                        this.privTranslator.recognized(this.privTranslator, e);\n                    }\n                }\n                return;\n            };\n            // eslint-disable-next-line @typescript-eslint/no-misused-promises\n            this.canceled = async () => {\n                if (this.privSpeechState !== SpeechState.Inactive) {\n                    try {\n                        await this.cancelSpeech();\n                    }\n                    catch (error) {\n                        this.privSpeechState = SpeechState.Inactive;\n                    }\n                }\n            };\n        }\n    }\n    get state() {\n        return this.privSpeechState;\n    }\n    set state(newState) {\n        this.privSpeechState = newState;\n    }\n    set authentication(token) {\n        this.privReco.authentication = token;\n    }\n    onConnection() {\n        this.privSpeechState = SpeechState.Connected;\n    }\n    async onCancelSpeech() {\n        this.privSpeechState = SpeechState.Inactive;\n        await this.cancelSpeech();\n    }\n    /**\n     * Fire a cancel event\n     * @param error\n     */\n    fireCancelEvent(error) {\n        try {\n            if (!!this.privTranslator.canceled) {\n                const cancelEvent = new Exports_js_4.ConversationTranslationCanceledEventArgs(Exports_js_3.CancellationReason.Error, error, Exports_js_3.CancellationErrorCode.RuntimeError);\n                this.privTranslator.canceled(this.privTranslator, cancelEvent);\n            }\n        }\n        catch (e) {\n            //\n        }\n    }\n    async cancelSpeech() {\n        try {\n            this.stopContinuousRecognitionAsync();\n            await this.privReco?.disconnect();\n            this.privSpeechState = SpeechState.Inactive;\n        }\n        catch (e) {\n            // ignore the error\n        }\n    }\n}\n/**\n * Join, leave or connect to a conversation.\n */\nclass ConversationTranslator extends Exports_js_4.ConversationCommon {\n    constructor(audioConfig) {\n        super(audioConfig);\n        this.privErrors = Exports_js_1.ConversationConnectionConfig.restErrors;\n        this.privIsDisposed = false;\n        this.privIsSpeaking = false;\n        this.privPlaceholderKey = \"abcdefghijklmnopqrstuvwxyz012345\";\n        this.privPlaceholderRegion = \"westus\";\n        this.privProperties = new Exports_js_3.PropertyCollection();\n    }\n    get properties() {\n        return this.privProperties;\n    }\n    get speechRecognitionLanguage() {\n        return this.privSpeechRecognitionLanguage;\n    }\n    get participants() {\n        return this.privConversation?.participants;\n    }\n    get canSpeak() {\n        // is there a Conversation websocket available and has the Recognizer been set up\n        if (!this.privConversation.isConnected || !this.privCTRecognizer) {\n            return false;\n        }\n        // is the user already speaking\n        if (this.privIsSpeaking || this.privCTRecognizer.state === SpeechState.Connected || this.privCTRecognizer.state === SpeechState.Connecting) {\n            return false;\n        }\n        // is the user muted\n        if (this.privConversation.isMutedByHost) {\n            return false;\n        }\n        return true;\n    }\n    onToken(token) {\n        this.privCTRecognizer.authentication = token;\n    }\n    setServiceProperty(name, value) {\n        const currentProperties = JSON.parse(this.privProperties.getProperty(Exports_js_1.ServicePropertiesPropertyName, \"{}\"));\n        currentProperties[name] = value;\n        this.privProperties.setProperty(Exports_js_1.ServicePropertiesPropertyName, JSON.stringify(currentProperties));\n    }\n    joinConversationAsync(conversation, nickname, param1, param2, param3) {\n        try {\n            if (typeof conversation === \"string\") {\n                Contracts_js_1.Contracts.throwIfNullOrUndefined(conversation, this.privErrors.invalidArgs.replace(\"{arg}\", \"conversation id\"));\n                Contracts_js_1.Contracts.throwIfNullOrWhitespace(nickname, this.privErrors.invalidArgs.replace(\"{arg}\", \"nickname\"));\n                if (!!this.privConversation) {\n                    this.handleError(new Error(this.privErrors.permissionDeniedStart), param3);\n                }\n                let lang = param1;\n                if (lang === undefined || lang === null || lang === \"\") {\n                    lang = Exports_js_1.ConversationConnectionConfig.defaultLanguageCode;\n                }\n                // create a placeholder config\n                this.privSpeechTranslationConfig = Exports_js_3.SpeechTranslationConfig.fromSubscription(this.privPlaceholderKey, this.privPlaceholderRegion);\n                this.privSpeechTranslationConfig.setProfanity(Exports_js_3.ProfanityOption.Masked);\n                this.privSpeechTranslationConfig.addTargetLanguage(lang);\n                this.privSpeechTranslationConfig.setProperty(Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage], lang);\n                this.privSpeechTranslationConfig.setProperty(Exports_js_3.PropertyId[Exports_js_3.PropertyId.ConversationTranslator_Name], nickname);\n                const propertyIdsToCopy = [\n                    Exports_js_3.PropertyId.SpeechServiceConnection_Host,\n                    Exports_js_3.PropertyId.ConversationTranslator_Host,\n                    Exports_js_3.PropertyId.SpeechServiceConnection_Endpoint,\n                    Exports_js_3.PropertyId.SpeechServiceConnection_ProxyHostName,\n                    Exports_js_3.PropertyId.SpeechServiceConnection_ProxyPassword,\n                    Exports_js_3.PropertyId.SpeechServiceConnection_ProxyPort,\n                    Exports_js_3.PropertyId.SpeechServiceConnection_ProxyUserName,\n                    \"ConversationTranslator_MultiChannelAudio\",\n                    \"ConversationTranslator_Region\"\n                ];\n                for (const prop of propertyIdsToCopy) {\n                    const value = this.privProperties.getProperty(prop);\n                    if (value) {\n                        const key = typeof prop === \"string\" ? prop : Exports_js_3.PropertyId[prop];\n                        this.privSpeechTranslationConfig.setProperty(key, value);\n                    }\n                }\n                const currentProperties = JSON.parse(this.privProperties.getProperty(Exports_js_1.ServicePropertiesPropertyName, \"{}\"));\n                for (const prop of Object.keys(currentProperties)) {\n                    this.privSpeechTranslationConfig.setServiceProperty(prop, currentProperties[prop], Exports_js_3.ServicePropertyChannel.UriQueryParameter);\n                }\n                // join the conversation\n                this.privConversation = new Conversation_js_1.ConversationImpl(this.privSpeechTranslationConfig);\n                this.privConversation.conversationTranslator = this;\n                this.privConversation.joinConversationAsync(conversation, nickname, lang, ((result) => {\n                    if (!result) {\n                        this.handleError(new Error(this.privErrors.permissionDeniedConnect), param3);\n                    }\n                    this.privSpeechTranslationConfig.authorizationToken = result;\n                    this.privConversation.room.isHost = false;\n                    // connect to the ws\n                    this.privConversation.startConversationAsync((() => {\n                        this.handleCallback(param2, param3);\n                    }), ((error) => {\n                        this.handleError(error, param3);\n                    }));\n                }), ((error) => {\n                    this.handleError(error, param3);\n                }));\n            }\n            else if (typeof conversation === \"object\") {\n                Contracts_js_1.Contracts.throwIfNullOrUndefined(conversation, this.privErrors.invalidArgs.replace(\"{arg}\", \"conversation id\"));\n                Contracts_js_1.Contracts.throwIfNullOrWhitespace(nickname, this.privErrors.invalidArgs.replace(\"{arg}\", \"nickname\"));\n                // save the nickname\n                this.privProperties.setProperty(Exports_js_3.PropertyId.ConversationTranslator_Name, nickname);\n                // ref the conversation object\n                this.privConversation = conversation;\n                // ref the conversation translator object\n                this.privConversation.conversationTranslator = this;\n                this.privConversation.room.isHost = true;\n                Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privConversation, this.privErrors.permissionDeniedConnect);\n                Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privConversation.room.token, this.privErrors.permissionDeniedConnect);\n                this.privSpeechTranslationConfig = conversation.config;\n                this.handleCallback(param1, param2);\n            }\n            else {\n                this.handleError(new Error(this.privErrors.invalidArgs.replace(\"{arg}\", \"invalid conversation type\")), param2);\n            }\n        }\n        catch (error) {\n            this.handleError(error, typeof param1 === \"string\" ? param3 : param2);\n        }\n    }\n    /**\n     * Leave the conversation\n     * @param cb\n     * @param err\n     */\n    leaveConversationAsync(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)((async () => {\n            // stop the speech websocket\n            await this.cancelSpeech();\n            // stop the websocket\n            await this.privConversation.endConversationImplAsync();\n            // https delete request\n            await this.privConversation.deleteConversationImplAsync();\n            this.dispose();\n        })(), cb, err);\n    }\n    /**\n     * Send a text message\n     * @param message\n     * @param cb\n     * @param err\n     */\n    sendTextMessageAsync(message, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privConversation, this.privErrors.permissionDeniedSend);\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(message, this.privErrors.invalidArgs.replace(\"{arg}\", message));\n            this.privConversation.sendTextMessageAsync(message, cb, err);\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Start speaking\n     * @param cb\n     * @param err\n     */\n    startTranscribingAsync(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)((async () => {\n            try {\n                Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privConversation, this.privErrors.permissionDeniedSend);\n                Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privConversation.room.token, this.privErrors.permissionDeniedConnect);\n                if (this.privCTRecognizer === undefined) {\n                    await this.connectTranslatorRecognizer();\n                }\n                Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privCTRecognizer, this.privErrors.permissionDeniedSend);\n                if (!this.canSpeak) {\n                    this.handleError(new Error(this.privErrors.permissionDeniedSend), err);\n                }\n                await this.startContinuousRecognition();\n                this.privIsSpeaking = true;\n            }\n            catch (error) {\n                this.privIsSpeaking = false;\n                await this.cancelSpeech();\n                throw error;\n            }\n        })(), cb, err);\n    }\n    /**\n     * Stop speaking\n     * @param cb\n     * @param err\n     */\n    stopTranscribingAsync(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)((async () => {\n            try {\n                if (!this.privIsSpeaking) {\n                    // stop speech\n                    await this.cancelSpeech();\n                    return;\n                }\n                // stop the recognition but leave the websocket open\n                this.privIsSpeaking = false;\n                await new Promise((resolve, reject) => {\n                    this.privCTRecognizer.stopContinuousRecognitionAsync(resolve, reject);\n                });\n            }\n            catch (error) {\n                await this.cancelSpeech();\n            }\n        })(), cb, err);\n    }\n    isDisposed() {\n        return this.privIsDisposed;\n    }\n    dispose(reason, success, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)((async () => {\n            if (this.isDisposed && !this.privIsSpeaking) {\n                return;\n            }\n            await this.cancelSpeech();\n            this.privIsDisposed = true;\n            this.privSpeechTranslationConfig.close();\n            this.privSpeechRecognitionLanguage = undefined;\n            this.privProperties = undefined;\n            this.privAudioConfig = undefined;\n            this.privSpeechTranslationConfig = undefined;\n            this.privConversation.dispose();\n            this.privConversation = undefined;\n        })(), success, err);\n    }\n    /**\n     * Cancel the speech websocket\n     */\n    async cancelSpeech() {\n        try {\n            this.privIsSpeaking = false;\n            await this.privCTRecognizer?.onCancelSpeech();\n            this.privCTRecognizer = undefined;\n        }\n        catch (e) {\n            // ignore the error\n        }\n    }\n    /**\n     * Connect to the speech translation recognizer.\n     * Currently there is no language validation performed before sending the SpeechLanguage code to the service.\n     * If it's an invalid language the raw error will be: 'Error during WebSocket handshake: Unexpected response code: 400'\n     * e.g. pass in 'fr' instead of 'fr-FR', or a text-only language 'cy'\n     */\n    async connectTranslatorRecognizer() {\n        try {\n            if (this.privAudioConfig === undefined) {\n                this.privAudioConfig = Exports_js_3.AudioConfig.fromDefaultMicrophoneInput();\n            }\n            // clear the temp subscription key if it's a participant joining\n            if (this.privSpeechTranslationConfig.getProperty(Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceConnection_Key])\n                === this.privPlaceholderKey) {\n                this.privSpeechTranslationConfig.setProperty(Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceConnection_Key], \"\");\n            }\n            const convGetter = () => this.privConversation;\n            this.privCTRecognizer = new ConversationTranslationRecognizer(this.privSpeechTranslationConfig, this.privAudioConfig, this, convGetter);\n        }\n        catch (error) {\n            await this.cancelSpeech();\n            throw error;\n        }\n    }\n    /**\n     * Handle the start speaking request\n     */\n    startContinuousRecognition() {\n        return new Promise((resolve, reject) => {\n            this.privCTRecognizer.startContinuousRecognitionAsync(resolve, reject);\n        });\n    }\n}\nexports.ConversationTranslator = ConversationTranslator;\n\n//# sourceMappingURL=ConversationTranslator.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n// Multi-device Conversation is a Preview feature.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationTranscriptionResult = exports.MeetingTranscriber = exports.MeetingTranscriptionCanceledEventArgs = exports.MeetingImpl = exports.Meeting = exports.ParticipantChangedReason = exports.User = exports.Participant = exports.ConversationTranscriber = exports.ConversationTranslator = exports.ConversationTranslationResult = exports.ConversationTranslationEventArgs = exports.ConversationTranslationCanceledEventArgs = exports.ConversationParticipantsChangedEventArgs = exports.ConversationExpirationEventArgs = exports.ConversationCommon = exports.ConversationImpl = exports.Conversation = void 0;\nvar Conversation_js_1 = require(\"./Conversation.js\");\nObject.defineProperty(exports, \"Conversation\", { enumerable: true, get: function () { return Conversation_js_1.Conversation; } });\nObject.defineProperty(exports, \"ConversationImpl\", { enumerable: true, get: function () { return Conversation_js_1.ConversationImpl; } });\nvar ConversationCommon_js_1 = require(\"./ConversationCommon.js\");\nObject.defineProperty(exports, \"ConversationCommon\", { enumerable: true, get: function () { return ConversationCommon_js_1.ConversationCommon; } });\nvar ConversationExpirationEventArgs_js_1 = require(\"./ConversationExpirationEventArgs.js\");\nObject.defineProperty(exports, \"ConversationExpirationEventArgs\", { enumerable: true, get: function () { return ConversationExpirationEventArgs_js_1.ConversationExpirationEventArgs; } });\nvar ConversationParticipantsChangedEventArgs_js_1 = require(\"./ConversationParticipantsChangedEventArgs.js\");\nObject.defineProperty(exports, \"ConversationParticipantsChangedEventArgs\", { enumerable: true, get: function () { return ConversationParticipantsChangedEventArgs_js_1.ConversationParticipantsChangedEventArgs; } });\nvar ConversationTranslationCanceledEventArgs_js_1 = require(\"./ConversationTranslationCanceledEventArgs.js\");\nObject.defineProperty(exports, \"ConversationTranslationCanceledEventArgs\", { enumerable: true, get: function () { return ConversationTranslationCanceledEventArgs_js_1.ConversationTranslationCanceledEventArgs; } });\nvar ConversationTranslationEventArgs_js_1 = require(\"./ConversationTranslationEventArgs.js\");\nObject.defineProperty(exports, \"ConversationTranslationEventArgs\", { enumerable: true, get: function () { return ConversationTranslationEventArgs_js_1.ConversationTranslationEventArgs; } });\nvar ConversationTranslationResult_js_1 = require(\"./ConversationTranslationResult.js\");\nObject.defineProperty(exports, \"ConversationTranslationResult\", { enumerable: true, get: function () { return ConversationTranslationResult_js_1.ConversationTranslationResult; } });\nvar ConversationTranslator_js_1 = require(\"./ConversationTranslator.js\");\nObject.defineProperty(exports, \"ConversationTranslator\", { enumerable: true, get: function () { return ConversationTranslator_js_1.ConversationTranslator; } });\nvar ConversationTranscriber_js_1 = require(\"./ConversationTranscriber.js\");\nObject.defineProperty(exports, \"ConversationTranscriber\", { enumerable: true, get: function () { return ConversationTranscriber_js_1.ConversationTranscriber; } });\nvar IParticipant_js_1 = require(\"./IParticipant.js\");\nObject.defineProperty(exports, \"Participant\", { enumerable: true, get: function () { return IParticipant_js_1.Participant; } });\nObject.defineProperty(exports, \"User\", { enumerable: true, get: function () { return IParticipant_js_1.User; } });\nvar ParticipantChangedReason_js_1 = require(\"./ParticipantChangedReason.js\");\nObject.defineProperty(exports, \"ParticipantChangedReason\", { enumerable: true, get: function () { return ParticipantChangedReason_js_1.ParticipantChangedReason; } });\nvar Meeting_js_1 = require(\"./Meeting.js\");\nObject.defineProperty(exports, \"Meeting\", { enumerable: true, get: function () { return Meeting_js_1.Meeting; } });\nObject.defineProperty(exports, \"MeetingImpl\", { enumerable: true, get: function () { return Meeting_js_1.MeetingImpl; } });\nvar MeetingTranscriptionCanceledEventArgs_js_1 = require(\"./MeetingTranscriptionCanceledEventArgs.js\");\nObject.defineProperty(exports, \"MeetingTranscriptionCanceledEventArgs\", { enumerable: true, get: function () { return MeetingTranscriptionCanceledEventArgs_js_1.MeetingTranscriptionCanceledEventArgs; } });\nvar MeetingTranscriber_js_1 = require(\"./MeetingTranscriber.js\");\nObject.defineProperty(exports, \"MeetingTranscriber\", { enumerable: true, get: function () { return MeetingTranscriber_js_1.MeetingTranscriber; } });\nvar ConversationTranscriptionResult_js_1 = require(\"./ConversationTranscriptionResult.js\");\nObject.defineProperty(exports, \"ConversationTranscriptionResult\", { enumerable: true, get: function () { return ConversationTranscriptionResult_js_1.ConversationTranscriptionResult; } });\n\n//# sourceMappingURL=Exports.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n// Multi-device Conversation is a Preview feature.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Participant = exports.User = void 0;\n/* eslint-disable max-classes-per-file */\nconst Exports_js_1 = require(\"../Exports.js\");\nclass User {\n    constructor(userId) {\n        this.privUserId = userId;\n    }\n    get userId() {\n        return this.privUserId;\n    }\n}\nexports.User = User;\nclass Participant {\n    constructor(id, avatar, displayName, isHost, isMuted, isUsingTts, preferredLanguage, voice) {\n        this.privId = id;\n        this.privAvatar = avatar;\n        this.privDisplayName = displayName;\n        this.privIsHost = isHost;\n        this.privIsMuted = isMuted;\n        this.privIsUsingTts = isUsingTts;\n        this.privPreferredLanguage = preferredLanguage;\n        this.privVoice = voice;\n        this.privProperties = new Exports_js_1.PropertyCollection();\n    }\n    get avatar() {\n        return this.privAvatar;\n    }\n    get displayName() {\n        return this.privDisplayName;\n    }\n    get id() {\n        return this.privId;\n    }\n    get preferredLanguage() {\n        return this.privPreferredLanguage;\n    }\n    get isHost() {\n        return this.privIsHost;\n    }\n    get isMuted() {\n        return this.privIsMuted;\n    }\n    get isUsingTts() {\n        return this.privIsUsingTts;\n    }\n    get voice() {\n        return this.privVoice;\n    }\n    get properties() {\n        return this.privProperties;\n    }\n    static From(id, language, voice) {\n        return new Participant(id, \"\", id, false, false, false, language, voice);\n    }\n}\nexports.Participant = Participant;\n\n//# sourceMappingURL=IParticipant.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n// Multi-device Conversation is a Preview feature.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MeetingImpl = exports.Meeting = void 0;\n/* eslint-disable max-classes-per-file */\nconst Exports_js_1 = require(\"../../common.speech/Exports.js\");\nconst Exports_js_2 = require(\"../../common/Exports.js\");\nconst Contracts_js_1 = require(\"../Contracts.js\");\nconst Exports_js_3 = require(\"../Exports.js\");\nclass Meeting {\n    constructor() {\n        return;\n    }\n    /**\n     * Create a meeting\n     * @param speechConfig\n     * @param meetingId\n     * @param cb\n     * @param err\n     */\n    static createMeetingAsync(speechConfig, meetingId, arg3, arg4) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(speechConfig, Exports_js_1.ConversationConnectionConfig.restErrors.invalidArgs.replace(\"{arg}\", \"config\"));\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(speechConfig.region, Exports_js_1.ConversationConnectionConfig.restErrors.invalidArgs.replace(\"{arg}\", \"SpeechServiceConnection_Region\"));\n        Contracts_js_1.Contracts.throwIfNull(meetingId, \"meetingId\");\n        if (meetingId.length === 0) {\n            throw new Error(\"meetingId cannot be empty\");\n        }\n        if (!speechConfig.subscriptionKey && !speechConfig.getProperty(Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceAuthorization_Token])) {\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(speechConfig.subscriptionKey, Exports_js_1.ConversationConnectionConfig.restErrors.invalidArgs.replace(\"{arg}\", \"SpeechServiceConnection_Key\"));\n        }\n        const meetingImpl = new MeetingImpl(speechConfig, meetingId);\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        (0, Exports_js_2.marshalPromiseToCallbacks)((async () => { })(), arg3, arg4);\n        return meetingImpl;\n    }\n}\nexports.Meeting = Meeting;\nclass MeetingImpl extends Meeting {\n    /**\n     * Create a Meeting impl\n     * @param speechConfig\n     * @param {string} id - optional conversationId\n     */\n    constructor(speechConfig, id) {\n        super();\n        this.privErrors = Exports_js_1.ConversationConnectionConfig.restErrors;\n        /** websocket callbacks */\n        /* eslint-disable @typescript-eslint/typedef */\n        this.onConnected = (e) => {\n            this.privIsConnected = true;\n            try {\n                if (!!this.privConversationTranslator?.sessionStarted) {\n                    this.privConversationTranslator.sessionStarted(this.privConversationTranslator, e);\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onDisconnected = (e) => {\n            try {\n                if (!!this.privConversationTranslator?.sessionStopped) {\n                    this.privConversationTranslator.sessionStopped(this.privConversationTranslator, e);\n                }\n            }\n            catch (e) {\n                //\n            }\n            finally {\n                void this.close(false);\n            }\n        };\n        this.onCanceled = (r, e) => {\n            try {\n                if (!!this.privConversationTranslator?.canceled) {\n                    this.privConversationTranslator.canceled(this.privConversationTranslator, e);\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onParticipantUpdateCommandReceived = (r, e) => {\n            try {\n                const updatedParticipant = this.privParticipants.getParticipant(e.id);\n                if (updatedParticipant !== undefined) {\n                    switch (e.key) {\n                        case Exports_js_1.ConversationTranslatorCommandTypes.changeNickname:\n                            updatedParticipant.displayName = e.value;\n                            break;\n                        case Exports_js_1.ConversationTranslatorCommandTypes.setUseTTS:\n                            updatedParticipant.isUsingTts = e.value;\n                            break;\n                        case Exports_js_1.ConversationTranslatorCommandTypes.setProfanityFiltering:\n                            updatedParticipant.profanity = e.value;\n                            break;\n                        case Exports_js_1.ConversationTranslatorCommandTypes.setMute:\n                            updatedParticipant.isMuted = e.value;\n                            break;\n                        case Exports_js_1.ConversationTranslatorCommandTypes.setTranslateToLanguages:\n                            updatedParticipant.translateToLanguages = e.value;\n                            break;\n                    }\n                    this.privParticipants.addOrUpdateParticipant(updatedParticipant);\n                    if (!!this.privConversationTranslator) {\n                        this.privConversationTranslator.participantsChanged(this.privConversationTranslator, new Exports_js_3.ConversationParticipantsChangedEventArgs(Exports_js_3.ParticipantChangedReason.Updated, [this.toParticipant(updatedParticipant)], e.sessionId));\n                    }\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onLockRoomCommandReceived = () => {\n            // TODO\n        };\n        this.onMuteAllCommandReceived = (r, e) => {\n            try {\n                this.privParticipants.participants.forEach((p) => p.isMuted = (p.isHost ? false : e.isMuted));\n                if (!!this.privConversationTranslator) {\n                    this.privConversationTranslator.participantsChanged(this.privConversationTranslator, new Exports_js_3.ConversationParticipantsChangedEventArgs(Exports_js_3.ParticipantChangedReason.Updated, this.toParticipants(false), e.sessionId));\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onParticipantJoinCommandReceived = (r, e) => {\n            try {\n                const newParticipant = this.privParticipants.addOrUpdateParticipant(e.participant);\n                if (newParticipant !== undefined) {\n                    if (!!this.privConversationTranslator) {\n                        this.privConversationTranslator.participantsChanged(this.privConversationTranslator, new Exports_js_3.ConversationParticipantsChangedEventArgs(Exports_js_3.ParticipantChangedReason.JoinedConversation, [this.toParticipant(newParticipant)], e.sessionId));\n                    }\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onParticipantLeaveCommandReceived = (r, e) => {\n            try {\n                const ejectedParticipant = this.privParticipants.getParticipant(e.participant.id);\n                if (ejectedParticipant !== undefined) {\n                    // remove the participant from the internal participants list\n                    this.privParticipants.deleteParticipant(e.participant.id);\n                    if (!!this.privConversationTranslator) {\n                        // notify subscribers that the participant has left the conversation\n                        this.privConversationTranslator.participantsChanged(this.privConversationTranslator, new Exports_js_3.ConversationParticipantsChangedEventArgs(Exports_js_3.ParticipantChangedReason.LeftConversation, [this.toParticipant(ejectedParticipant)], e.sessionId));\n                    }\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onTranslationReceived = (r, e) => {\n            try {\n                switch (e.command) {\n                    case Exports_js_1.ConversationTranslatorMessageTypes.final:\n                        if (!!this.privConversationTranslator) {\n                            this.privConversationTranslator.transcribed(this.privConversationTranslator, new Exports_js_3.ConversationTranslationEventArgs(e.payload, undefined, e.sessionId));\n                        }\n                        break;\n                    case Exports_js_1.ConversationTranslatorMessageTypes.partial:\n                        if (!!this.privConversationTranslator) {\n                            this.privConversationTranslator.transcribing(this.privConversationTranslator, new Exports_js_3.ConversationTranslationEventArgs(e.payload, undefined, e.sessionId));\n                        }\n                        break;\n                    case Exports_js_1.ConversationTranslatorMessageTypes.instantMessage:\n                        if (!!this.privConversationTranslator) {\n                            this.privConversationTranslator.textMessageReceived(this.privConversationTranslator, new Exports_js_3.ConversationTranslationEventArgs(e.payload, undefined, e.sessionId));\n                        }\n                        break;\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onParticipantsListReceived = (r, e) => {\n            try {\n                // check if the session token needs to be updated\n                if (e.sessionToken !== undefined && e.sessionToken !== null) {\n                    this.privRoom.token = e.sessionToken;\n                }\n                // save the participants\n                this.privParticipants.participants = [...e.participants];\n                // enable the conversation\n                if (this.privParticipants.me !== undefined) {\n                    this.privIsReady = true;\n                }\n                if (!!this.privConversationTranslator) {\n                    this.privConversationTranslator.participantsChanged(this.privConversationTranslator, new Exports_js_3.ConversationParticipantsChangedEventArgs(Exports_js_3.ParticipantChangedReason.JoinedConversation, this.toParticipants(true), e.sessionId));\n                }\n                // if this is the host, update the nickname if needed\n                if (this.me.isHost) {\n                    const nickname = this.privConversationTranslator?.properties.getProperty(Exports_js_3.PropertyId.ConversationTranslator_Name);\n                    if (nickname !== undefined && nickname.length > 0 && nickname !== this.me.displayName) {\n                        // issue a change nickname request\n                        this.changeNicknameAsync(nickname);\n                    }\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.onConversationExpiration = (r, e) => {\n            try {\n                if (!!this.privConversationTranslator) {\n                    this.privConversationTranslator.conversationExpiration(this.privConversationTranslator, e);\n                }\n            }\n            catch (e) {\n                //\n            }\n        };\n        this.privIsConnected = false;\n        this.privIsDisposed = false;\n        this.privConversationId = \"\";\n        this.privProperties = new Exports_js_3.PropertyCollection();\n        this.privManager = new Exports_js_1.ConversationManager();\n        // check the speech language\n        const language = speechConfig.getProperty(Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage]);\n        if (!language) {\n            speechConfig.setProperty(Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage], Exports_js_1.ConversationConnectionConfig.defaultLanguageCode);\n        }\n        this.privLanguage = speechConfig.getProperty(Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage]);\n        this.privConversationId = id;\n        // save the speech config for future usage\n        this.privConfig = speechConfig;\n        // save the config properties\n        const configImpl = speechConfig;\n        Contracts_js_1.Contracts.throwIfNull(configImpl, \"speechConfig\");\n        this.privProperties = configImpl.properties.clone();\n        this.privIsConnected = false;\n        this.privParticipants = new Exports_js_1.InternalParticipants();\n        this.privIsReady = false;\n        this.privTextMessageMaxLength = 1000;\n    }\n    // get the internal data about a conversation\n    get room() {\n        return this.privRoom;\n    }\n    // get the wrapper for connecting to the websockets\n    get connection() {\n        return this.privConversationRecognizer; // this.privConnection;\n    }\n    // get the config\n    get config() {\n        return this.privConfig;\n    }\n    // get the meeting Id\n    get meetingId() {\n        return this.privRoom ? this.privRoom.roomId : this.privConversationId;\n    }\n    // get the properties\n    get properties() {\n        return this.privProperties;\n    }\n    // get the speech language\n    get speechRecognitionLanguage() {\n        return this.privLanguage;\n    }\n    get isMutedByHost() {\n        return this.privParticipants.me?.isHost ? false : this.privParticipants.me?.isMuted;\n    }\n    get isConnected() {\n        return this.privIsConnected && this.privIsReady;\n    }\n    get participants() {\n        return this.toParticipants(true);\n    }\n    get me() {\n        return this.toParticipant(this.privParticipants.me);\n    }\n    get host() {\n        return this.toParticipant(this.privParticipants.host);\n    }\n    get transcriberRecognizer() {\n        return this.privTranscriberRecognizer;\n    }\n    get meetingInfo() {\n        const convId = this.meetingId;\n        const p = this.participants.map((part) => ({\n            id: part.id,\n            preferredLanguage: part.preferredLanguage,\n            voice: part.voice\n        }));\n        const props = {};\n        for (const key of Exports_js_1.ConversationConnectionConfig.transcriptionEventKeys) {\n            const val = this.properties.getProperty(key, \"\");\n            if (val !== \"\") {\n                props[key] = val;\n            }\n        }\n        const info = { id: convId, participants: p, meetingProperties: props };\n        return info;\n    }\n    get canSend() {\n        return this.privIsConnected && !this.privParticipants.me?.isMuted;\n    }\n    get canSendAsHost() {\n        return this.privIsConnected && this.privParticipants.me?.isHost;\n    }\n    // get / set the speech auth token\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    get authorizationToken() {\n        return this.privToken;\n    }\n    set authorizationToken(value) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(value, \"authorizationToken\");\n        this.privToken = value;\n    }\n    /**\n     * Create a new meeting as Host\n     * @param cb\n     * @param err\n     */\n    createMeetingAsync(cb, err) {\n        try {\n            if (!!this.privConversationRecognizer) {\n                this.handleError(new Error(this.privErrors.permissionDeniedStart), err);\n            }\n            this.privManager.createOrJoin(this.privProperties, undefined, ((room) => {\n                if (!room) {\n                    this.handleError(new Error(this.privErrors.permissionDeniedConnect), err);\n                }\n                this.privRoom = room;\n                this.handleCallback(cb, err);\n            }), ((error) => {\n                this.handleError(error, err);\n            }));\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Starts a new meeting as host.\n     * @param cb\n     * @param err\n     */\n    startMeetingAsync(cb, err) {\n        try {\n            // check if there is already a recognizer\n            if (!!this.privConversationRecognizer) {\n                this.handleError(new Error(this.privErrors.permissionDeniedStart), err);\n            }\n            // check if there is conversation data available\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedConnect);\n            // connect to the conversation websocket\n            this.privParticipants.meId = this.privRoom.participantId;\n            // Because ConversationTranslator manually sets up and manages the connection, Conversation\n            // has to forward serviceRecognizer connection events that usually get passed automatically\n            this.privConversationRecognizer.connected = this.onConnected;\n            this.privConversationRecognizer.disconnected = this.onDisconnected;\n            this.privConversationRecognizer.canceled = this.onCanceled;\n            this.privConversationRecognizer.participantUpdateCommandReceived = this.onParticipantUpdateCommandReceived;\n            this.privConversationRecognizer.lockRoomCommandReceived = this.onLockRoomCommandReceived;\n            this.privConversationRecognizer.muteAllCommandReceived = this.onMuteAllCommandReceived;\n            this.privConversationRecognizer.participantJoinCommandReceived = this.onParticipantJoinCommandReceived;\n            this.privConversationRecognizer.participantLeaveCommandReceived = this.onParticipantLeaveCommandReceived;\n            this.privConversationRecognizer.translationReceived = this.onTranslationReceived;\n            this.privConversationRecognizer.participantsListReceived = this.onParticipantsListReceived;\n            this.privConversationRecognizer.conversationExpiration = this.onConversationExpiration;\n            this.privConversationRecognizer.connect(this.privRoom.token, (() => {\n                this.handleCallback(cb, err);\n            }), ((error) => {\n                this.handleError(error, err);\n            }));\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Join a meeting as a participant.\n     * @param { IParticipant } participant - participant to add\n     * @param cb\n     * @param err\n     */\n    addParticipantAsync(participant, cb, err) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(participant, \"Participant\");\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.addParticipantImplAsync(participant), cb, err);\n    }\n    /**\n     * Join a meeting as a participant.\n     * @param meeting\n     * @param nickname\n     * @param lang\n     * @param cb\n     * @param err\n     */\n    joinMeetingAsync(meetingId, nickname, lang, cb, err) {\n        try {\n            // TODO\n            // if (!!this.privConversationRecognizer) {\n            //     throw new Error(this.privErrors.permissionDeniedStart);\n            // }\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(meetingId, this.privErrors.invalidArgs.replace(\"{arg}\", \"conversationId\"));\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(nickname, this.privErrors.invalidArgs.replace(\"{arg}\", \"nickname\"));\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(lang, this.privErrors.invalidArgs.replace(\"{arg}\", \"language\"));\n            // join the conversation\n            this.privManager.createOrJoin(this.privProperties, meetingId, ((room) => {\n                Contracts_js_1.Contracts.throwIfNullOrUndefined(room, this.privErrors.permissionDeniedConnect);\n                this.privRoom = room;\n                this.privConfig.authorizationToken = room.cognitiveSpeechAuthToken;\n                // join callback\n                if (!!cb) {\n                    cb(room.cognitiveSpeechAuthToken);\n                }\n            }), ((error) => {\n                this.handleError(error, err);\n            }));\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Deletes a meeting\n     * @param cb\n     * @param err\n     */\n    deleteMeetingAsync(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.deleteMeetingImplAsync(), cb, err);\n    }\n    async deleteMeetingImplAsync() {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privProperties, this.privErrors.permissionDeniedConnect);\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.token, this.privErrors.permissionDeniedConnect);\n        await this.privManager.leave(this.privProperties, this.privRoom.token);\n        this.dispose();\n    }\n    /**\n     * Issues a request to close the client websockets\n     * @param cb\n     * @param err\n     */\n    endMeetingAsync(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.endMeetingImplAsync(), cb, err);\n    }\n    endMeetingImplAsync() {\n        return this.close(true);\n    }\n    /**\n     * Issues a request to lock the conversation\n     * @param cb\n     * @param err\n     */\n    lockMeetingAsync(cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            if (!this.canSendAsHost) {\n                this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace(\"{command}\", \"lock\")), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getLockCommand(true), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Issues a request to mute the meeting\n     * @param cb\n     * @param err\n     */\n    muteAllParticipantsAsync(cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer, this.privErrors.permissionDeniedSend);\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            // check the user's permissions\n            if (!this.canSendAsHost) {\n                this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace(\"{command}\", \"mute\")), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(true), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Issues a request to mute a participant in the meeting\n     * @param userId\n     * @param cb\n     * @param err\n     */\n    muteParticipantAsync(userId, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(userId, this.privErrors.invalidArgs.replace(\"{arg}\", \"userId\"));\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            // check the connection is open (host + participant can perform the mute command)\n            if (!this.canSend) {\n                this.handleError(new Error(this.privErrors.permissionDeniedSend), err);\n            }\n            // if not host, check the participant is not muting another participant\n            if (!this.me.isHost && this.me.id !== userId) {\n                this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace(\"{command}\", \"mute\")), err);\n            }\n            // check the user exists\n            const exists = this.privParticipants.getParticipantIndex(userId);\n            if (exists === -1) {\n                this.handleError(new Error(this.privErrors.invalidParticipantRequest), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getMuteCommand(userId, true), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Issues a request to remove a participant from the conversation\n     * @param userId\n     * @param cb\n     * @param err\n     */\n    removeParticipantAsync(userId, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            if (!!this.privTranscriberRecognizer && userId.hasOwnProperty(\"id\")) {\n                // Assume this is a transcription participant\n                (0, Exports_js_2.marshalPromiseToCallbacks)(this.removeParticipantImplAsync(userId), cb, err);\n            }\n            else {\n                Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n                Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n                if (!this.canSendAsHost) {\n                    this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace(\"{command}\", \"remove\")), err);\n                }\n                let participantId = \"\";\n                if (typeof userId === \"string\") {\n                    participantId = userId;\n                }\n                else if (userId.hasOwnProperty(\"id\")) {\n                    const participant = userId;\n                    participantId = participant.id;\n                }\n                else if (userId.hasOwnProperty(\"userId\")) {\n                    const user = userId;\n                    participantId = user.userId;\n                }\n                Contracts_js_1.Contracts.throwIfNullOrWhitespace(participantId, this.privErrors.invalidArgs.replace(\"{arg}\", \"userId\"));\n                // check the participant exists\n                const index = this.participants.findIndex((p) => p.id === participantId);\n                if (index === -1) {\n                    this.handleError(new Error(this.privErrors.invalidParticipantRequest), err);\n                }\n                if (!!this.privConversationRecognizer) {\n                    this.privConversationRecognizer.sendRequest(this.getEjectCommand(participantId), (() => {\n                        this.handleCallback(cb, err);\n                    }), ((error) => {\n                        this.handleError(error, err);\n                    }));\n                }\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Issues a request to unlock the meeting\n     * @param cb\n     * @param err\n     */\n    unlockMeetingAsync(cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            if (!this.canSendAsHost) {\n                this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace(\"{command}\", \"unlock\")), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getLockCommand(false), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Issues a request to unmute all participants in the meeting\n     * @param cb\n     * @param err\n     */\n    unmuteAllParticipantsAsync(cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            if (!this.canSendAsHost) {\n                this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace(\"{command}\", \"unmute all\")), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(false), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Issues a request to unmute a participant in the meeting\n     * @param userId\n     * @param cb\n     * @param err\n     */\n    unmuteParticipantAsync(userId, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(userId, this.privErrors.invalidArgs.replace(\"{arg}\", \"userId\"));\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            // check the connection is open (host + participant can perform the mute command)\n            if (!this.canSend) {\n                this.handleError(new Error(this.privErrors.permissionDeniedSend), err);\n            }\n            // if not host, check the participant is not muting another participant\n            if (!this.me.isHost && this.me.id !== userId) {\n                this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace(\"{command}\", \"mute\")), err);\n            }\n            // check the user exists\n            const exists = this.privParticipants.getParticipantIndex(userId);\n            if (exists === -1) {\n                this.handleError(new Error(this.privErrors.invalidParticipantRequest), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getMuteCommand(userId, false), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Send a text message\n     * @param message\n     * @param cb\n     * @param err\n     */\n    sendTextMessageAsync(message, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(message, this.privErrors.invalidArgs.replace(\"{arg}\", \"message\"));\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            if (!this.canSend) {\n                this.handleError(new Error(this.privErrors.permissionDeniedSend), err);\n            }\n            // TODO: is a max length check required?\n            if (message.length > this.privTextMessageMaxLength) {\n                this.handleError(new Error(this.privErrors.invalidArgs.replace(\"{arg}\", \"message length\")), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getMessageCommand(message), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Set translated to languages\n     * @param {string[]} languages - languages to translate to\n     * @param cb\n     * @param err\n     */\n    setTranslatedLanguagesAsync(languages, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfArrayEmptyOrWhitespace(languages, this.privErrors.invalidArgs.replace(\"{arg}\", \"languages\"));\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            if (!this.canSend) {\n                this.handleError(new Error(this.privErrors.permissionDeniedSend), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(languages), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    /**\n     * Change nickname\n     * @param {string} nickname - new nickname for the room\n     * @param cb\n     * @param err\n     */\n    changeNicknameAsync(nickname, cb, err) {\n        try {\n            Contracts_js_1.Contracts.throwIfDisposed(this.privIsDisposed);\n            Contracts_js_1.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed());\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(nickname, this.privErrors.invalidArgs.replace(\"{arg}\", \"nickname\"));\n            Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRoom, this.privErrors.permissionDeniedSend);\n            if (!this.canSend) {\n                this.handleError(new Error(this.privErrors.permissionDeniedSend), err);\n            }\n            if (!!this.privConversationRecognizer) {\n                this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(nickname), (() => {\n                    this.handleCallback(cb, err);\n                }), ((error) => {\n                    this.handleError(error, err);\n                }));\n            }\n        }\n        catch (error) {\n            this.handleError(error, err);\n        }\n    }\n    isDisposed() {\n        return this.privIsDisposed;\n    }\n    dispose() {\n        if (this.isDisposed) {\n            return;\n        }\n        this.privIsDisposed = true;\n        if (!!this.config) {\n            this.config.close();\n        }\n        this.privConfig = undefined;\n        this.privLanguage = undefined;\n        this.privProperties = undefined;\n        this.privRoom = undefined;\n        this.privToken = undefined;\n        this.privManager = undefined;\n        this.privIsConnected = false;\n        this.privIsReady = false;\n        this.privParticipants = undefined;\n    }\n    async connectTranscriberRecognizer(recognizer) {\n        if (!!this.privTranscriberRecognizer) {\n            await this.privTranscriberRecognizer.close();\n        }\n        await recognizer.enforceAudioGating();\n        this.privTranscriberRecognizer = recognizer;\n        this.privTranscriberRecognizer.meeting = this;\n    }\n    getKeepAlive() {\n        const nickname = (!!this.me) ? this.me.displayName : \"default_nickname\";\n        return JSON.stringify({\n            id: \"0\",\n            nickname,\n            participantId: this.privRoom.participantId,\n            roomId: this.privRoom.roomId,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.keepAlive\n        });\n    }\n    /* eslint-enable @typescript-eslint/typedef */\n    addParticipantImplAsync(participant) {\n        const newParticipant = this.privParticipants.addOrUpdateParticipant(participant);\n        if (newParticipant !== undefined) {\n            if (!!this.privTranscriberRecognizer) {\n                const meetingInfo = this.meetingInfo;\n                meetingInfo.participants = [participant];\n                return this.privTranscriberRecognizer.pushMeetingEvent(meetingInfo, \"join\");\n            }\n        }\n    }\n    removeParticipantImplAsync(participant) {\n        this.privParticipants.deleteParticipant(participant.id);\n        const meetingInfo = this.meetingInfo;\n        meetingInfo.participants = [participant];\n        return this.privTranscriberRecognizer.pushMeetingEvent(meetingInfo, \"leave\");\n    }\n    async close(dispose) {\n        try {\n            this.privIsConnected = false;\n            await this.privConversationRecognizer?.close();\n            this.privConversationRecognizer = undefined;\n            if (!!this.privConversationTranslator) {\n                this.privConversationTranslator.dispose();\n            }\n        }\n        catch (e) {\n            // ignore error\n            throw e;\n        }\n        if (dispose) {\n            this.dispose();\n        }\n    }\n    /** Helpers */\n    handleCallback(cb, err) {\n        if (!!cb) {\n            try {\n                cb();\n            }\n            catch (e) {\n                if (!!err) {\n                    err(e);\n                }\n            }\n            cb = undefined;\n        }\n    }\n    handleError(error, err) {\n        if (!!err) {\n            if (error instanceof Error) {\n                const typedError = error;\n                err(typedError.name + \": \" + typedError.message);\n            }\n            else {\n                err(error);\n            }\n        }\n    }\n    /** Participant Helpers */\n    toParticipants(includeHost) {\n        const participants = this.privParticipants.participants.map((p) => (this.toParticipant(p)));\n        if (!includeHost) {\n            return participants.filter((p) => p.isHost === false);\n        }\n        else {\n            return participants;\n        }\n    }\n    toParticipant(p) {\n        return new Exports_js_3.Participant(p.id, p.avatar, p.displayName, p.isHost, p.isMuted, p.isUsingTts, p.preferredLanguage, p.voice);\n    }\n    getMuteAllCommand(isMuted) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId, \"meetingd\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId, \"participantId\");\n        return JSON.stringify({\n            command: Exports_js_1.ConversationTranslatorCommandTypes.setMuteAll,\n            participantId: this.privRoom.participantId,\n            roomid: this.privRoom.roomId,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.participantCommand,\n            value: isMuted\n        });\n    }\n    getMuteCommand(participantId, isMuted) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId, \"conversationId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(participantId, \"participantId\");\n        return JSON.stringify({\n            command: Exports_js_1.ConversationTranslatorCommandTypes.setMute,\n            // eslint-disable-next-line object-shorthand\n            participantId: participantId,\n            roomid: this.privRoom.roomId,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.participantCommand,\n            value: isMuted\n        });\n    }\n    getLockCommand(isLocked) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId, \"meetingId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId, \"participantId\");\n        return JSON.stringify({\n            command: Exports_js_1.ConversationTranslatorCommandTypes.setLockState,\n            participantId: this.privRoom.participantId,\n            roomid: this.privRoom.roomId,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.participantCommand,\n            value: isLocked\n        });\n    }\n    getEjectCommand(participantId) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId, \"meetingId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(participantId, \"participantId\");\n        return JSON.stringify({\n            command: Exports_js_1.ConversationTranslatorCommandTypes.ejectParticipant,\n            // eslint-disable-next-line object-shorthand\n            participantId: participantId,\n            roomid: this.privRoom.roomId,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.participantCommand,\n        });\n    }\n    getSetTranslateToLanguagesCommand(languages) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId, \"meetingId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId, \"participantId\");\n        return JSON.stringify({\n            command: Exports_js_1.ConversationTranslatorCommandTypes.setTranslateToLanguages,\n            participantId: this.privRoom.participantId,\n            roomid: this.privRoom.roomId,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.participantCommand,\n            value: languages\n        });\n    }\n    getChangeNicknameCommand(nickname) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId, \"meetingId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(nickname, \"nickname\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId, \"participantId\");\n        return JSON.stringify({\n            command: Exports_js_1.ConversationTranslatorCommandTypes.changeNickname,\n            nickname,\n            participantId: this.privRoom.participantId,\n            roomid: this.privRoom.roomId,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.participantCommand,\n            value: nickname\n        });\n    }\n    getMessageCommand(message) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId, \"meetingId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId, \"participantId\");\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(message, \"message\");\n        return JSON.stringify({\n            participantId: this.privRoom.participantId,\n            roomId: this.privRoom.roomId,\n            text: message,\n            type: Exports_js_1.ConversationTranslatorMessageTypes.instantMessage\n        });\n    }\n}\nexports.MeetingImpl = MeetingImpl;\n\n//# sourceMappingURL=Meeting.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MeetingTranscriber = void 0;\nconst Exports_js_1 = require(\"../../common.speech/Exports.js\");\nconst Exports_js_2 = require(\"../../common/Exports.js\");\nconst Contracts_js_1 = require(\"../Contracts.js\");\nconst Exports_js_3 = require(\"../Exports.js\");\nconst Exports_js_4 = require(\"./Exports.js\");\nclass MeetingTranscriber {\n    /**\n     * MeetingTranscriber constructor.\n     * @constructor\n     * @param {AudioConfig} audioConfig - An optional audio configuration associated with the recognizer\n     */\n    constructor(audioConfig) {\n        this.privAudioConfig = audioConfig;\n        this.privProperties = new Exports_js_3.PropertyCollection();\n        this.privRecognizer = undefined;\n        this.privDisposedRecognizer = false;\n    }\n    /**\n     * Gets the spoken language of recognition.\n     * @member MeetingTranscriber.prototype.speechRecognitionLanguage\n     * @function\n     * @public\n     * @returns {string} The spoken language of recognition.\n     */\n    get speechRecognitionLanguage() {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedRecognizer);\n        return this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage);\n    }\n    /**\n     * The collection of properties and their values defined for this MeetingTranscriber.\n     * @member MeetingTranscriber.prototype.properties\n     * @function\n     * @public\n     * @returns {PropertyCollection} The collection of properties and their values defined for this MeetingTranscriber.\n     */\n    get properties() {\n        return this.privProperties;\n    }\n    /**\n     * @Internal\n     * Internal data member to support fromRecognizer* pattern methods on other classes.\n     * Do not use externally, object returned will change without warning or notice.\n     */\n    get internalData() {\n        return this.privRecognizer.internalData;\n    }\n    /**\n     * @Deprecated\n     * @Obsolete\n     * Please use the Connection.fromRecognizer pattern to obtain a connection object\n     */\n    get connection() {\n        return Exports_js_3.Connection.fromRecognizer(this.privRecognizer);\n    }\n    /**\n     * Gets the authorization token used to communicate with the service.\n     * @member MeetingTranscriber.prototype.authorizationToken\n     * @function\n     * @public\n     * @returns {string} Authorization token.\n     */\n    get authorizationToken() {\n        return this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceAuthorization_Token);\n    }\n    /**\n     * Gets/Sets the authorization token used to communicate with the service.\n     * @member MeetingTranscriber.prototype.authorizationToken\n     * @function\n     * @public\n     * @param {string} token - Authorization token.\n     */\n    set authorizationToken(token) {\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(token, \"token\");\n        this.properties.setProperty(Exports_js_3.PropertyId.SpeechServiceAuthorization_Token, token);\n    }\n    /**\n     * @param {Meeting} meeting - meeting to be recognized\n     */\n    joinMeetingAsync(meeting, cb, err) {\n        /* eslint-disable no-console */\n        // console.log(\">> MeetingTranscriber::joinMeetingAsync\");\n        /* eslint-enable no-console */\n        const meetingImpl = meeting;\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(Exports_js_4.MeetingImpl, \"Meeting\");\n        // ref the meeting object\n        // create recognizer and subscribe to recognizer events\n        this.privRecognizer = new Exports_js_1.TranscriberRecognizer(meeting.config, this.privAudioConfig);\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(this.privRecognizer, \"Recognizer\");\n        this.privRecognizer.connectMeetingCallbacks(this);\n        (0, Exports_js_2.marshalPromiseToCallbacks)(meetingImpl.connectTranscriberRecognizer(this.privRecognizer), cb, err);\n    }\n    /**\n     * Starts meeting transcription, until stopTranscribingAsync() is called.\n     * User must subscribe to events to receive transcription results.\n     * @member MeetingTranscriber.prototype.startTranscribingAsync\n     * @function\n     * @public\n     * @param cb - Callback invoked once the transcription has started.\n     * @param err - Callback invoked in case of an error.\n     */\n    startTranscribingAsync(cb, err) {\n        this.privRecognizer.startContinuousRecognitionAsync(cb, err);\n    }\n    /**\n     * Starts meeting transcription, until stopTranscribingAsync() is called.\n     * User must subscribe to events to receive transcription results.\n     * @member MeetingTranscriber.prototype.stopTranscribingAsync\n     * @function\n     * @public\n     * @param cb - Callback invoked once the transcription has started.\n     * @param err - Callback invoked in case of an error.\n     */\n    stopTranscribingAsync(cb, err) {\n        this.privRecognizer.stopContinuousRecognitionAsync(cb, err);\n    }\n    /**\n     * Leave the current meeting. After this is called, you will no longer receive any events.\n     */\n    leaveMeetingAsync(cb, err) {\n        this.privRecognizer.disconnectCallbacks();\n        // eslint-disable-next-line\n        (0, Exports_js_2.marshalPromiseToCallbacks)((async () => { return; })(), cb, err);\n    }\n    /**\n     * closes all external resources held by an instance of this class.\n     * @member MeetingTranscriber.prototype.close\n     * @function\n     * @public\n     */\n    close(cb, errorCb) {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedRecognizer);\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.dispose(true), cb, errorCb);\n    }\n    /**\n     * Disposes any resources held by the object.\n     * @member MeetingTranscriber.prototype.dispose\n     * @function\n     * @public\n     * @param {boolean} disposing - true if disposing the object.\n     */\n    async dispose(disposing) {\n        if (this.privDisposedRecognizer) {\n            return;\n        }\n        if (!!this.privRecognizer) {\n            await this.privRecognizer.close();\n            this.privRecognizer = undefined;\n        }\n        if (disposing) {\n            this.privDisposedRecognizer = true;\n        }\n    }\n}\nexports.MeetingTranscriber = MeetingTranscriber;\n\n//# sourceMappingURL=MeetingTranscriber.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n// Multi-device Conversation is a Preview feature.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MeetingTranscriptionCanceledEventArgs = void 0;\nconst CancellationEventArgsBase_js_1 = require(\"../CancellationEventArgsBase.js\");\nclass MeetingTranscriptionCanceledEventArgs extends CancellationEventArgsBase_js_1.CancellationEventArgsBase {\n}\nexports.MeetingTranscriptionCanceledEventArgs = MeetingTranscriptionCanceledEventArgs;\n\n//# sourceMappingURL=MeetingTranscriptionCanceledEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n// Multi-device Conversation is a Preview feature.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ParticipantChangedReason = void 0;\nvar ParticipantChangedReason;\n(function (ParticipantChangedReason) {\n    /** Participant has joined the conversation. */\n    ParticipantChangedReason[ParticipantChangedReason[\"JoinedConversation\"] = 0] = \"JoinedConversation\";\n    /** Participant has left the conversation. This could be voluntary, or involuntary\n     * (e.g. they are experiencing networking issues).\n     */\n    ParticipantChangedReason[ParticipantChangedReason[\"LeftConversation\"] = 1] = \"LeftConversation\";\n    /** The participants' state has changed (e.g. they became muted, changed their nickname). */\n    ParticipantChangedReason[ParticipantChangedReason[\"Updated\"] = 2] = \"Updated\";\n})(ParticipantChangedReason = exports.ParticipantChangedReason || (exports.ParticipantChangedReason = {}));\n\n//# sourceMappingURL=ParticipantChangedReason.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranslationRecognitionCanceledEventArgs = void 0;\n/**\n * Define payload of speech recognition canceled result events.\n * @class TranslationRecognitionCanceledEventArgs\n */\nclass TranslationRecognitionCanceledEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {string} sessionid - The session id.\n     * @param {CancellationReason} cancellationReason - The cancellation reason.\n     * @param {string} errorDetails - Error details, if provided.\n     * @param {TranslationRecognitionResult} result - The result.\n     */\n    constructor(sessionid, cancellationReason, errorDetails, errorCode, result) {\n        this.privCancelReason = cancellationReason;\n        this.privErrorDetails = errorDetails;\n        this.privResult = result;\n        this.privSessionId = sessionid;\n        this.privErrorCode = errorCode;\n    }\n    /**\n     * Specifies the recognition result.\n     * @member TranslationRecognitionCanceledEventArgs.prototype.result\n     * @function\n     * @public\n     * @returns {TranslationRecognitionResult} the recognition result.\n     */\n    get result() {\n        return this.privResult;\n    }\n    /**\n     * Specifies the session identifier.\n     * @member TranslationRecognitionCanceledEventArgs.prototype.sessionId\n     * @function\n     * @public\n     * @returns {string} the session identifier.\n     */\n    get sessionId() {\n        return this.privSessionId;\n    }\n    /**\n     * The reason the recognition was canceled.\n     * @member TranslationRecognitionCanceledEventArgs.prototype.reason\n     * @function\n     * @public\n     * @returns {CancellationReason} Specifies the reason canceled.\n     */\n    get reason() {\n        return this.privCancelReason;\n    }\n    /**\n     * The error code in case of an unsuccessful recognition.\n     * Added in version 1.1.0.\n     * @return An error code that represents the error reason.\n     */\n    get errorCode() {\n        return this.privErrorCode;\n    }\n    /**\n     * In case of an unsuccessful recognition, provides details of the occurred error.\n     * @member TranslationRecognitionCanceledEventArgs.prototype.errorDetails\n     * @function\n     * @public\n     * @returns {string} A String that represents the error details.\n     */\n    get errorDetails() {\n        return this.privErrorDetails;\n    }\n}\nexports.TranslationRecognitionCanceledEventArgs = TranslationRecognitionCanceledEventArgs;\n\n//# sourceMappingURL=TranslationRecognitionCanceledEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranslationRecognitionEventArgs = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Translation text result event arguments.\n * @class TranslationRecognitionEventArgs\n */\nclass TranslationRecognitionEventArgs extends Exports_js_1.RecognitionEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {TranslationRecognitionResult} result - The translation recognition result.\n     * @param {number} offset - The offset.\n     * @param {string} sessionId - The session id.\n     */\n    constructor(result, offset, sessionId) {\n        super(offset, sessionId);\n        this.privResult = result;\n    }\n    /**\n     * Specifies the recognition result.\n     * @member TranslationRecognitionEventArgs.prototype.result\n     * @function\n     * @public\n     * @returns {TranslationRecognitionResult} the recognition result.\n     */\n    get result() {\n        return this.privResult;\n    }\n}\nexports.TranslationRecognitionEventArgs = TranslationRecognitionEventArgs;\n\n//# sourceMappingURL=TranslationRecognitionEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranslationRecognitionResult = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Translation text result.\n * @class TranslationRecognitionResult\n */\nclass TranslationRecognitionResult extends Exports_js_1.SpeechRecognitionResult {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {Translations} translations - The translations.\n     * @param {string} resultId - The result id.\n     * @param {ResultReason} reason - The reason.\n     * @param {string} text - The recognized text.\n     * @param {number} duration - The duration.\n     * @param {number} offset - The offset into the stream.\n     * @param {string} language - Primary Language detected, if provided.\n     * @param {string} languageDetectionConfidence - Primary Language confidence (\"Unknown,\" \"Low,\" \"Medium,\" \"High\"...), if provided.\n     * @param {string} errorDetails - Error details, if provided.\n     * @param {string} json - Additional Json, if provided.\n     * @param {PropertyCollection} properties - Additional properties, if provided.\n     */\n    constructor(translations, resultId, reason, text, duration, offset, language, languageDetectionConfidence, errorDetails, json, properties) {\n        super(resultId, reason, text, duration, offset, language, languageDetectionConfidence, undefined, errorDetails, json, properties);\n        this.privTranslations = translations;\n    }\n    static fromSpeechRecognitionResult(result) {\n        return new TranslationRecognitionResult(undefined, result.resultId, result.reason, result.text, result.duration, result.offset, result.language, result.languageDetectionConfidence, result.errorDetails, result.json, result.properties);\n    }\n    /**\n     * Presents the translation results. Each item in the dictionary represents\n     * a translation result in one of target languages, where the key is the name\n     * of the target language, in BCP-47 format, and the value is the translation\n     * text in the specified language.\n     * @member TranslationRecognitionResult.prototype.translations\n     * @function\n     * @public\n     * @returns {Translations} the current translation map that holds all translations requested.\n     */\n    get translations() {\n        return this.privTranslations;\n    }\n}\nexports.TranslationRecognitionResult = TranslationRecognitionResult;\n\n//# sourceMappingURL=TranslationRecognitionResult.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranslationRecognizer = void 0;\nconst Exports_js_1 = require(\"../common.speech/Exports.js\");\nconst PhraseDetectionContext_js_1 = require(\"../common.speech/ServiceMessages/PhraseDetection/PhraseDetectionContext.js\");\nconst Exports_js_2 = require(\"../common/Exports.js\");\nconst Connection_js_1 = require(\"./Connection.js\");\nconst Contracts_js_1 = require(\"./Contracts.js\");\nconst Exports_js_3 = require(\"./Exports.js\");\n/**\n * Translation recognizer\n * @class TranslationRecognizer\n */\nclass TranslationRecognizer extends Exports_js_3.Recognizer {\n    /**\n     * Initializes an instance of the TranslationRecognizer.\n     * @constructor\n     * @param {SpeechTranslationConfig} speechConfig - Set of properties to configure this recognizer.\n     * @param {AudioConfig} audioConfig - An optional audio config associated with the recognizer\n     * @param {IConnectionFactory} connectionFactory - An optional connection factory to use to generate the endpoint URIs, headers to set, etc...\n     */\n    constructor(speechConfig, audioConfig, connectionFactory) {\n        const configImpl = speechConfig;\n        Contracts_js_1.Contracts.throwIfNull(configImpl, \"speechConfig\");\n        super(audioConfig, configImpl.properties, connectionFactory || new Exports_js_1.TranslationConnectionFactory(), speechConfig.tokenCredential);\n        this.privDisposedTranslationRecognizer = false;\n        if (this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationVoice, undefined) !== undefined) {\n            Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationVoice), Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceConnection_TranslationVoice]);\n        }\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationToLanguages), Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceConnection_TranslationToLanguages]);\n        Contracts_js_1.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage), Exports_js_3.PropertyId[Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage]);\n    }\n    /**\n     * TranslationRecognizer constructor.\n     * @constructor\n     * @param {SpeechTranslationConfig} speechTranslationConfig - an set of initial properties for this recognizer\n     * @param {AutoDetectSourceLanguageConfig} autoDetectSourceLanguageConfig - An source language detection configuration associated with the recognizer\n     * @param {AudioConfig} audioConfig - An optional audio configuration associated with the recognizer\n     */\n    static FromConfig(speechTranslationConfig, autoDetectSourceLanguageConfig, audioConfig) {\n        const speechTranslationConfigImpl = speechTranslationConfig;\n        autoDetectSourceLanguageConfig.properties.mergeTo(speechTranslationConfigImpl.properties);\n        if (autoDetectSourceLanguageConfig.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages, undefined) === Exports_js_1.AutoDetectSourceLanguagesOpenRangeOptionName) {\n            speechTranslationConfigImpl.properties.setProperty(Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage, \"en-US\");\n        }\n        return new TranslationRecognizer(speechTranslationConfig, audioConfig);\n    }\n    /**\n     * Gets the language name that was set when the recognizer was created.\n     * @member TranslationRecognizer.prototype.speechRecognitionLanguage\n     * @function\n     * @public\n     * @returns {string} Gets the language name that was set when the recognizer was created.\n     */\n    get speechRecognitionLanguage() {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer);\n        return this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_RecoLanguage);\n    }\n    /**\n     * Gets target languages for translation that were set when the recognizer was created.\n     * The language is specified in BCP-47 format. The translation will provide translated text for each of language.\n     * @member TranslationRecognizer.prototype.targetLanguages\n     * @function\n     * @public\n     * @returns {string[]} Gets target languages for translation that were set when the recognizer was created.\n     */\n    get targetLanguages() {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer);\n        return this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(\",\");\n    }\n    /**\n     * Gets the name of output voice.\n     * @member TranslationRecognizer.prototype.voiceName\n     * @function\n     * @public\n     * @returns {string} the name of output voice.\n     */\n    get voiceName() {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer);\n        return this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationVoice, undefined);\n    }\n    /**\n     * The collection of properties and their values defined for this TranslationRecognizer.\n     * @member TranslationRecognizer.prototype.properties\n     * @function\n     * @public\n     * @returns {PropertyCollection} The collection of properties and their values defined for this TranslationRecognizer.\n     */\n    get properties() {\n        return this.privProperties;\n    }\n    /**\n     * Gets the authorization token used to communicate with the service.\n     * @member TranslationRecognizer.prototype.authorizationToken\n     * @function\n     * @public\n     * @returns {string} Authorization token.\n     */\n    get authorizationToken() {\n        return this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceAuthorization_Token);\n    }\n    /**\n     * Gets/Sets the authorization token used to communicate with the service.\n     * @member TranslationRecognizer.prototype.authorizationToken\n     * @function\n     * @public\n     * @param {string} value - Authorization token.\n     */\n    set authorizationToken(value) {\n        this.properties.setProperty(Exports_js_3.PropertyId.SpeechServiceAuthorization_Token, value);\n    }\n    /**\n     * Starts recognition and translation, and stops after the first utterance is recognized.\n     * The task returns the translation text as result.\n     * Note: recognizeOnceAsync returns when the first utterance has been recognized, so it is suitable only\n     * for single shot recognition like command or query. For long-running recognition,\n     * use startContinuousRecognitionAsync() instead.\n     * @member TranslationRecognizer.prototype.recognizeOnceAsync\n     * @function\n     * @public\n     * @param cb - Callback that received the result when the translation has completed.\n     * @param err - Callback invoked in case of an error.\n     */\n    recognizeOnceAsync(cb, err) {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer);\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.recognizeOnceAsyncImpl(PhraseDetectionContext_js_1.RecognitionMode.Interactive), cb, err);\n    }\n    /**\n     * Starts recognition and translation, until stopContinuousRecognitionAsync() is called.\n     * User must subscribe to events to receive translation results.\n     * @member TranslationRecognizer.prototype.startContinuousRecognitionAsync\n     * @function\n     * @public\n     * @param cb - Callback that received the translation has started.\n     * @param err - Callback invoked in case of an error.\n     */\n    startContinuousRecognitionAsync(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.startContinuousRecognitionAsyncImpl(PhraseDetectionContext_js_1.RecognitionMode.Conversation), cb, err);\n    }\n    /**\n     * Stops continuous recognition and translation.\n     * @member TranslationRecognizer.prototype.stopContinuousRecognitionAsync\n     * @function\n     * @public\n     * @param cb - Callback that received the translation has stopped.\n     * @param err - Callback invoked in case of an error.\n     */\n    stopContinuousRecognitionAsync(cb, err) {\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.stopContinuousRecognitionAsyncImpl(), cb, err);\n    }\n    /**\n     * dynamically remove a language from list of target language\n     * (can be used while recognition is ongoing)\n     * @member TranslationRecognizer.prototype.removeTargetLanguage\n     * @function\n     * @param lang - language to be removed\n     * @public\n     */\n    removeTargetLanguage(lang) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(lang, \"language to be removed\");\n        if (this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationToLanguages, undefined) !== undefined) {\n            const languages = this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(\",\");\n            const index = languages.indexOf(lang);\n            if (index > -1) {\n                languages.splice(index, 1);\n                this.properties.setProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationToLanguages, languages.join(\",\"));\n                this.updateLanguages(languages);\n            }\n        }\n    }\n    /**\n     * dynamically add a language to list of target language\n     * (can be used while recognition is ongoing)\n     * @member TranslationRecognizer.prototype.addTargetLanguage\n     * @function\n     * @param lang - language to be added\n     * @public\n     */\n    addTargetLanguage(lang) {\n        Contracts_js_1.Contracts.throwIfNullOrUndefined(lang, \"language to be added\");\n        let languages = [];\n        if (this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationToLanguages, undefined) !== undefined) {\n            languages = this.properties.getProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(\",\");\n            if (!languages.includes(lang)) {\n                languages.push(lang);\n                this.properties.setProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationToLanguages, languages.join(\",\"));\n            }\n        }\n        else {\n            this.properties.setProperty(Exports_js_3.PropertyId.SpeechServiceConnection_TranslationToLanguages, lang);\n            languages = [lang];\n        }\n        this.updateLanguages(languages);\n    }\n    /**\n     * closes all external resources held by an instance of this class.\n     * @member TranslationRecognizer.prototype.close\n     * @function\n     * @public\n     */\n    close(cb, errorCb) {\n        Contracts_js_1.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer);\n        (0, Exports_js_2.marshalPromiseToCallbacks)(this.dispose(true), cb, errorCb);\n    }\n    /**\n     * handles ConnectionEstablishedEvent for conversation translation scenarios.\n     * @member TranslationRecognizer.prototype.onConnection\n     * @function\n     * @public\n     */\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onConnection() { }\n    async dispose(disposing) {\n        if (this.privDisposedTranslationRecognizer) {\n            return;\n        }\n        this.privDisposedTranslationRecognizer = true;\n        if (disposing) {\n            await this.implRecognizerStop();\n            await super.dispose(disposing);\n        }\n    }\n    createRecognizerConfig(speechConfig) {\n        return new Exports_js_1.RecognizerConfig(speechConfig, this.privProperties);\n    }\n    createServiceRecognizer(authentication, connectionFactory, audioConfig, recognizerConfig) {\n        const configImpl = audioConfig;\n        return new Exports_js_1.TranslationServiceRecognizer(authentication, connectionFactory, configImpl, recognizerConfig, this);\n    }\n    updateLanguages(languages) {\n        const conn = Connection_js_1.Connection.fromRecognizer(this);\n        if (!!conn) {\n            conn.setMessageProperty(\"speech.context\", \"translationcontext\", { to: languages });\n            conn.sendMessageAsync(\"event\", JSON.stringify({\n                id: \"translation\",\n                name: \"updateLanguage\",\n                to: languages\n            }));\n        }\n    }\n}\nexports.TranslationRecognizer = TranslationRecognizer;\n\n//# sourceMappingURL=TranslationRecognizer.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranslationSynthesisEventArgs = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Translation Synthesis event arguments\n * @class TranslationSynthesisEventArgs\n */\nclass TranslationSynthesisEventArgs extends Exports_js_1.SessionEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {TranslationSynthesisResult} result - The translation synthesis result.\n     * @param {string} sessionId - The session id.\n     */\n    constructor(result, sessionId) {\n        super(sessionId);\n        this.privResult = result;\n    }\n    /**\n     * Specifies the translation synthesis result.\n     * @member TranslationSynthesisEventArgs.prototype.result\n     * @function\n     * @public\n     * @returns {TranslationSynthesisResult} Specifies the translation synthesis result.\n     */\n    get result() {\n        return this.privResult;\n    }\n}\nexports.TranslationSynthesisEventArgs = TranslationSynthesisEventArgs;\n\n//# sourceMappingURL=TranslationSynthesisEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TranslationSynthesisResult = void 0;\n/**\n * Defines translation synthesis result, i.e. the voice output of the translated\n * text in the target language.\n * @class TranslationSynthesisResult\n */\nclass TranslationSynthesisResult {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {ResultReason} reason - The synthesis reason.\n     * @param {ArrayBuffer} audio - The audio data.\n     */\n    constructor(reason, audio) {\n        this.privReason = reason;\n        this.privAudio = audio;\n    }\n    /**\n     * Translated text in the target language.\n     * @member TranslationSynthesisResult.prototype.audio\n     * @function\n     * @public\n     * @returns {ArrayBuffer} Translated audio in the target language.\n     */\n    get audio() {\n        return this.privAudio;\n    }\n    /**\n     * The synthesis status.\n     * @member TranslationSynthesisResult.prototype.reason\n     * @function\n     * @public\n     * @returns {ResultReason} The synthesis status.\n     */\n    get reason() {\n        return this.privReason;\n    }\n}\nexports.TranslationSynthesisResult = TranslationSynthesisResult;\n\n//# sourceMappingURL=TranslationSynthesisResult.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Translations = void 0;\nconst Exports_js_1 = require(\"./Exports.js\");\n/**\n * Represents collection of parameters and their values.\n * @class Translations\n */\nclass Translations {\n    constructor() {\n        // Use an PropertyCollection internally, just wrapping it to hide the | enum syntax it has.\n        this.privMap = new Exports_js_1.PropertyCollection();\n    }\n    /**\n     * Get the languages in the object in a String array.\n     * @member Translations.prototype.languages\n     * @function\n     * @public\n     * @returns {string[]} languages in translations object.\n     */\n    get languages() {\n        return this.privMap.keys;\n    }\n    /**\n     * Returns the parameter value in type String. The parameter must have the same type as String.\n     * Currently only String, int and bool are allowed.\n     * If the name is not available, the specified defaultValue is returned.\n     * @member Translations.prototype.get\n     * @function\n     * @public\n     * @param {string} key - The parameter name.\n     * @param {string} def - The default value which is returned if the parameter is not available in the collection.\n     * @returns {string} value of the parameter.\n     */\n    get(key, def) {\n        return this.privMap.getProperty(key, def);\n    }\n    /**\n     * Sets the String value of the parameter specified by name.\n     * @member Translations.prototype.set\n     * @function\n     * @public\n     * @param {string} key - The parameter name.\n     * @param {string} value - The value of the parameter.\n     */\n    set(key, value) {\n        this.privMap.setProperty(key, value);\n    }\n}\nexports.Translations = Translations;\n\n//# sourceMappingURL=Translations.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TurnStatusReceivedEventArgs = void 0;\nconst TurnStatusPayload_js_1 = require(\"../common.speech/ServiceMessages/TurnStatusPayload.js\");\n/**\n * Defines contents of received message/events.\n * @class TurnStatusReceivedEventArgs\n */\nclass TurnStatusReceivedEventArgs {\n    /**\n     * Creates and initializes an instance of this class.\n     * @constructor\n     * @param {string} turnStatus - The JSON-encoded turn status message.\n     */\n    constructor(turnStatus) {\n        this.privTurnStatus = TurnStatusPayload_js_1.TurnStatusResponsePayload.fromJSON(turnStatus);\n    }\n    /**\n     * Gets the interaction identifier associated with this turn status event.\n     * @member TurnStatusReceivedEventArgs.prototype.interactionId\n     * @function\n     * @public\n     * @returns {any} the received interaction id.\n     */\n    get interactionId() {\n        return this.privTurnStatus.interactionId;\n    }\n    /**\n     * Gets the conversation identifier associated with this turn status event.\n     * @member TurnStatusReceivedEventArgs.prototype.conversationId\n     * @function\n     * @public\n     * @returns {any} the received conversation id.\n     */\n    get conversationId() {\n        return this.privTurnStatus.conversationId;\n    }\n    /**\n     * Gets the received turn status code.\n     * @member TurnStatusReceivedEventArgs.prototype.statusCode\n     * @function\n     * @public\n     * @returns {number} the received turn status.\n     */\n    get statusCode() {\n        return this.privTurnStatus.statusCode; // eslint-disable-line @typescript-eslint/no-unsafe-return\n    }\n}\nexports.TurnStatusReceivedEventArgs = TurnStatusReceivedEventArgs;\n\n//# sourceMappingURL=TurnStatusReceivedEventArgs.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VoiceInfo = exports.SynthesisVoiceType = exports.SynthesisVoiceGender = void 0;\n/**\n * Defines the gender of synthesis voices.\n * Added in version 1.20.0.\n */\nvar SynthesisVoiceGender;\n(function (SynthesisVoiceGender) {\n    /** Gender unknown */\n    SynthesisVoiceGender[SynthesisVoiceGender[\"Unknown\"] = 0] = \"Unknown\";\n    /** Female voice */\n    SynthesisVoiceGender[SynthesisVoiceGender[\"Female\"] = 1] = \"Female\";\n    /** Male voice */\n    SynthesisVoiceGender[SynthesisVoiceGender[\"Male\"] = 2] = \"Male\";\n    /** Neutral voice */\n    SynthesisVoiceGender[SynthesisVoiceGender[\"Neutral\"] = 3] = \"Neutral\";\n})(SynthesisVoiceGender = exports.SynthesisVoiceGender || (exports.SynthesisVoiceGender = {}));\nvar SynthesisVoiceType;\n(function (SynthesisVoiceType) {\n    /**\n     * Voice type is not known.\n     */\n    SynthesisVoiceType[SynthesisVoiceType[\"Unknown\"] = 0] = \"Unknown\";\n    /**\n     * Online neural voices.\n     */\n    SynthesisVoiceType[SynthesisVoiceType[\"OnlineNeural\"] = 1] = \"OnlineNeural\";\n    /**\n     * Online standard voices. These voices are deprecated.\n     */\n    SynthesisVoiceType[SynthesisVoiceType[\"OnlineStandard\"] = 2] = \"OnlineStandard\";\n    /**\n     * Offline neural voices.\n     */\n    SynthesisVoiceType[SynthesisVoiceType[\"OfflineNeural\"] = 3] = \"OfflineNeural\";\n    /**\n     * Offline standard voices.\n     */\n    SynthesisVoiceType[SynthesisVoiceType[\"OfflineStandard\"] = 4] = \"OfflineStandard\";\n    /**\n     * High definition (HD) voices. Refer to https://learn.microsoft.com/azure/ai-services/speech-service/high-definition-voices\n     */\n    SynthesisVoiceType[SynthesisVoiceType[\"OnlineNeuralHD\"] = 5] = \"OnlineNeuralHD\";\n})(SynthesisVoiceType = exports.SynthesisVoiceType || (exports.SynthesisVoiceType = {}));\nconst GENDER_LOOKUP = {\n    [SynthesisVoiceGender[SynthesisVoiceGender.Neutral]]: SynthesisVoiceGender.Neutral,\n    [SynthesisVoiceGender[SynthesisVoiceGender.Male]]: SynthesisVoiceGender.Male,\n    [SynthesisVoiceGender[SynthesisVoiceGender.Female]]: SynthesisVoiceGender.Female,\n};\nconst VOICE_TYPE_LOOKUP = {\n    Neural: SynthesisVoiceType.OnlineNeural,\n    NeuralHD: SynthesisVoiceType.OnlineNeuralHD,\n};\n/**\n * Information about Speech Synthesis voice\n * Added in version 1.20.0.\n * @class VoiceInfo\n */\nclass VoiceInfo {\n    constructor(json) {\n        this.privStyleList = [];\n        if (!!json) {\n            this.privName = json.Name;\n            this.privLocale = json.Locale;\n            this.privShortName = json.ShortName;\n            this.privLocaleName = json.LocaleName;\n            this.privDisplayName = json.DisplayName;\n            this.privLocalName = json.LocalName;\n            this.privVoiceType = VOICE_TYPE_LOOKUP[json.VoiceType] || SynthesisVoiceType.Unknown;\n            this.privGender = GENDER_LOOKUP[json.Gender] || SynthesisVoiceGender.Unknown;\n            if (!!json.StyleList && Array.isArray(json.StyleList)) {\n                for (const style of json.StyleList) {\n                    this.privStyleList.push(style);\n                }\n            }\n            this.privSampleRateHertz = json.SampleRateHertz;\n            this.privStatus = json.Status;\n            if (json.ExtendedPropertyMap) {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                this.privExtendedPropertyMap = json.ExtendedPropertyMap;\n            }\n            this.privWordsPerMinute = json.WordsPerMinute;\n            if (Array.isArray(json.SecondaryLocaleList)) {\n                this.privSecondaryLocaleList = [...json.SecondaryLocaleList];\n            }\n            if (Array.isArray(json.RolePlayList)) {\n                this.privRolePlayList = [...json.RolePlayList];\n            }\n            if (json.VoiceTag) {\n                this.privVoiceTag = json.VoiceTag;\n            }\n        }\n    }\n    get name() {\n        return this.privName;\n    }\n    get locale() {\n        return this.privLocale;\n    }\n    get shortName() {\n        return this.privShortName;\n    }\n    get displayName() {\n        return this.privDisplayName;\n    }\n    get localName() {\n        return this.privLocalName;\n    }\n    get localeName() {\n        return this.privLocaleName;\n    }\n    get gender() {\n        return this.privGender;\n    }\n    get voiceType() {\n        return this.privVoiceType;\n    }\n    get styleList() {\n        return this.privStyleList;\n    }\n    get sampleRateHertz() {\n        return this.privSampleRateHertz;\n    }\n    get status() {\n        return this.privStatus;\n    }\n    get extendedPropertyMap() {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return this.privExtendedPropertyMap;\n    }\n    get wordsPerMinute() {\n        return this.privWordsPerMinute;\n    }\n    get secondaryLocaleList() {\n        return this.privSecondaryLocaleList;\n    }\n    get rolePlayList() {\n        return this.privRolePlayList;\n    }\n    get voiceTag() {\n        return this.privVoiceTag;\n    }\n}\nexports.VoiceInfo = VoiceInfo;\n\n//# sourceMappingURL=VoiceInfo.js.map\n","// extracted by mini-css-extract-plugin\nexport {};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"NIL\", {\n  enumerable: true,\n  get: function get() {\n    return _nil.default;\n  }\n});\nObject.defineProperty(exports, \"parse\", {\n  enumerable: true,\n  get: function get() {\n    return _parse.default;\n  }\n});\nObject.defineProperty(exports, \"stringify\", {\n  enumerable: true,\n  get: function get() {\n    return _stringify.default;\n  }\n});\nObject.defineProperty(exports, \"v1\", {\n  enumerable: true,\n  get: function get() {\n    return _v.default;\n  }\n});\nObject.defineProperty(exports, \"v3\", {\n  enumerable: true,\n  get: function get() {\n    return _v2.default;\n  }\n});\nObject.defineProperty(exports, \"v4\", {\n  enumerable: true,\n  get: function get() {\n    return _v3.default;\n  }\n});\nObject.defineProperty(exports, \"v5\", {\n  enumerable: true,\n  get: function get() {\n    return _v4.default;\n  }\n});\nObject.defineProperty(exports, \"validate\", {\n  enumerable: true,\n  get: function get() {\n    return _validate.default;\n  }\n});\nObject.defineProperty(exports, \"version\", {\n  enumerable: true,\n  get: function get() {\n    return _version.default;\n  }\n});\n\nvar _v = _interopRequireDefault(require(\"./v1.js\"));\n\nvar _v2 = _interopRequireDefault(require(\"./v3.js\"));\n\nvar _v3 = _interopRequireDefault(require(\"./v4.js\"));\n\nvar _v4 = _interopRequireDefault(require(\"./v5.js\"));\n\nvar _nil = _interopRequireDefault(require(\"./nil.js\"));\n\nvar _version = _interopRequireDefault(require(\"./version.js\"));\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nvar _stringify = _interopRequireDefault(require(\"./stringify.js\"));\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    const msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (let i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  const output = [];\n  const length32 = input.length * 32;\n  const hexTab = '0123456789abcdef';\n\n  for (let i = 0; i < length32; i += 8) {\n    const x = input[i >> 5] >>> i % 32 & 0xff;\n    const hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  let a = 1732584193;\n  let b = -271733879;\n  let c = -1732584194;\n  let d = 271733878;\n\n  for (let i = 0; i < x.length; i += 16) {\n    const olda = a;\n    const oldb = b;\n    const oldc = c;\n    const oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  const length8 = input.length * 8;\n  const output = new Uint32Array(getOutputLength(length8));\n\n  for (let i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  const lsw = (x & 0xffff) + (y & 0xffff);\n  const msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nvar _default = md5;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nvar _default = {\n  randomUUID\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = '00000000-0000-0000-0000-000000000000';\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction parse(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nvar _default = parse;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rng;\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\n\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  const K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  const H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    const msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (let i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  const l = bytes.length / 4 + 2;\n  const N = Math.ceil(l / 16);\n  const M = new Array(N);\n\n  for (let i = 0; i < N; ++i) {\n    const arr = new Uint32Array(16);\n\n    for (let j = 0; j < 16; ++j) {\n      arr[j] = bytes[i * 64 + j * 4] << 24 | bytes[i * 64 + j * 4 + 1] << 16 | bytes[i * 64 + j * 4 + 2] << 8 | bytes[i * 64 + j * 4 + 3];\n    }\n\n    M[i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (let i = 0; i < N; ++i) {\n    const W = new Uint32Array(80);\n\n    for (let t = 0; t < 16; ++t) {\n      W[t] = M[i][t];\n    }\n\n    for (let t = 16; t < 80; ++t) {\n      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n\n    let a = H[0];\n    let b = H[1];\n    let c = H[2];\n    let d = H[3];\n    let e = H[4];\n\n    for (let t = 0; t < 80; ++t) {\n      const s = Math.floor(t / 20);\n      const T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[t] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nvar _default = sha1;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.unsafeStringify = unsafeStringify;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nvar _default = stringify;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = require(\"./stringify.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || _rng.default)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || (0, _stringify.unsafeStringify)(b);\n}\n\nvar _default = v1;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _md = _interopRequireDefault(require(\"./md5.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v3 = (0, _v.default)('v3', 0x30, _md.default);\nvar _default = v3;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.URL = exports.DNS = void 0;\nexports.default = v35;\n\nvar _stringify = require(\"./stringify.js\");\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexports.DNS = DNS;\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexports.URL = URL;\n\nfunction v35(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var _namespace;\n\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = (0, _parse.default)(namespace);\n    }\n\n    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return (0, _stringify.unsafeStringify)(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _native = _interopRequireDefault(require(\"./native.js\"));\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = require(\"./stringify.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction v4(options, buf, offset) {\n  if (_native.default.randomUUID && !buf && !options) {\n    return _native.default.randomUUID();\n  }\n\n  options = options || {};\n\n  const rnds = options.random || (options.rng || _rng.default)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0, _stringify.unsafeStringify)(rnds);\n}\n\nvar _default = v4;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _sha = _interopRequireDefault(require(\"./sha1.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v5 = (0, _v.default)('v5', 0x50, _sha.default);\nvar _default = v5;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regex = _interopRequireDefault(require(\"./regex.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex.default.test(uuid);\n}\n\nvar _default = validate;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction version(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.slice(14, 15), 16);\n}\n\nvar _default = version;\nexports.default = _default;","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * LiaPlus Voice Navigation Widget\n * Main entry point for CDN distribution\n * \n * Usage:\n * ```html\n * <script src=\"https://cdn.jsdelivr.net/gh/liaplus/voice-widget@1.0.0/cdn/dist/voice-widget.min.js\"></script>\n * <script>\n *   LiaPlusVoice.init({\n *     apiBase: 'https://liaplus.com/api',\n *     language: 'en-US'\n *   });\n * </script>\n * ```\n */\n\nimport { VoiceWidget } from './VoiceWidget.js';\n\n// Global widget instance\nlet widgetInstance = null;\n\n// Main API\nconst LiaPlusVoice = {\n  /**\n   * Initialize the widget\n   */\n  init(config = {}) {\n    if (widgetInstance) {\n      console.warn('[LiaPlusVoice] Widget already initialized. Call destroy() first.');\n      return widgetInstance;\n    }\n    \n    widgetInstance = new VoiceWidget(config);\n    return widgetInstance;\n  },\n\n  /**\n   * Start listening\n   */\n  start() {\n    if (!widgetInstance) {\n      console.error('[LiaPlusVoice] Widget not initialized. Call init() first.');\n      return;\n    }\n    \n    if (!widgetInstance.state.isListening) {\n      widgetInstance.toggleListening();\n    }\n  },\n\n  /**\n   * Stop listening\n   */\n  stop() {\n    if (!widgetInstance) {\n      console.error('[LiaPlusVoice] Widget not initialized. Call init() first.');\n      return;\n    }\n    \n    if (widgetInstance.state.isListening) {\n      widgetInstance.toggleListening();\n    }\n  },\n\n  /**\n   * Toggle listening\n   */\n  toggle() {\n    if (!widgetInstance) {\n      console.error('[LiaPlusVoice] Widget not initialized. Call init() first.');\n      return;\n    }\n    \n    widgetInstance.toggleListening();\n  },\n\n  /**\n   * Analyze page (re-scan DOM)\n   */\n  analyzePage() {\n    if (!widgetInstance) {\n      console.error('[LiaPlusVoice] Widget not initialized. Call init() first.');\n      return;\n    }\n    \n    widgetInstance.analyzePage();\n  },\n\n  /**\n   * Update configuration\n   */\n  updateConfig(newConfig) {\n    if (!widgetInstance) {\n      console.error('[LiaPlusVoice] Widget not initialized. Call init() first.');\n      return;\n    }\n    \n    widgetInstance.config = { ...widgetInstance.config, ...newConfig };\n    \n    // Reinitialize if language changed\n    if (newConfig.language && newConfig.language !== widgetInstance.state.language) {\n      widgetInstance.setState({ language: newConfig.language });\n      widgetInstance.reinitializeRecognition();\n    }\n  },\n\n  /**\n   * Destroy widget\n   */\n  destroy() {\n    if (!widgetInstance) {\n      console.warn('[LiaPlusVoice] Widget not initialized.');\n      return;\n    }\n    \n    widgetInstance.destroy();\n    widgetInstance = null;\n  },\n\n  /**\n   * Get current state\n   */\n  getState() {\n    if (!widgetInstance) {\n      console.error('[LiaPlusVoice] Widget not initialized. Call init() first.');\n      return null;\n    }\n    \n    return { ...widgetInstance.state };\n  },\n\n  /**\n   * Get widget instance (for advanced usage)\n   */\n  getInstance() {\n    return widgetInstance;\n  }\n};\n\n// Export for UMD\nexport default LiaPlusVoice;\n\n// Also attach to window for CDN usage\nif (typeof window !== 'undefined') {\n  window.LiaPlusVoice = LiaPlusVoice;\n}\n"],"names":["CommandMapper","apiEndpoint","_classCallCheck","_createClass","key","value","_mapCommand","_asyncToGenerator","_regenerator","m","_callee","command","transcript","patternMatch","aiMatch","_t","w","_context","p","n","toLowerCase","trim","domAnalysis","confidence","a","v","console","error","action","targetDescription","mapCommand","_x","apply","arguments","test","direction","includes","parameters","amount","concat","position","clickMatch","match","targetText","element","findElementByText","target","navMatch","navElement","findNavigationElement","form","document","querySelector","submitBtn","main","searchInput","_aiMatch","_callee2","_command$pageContext","response","result","_context2","fetch","method","headers","body","JSON","stringify","language","currentUrl","pageContext","url","window","location","href","ok","Error","json","_x2","text","searchText","buttons","Array","from","querySelectorAll","_i","_buttons","length","_btn$textContent","btn","btnText","textContent","fuzzyMatch","links","_i2","_links","_link$textContent","link","linkText","clickable","_i3","_clickable","_el$textContent","el","elText","navLinks","_i4","_navLinks","_link$textContent2","str1","str2","threshold","undefined","distance","levenshteinDistance","maxLen","Math","max","similarity","matrix","i","j","charAt","min","_executeCommand","_callee3","intent","event","_event","_t2","_context3","executeScroll","click","tagName","scrollIntoView","behavior","block","CustomEvent","detail","dispatchEvent","focus","log","executeCommand","_x3","params","scrollTo","top","scrollHeight","currentScroll","scrollY","newScroll","DOMAnalyzer","analyze","startTime","Date","now","analysis","forms","extractForms","navigation","extractNavigation","content","extractContent","interactions","extractInteractables","landmarks","extractLandmarks","pageInfo","extractPageInfo","duration","pageTitle","title","_this","map","index","fields","extractFormFields","extractFormButtons","multiStep","detectMultiStep","id","isMultiStep","currentStep","totalSteps","_this2","inputs","filter","input","type","field","name","getFieldType","label","findLabel","placeholder","getPlaceholder","required","isRequired","getValue","options","extractOptions","validation","extractValidation","ariaLabel","getAttribute","ariaDescribedBy","surroundingText","getSurroundingText","parentLabel","closest","_clone$textContent","clone","cloneNode","fieldClone","remove","ariaLabelledBy","labelElement","getElementById","prevSibling","previousElementSibling","ariaPlaceholder","hasAttribute","select","textarea","checked","_this3","opt","group","pattern","minLength","parseInt","maxLength","Object","keys","_clone$textContent2","parent","parentElement","forEach","slice","button","_button$textContent","_button$innerText","innerText","stepIndicators","currentStepEl","indexOf","nextBtn","prevBtn","navElements","navContainers","container","push","role","_button$textContent2","headings","heading","_heading$textContent","level","mainElements","_element$textContent","_anchor$textContent","anchor","landmarkRoles","elements","semanticLandmarks","tag","_ref","_document$querySelect","documentElement","lang","description","getForm","identifier","find","f","findByText","elementType","selector","_el$getAttribute","FormHandler","onSpeak","currentSession","analyzer","_startFormFilling","schema","greeting","_args","extractFormSchema","speak","collectedData","currentFieldIndex","conversation","classifyFields","askNextField","startFormFilling","_processVoiceInput","callFormAI","extractedData","assign","fillFields","isComplete","completeForm","nextQuestion","processVoiceInput","tempAnalysis","formAnalysis","formEl","createFieldSchema","findFieldLabel","getFieldValue","getFieldOptions","getFieldValidation","_label$textContent","_clone$querySelector","_classifyFields","_iterator","_step","_this$currentSession","classification","_t3","_createForOfIteratorHelper","s","done","fieldContext","aiClassification","e","_askNextField","_callee4","question","_context4","generateQuestion","_this$currentSession2","join","_callFormAI","_callee5","_context5","msg","formSchema","_x4","data","_loop","_Object$entries$_i","_slicedToArray","_Object$entries","_f$label","Event","bubbles","entries","_completeForm","_callee6","message","_context6","onFormComplete","submitForm","submit","cancelFormFilling","onComplete","callback","getSessionInfo","NavigationMap","routes","initializeRoutes","path","keywords","aliases","priority","findRoute","destination","destLower","scoredRoutes","route","_route$aliases","_route$aliases2","_route$aliases3","score","some","keyword","alias","pathName","split","pop","sort","b","bestMatch","getAllRoutes","getRouteByPath","r","addRoute","buildUrl","baseUrl","base","origin","VoiceNavigator","config","synthesis","isListening","isActive","eventListeners","Map","currentDOMAnalysis","_objectSpread","confirmActions","autoStart","commandMapper","formHandler","initializeSpeech","setupEventListeners","start","SpeechRecognition","webkitSpeechRecognition","recognition","continuous","interimResults","onstart","emit","listening","onend","setTimeout","onresult","last","results","processCommand","onerror","SpeechSynthesisUtterance","addEventListener","lastUrl","MutationObserver","onPageChange","observe","subtree","childList","_start","insights","suggestion","suggestions","stop","_processCommand","lowerTranscript","speechSynthesis","cancel","_onPageChange","setLanguage","on","has","set","get","off","listeners","splice","getDOMAnalysis","refresh","isCurrentlyListening","isCurrentlyActive","default","t","Symbol","iterator","o","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","y","G","d","bind","l","TypeError","call","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_next","_throw","_defineProperties","_toPropertyKey","_toPrimitive","_typeof","toPrimitive","String","Number","ApiManager","widget","_getAzureSpeechCredentials","mode","token","azureSpeech","region","success","apiBase","status","getAzureSpeechCredentials","_processVoiceCommand","processCommandWithCustomAI","processCommandWithHostedAI","processVoiceCommand","_processCommandWithHostedAI","requestBody","errorData","state","useDynamicMode","statusText","_x5","_x6","_processCommandWithCustomAI","azureOpenAI","systemPrompt","contextInfo","messages","apiUrl","aiResponse","buildSystemPrompt","buildContext","endpoint","deployment","apiKey","temperature","max_tokens","response_format","parse","choices","context","confirmAction","_x7","_x8","_x9","_domAnalysis$forms","_domAnalysis$navigati","isHindi","formsInfo","_f$fields","_f$fields2","fieldDetails","navInfo","_domAnalysis$pageInfo","_domAnalysis$forms2","_domAnalysis$navigati2","_domAnalysis$interact","SpeechSDK","AudioManager","recognizer","synthesizer","_initializeAzureSpeech","credentials","speechConfig","audioConfig","ttsConfig","audioConfigTTS","apiManager","SpeechConfig","fromSubscription","speechRecognitionLanguage","AudioConfig","fromDefaultMicrophoneInput","SpeechRecognizer","recognizing","setState","recognized","reason","ResultReason","RecognizedSpeech","handleVoiceCommand","canceled","CancellationReason","EndOfStream","startContinuousRecognitionAsync","err","speechSynthesisLanguage","speechSynthesisVoiceName","fromDefaultSpeakerOutput","SpeechSynthesizer","initializeAzureSpeech","initialized","stopContinuousRecognitionAsync","close","voiceEnabled","speakTextAsync","stopSpeaking","_reinitialize","reinitialize","CommandProcessor","executeAction","actionAliases","mappedAction","actions","scroll_up","scrollBy","scroll_down","scroll_to_top","scroll_to_bottom","bottom","middle","zoom_in","currentZoom","parseFloat","style","zoom","zoom_out","reset_zoom","home","navigateToPath","products","pricing","about","contact","solutions","careers","partners","chatbot","voice_agent","email_assistant","roi_calculator","case_studies","banking","healthcare","ecommerce","navigate","navigateDynamically","fill_form","fillFormDynamically","clickElementDynamically","back","history","forward","reload","print","hide_commands","showCommands","show_commands","read","readPageContent","stop_reading","actionFn","mainContent","_mainContent$textCont","targetForm","fieldKeys","hasMatchingField","_f$name","fieldValues","filledCount","filledFields","_ref2","_f$name2","_f$label2","_f$id","_f$placeholder","keyLower","emailInputs","formElement","startsWith","labels","matchingLabel","_l$textContent","_field$label","_field$label2","labelText","forAttr","allInputs","_Object$getOwnPropert","nativeInputValueSetter","getOwnPropertyDescriptor","HTMLInputElement","fieldNames","targetLower","_iterator2","_step2","_form$buttons","_b$text","_b$type","_b$id","_b$name","_b$text2","_b$id2","_b$name2","_btn$value","formIndex","interaction","_i$text","_i$ariaLabel","_i$text2","_i$ariaLabel2","clickables","_btn$textContent2","_btn$value2","_btn$textContent3","_btn$value3","_btn$getAttribute","_this$widget$state","navigationMap","page","targetPath","matchedKeywords","k","navItem","_n$text","_n$ariaLabel","_n$href","textLower","ariaLabelLower","hrefLower","replace","_a$textContent","_a$getAttribute","allLinks","_a$textContent2","_a$getAttribute2","_scoredLinks$","scoredLinks","_a$textContent3","_a$getAttribute3","urlPath","URL","pathname","destSlug","endsWith","isExternal","hostname","open","Icons","accessibility","className","sparkles","list","settings","volume2","volumeX","languages","check","activity","x","UIComponents","createContainer","createElement","createFloatingButton","isProcessing","buttonWrapper","relativeContainer","setAttribute","onclick","toggleListening","iconContainer","innerHTML","sparkle","appendChild","pingOuter","commandsButton","createSecondaryButton","settingsButton","showSettings","icon","iconHtml","createTranscriptOverlay","_this$widget$state2","overlay","createSettingsPanel","_this$widget$state3","commandHistory","panel","cmd","attachSettingsPanelListeners","langToggle","langDropdown","stopPropagation","classList","toggle","reinitializeRecognition","analyzeBtn","analyzePage","createCommandsOverlay","_this$widget$state4","exampleCommands","ownKeys","getOwnPropertySymbols","_defineProperty","getOwnPropertyDescriptors","defineProperties","VoiceWidget","debug","isSupported","showLanguageSelector","aiEnabled","refs","commandsList","mainButton","uiComponents","commandProcessor","audioManager","init","_init","loadStateFromLocalStorage","createWidgetUI","initNavigationMap","observePageChanges","startRecognition","savedListening","localStorage","getItem","savedVoiceEnabled","savedLanguage","savedAI","savedDynamic","saveStateToLocalStorage","setItem","toString","_initNavigationMap","navMap","updates","shouldRender","oldState","render","_console","_len","args","_key","stopRecognition","destroy","parentNode","removeChild","transcriptOverlay","settingsPanel","commandsOverlay","_startRecognition","_reinitializeRecognition","_handleVoiceCommand","newHistory","normalizedAction","executed","updatedHistory","_updatedHistory","errorMessage","timestamp","_toConsumableArray","widgetInstance","LiaPlusVoice","warn","updateConfig","newConfig","getState","getInstance"],"sourceRoot":""}